!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){return r(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||s(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e){if(Array.isArray(e))return e}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||a(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function p(e){var t=k();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){var t="function"==typeof Map?new Map:void 0;return(m=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return y(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w(r,e)})(e)}function y(e,t,n){return(y=k()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&w(i,n.prototype),i}).apply(null,arguments)}function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},3018:function(e,n,r){"use strict";r.d(n,{deG:function(){return hn},tb:function(){return ms},AFp:function(){return hs},ip1:function(){return ls},CZH:function(){return fs},hGG:function(){return cc},z2F:function(){return Xs},sBO:function(){return hu},Sil:function(){return Es},_Vd:function(){return Ma},EJc:function(){return ws},SBq:function(){return Za},qLn:function(){return Ar},vpe:function(){return Bu},gxx:function(){return lo},tBr:function(){return Mn},XFs:function(){return H},OlP:function(){return fn},zs3:function(){return So},ZZ4:function(){return ou},aQg:function(){return uu},soG:function(){return ks},YKP:function(){return bu},v3s:function(){return tc},h0i:function(){return wu},PXZ:function(){return Ws},R0b:function(){return Os},FiY:function(){return Fn},Lbi:function(){return gs},g9A:function(){return vs},Qsj:function(){return za},FYo:function(){return ja},JOm:function(){return Nr},Tiy:function(){return Ba},q3G:function(){return _r},tp0:function(){return Un},EAV:function(){return ic},Rgc:function(){return mu},dDg:function(){return Us},DyG:function(){return dn},q4F:function(){return Ka},GfV:function(){return Ga},s_b:function(){return xu},ifc:function(){return J},eFA:function(){return Js},G48:function(){return Gs},Gpc:function(){return C},X6Q:function(){return Bs},_c5:function(){return uc},VLi:function(){return Zs},c2e:function(){return ys},zSh:function(){return ho},wAp:function(){return xa},vHH:function(){return R},EiD:function(){return wr},mCW:function(){return ir},qzn:function(){return Kn},JVY:function(){return Jn},pB0:function(){return Xn},eBb:function(){return Qn},L6k:function(){return Yn},LAX:function(){return $n},cg1:function(){return wa},Tjo:function(){return ac},kL8:function(){return ba},yhl:function(){return Wn},dqk:function(){return X},sIi:function(){return Mo},CqO:function(){return Xo},QGY:function(){return Qo},F4k:function(){return $o},RDi:function(){return Fe},AaK:function(){return T},z3N:function(){return Gn},qOj:function(){return Eo},TTD:function(){return Re},_Bn:function(){return Pa},xp6:function(){return vi},uIk:function(){return Zo},ekj:function(){return sa},Suo:function(){return os},Xpm:function(){return le},lG2:function(){return me},Yz7:function(){return D},cJS:function(){return L},oAB:function(){return pe},Yjl:function(){return ye},Y36:function(){return Ho},_UZ:function(){return Jo},qZA:function(){return Wo},TgZ:function(){return Ko},EpF:function(){return Yo},n5z:function(){return an},Ikx:function(){return ga},LFG:function(){return Rn},$8M:function(){return sn},NdJ:function(){return ea},CRH:function(){return as},oxw:function(){return ra},ALo:function(){return Vu},lcZ:function(){return Zu},xi3:function(){return qu},Q6J:function(){return Bo},s9C:function(){return ia},MGl:function(){return oa},DdM:function(){return Fu},iGM:function(){return rs},MAs:function(){return zo},CHM:function(){return tt},LSH:function(){return xr},kYT:function(){return ve},YNc:function(){return jo},_uU:function(){return da},Oqu:function(){return pa},hij:function(){return va},Gf:function(){return is}});var a=r(9765),s=r(5319),c=r(7574),l=r(6682),v=r(2441),k=r(1307);function w(){return new a.xQ}function _(e){for(var t in e)if(e[t]===_)return t;throw Error("Could not find renamed property on target object.")}function x(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function T(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(T).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function I(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var S=_({__forward_ref__:_});function C(e){return e.__forward_ref__=C,e.toString=function(){return T(this())},e}function E(e){return A(e)?e():e}function A(e){return"function"==typeof e&&e.hasOwnProperty(S)&&e.__forward_ref__===C}var R=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,function(e,t){return"".concat(e?"NG0".concat(e,": "):"").concat(t)}(e,r))).code=e,i}return n}(m(Error));function O(e){return"string"==typeof e?e:null==e?"":String(e)}function N(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():O(e)}function P(e,t){var n=t?" in ".concat(t):"";throw new R("201","No provider for ".concat(N(e)," found").concat(n))}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function L(e){return{providers:e.providers||[],imports:e.imports||[]}}function M(e){return F(e,Z)||F(e,j)}function F(e,t){return e.hasOwnProperty(t)?e[t]:null}function U(e){return e&&(e.hasOwnProperty(q)||e.hasOwnProperty(z))?e[q]:null}var V,Z=_({"\u0275prov":_}),q=_({"\u0275inj":_}),j=_({ngInjectableDef:_}),z=_({ngInjectorDef:_}),H=((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H);function B(e){var t=V;return V=e,t}function G(e,t,n){var r=M(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==t?t:void P(T(e),"Injector")}function K(e){return{toString:e}.toString()}var W=((W=W||{})[W.OnPush=0]="OnPush",W[W.Default=1]="Default",W),J=((J=J||{})[J.Emulated=0]="Emulated",J[J.None=2]="None",J[J.ShadowDom=3]="ShadowDom",J),Y="undefined"!=typeof globalThis&&globalThis,Q="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,X=Y||"undefined"!=typeof global&&global||Q||$,ee={},te=[],ne=_({"\u0275cmp":_}),re=_({"\u0275dir":_}),ie=_({"\u0275pipe":_}),oe=_({"\u0275mod":_}),ae=_({"\u0275loc":_}),ue=_({"\u0275fac":_}),se=_({__NG_ELEMENT_ID__:_}),ce=0;function le(e){return K(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===W.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||te,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||J.Emulated,id:"c",styles:e.styles||te,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=ce++,n.inputs=ge(e.inputs,t),n.outputs=ge(e.outputs),i&&i.forEach(function(e){return e(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(fe)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(he)}:null,n})}function fe(e){return ke(e)||function(e){return e[re]||null}(e)}function he(e){return function(e){return e[ie]||null}(e)}var de={};function pe(e){return K(function(){var t={type:e.type,bootstrap:e.bootstrap||te,declarations:e.declarations||te,imports:e.imports||te,exports:e.exports||te,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(de[e.id]=e.type),t})}function ve(e,t){return K(function(){var n=we(e,!0);n.declarations=t.declarations||te,n.imports=t.imports||te,n.exports=t.exports||te})}function ge(e,t){if(null==e)return ee;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var me=le;function ye(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ke(e){return e[ne]||null}function we(e,t){var n=e[oe]||null;if(!n&&!0===t)throw new Error("Type ".concat(T(e)," does not have '\u0275mod' property."));return n}function be(e){return Array.isArray(e)&&"object"==typeof e[1]}function _e(e){return Array.isArray(e)&&!0===e[1]}function xe(e){return 0!=(8&e.flags)}function Te(e){return 2==(2&e.flags)}function Ie(e){return 1==(1&e.flags)}function Se(e){return null!==e.template}function Ce(e){return 0!=(512&e[2])}function Ee(e,t){return e.hasOwnProperty(ue)?e[ue]:null}var Ae=function(){function e(t,n,r){h(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return f(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Re(){return Oe}function Oe(e){return e.type.prototype.ngOnChanges&&(e.setInput=Pe),Ne}function Ne(){var e=Me(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===ee)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Pe(e,t,n,r){var i=Me(e)||function(e,t){return e[Le]=t}(e,{previous:ee,current:null}),o=i.current||(i.current={}),a=i.previous,u=this.declaredInputs[n],s=a[u];o[u]=new Ae(s&&s.currentValue,t,a===ee),e[r]=t}Re.ngInherit=!0;var De,Le="__ngSimpleChanges__";function Me(e){return e[Le]||null}function Fe(e){De=e}function Ue(e){return!!e.listen}var Ve={createRenderer:function(e,t){return void 0!==De?De:"undefined"!=typeof document?document:void 0}};function Ze(e){for(;Array.isArray(e);)e=e[0];return e}function qe(e,t){return Ze(t[e])}function je(e,t){return Ze(t[e.index])}function ze(e,t){return e.data[t]}function He(e,t){return e[t]}function Be(e,t){var n=t[e];return be(n)?n:n[0]}function Ge(e){return 4==(4&e[2])}function Ke(e){return 128==(128&e[2])}function We(e,t){return null==t?null:e[t]}function Je(e){e[18]=0}function Ye(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Qe={lFrame:yt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $e(){return Qe.bindingsEnabled}function Xe(){return Qe.lFrame.lView}function et(){return Qe.lFrame.tView}function tt(e){return Qe.lFrame.contextLView=e,e[8]}function nt(){for(var e=rt();null!==e&&64===e.type;)e=e.parent;return e}function rt(){return Qe.lFrame.currentTNode}function it(e,t){var n=Qe.lFrame;n.currentTNode=e,n.isParent=t}function ot(){return Qe.lFrame.isParent}function at(){return Qe.isInCheckNoChangesMode}function ut(e){Qe.isInCheckNoChangesMode=e}function st(){var e=Qe.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ct(){return Qe.lFrame.bindingIndex++}function lt(e,t){var n=Qe.lFrame;n.bindingIndex=n.bindingRootIndex=e,ft(t)}function ft(e){Qe.lFrame.currentDirectiveIndex=e}function ht(){return Qe.lFrame.currentQueryIndex}function dt(e){Qe.lFrame.currentQueryIndex=e}function pt(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function vt(e,t,n){if(n&H.SkipSelf){for(var r=t,i=e;!(null!==(r=r.parent)||n&H.Host||(r=pt(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;t=r,e=i}var o=Qe.lFrame=mt();return o.currentTNode=t,o.lView=e,!0}function gt(e){var t=mt(),n=e[1];Qe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function mt(){var e=Qe.lFrame,t=null===e?null:e.child;return null===t?yt(e):t}function yt(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function kt(){var e=Qe.lFrame;return Qe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var wt=kt;function bt(){var e=kt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function _t(){return Qe.lFrame.selectedIndex}function xt(e){Qe.lFrame.selectedIndex=e}function Tt(){var e=Qe.lFrame;return ze(e.tView,e.selectedIndex)}function It(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,u=i.ngAfterViewInit,s=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),u&&(e.viewHooks||(e.viewHooks=[])).push(-n,u),s&&((e.viewHooks||(e.viewHooks=[])).push(n,s),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,s)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function St(e,t,n){At(e,t,3,n)}function Ct(e,t,n,r){(3&e[2])===n&&At(e,t,n,r)}function Et(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function At(e,t,n,r){for(var i=null!=r?r:-1,o=t.length-1,a=0,u=void 0!==r?65535&e[18]:0;u<o;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=r&&a>=r)break}else t[u]<0&&(e[18]+=65536),(a<i||-1==i)&&(Rt(e,n,t,u),e[18]=(4294901760&e[18])+u+2),u++}function Rt(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}var Ot=function e(t,n,r){h(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Nt(e,t,n){for(var r=Ue(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],u=n[i++],s=n[i++];r?e.setAttribute(t,u,s,a):t.setAttributeNS(a,u,s)}else{var c=o,l=n[++i];Dt(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function Pt(e){return 3===e||4===e||6===e}function Dt(e){return 64===e.charCodeAt(0)}function Lt(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Mt(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Mt(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var u=e[o++];if("number"==typeof u){if(u===t){a=-1;break}if(u>t){a=o-1;break}}}for(;o<e.length;){var s=e[o];if("number"==typeof s)break;if(s===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Ft(e){return-1!==e}function Ut(e){return 32767&e}function Vt(e,t){for(var n=function(e){return e>>16}(e),r=t;n>0;)r=r[15],n--;return r}var Zt=!0;function qt(e){var t=Zt;return Zt=e,t}var jt=0;function zt(e,t){var n=Bt(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Ht(r.data,e),Ht(t,null),Ht(r.blueprint,null));var i=Gt(e,t),o=e.injectorIndex;if(Ft(i))for(var a=Ut(i),u=Vt(i,t),s=u[1].data,c=0;c<8;c++)t[o+c]=u[a+c]|s[a+c];return t[o+8]=i,o}function Ht(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Bt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Gt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,i=t;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Kt(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(se)&&(r=n[se]),null==r&&(r=n[se]=jt++);var i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Wt(e,t,n){if(n&H.Optional)return e;P(t,"NodeInjector")}function Jt(e,t,n,r){if(n&H.Optional&&void 0===r&&(r=null),0==(n&(H.Self|H.Host))){var i=e[9],o=B(void 0);try{return i?i.get(t,r,n&H.Optional):G(t,r,n&H.Optional)}finally{B(o)}}return Wt(r,t,n)}function Yt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(se)?e[se]:void 0;return"number"==typeof t?t>=0?255&t:$t:t}(n);if("function"==typeof o){if(!vt(t,e,r))return r&H.Host?Wt(i,n,r):Jt(t,n,r,i);try{var a=o(r);if(null!=a||r&H.Optional)return a;P(n)}finally{wt()}}else if("number"==typeof o){var u=null,s=Bt(e,t),c=-1,l=r&H.Host?t[16][6]:null;for((-1===s||r&H.SkipSelf)&&(-1!==(c=-1===s?Gt(e,t):t[s+8])&&rn(r,!1)?(u=t[1],s=Ut(c),t=Vt(c,t)):s=-1);-1!==s;){var f=t[1];if(nn(o,s,f.data)){var h=Xt(s,t,n,u,r,l);if(h!==Qt)return h}-1!==(c=t[s+8])&&rn(r,t[1].data[s+8]===l)&&nn(o,s,t)?(u=f,s=Ut(c),t=Vt(c,t)):s=-1}}}return Jt(t,n,r,i)}var Qt={};function $t(){return new on(nt(),Xe())}function Xt(e,t,n,r,i,o){var a=t[1],u=a.data[e+8],s=en(u,a,n,null==r?Te(u)&&Zt:r!=a&&0!=(3&u.type),i&H.Host&&o===u);return null!==s?tn(t,a,s,u):Qt}function en(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,u=1048575&o,s=e.directiveStart,c=o>>20,l=i?u+c:e.directiveEnd,f=r?u:u+c;f<l;f++){var h=a[f];if(f<s&&n===h||f>=s&&h.type===n)return f}if(i){var d=a[s];if(d&&Se(d)&&d.type===n)return s}return null}function tn(e,t,n,r){var i=e[n],o=t.data;if(function(e){return e instanceof Ot}(i)){var a=i;a.resolving&&function(e,t){throw new R("200","Circular dependency in DI detected for ".concat(e))}(N(o[n]));var u=qt(a.canSeeViewProviders);a.resolving=!0;var s=a.injectImpl?B(a.injectImpl):null;vt(e,r,H.Default);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var u=Oe(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,u)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a))}(n,o[n],t)}finally{null!==s&&B(s),qt(u),a.resolving=!1,wt()}}return i}function nn(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function rn(e,t){return!(e&H.Self||e&H.Host&&t)}var on=function(){function e(t,n){h(this,e),this._tNode=t,this._lView=n}return f(e,[{key:"get",value:function(e,t){return Yt(this._tNode,this._lView,e,void 0,t)}}]),e}();function an(e){return K(function(){for(var t=e.prototype.constructor,n=t[ue]||un(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var o=i[ue]||un(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(e){return new e}})}function un(e){return A(e)?function(){var t=un(E(e));return t&&t()}:Ee(e)}function sn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Pt(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(nt(),e)}var cn="__parameters__";function ln(e,t,n){return K(function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=y(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty(cn)?e[cn]:Object.defineProperty(e,cn,{value:[]})[cn];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var fn=function(){function e(t,n){h(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return f(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),hn=new fn("AnalyzeForEntryComponents"),dn=Function;function pn(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),pn(r,t)):t!==e&&t.push(r)}return t}function vn(e,t){e.forEach(function(e){return Array.isArray(e)?vn(e,t):t(e)})}function gn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function mn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function yn(e,t,n){var r=wn(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function kn(e,t){var n=wn(e,t);if(n>=0)return e[1|n]}function wn(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var bn,_n={},xn="__NG_DI_FLAG__",Tn="ngTempTokenPath",In=/\n/gm,Sn="__source",Cn=_({provide:String,useValue:_});function En(e){var t=bn;return bn=e,t}function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default;if(void 0===bn)throw new Error("inject() must be called from an injection context");return null===bn?G(e,void 0,t):bn.get(e,t&H.Optional?null:void 0,t)}function Rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default;return(V||An)(E(e),t)}function On(e){for(var t=[],n=0;n<e.length;n++){var r=E(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=H.Default,a=0;a<r.length;a++){var u=r[a],s=Pn(u);"number"==typeof s?-1===s?i=u.token:o|=s:i=u}t.push(Rn(i,o))}else t.push(Rn(r))}return t}function Nn(e,t){return e[xn]=t,e.prototype[xn]=t,e}function Pn(e){return e[xn]}function Dn(e,t,n,r){var i=e[Tn];throw t[Sn]&&i.unshift(t[Sn]),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=T(t);if(Array.isArray(t))i=t.map(T).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var u=t[a];o.push(a+":"+("string"==typeof u?JSON.stringify(u):T(u)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(In,"\n  "))}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Tn]=null,e}var Ln,Mn=Nn(ln("Inject",function(e){return{token:e}}),-1),Fn=Nn(ln("Optional"),8),Un=Nn(ln("SkipSelf"),4);function Vn(e){var t;return(null===(t=function(){if(void 0===Ln&&(Ln=null,X.trustedTypes))try{Ln=X.trustedTypes.createPolicy("angular",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(e){}return Ln}())||void 0===t?void 0:t.createHTML(e))||e}var Zn=function(){function e(t){h(this,e),this.changingThisBreaksApplicationSecurity=t}return f(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),e}(),qn=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Zn),jn=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Zn),zn=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Zn),Hn=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Zn),Bn=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Zn);function Gn(e){return e instanceof Zn?e.changingThisBreaksApplicationSecurity:e}function Kn(e,t){var n=Wn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}function Wn(e){return e instanceof Zn&&e.getTypeName()||null}function Jn(e){return new qn(e)}function Yn(e){return new jn(e)}function Qn(e){return new zn(e)}function $n(e){return new Hn(e)}function Xn(e){return new Bn(e)}var er=function(){function e(t){h(this,e),this.inertDocumentHelper=t}return f(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(Vn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}]),e}(),tr=function(){function e(t){if(h(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return f(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Vn(e),t;var n=this.inertDocument.createElement("body");return n.innerHTML=Vn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;("xmlns:ns1"===r||0===r.indexOf("ns1:"))&&e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),nr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ir(e){return(e=String(e)).match(nr)||e.match(rr)?e:"unsafe:"+e}function or(e){var t,n={},r=u(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function ar(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var u in a)a.hasOwnProperty(u)&&(e[u]=!0)}return e}var ur,sr=or("area,br,col,hr,img,wbr"),cr=or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lr=or("rp,rt"),fr=ar(sr,ar(cr,or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ar(lr,or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ar(lr,cr)),hr=or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dr=or("srcset"),pr=ar(hr,dr,or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vr=or("script,style,template"),gr=function(){function e(){h(this,e),this.sanitizedSomething=!1,this.buf=[]}return f(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!fr.hasOwnProperty(t))return this.sanitizedSomething=!0,!vr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,u=a.toLowerCase();if(pr.hasOwnProperty(u)){var s=o.value;hr[u]&&(s=ir(s)),dr[u]&&(n=s,s=(n=String(n)).split(",").map(function(e){return ir(e.trim())}).join(", ")),this.buf.push(" ",a,'="',kr(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();fr.hasOwnProperty(t)&&!sr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(kr(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),mr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yr=/([^\#-~ |!])/g;function kr(e){return e.replace(/&/g,"&amp;").replace(mr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(yr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function wr(e,t){var n=null;try{ur=ur||function(e){var t=new tr(e);return function(){try{return!!(new window.DOMParser).parseFromString(Vn(""),"text/html")}catch(e){return!1}}()?new er(t):t}(e);var r=t?String(t):"";n=ur.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ur.getInertBodyElement(r)}while(r!==o);return Vn((new gr).sanitizeChildren(br(n)||n))}finally{if(n)for(var a=br(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function br(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var _r=((_r=_r||{})[_r.NONE=0]="NONE",_r[_r.HTML=1]="HTML",_r[_r.STYLE=2]="STYLE",_r[_r.SCRIPT=3]="SCRIPT",_r[_r.URL=4]="URL",_r[_r.RESOURCE_URL=5]="RESOURCE_URL",_r);function xr(e){var t=function(){var e=Xe();return e&&e[12]}();return t?t.sanitize(_r.URL,e)||"":Kn(e,"URL")?Gn(e):ir(O(e))}var Tr="__ngContext__";function Ir(e,t){e[Tr]=t}function Sr(e){var t=function(e){return e[Tr]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Cr(e){return e.ngOriginalError}function Er(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Ar=function(){function e(){h(this,e),this._console=console}return f(e,[{key:"handleError",value:function(e){var t,n=this._findOriginalError(e),r=this._findContext(e),i=(t=e)&&t.ngErrorLogger||Er;i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}},{key:"_findContext",value:function(e){return e?e.ngDebugContext||this._findContext(Cr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=e&&Cr(e);t&&Cr(t);)t=Cr(t);return t||null}}]),e}(),Rr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(X);function Or(e){return e instanceof Function?e():e}var Nr=((Nr=Nr||{})[Nr.Important=1]="Important",Nr[Nr.DashCase=2]="DashCase",Nr);function Pr(e,t){return(void 0)(e,t)}function Dr(e){var t=e[3];return _e(t)?t[3]:t}function Lr(e){return Fr(e[13])}function Mr(e){return Fr(e[4])}function Fr(e){for(;null!==e&&!_e(e);)e=e[4];return e}function Ur(e,t,n,r,i){if(null!=r){var o,a=!1;_e(r)?o=r:be(r)&&(a=!0,r=r[0]);var u=Ze(r);0===e&&null!==n?null==i?Br(t,n,u):Hr(t,n,u,i||null,!0):1===e&&null!==n?Hr(t,n,u,i||null,!0):2===e?function(e,t,n){var r=Kr(e,t);r&&function(e,t,n,r){Ue(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,u,a):3===e&&t.destroyNode(u),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Ze(n)&&Ur(t,e,r,o,i);for(var a=10;a<n.length;a++){var u=n[a];Xr(u[1],u,e,t,r,o)}}(t,e,o,n,i)}}function Vr(e,t,n){return Ue(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Zr(e,t){var n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Ye(i,-1)),n.splice(r,1)}function qr(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Zr(i,r),t>0&&(e[n-1][4]=r[4]);var o=mn(e,10+t);!function(e,t){Xr(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function jr(e,t){if(!(256&t[2])){var n=t[11];Ue(n)&&n.destroyNode&&Xr(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return zr(e[1],e);for(;t;){var n=null;if(be(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)be(t)&&zr(t[1],t),t=t[3];null===t&&(t=e),be(t)&&zr(t[1],t),n=t&&t[4]}t=n}}(t)}}function zr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof Ot)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2){var u=i[o[a]],s=o[a+1];try{s.call(u)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],u="function"==typeof a?a(t):Ze(t[a]),s=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?u.removeEventListener(n[o],s,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var f=i+1;f<r.length;f++)r[f]();t[7]=null}}(e,t),1===t[1].type&&Ue(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&_e(t[3])){n!==t[3]&&Zr(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function Hr(e,t,n,r,i){Ue(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Br(e,t,n){Ue(e)?e.appendChild(t,n):t.appendChild(n)}function Gr(e,t,n,r,i){null!==r?Hr(e,t,n,r,i):Br(e,t,n)}function Kr(e,t){return Ue(e)?e.parentNode(t):t.parentNode}function Wr(e,t,n,r){var i=function(e,t,n){return function(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===J.None||i===J.Emulated)return null}return je(r,n)}(e,t.parent,n)}(e,r,t),o=t[11],a=function(e,t,n){return function(e,t,n){return 40&e.type?je(e,n):null}(e,0,n)}(r.parent||t[6],0,t);if(null!=i)if(Array.isArray(n))for(var u=0;u<n.length;u++)Gr(o,i,n[u],a,!1);else Gr(o,i,n,a,!1)}function Jr(e,t){if(null!==t){var n=t.type;if(3&n)return je(t,e);if(4&n)return Qr(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return Jr(e,r);var i=e[t.index];return _e(i)?Qr(-1,i):Ze(i)}if(32&n)return Pr(t,e)()||Ze(e[t.index]);var o=Yr(e,t);return null!==o?Array.isArray(o)?o[0]:Jr(Dr(e[16]),o):Jr(e,t.next)}return null}function Yr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Qr(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return Jr(r,i)}return t[7]}function $r(e,t,n,r,i,o,a){for(;null!=n;){var u=r[n.index],s=n.type;if(a&&0===t&&(u&&Ir(Ze(u),r),n.flags|=4),64!=(64&n.flags))if(8&s)$r(e,t,n.child,r,i,o,!1),Ur(t,e,i,u,o);else if(32&s){for(var c=Pr(n,r),l=void 0;l=c();)Ur(t,e,i,l,o);Ur(t,e,i,u,o)}else 16&s?ei(e,t,r,n,i,o):Ur(t,e,i,u,o);n=a?n.projectionNext:n.next}}function Xr(e,t,n,r,i,o){$r(n,r,e.firstChild,t,i,o,!1)}function ei(e,t,n,r,i,o){var a=n[16],u=a[6].projection[r.projection];if(Array.isArray(u))for(var s=0;s<u.length;s++)Ur(t,e,i,u[s],o);else $r(e,t,u,a[3],i,o,!0)}function ti(e,t,n){Ue(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function ni(e,t,n){Ue(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function ri(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var ii="ng-template";function oi(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==ri((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function ai(e){return 4===e.type&&e.value!==ii}function ui(e,t,n){return t===(4!==e.type||n?e.value:ii)}function si(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(Pt(e[t]))return t;return e.length}(i),a=!1,u=0;u<t.length;u++){var s=t[u];if("number"!=typeof s){if(!a)if(4&r){if(r=2|1&r,""!==s&&!ui(e,s,n)||""===s&&1===t.length){if(ci(r))return!1;a=!0}}else{var c=8&r?s:t[++u];if(8&r&&null!==e.attrs){if(!oi(e.attrs,c,n)){if(ci(r))return!1;a=!0}continue}var l=li(8&r?"class":s,i,ai(e),n);if(-1===l){if(ci(r))return!1;a=!0;continue}if(""!==c){var f;f=l>o?"":i[l+1].toLowerCase();var h=8&r?f:null;if(h&&-1!==ri(h,c,0)||2&r&&c!==f){if(ci(r))return!1;a=!0}}}}else{if(!a&&!ci(r)&&!ci(s))return!1;if(a&&ci(s))continue;a=!1,r=s|1&r}}return ci(r)||a}function ci(e){return 0==(1&e)}function li(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var u=t[++i];"string"==typeof u;)u=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function fi(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(si(e,t[r],n))return!0;return!1}function hi(e,t){return e?":not("+t.trim()+")":t}function di(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var u=e[++n];i+="["+a+(u.length>0?'="'+u+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!ci(a)&&(t+=hi(o,i),i=""),r=a,o=o||!ci(r);n++}return""!==i&&(t+=hi(o,i)),t}var pi={};function vi(e){gi(et(),Xe(),_t()+e,at())}function gi(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&St(t,i,n)}else{var o=e.preOrderHooks;null!==o&&Ct(t,o,0,n)}xt(n)}function mi(e,t){return e<<17|t<<2}function yi(e){return e>>17&32767}function ki(e){return 2|e}function wi(e){return(131068&e)>>2}function bi(e,t){return-131069&e|t<<2}function _i(e){return 1|e}function xi(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];dt(i),a.contentQueries(2,t[o],o)}}}function Ti(e,t,n,r,i,o,a,u,s,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Je(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=u||e&&e[11],l[12]=s||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Ii(e,t,n,r,i){var o=e.data[t];if(null===o)o=function(e,t,n,r,i){var o=rt(),a=ot(),u=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=u),null!==o&&(a?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(e,t,n,r,i),Qe.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var a=function(){var e=Qe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return it(o,!0),o}function Si(e,t,n,r){if(0===n)return-1;for(var i=t.length,o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ci(e,t,n){gt(t);try{var r=e.viewQuery;null!==r&&no(1,r,n);var i=e.template;null!==i&&Ri(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&xi(e,t),e.staticViewQueries&&no(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)Qi(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,bt()}}function Ei(e,t,n,r){var i=t[2];if(256!=(256&i)){gt(t);var o=at();try{Je(t),function(e){Qe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Ri(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var u=e.preOrderCheckHooks;null!==u&&St(t,u,null)}else{var s=e.preOrderHooks;null!==s&&Ct(t,s,0,null),Et(t,0)}if(function(e){for(var t=Lr(e);null!==t;t=Mr(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Ye(o,1),i[2]|=1024}}(t),function(e){for(var t=Lr(e);null!==t;t=Mr(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];Ke(r)&&Ei(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&xi(e,t),!o)if(a){var c=e.contentCheckHooks;null!==c&&St(t,c)}else{var l=e.contentHooks;null!==l&&Ct(t,l,1),Et(t,1)}!function(e,t){var n=e.hostBindingOpCodes;if(null!==n)try{for(var r=0;r<n.length;r++){var i=n[r];if(i<0)xt(~i);else{var o=i,a=n[++r],u=n[++r];lt(a,o),u(2,t[o])}}}finally{xt(-1)}}(e,t);var f=e.components;null!==f&&function(e,t){for(var n=0;n<t.length;n++)Ji(e,t[n])}(t,f);var h=e.viewQuery;if(null!==h&&no(2,h,r),!o)if(a){var d=e.viewCheckHooks;null!==d&&St(t,d)}else{var p=e.viewHooks;null!==p&&Ct(t,p,2),Et(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ye(t[3],-1))}finally{bt()}}}function Ai(e,t,n,r){var i=t[10],o=!at(),a=Ge(t);try{o&&!a&&i.begin&&i.begin(),a&&Ci(e,t,r),Ei(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function Ri(e,t,n,r,i){var o=_t(),a=2&r;try{xt(-1),a&&t.length>20&&gi(e,t,20,at()),n(r,i)}finally{xt(o)}}function Oi(e,t,n){!$e()||(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||zt(n,t),Ir(r,t);for(var a=n.initialInputs,u=i;u<o;u++){var s=e.data[u],c=Se(s);c&&Bi(t,n,s);var l=tn(t,e,u,n);Ir(l,t),null!==a&&Gi(0,u-i,l,s,0,a),c&&(Be(n.index,t)[8]=l)}}(e,t,n,je(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Qe.lFrame.currentDirectiveIndex;try{xt(o);for(var u=r;u<i;u++){var s=e.data[u],c=t[u];ft(u),(null!==s.hostBindings||0!==s.hostVars||null!==s.hostAttrs)&&Zi(s,c)}}finally{xt(-1),ft(a)}}(e,t,n))}function Ni(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:je,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],u=-1===a?n(t,e):e[a];e[i++]=u}}function Pi(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Di(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Di(e,t,n,r,i,o,a,u,s,c){var l=20+r,f=l+i,h=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:pi);return n}(l,f),d="function"==typeof c?c():c;return h[1]={type:e,blueprint:h,template:n,queries:null,viewQuery:u,declTNode:t,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:s,consts:d,incompleteFirstPass:!1}}function Li(e,t,n,r){var i=io(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&oo(e).push(r,i.length-1))}function Mi(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Fi(e,t,n,r,i,o,a,u){var s,c=je(t,n),l=t.inputs;!u&&null!=l&&(s=l[r])?(uo(e,n,s,r,i),Te(t)&&function(e,t){var n=Be(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=a?a(i,t.value||"",r):i,Ue(o)?o.setProperty(c,r,i):Dt(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Ui(e,t,n,r){var i=!1;if($e()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];fi(n,a.selectors,!1)&&(i||(i=[]),Kt(zt(n,t),e,a.type),Se(a)?(qi(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){i=!0,zi(n,e.data.length,o.length);for(var u=0;u<o.length;u++){var s=o[u];s.providersResolver&&s.providersResolver(s)}for(var c=!1,l=!1,f=Si(e,t,o.length,null),h=0;h<o.length;h++){var d=o[h];n.mergedAttrs=Lt(n.mergedAttrs,d.hostAttrs),Hi(e,n,t,f,d),ji(f,d,a),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),c=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),f++}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,u=null,s=t.directiveStart;s<n;s++){var c=r[s],l=c.inputs,f=null===i||ai(t)?null:Ki(l,i);o.push(f),a=Mi(l,s,a),u=Mi(c.outputs,s,u)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=u}(e,n)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new R("301","Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=Lt(n.mergedAttrs,n.attrs),i}function Vi(e,t,n,r,i,o){var a=o.hostBindings;if(a){var u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);var s=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=s&&u.push(s),u.push(r,i,a)}}function Zi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function qi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function ji(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Se(t)&&(n[""]=e)}}function zi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Hi(e,t,n,r,i){e.data[r]=i;var o=i.factory||(i.factory=Ee(i.type)),a=new Ot(o,Se(i),null);e.blueprint[r]=a,n[r]=a,Vi(e,t,0,r,Si(e,n,i.hostVars,pi),i)}function Bi(e,t,n){var r=je(t,e),i=Pi(n),o=e[10],a=$i(e,Ti(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=a}function Gi(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var u=r.setInput,s=0;s<a.length;){var c=a[s++],l=a[s++],f=a[s++];null!==u?r.setInput(n,f,c,l):n[l]=f}}function Ki(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Wi(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Ji(e,t){var n=Be(t,e);if(Ke(n)){var r=n[1];80&n[2]?Ei(r,n,r.template,n[8]):n[5]>0&&Yi(n)}}function Yi(e){for(var t=Lr(e);null!==t;t=Mr(t))for(var n=10;n<t.length;n++){var r=t[n];if(1024&r[2]){var i=r[1];Ei(i,r,i.template,r[8])}else r[5]>0&&Yi(r)}var o=e[1].components;if(null!==o)for(var a=0;a<o.length;a++){var u=Be(o[a],e);Ke(u)&&u[5]>0&&Yi(u)}}function Qi(e,t){var n=Be(t,e),r=n[1];(function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Ci(r,n,n[8])}function $i(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Xi(e){for(;e;){e[2]|=64;var t=Dr(e);if(Ce(e)&&!t)return e;e=t}return null}function eo(e,t,n){var r=t[10];r.begin&&r.begin();try{Ei(e,t,e.template,n)}catch(i){throw ao(t,i),i}finally{r.end&&r.end()}}function to(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Sr(n),i=r[1];Ai(i,r,i.template,n)}}(e[8])}function no(e,t,n){dt(0),t(e,n)}var ro=Promise.resolve(null);function io(e){return e[7]||(e[7]=[])}function oo(e){return e.cleanup||(e.cleanup=[])}function ao(e,t){var n=e[9],r=n?n.get(Ar,null):null;r&&r.handleError(t)}function uo(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],u=n[o++],s=t[a],c=e.data[a];null!==c.setInput?c.setInput(s,i,r,u):s[u]=i}}function so(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var u=t[a];"number"==typeof u?o=u:1==o?i=I(i,u):2==o&&(r=I(r,u+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var co,lo=new fn("INJECTOR",-1),fo=function(){function e(){h(this,e)}return f(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n;if(t===_n){var n=new Error("NullInjectorError: No provider for ".concat(T(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),ho=new fn("Set Injector scope."),po={},vo={};function go(){return void 0===co&&(co=new fo),co}function mo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new yo(e,n,t||go(),r)}var yo=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&vn(n,function(e){return i.processProvider(e,t,n)}),vn([t],function(e){return i.processInjectorType(e,[],a)}),this.records.set(lo,bo(void 0,this));var u=this.records.get(ho);this.scope=null!=u?u.value:null,this.source=o||("object"==typeof t?null:T(t))}return f(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.Default;this.assertNotDestroyed();var r,i=En(this),o=B(void 0);try{if(!(n&H.SkipSelf)){var a=this.records.get(e);if(void 0===a){var u=("function"==typeof(r=e)||"object"==typeof r&&r instanceof fn)&&M(e);a=u&&this.injectableDefInScope(u)?bo(ko(e),po):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(n&H.Self?go():this.parent).get(e,t=n&H.Optional&&t===_n?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Tn]=s[Tn]||[]).unshift(T(e)),i)throw s;return Dn(s,e,"R3InjectorError",this.source)}throw s}finally{B(o),En(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(T(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=E(e)))return!1;var i=U(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,u=-1!==n.indexOf(a);if(void 0!==o&&(i=U(o)),null==i)return!1;if(null!=i.imports&&!u){var s;n.push(a);try{vn(i.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===s&&(s=[]),s.push(e))})}finally{}if(void 0!==s)for(var c=function(e){var t=s[e],n=t.ngModule,i=t.providers;vn(i,function(e){return r.processProvider(e,n,i||te)})},l=0;l<s.length;l++)c(l)}this.injectorDefTypes.add(a);var f=Ee(a)||function(){return new a};this.records.set(a,bo(f,po));var h=i.providers;if(null!=h&&!u){var d=e;vn(h,function(e){return r.processProvider(e,d,h)})}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r,i=xo(e=E(e))?e:E(e&&e.provide),o=_o(r=e)?bo(void 0,r.useValue):bo(wo(r),po);if(xo(e)||!0!==e.multi)this.records.get(i);else{var a=this.records.get(i);a||((a=bo(void 0,po,!0)).factory=function(){return On(a.multi)},this.records.set(i,a)),i=e,a.multi.push(e)}this.records.set(i,o)}},{key:"hydrate",value:function(e,t){return t.value===po&&(t.value=vo,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var n}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var t=E(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}]),e}();function ko(e){var t=M(e),n=null!==t?t.factory:Ee(e);if(null!==n)return n;if(e instanceof fn)throw new Error("Token ".concat(T(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=function(e,t){for(var n=[],r=0;r<e;r++)n.push("?");return n}(t);throw new Error("Can't resolve all parameters for ".concat(T(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[Z]||e[j]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function wo(e,t,n){var r;if(xo(e)){var i=E(e);return Ee(i)||ko(i)}if(_o(e))r=function(){return E(e.useValue)};else if(function(e){return!(!e||!e.useFactory)}(e))r=function(){return e.useFactory.apply(e,o(On(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return Rn(E(e.useExisting))};else{var a=E(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Ee(a)||ko(a);r=function(){return y(a,o(On(e.deps)))}}return r}function bo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function _o(e){return null!==e&&"object"==typeof e&&Cn in e}function xo(e){return"function"==typeof e}var To,Io=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=mo(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},So=((To=function(){function e(){h(this,e)}return f(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Io(e,t,""):Io(e.providers,e.parent,e.name||"")}}]),e}()).THROW_IF_NOT_FOUND=_n,To.NULL=new fo,To.\u0275prov=D({token:To,providedIn:"any",factory:function(){return Rn(lo)}}),To.__NG_ELEMENT_ID__=-1,To);function Co(e,t){It(Sr(e)[1],nt())}function Eo(e){for(var t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0,r=[e];t;){var i=void 0;if(Se(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=Ao(e.inputs),o.declaredInputs=Ao(e.declaredInputs),o.outputs=Ao(e.outputs);var a=i.hostBindings;a&&No(e,a);var u=i.viewQuery,s=i.contentQueries;if(u&&Ro(e,u),s&&Oo(e,s),x(e.inputs,i.inputs),x(e.declaredInputs,i.declaredInputs),x(e.outputs,i.outputs),Se(i)&&i.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var f=0;f<l.length;f++){var h=l[f];h&&h.ngInherit&&h(e),h===Eo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Lt(i.hostAttrs,n=Lt(n,i.hostAttrs))}}(r)}function Ao(e){return e===ee?{}:e===te?[]:e}function Ro(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Oo(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function No(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Po=null;function Do(){if(!Po){var e=X.Symbol;if(e&&e.iterator)Po=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Po=r)}}return Po}var Lo=function(){function e(t){h(this,e),this.wrapped=t}return f(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Mo(e){return!!Fo(e)&&(Array.isArray(e)||!(e instanceof Map)&&Do()in e)}function Fo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Uo(e,t,n){return e[t]=n}function Vo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Zo(e,t,n,r){var i=Xe();return Vo(i,ct(),t)&&(et(),function(e,t,n,r,i,o){var a=je(e,t);!function(e,t,n,r,i,o,a){if(null==o)Ue(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{var u=null==a?O(o):a(o,r||"",i);Ue(e)?e.setAttribute(t,i,u,n):n?t.setAttributeNS(n,i,u):t.setAttribute(i,u)}}(t[11],a,o,e.value,n,r,i)}(Tt(),i,e,t,n,r)),Zo}function qo(e,t,n,r){return Vo(e,ct(),n)?t+O(n)+r:pi}function jo(e,t,n,r,i,o,a,u){var s=Xe(),c=et(),l=e+20,f=c.firstCreatePass?function(e,t,n,r,i,o,a,u,s){var c=t.consts,l=Ii(t,e,4,a||null,We(c,u));Ui(t,n,l,We(c,s)),It(t,l);var f=l.tViews=Di(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),f.queries=t.queries.embeddedTView(l)),l}(l,c,s,t,n,r,i,o,a):c.data[l];it(f,!1);var h=s[11].createComment("");Wr(c,s,h,f),Ir(h,s),$i(s,s[l]=Wi(h,s,h,f)),Ie(f)&&Oi(c,s,f),null!=a&&Ni(s,f,u)}function zo(e){return He(Qe.lFrame.contextLView,20+e)}function Ho(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.Default,n=Xe();return null===n?Rn(e,t):Yt(nt(),n,E(e),t)}function Bo(e,t,n){var r=Xe();return Vo(r,ct(),t)&&Fi(et(),Tt(),r,e,t,r[11],n,!1),Bo}function Go(e,t,n,r,i){var o=i?"class":"style";uo(e,n,t.inputs[o],o,r)}function Ko(e,t,n,r){var i=Xe(),o=et(),a=20+e,u=i[11],s=i[a]=Vr(u,t,Qe.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,a){var u=t.consts,s=Ii(t,e,2,i,We(u,o));return Ui(t,n,s,We(u,a)),null!==s.attrs&&so(s,s.attrs,!1),null!==s.mergedAttrs&&so(s,s.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,s),s}(a,o,i,0,t,n,r):o.data[a];it(c,!0);var l=c.mergedAttrs;null!==l&&Nt(u,s,l);var f=c.classes;null!==f&&ni(u,s,f);var h=c.styles;null!==h&&ti(u,s,h),64!=(64&c.flags)&&Wr(o,i,s,c),0===Qe.lFrame.elementDepthCount&&Ir(s,i),Qe.lFrame.elementDepthCount++,Ie(c)&&(Oi(o,i,c),function(e,t,n){if(xe(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&Ni(i,c)}function Wo(){var e=nt();ot()?Qe.lFrame.isParent=!1:it(e=e.parent,!1);var t=e;Qe.lFrame.elementDepthCount--;var n=et();n.firstCreatePass&&(It(n,e),xe(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Go(n,t,Xe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Go(n,t,Xe(),t.stylesWithoutHost,!1)}function Jo(e,t,n,r){Ko(e,t,n,r),Wo()}function Yo(){return Xe()}function Qo(e){return!!e&&"function"==typeof e.then}function $o(e){return!!e&&"function"==typeof e.subscribe}var Xo=$o;function ea(e,t,n,r){var i=Xe(),o=et(),a=nt();return function(e,t,n,r,i,o,a,u){var s=Ie(r),c=e.firstCreatePass&&oo(e),l=t[8],f=io(t),h=!0;if(3&r.type||u){var d=je(r,t),p=u?u(d):d,v=f.length,g=u?function(e){return u(Ze(e[r.index]))}:r.index;if(Ue(n)){var m=null;if(!u&&s&&(m=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var u=t[7],s=i[o+2];return u.length>s?u[s]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,h=!1;else{o=na(r,t,l,o,!1);var y=n.listen(p,i,o);f.push(o,y),c&&c.push(i,g,v,v+1)}}else o=na(r,t,l,o,!0),p.addEventListener(i,o,a),f.push(o),c&&c.push(i,g,v,a)}else o=na(r,t,l,o,!1);var k,w=r.outputs;if(h&&null!==w&&(k=w[i])){var b=k.length;if(b)for(var _=0;_<b;_+=2){var x=t[k[_]][k[_+1]].subscribe(o),T=f.length;f.push(o,x),c&&c.push(i,r.index,T,-(T+1))}}}(o,i,i[11],a,e,t,!!n,r),ea}function ta(e,t,n,r){try{return!1!==n(r)}catch(i){return ao(e,i),!1}}function na(e,t,n,r,i){return function n(o){if(o===Function)return r;var a=2&e.flags?Be(e.index,t):t;0==(32&t[2])&&Xi(a);for(var u=ta(t,0,r,o),s=n.__ngNextListenerFn__;s;)u=ta(t,0,s,o)&&u,s=s.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Qe.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Qe.lFrame.contextLView))[8]}(e)}function ia(e,t,n){return oa(e,"",t,"",n),ia}function oa(e,t,n,r,i){var o=Xe(),a=qo(o,t,n,r);return a!==pi&&Fi(et(),Tt(),o,e,a,o[11],i,!1),oa}function aa(e,t,n,r,i){for(var o=e[n+1],a=null===t,u=r?yi(o):wi(o),s=!1;0!==u&&(!1===s||a);){var c=e[u+1];ua(e[u],t)&&(s=!0,e[u+1]=r?_i(c):ki(c)),u=r?yi(c):wi(c)}s&&(e[n+1]=r?ki(o):_i(o))}function ua(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&wn(e,t)>=0}function sa(e,t){return function(e,t,n,r){var i=Xe(),o=et(),a=function(e){var t=Qe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+2,n}();o.firstUpdatePass&&function(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[_t()],a=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(16&e.flags)})(o)&&null===t&&!a&&(t=!1),function(e,t,n,r,i,o){var a=t.classBindings,u=yi(a),s=wi(a);e[r]=n;var c,l=!1;if(Array.isArray(n)){var f=n;(null===(c=f[1])||wn(f,c)>0)&&(l=!0)}else c=n;if(i)if(0!==s){var h=yi(e[u+1]);e[r+1]=mi(h,u),0!==h&&(e[h+1]=bi(e[h+1],r)),e[u+1]=function(e,t){return 131071&e|t<<17}(e[u+1],r)}else e[r+1]=mi(u,0),0!==u&&(e[u+1]=bi(e[u+1],r)),u=r;else e[r+1]=mi(s,0),0===u?u=r:e[s+1]=bi(e[s+1],r),s=r;l&&(e[r+1]=ki(e[r+1])),aa(e,c,r,!0),aa(e,c,r,!1),function(e,t,n,r,i){var o=e.residualClasses;null!=o&&"string"==typeof t&&wn(o,t)>=0&&(n[r+1]=_i(n[r+1]))}(t,c,e,r),a=mi(u,s),t.classBindings=a}(i,o,t=function(e,t,n,r){var i=function(e){var t=Qe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=t.residualClasses;if(null===i)0===t.classBindings&&(n=la(n=ca(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=ca(i,e,t,n,r),null===o){var u=function(e,t,n){var r=t.classBindings;if(0!==wi(r))return e[yi(r)]}(e,t);void 0!==u&&Array.isArray(u)&&function(e,t,n,r){e[yi(t.classBindings)]=r}(e,t,0,u=la(u=ca(null,e,t,u[1],r),t.attrs,r))}else o=function(e,t,n){for(var r,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=la(r,e[o].hostAttrs,true);return la(r,t.attrs,true)}(e,t)}return void 0!==o&&(t.residualClasses=o),n}(i,o,t,r),n,a)}}(o,e,a,true),t!==pi&&Vo(i,a,t)&&function(e,t,n,r,i,o,a,u){if(3&t.type){var s=e.data,c=s[u+1];ha(function(e){return 1==(1&e)}(c)?fa(s,t,n,i,wi(c),a):void 0)||(ha(o)||function(e){return 2==(2&e)}(c)&&(o=fa(s,null,n,i,u,a)),function(e,t,n,r,i){var o=Ue(e);i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r)}(r,0,qe(_t(),n),i,o))}}(o,o.data[_t()],i,i[11],e,i[a+1]=function(e,t){return null==e||"object"==typeof e&&(e=T(Gn(e))),e}(t),true,a)}(e,t),sa}function ca(e,t,n,r,i){var o=null,a=n.directiveEnd,u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<a&&(r=la(r,(o=t[u]).hostAttrs,i),o!==e);)u++;return null!==e&&(n.directiveStylingLast=u),r}function la(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),yn(e,a,!!n||t[++o]))}return void 0===e?null:e}function fa(e,t,n,r,i,o){for(var a,u=null===t;i>0;){var s=e[i],c=Array.isArray(s),l=c?s[1]:s,f=null===l,h=n[i+1];h===pi&&(h=f?te:void 0);var d=f?kn(h,r):l===r?h:void 0;if(c&&!ha(d)&&(d=kn(s,r)),ha(d)&&(a=d,u))return a;var p=e[i+1];i=u?yi(p):wi(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(a=kn(v,r))}return a}function ha(e){return void 0!==e}function da(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Xe(),r=et(),i=e+20,o=r.firstCreatePass?Ii(r,i,1,t,null):r.data[i],a=n[i]=function(e,t){return Ue(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Wr(r,n,a,o),it(o,!1)}function pa(e){return va("",e,""),pa}function va(e,t,n){var r=Xe(),i=qo(r,e,t,n);return i!==pi&&function(e,t,n){var r=qe(t,e);!function(e,t,n){Ue(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}(r,_t(),i),va}function ga(e,t,n){var r=Xe();return Vo(r,ct(),t)&&Fi(et(),Tt(),r,e,t,r[11],n,!0),ga}var ma=void 0,ya=["en",[["a","p"],["AM","PM"],ma],[["AM","PM"],ma,ma],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ma,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ma,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ma,"{1} 'at' {0}",ma],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],ka={};function wa(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=_a(t);if(n)return n;var r=t.split("-")[0];if(n=_a(r))return n;if("en"===r)return ya;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function ba(e){return wa(e)[xa.PluralCase]}function _a(e){return e in ka||(ka[e]=X.ng&&X.ng.common&&X.ng.common.locales&&X.ng.common.locales[e]),ka[e]}var xa=((xa=xa||{})[xa.LocaleId=0]="LocaleId",xa[xa.DayPeriodsFormat=1]="DayPeriodsFormat",xa[xa.DayPeriodsStandalone=2]="DayPeriodsStandalone",xa[xa.DaysFormat=3]="DaysFormat",xa[xa.DaysStandalone=4]="DaysStandalone",xa[xa.MonthsFormat=5]="MonthsFormat",xa[xa.MonthsStandalone=6]="MonthsStandalone",xa[xa.Eras=7]="Eras",xa[xa.FirstDayOfWeek=8]="FirstDayOfWeek",xa[xa.WeekendRange=9]="WeekendRange",xa[xa.DateFormat=10]="DateFormat",xa[xa.TimeFormat=11]="TimeFormat",xa[xa.DateTimeFormat=12]="DateTimeFormat",xa[xa.NumberSymbols=13]="NumberSymbols",xa[xa.NumberFormats=14]="NumberFormats",xa[xa.CurrencyCode=15]="CurrencyCode",xa[xa.CurrencySymbol=16]="CurrencySymbol",xa[xa.CurrencyName=17]="CurrencyName",xa[xa.Currencies=18]="Currencies",xa[xa.Directionality=19]="Directionality",xa[xa.PluralCase=20]="PluralCase",xa[xa.ExtraData=21]="ExtraData",xa),Ta="en-US";function Ia(e){(function(e,t){null==e&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat(e)+" [Expected=> ".concat(null," ").concat("!="," ").concat(t," <=Actual]"))}(t,e)})(e,"Expected localeId to be defined"),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}function Sa(e,t,n,r,i){if(e=E(e),Array.isArray(e))for(var o=0;o<e.length;o++)Sa(e[o],t,n,r,i);else{var a=et(),u=Xe(),s=xo(e)?e:E(e.provide),c=wo(e),l=nt(),f=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(xo(e)||!e.multi){var p=new Ot(c,i,Ho),v=Aa(s,t,i?f:f+d,h);-1===v?(Kt(zt(l,u),a,s),Ca(a,e,t.length),t.push(s),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),u.push(p)):(n[v]=p,u[v]=p)}else{var g=Aa(s,t,f+d,h),m=Aa(s,t,f,f+d),y=g>=0&&n[g],k=m>=0&&n[m];if(i&&!k||!i&&!y){Kt(zt(l,u),a,s);var w=function(e,t,n,r,i){var o=new Ot(e,n,Ho);return o.multi=[],o.index=t,o.componentProviders=0,Ea(o,i,r&&!n),o}(i?Oa:Ra,n.length,i,r,c);!i&&k&&(n[m].providerFactory=w),Ca(a,e,t.length,0),t.push(s),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(w),u.push(w)}else Ca(a,e,g>-1?g:m,Ea(n[i?m:g],c,!i&&r));!i&&r&&k&&n[m].componentProviders++}}}function Ca(e,t,n,r){var i=xo(t);if(i||function(e){return!!e.useClass}(t)){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var a=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var u=a.indexOf(n);-1===u?a.push(n,[r,o]):a[u+1].push(r,o)}else a.push(n,o)}}}function Ea(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Aa(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function Ra(e,t,n,r){return Na(this.multi,[])}function Oa(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,u=tn(n,n[1],this.providerFactory.index,r);Na(o,i=u.slice(0,a));for(var s=a;s<u.length;s++)i.push(u[s])}else Na(o,i=[]);return i}function Na(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Pa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=et();if(r.firstCreatePass){var i=Se(e);Sa(n,r.data,r.blueprint,i,!0),Sa(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}var Da=function e(){h(this,e)},La=function(){function e(){h(this,e)}return f(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(T(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Ma=function(){var e=function e(){h(this,e)};return e.NULL=new La,e}();function Fa(){}function Ua(e,t){return new Za(je(e,t))}var Va=function(){return Ua(nt(),Xe())},Za=function(){var e=function e(t){h(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=Va,e}();function qa(e){return e instanceof Za?e.nativeElement:e}var ja=function e(){h(this,e)},za=function(){var e=function e(){h(this,e)};return e.__NG_ELEMENT_ID__=function(){return Ha()},e}(),Ha=function(){var e=Xe(),t=Be(nt().index,e);return function(e){return e[11]}(be(t)?t:e)},Ba=function(){var e=function e(){h(this,e)};return e.\u0275prov=D({token:e,providedIn:"root",factory:function(){return null}}),e}(),Ga=function e(t){h(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Ka=new Ga("12.2.10"),Wa=function(){function e(){h(this,e)}return f(e,[{key:"supports",value:function(e){return Mo(e)}},{key:"create",value:function(e){return new Ya(e)}}]),e}(),Ja=function(e,t){return t},Ya=function(){function e(t){h(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ja}return f(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<eu(n,r,i)?t:n,a=eu(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var s=a-r,c=u-r;if(s!=c){for(var l=0;l<s;l++){var f=l<i.length?i[l]:i[l]=0,h=f+l;c<=h&&h<s&&(i[l]=f+1)}i[o.previousIndex]=c-s}}a!==u&&e(o,a,u)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Mo(e))throw new Error("Error trying to diff '".concat(T(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var u=0;u<this.length;u++)r=e[u],i=this._trackByFn(u,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,u)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,u),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Do()]();!(r=i.next()).done;)t(r.value)}(e,function(e){i=t._trackByFn(n,e),null!==o&&Object.is(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Object.is(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new Qa(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Xa),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),Qa=function e(t,n){h(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},$a=function(){function e(){h(this,e),this._head=null,this._tail=null}return f(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Xa=function(){function e(){h(this,e),this.map=new Map}return f(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new $a,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function eu(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var tu=function(){function e(){h(this,e)}return f(e,[{key:"supports",value:function(e){return e instanceof Map||Fo(e)}},{key:"create",value:function(){return new nu}}]),e}(),nu=function(){function e(){h(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return f(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Fo(e)))throw new Error("Error trying to diff '".concat(T(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new ru(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),ru=function e(t){h(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function iu(){return new ou([new Wa])}var ou=function(){var e=function(){function e(t){h(this,e),this.factories=t}return f(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(null!=t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat(function(e){return e.name||typeof e}(e),"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||iu())},deps:[[e,new Un,new Fn]]}}}]),e}();return e.\u0275prov=D({token:e,providedIn:"root",factory:iu}),e}();function au(){return new uu([new tu])}var uu=function(){var e=function(){function e(t){h(this,e),this.factories=t}return f(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||au())},deps:[[e,new Un,new Fn]]}}}]),e}();return e.\u0275prov=D({token:e,providedIn:"root",factory:au}),e}();function su(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=t[n.index];if(null!==a&&r.push(Ze(a)),_e(a))for(var u=10;u<a.length;u++){var s=a[u],c=s[1].firstChild;null!==c&&su(s[1],s,c,r)}var l=n.type;if(8&l)su(e,t,n.child,r);else if(32&l)for(var f=Pr(n,t),h=void 0;h=f();)r.push(h);else if(16&l){var d=Yr(t,n);if(Array.isArray(d))r.push.apply(r,o(d));else{var p=Dr(t[16]);su(p[1],p,d,r,!0)}}n=i?n.projectionNext:n.next}return r}var cu=function(){function e(t,n){h(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return f(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return su(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(_e(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(qr(e,n),mn(t,n))}this._attachedToViewContainer=!1}jr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){Li(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){Xi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){eo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){ut(!0);try{eo(e,t,n)}finally{ut(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Xr(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),lu=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this,e))._view=e,r}return f(n,[{key:"detectChanges",value:function(){to(this._view)}},{key:"checkNoChanges",value:function(){!function(e){ut(!0);try{to(e)}finally{ut(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(cu),fu=function(e){return function(e,t,n){if(Te(e)&&!n){var r=Be(e.index,t);return new cu(r,r)}return 47&e.type?new cu(t[16],t):null}(nt(),Xe(),16==(16&e))},hu=function(){var e=function e(){h(this,e)};return e.__NG_ELEMENT_ID__=fu,e}(),du=[new tu],pu=new ou([new Wa]),vu=new uu(du),gu=function(){return ku(nt(),Xe())},mu=function(){var e=function e(){h(this,e)};return e.__NG_ELEMENT_ID__=gu,e}(),yu=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this))._declarationLView=e,o._declarationTContainer=r,o.elementRef=i,o}return f(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Ti(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Ci(t,n,e),new cu(n)}}]),n}(mu);function ku(e,t){return 4&e.type?new yu(t,e,Ua(e,t)):null}var wu=function e(){h(this,e)},bu=function e(){h(this,e)},_u=function(){return Cu(nt(),Xe())},xu=function(){var e=function e(){h(this,e)};return e.__NG_ELEMENT_ID__=_u,e}(),Tu=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this))._lContainer=e,o._hostTNode=r,o._hostLView=i,o}return f(n,[{key:"element",get:function(){return Ua(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new on(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=Gt(this._hostTNode,this._hostLView);if(Ft(e)){var t=Vt(e,this._hostLView),n=Ut(e);return new on(t[1].data[n+8],t)}return new on(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=Iu(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(wu,null);a&&(i=a)}var u=e.create(o,r,void 0,i);return this.insert(u.hostView,t),u}},{key:"insert",value:function(e,t){var r=e._lView,i=r[1];if(_e(r[3])){var o=this.indexOf(e);if(-1!==o)this.detach(o);else{var a=r[3],u=new n(a,a[6],a[3]);u.detach(u.indexOf(e))}}var s=this._adjustIndex(t),c=this._lContainer;!function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],gn(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var u=t[19];null!==u&&u.insertView(e),t[2]|=128}(i,r,c,s);var l=Qr(s,c),f=r[11],h=Kr(f,c[7]);return null!==h&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,Xr(e,r,n,1,i,o)}(i,c[6],f,r,h,l),e.attachToViewContainerRef(),gn(Su(c),s,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=Iu(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=qr(this._lContainer,t);n&&(mn(Su(this._lContainer),t),jr(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=qr(this._lContainer,t);return n&&null!=mn(Su(this._lContainer),t)?new cu(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(xu);function Iu(e){return e[8]}function Su(e){return e[8]||(e[8]=[])}function Cu(e,t){var n,r=t[e.index];if(_e(r))n=r;else{var i;if(8&e.type)i=Ze(r);else{var o=t[11];i=o.createComment("");var a=je(e,t);Hr(o,Kr(o,a),i,function(e,t){return Ue(e)?e.nextSibling(t):t.nextSibling}(o,a),!1)}t[e.index]=n=Wi(r,t,i,e),$i(t,n)}return new Tu(n,e,t)}var Eu={},Au=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this)).ngModule=e,r}return f(n,[{key:"resolveComponentFactory",value:function(e){var t=ke(e);return new Nu(t,this.ngModule)}}]),n}(Ma);function Ru(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Ou=new fn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Rr}}),Nu=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(di).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return f(n,[{key:"inputs",get:function(){return Ru(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ru(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,Eu,i);return o!==Eu||r===Eu?o:t.get(n,r,i)}}}(e,r.injector):e,u=a.get(ja,Ve),s=a.get(Ba,null),c=u.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",f=n?function(e,t,n){if(Ue(e))return e.selectRootElement(t,n===J.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Vr(u.createRenderer(null,this.componentDef),l,function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,d={components:[],scheduler:Rr,clean:ro,playerHandler:null,flags:0},p=Di(0,null,null,1,0,null,null,null,null,null),v=Ti(null,p,d,h,null,null,u,c,s,a);gt(v);try{var g=function(e,t,n,r,i,o){var a=n[1];n[20]=e;var u=Ii(a,20,2,"#host",null),s=u.mergedAttrs=t.hostAttrs;null!==s&&(so(u,s,!0),null!==e&&(Nt(i,e,s),null!==u.classes&&ni(i,e,u.classes),null!==u.styles&&ti(i,e,u.styles)));var c=r.createRenderer(e,t),l=Ti(n,Pi(t),null,t.onPush?64:16,n[20],u,r,c,null,null);return a.firstCreatePass&&(Kt(zt(u,n),a,t.type),qi(a,u),zi(u,n.length,1)),$i(n,l),n[20]=l}(f,this.componentDef,v,u,c);if(f)if(n)Nt(c,f,["ng-version",Ka.full]);else{var m=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!ci(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),y=m.attrs,k=m.classes;y&&Nt(c,f,y),k&&k.length>0&&ni(c,f,k.join(" "))}if(o=ze(p,20),void 0!==t)for(var w=o.projection=[],b=0;b<this.ngContentSelectors.length;b++){var _=t[b];w.push(null!=_?Array.from(_):null)}i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=nt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Hi(e,r,t,Si(e,t,1,null),n));var i=tn(t,e,r.directiveStart,r);Ir(i,t);var o=je(r,t);return o&&Ir(o,t),i}(o,n,t);if(r.components.push(a),e[8]=a,i&&i.forEach(function(e){return e(a,t)}),t.contentQueries){var u=nt();t.contentQueries(1,a,u.directiveStart)}var s=nt();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(xt(s.index),Vi(n[1],s,0,s.directiveStart,s.directiveEnd,t),Zi(t,a)),a}(g,this.componentDef,v,d,[Co]),Ci(p,v,null)}finally{bt()}return new Pu(this.componentType,i,Ua(o,v),v,o)}}]),n}(Da),Pu=function(e){d(n,e);var t=p(n);function n(e,r,i,o,a){var u;return h(this,n),(u=t.call(this)).location=i,u._rootLView=o,u._tNode=a,u.instance=r,u.hostView=u.changeDetectorRef=new lu(o),u.componentType=e,u}return f(n,[{key:"injector",get:function(){return new on(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(function(){return function e(){h(this,e)}}()),Du=new Map,Lu=function(e){d(n,e);var t=p(n);function n(e,r){var i;h(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=g(i),i.destroyCbs=[],i.componentFactoryResolver=new Au(g(i));var o=we(e),a=e[ae]||null;return a&&Ia(a),i._bootstrapComponents=Or(o.bootstrap),i._r3Injector=mo(e,r,[{provide:wu,useValue:g(i)},{provide:Ma,useValue:i.componentFactoryResolver}],T(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return f(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:So.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.Default;return e===So||e===wu||e===lo?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(wu),Mu=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this)).moduleType=e,null!==we(e)&&function(e){var t=new Set;!function e(n){var r=we(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(T(t)," vs ").concat(T(t.name)))}(i,Du.get(i),n),Du.set(i,n));var o,a=u(Or(r.imports));try{for(a.s();!(o=a.n()).done;){var s=o.value;t.has(s)||(t.add(s),e(s))}}catch(c){a.e(c)}finally{a.f()}}(e)}(e),r}return f(n,[{key:"create",value:function(e){return new Lu(this.moduleType,e)}}]),n}(bu);function Fu(e,t,n){var r=st()+e,i=Xe();return i[r]===pi?Uo(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function Uu(e,t){var n=e[t];return n===pi?void 0:n}function Vu(e,t){var n,r=et(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new R("302","The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Ee(n.type)),a=B(Ho);try{var u=qt(!1),s=o();return qt(u),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(r,Xe(),i,s),s}finally{B(a)}}function Zu(e,t,n){var r=e+20,i=Xe(),o=He(i,r);return zu(i,ju(i,r)?function(e,t,n,r,i,o){var a=t+n;return Vo(e,a,i)?Uo(e,a+1,o?r.call(o,i):r(i)):Uu(e,a+1)}(i,st(),t,o.transform,n,o):o.transform(n))}function qu(e,t,n,r){var i=e+20,o=Xe(),a=He(o,i);return zu(o,ju(o,i)?function(e,t,n,r,i,o,a){var u=t+n;return function(e,t,n,r){var i=Vo(e,t,n);return Vo(e,t+1,r)||i}(e,u,i,o)?Uo(e,u+2,a?r.call(a,i,o):r(i,o)):Uu(e,u+2)}(o,st(),t,a.transform,n,r,a):a.transform(n,r))}function ju(e,t){return e[1].data[t].pure}function zu(e,t){return Lo.isWrapped(t)&&(t=Lo.unwrap(t),e[Qe.lFrame.bindingIndex]=pi),t}function Hu(e){return function(t){setTimeout(e,void 0,t)}}var Bu=function(e){d(n,e);var t=p(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h(this,n),(e=t.call(this)).__isAsync=r,e}return f(n,[{key:"emit",value:function(e){i(b(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,a,u,c=e,l=t||function(){return null},f=r;if(e&&"object"==typeof e){var h=e;c=null===(o=h.next)||void 0===o?void 0:o.bind(h),l=null===(a=h.error)||void 0===a?void 0:a.bind(h),f=null===(u=h.complete)||void 0===u?void 0:u.bind(h)}this.__isAsync&&(l=Hu(l),c&&(c=Hu(c)),f&&(f=Hu(f)));var d=i(b(n.prototype),"subscribe",this).call(this,{next:c,error:l,complete:f});return e instanceof s.w&&e.add(d),d}}]),n}(a.xQ);function Gu(){return this._results[Do()]()}var Ku=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Do(),r=e.prototype;r[n]||(r[n]=Gu)}return f(e,[{key:"changes",get:function(){return this._changes||(this._changes=new Bu)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,t){var n=this;n.dirty=!1;var r=pn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}},{key:"notifyOnChanges",value:function(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}();Symbol;var Wu=function(){function e(t){h(this,e),this.queryList=t,this.matches=null}return f(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Ju=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,e),this.queries=t}return f(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==cs(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Yu=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h(this,e),this.predicate=t,this.flags=n,this.read=r},Qu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,e),this.queries=t}return f(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),$u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;h(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return f(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(e,t,Xu(t,i)),this.matchTNodeWithReadOption(e,t,en(t,e,i,!1,!1))}else n===mu?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,en(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Za||r===xu||r===mu&&4&t.type)this.addMatch(t.index,-2);else{var i=en(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Xu(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function es(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Ua(e,t):4&e.type?ku(e,t):null}(t,e):-2===n?function(e,t,n){return n===Za?Ua(t,e):n===mu?ku(t,e):n===xu?Cu(t,e):void 0}(e,t,r):tn(e,e[1],n,t)}function ts(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,u=[],s=0;s<a.length;s+=2){var c=a[s];u.push(c<0?null:es(t,o[c],a[s+1],n.metadata.read))}i.matches=u}return i.matches}function ns(e,t,n,r){var i=e.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=ts(e,t,i,n),u=0;u<o.length;u+=2){var s=o[u];if(s>0)r.push(a[u/2]);else{for(var c=o[u+1],l=t[-s],f=10;f<l.length;f++){var h=l[f];h[17]===h[3]&&ns(h[1],h,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];ns(v[1],v,c,r)}}}return r}function rs(e){var t=Xe(),n=et(),r=ht();dt(r+1);var i=cs(n,r);if(e.dirty&&Ge(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?ns(n,t,r,[]):ts(n,t,i,r);e.reset(o,qa),e.notifyOnChanges()}return!0}return!1}function is(e,t,n){var r=et();r.firstCreatePass&&(ss(r,new Yu(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),us(r,Xe(),t)}function os(e,t,n,r){var i=et();if(i.firstCreatePass){var o=nt();ss(i,new Yu(t,n,r),o.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}us(i,Xe(),n)}function as(){return e=Xe(),t=ht(),e[19].queries[t].queryList;var e,t}function us(e,t,n){var r=new Ku(4==(4&n));Li(e,t,r,r.destroy),null===t[19]&&(t[19]=new Ju),t[19].queries.push(new Wu(r))}function ss(e,t,n){null===e.queries&&(e.queries=new Qu),e.queries.track(new $u(t,n))}function cs(e,t){return e.queries.getByIndex(t)}var ls=new fn("Application Initializer"),fs=function(){var e=function(){function e(t){var n=this;h(this,e),this.appInits=t,this.resolve=Fa,this.reject=Fa,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return f(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=function(n){var r=e.appInits[n]();if(Qo(r))t.push(r);else if(Xo(r)){var i=new Promise(function(e,t){r.subscribe({complete:e,error:t})});t.push(i)}},i=0;i<this.appInits.length;i++)r(i);Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Rn(ls,8))},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}(),hs=new fn("AppId"),ds={provide:hs,useFactory:function(){return"".concat(ps()).concat(ps()).concat(ps())},deps:[]};function ps(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var vs=new fn("Platform Initializer"),gs=new fn("Platform ID"),ms=new fn("appBootstrapListener"),ys=function(){var e=function(){function e(){h(this,e)}return f(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}(),ks=new fn("LocaleId"),ws=new fn("DefaultCurrencyCode"),bs=function e(t,n){h(this,e),this.ngModuleFactory=t,this.componentFactories=n},_s=function(e){return new Mu(e)},xs=_s,Ts=function(e){return Promise.resolve(_s(e))},Is=function(e){var t=_s(e),n=Or(we(e).declarations).reduce(function(e,t){var n=ke(t);return n&&e.push(new Nu(n)),e},[]);return new bs(t,n)},Ss=Is,Cs=function(e){return Promise.resolve(Is(e))},Es=function(){var e=function(){function e(){h(this,e),this.compileModuleSync=xs,this.compileModuleAsync=Ts,this.compileModuleAndAllComponentsSync=Ss,this.compileModuleAndAllComponentsAsync=Cs}return f(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}(),As=Promise.resolve(0);function Rs(e){"undefined"==typeof Zone?As.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Os=function(){function e(t){var n=t.enableLongStackTrace,r=void 0!==n&&n,i=t.shouldCoalesceEventChangeDetection,o=void 0!==i&&i,a=t.shouldCoalesceRunChangeDetection,u=void 0!==a&&a;if(h(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bu(!1),this.onMicrotaskEmpty=new Bu(!1),this.onStable=new Bu(!1),this.onError=new Bu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!u&&o,s.shouldCoalesceRunChangeDetection=u,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){var e=X.requestAnimationFrame,t=X.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){var t=function(){!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(X,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,Ds(e),e.isCheckStableRunning=!0,Ps(e),e.isCheckStableRunning=!1},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),Ds(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(n,r,i,o,a,u){try{return Ls(e),n.invokeTask(i,o,a,u)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),Ms(e)}},onInvoke:function(n,r,i,o,a,u,s){try{return Ls(e),n.invoke(i,o,a,u,s)}finally{e.shouldCoalesceRunChangeDetection&&t(),Ms(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Ds(e),Ps(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}(s)}return f(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Ns,Fa,Fa);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),Ns={};function Ps(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Ds(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Ls(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ms(e){e._nesting--,Ps(e)}var Fs=function(){function e(){h(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bu,this.onMicrotaskEmpty=new Bu,this.onStable=new Bu,this.onError=new Bu}return f(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Us=function(){var e=function(){function e(t){var n=this;h(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return f(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Os.assertNotInAngularZone(),Rs(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Rs(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Rn(Os))},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}(),Vs=function(){var e=function(){function e(){h(this,e),this._applications=new Map,js.addToWindow(this)}return f(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return js.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}();function Zs(e){js=e}var qs,js=new(function(){function e(){h(this,e)}return f(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),zs=!0,Hs=!1;function Bs(){return Hs=!0,zs}function Gs(){if(Hs)throw new Error("Cannot enable prod mode after platform setup.");zs=!1}var Ks=new fn("AllowMultipleToken"),Ws=function e(t,n){h(this,e),this.name=t,this.token=n};function Js(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new fn(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Ys();if(!o||o.injector.get(Ks,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:ho,useValue:"platform"});!function(e){if(qs&&!qs.destroyed&&!qs.injector.get(Ks,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");qs=e.get(Qs);var t=e.get(vs,null);t&&t.forEach(function(e){return e()})}(So.create({providers:a,name:r}))}return function(e){var t=Ys();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Ys(){return qs&&!qs.destroyed?qs:null}var Qs=function(){var e=function(){function e(t){h(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return f(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n=this,r=function(e,t){return"noop"===e?new Fs:("zone.js"===e?void 0:e)||new Os({enableLongStackTrace:Bs(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)})}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),i=[{provide:Os,useValue:r}];return r.run(function(){var o=So.create({providers:i,parent:n.injector,name:e.moduleType.name}),a=e.create(o),u=a.injector.get(Ar,null);if(!u)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.runOutsideAngular(function(){var e=r.onError.subscribe({next:function(e){u.handleError(e)}});a.onDestroy(function(){ec(n._modules,a),e.unsubscribe()})}),function(e,r,i){try{var o=((u=a.injector.get(fs)).runInitializers(),u.donePromise.then(function(){return Ia(a.injector.get(ks,Ta)||Ta),n._moduleDoBootstrap(a),a}));return Qo(o)?o.catch(function(t){throw r.runOutsideAngular(function(){return e.handleError(t)}),t}):o}catch(t){throw r.runOutsideAngular(function(){return e.handleError(t)}),t}var u}(u,r)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=$s({},n);return function(e,t,n){var r=new Mu(n);return Promise.resolve(r)}(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,r)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Xs);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(T(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Rn(So))},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}();function $s(e,t){return Array.isArray(t)?t.reduce($s,e):Object.assign(Object.assign({},e),t)}var Xs=function(){var e=function(){function e(t,n,r,i,o){var a=this;h(this,e),this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var u=new c.y(function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){e.next(a._stable),e.complete()})}),s=new c.y(function(e){var t;a._zone.runOutsideAngular(function(){t=a._zone.onStable.subscribe(function(){Os.assertNotInAngularZone(),Rs(function(){!a._stable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks&&(a._stable=!0,e.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Os.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,l.T)(u,s.pipe(function(e){return(0,k.x)()(function(e,t){return function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,v.N);return r.source=t,r.subjectFactory=n,r}}(w)(e))}))}return f(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Da?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=function(e){return e.isBoundToModule}(n)?void 0:this._injector.get(wu),o=n.create(So.NULL,[],t||n.selector,i),a=o.location.nativeElement,u=o.injector.get(Us,null),s=u&&o.injector.get(Vs);return u&&s&&s.registerApplication(a,u),o.onDestroy(function(){r.detachView(o.hostView),ec(r.components,o),s&&s.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=u(this._views);try{for(n.s();!(t=n.n()).done;){var r;t.value.detectChanges()}}catch(i){n.e(i)}finally{n.f()}}catch(r){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(r)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;ec(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ms,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Rn(Os),Rn(So),Rn(Ar),Rn(Ma),Rn(fs))},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}();function ec(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var tc=function e(){h(this,e)},nc=function e(){h(this,e)},rc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},ic=function(){var e=function(){function e(t,n){h(this,e),this._compiler=t,this._config=n||rc}return f(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var n=this,i=t(e.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),r(8255)(o).then(function(e){return e[a]}).then(function(e){return oc(e,o,a)}).then(function(e){return n._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var n=t(e.split("#"),2),i=n[0],o=n[1],a="NgFactory";return void 0===o&&(o="default",a=""),r(8255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(e){return e[o+a]}).then(function(e){return oc(e,i,o)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Rn(Es),Rn(nc,8))},e.\u0275prov=D({token:e,factory:e.\u0275fac}),e}();function oc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var ac=function(e){return null},uc=Js(null,"core",[{provide:gs,useValue:"unknown"},{provide:Qs,deps:[So]},{provide:Vs,deps:[]},{provide:ys,deps:[]}]),sc=[{provide:Xs,useClass:Xs,deps:[Os,So,Ar,Ma,fs]},{provide:Ou,deps:[Os],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:fs,useClass:fs,deps:[[new Fn,ls]]},{provide:Es,useClass:Es,deps:[]},ds,{provide:ou,useFactory:function(){return pu},deps:[]},{provide:uu,useFactory:function(){return vu},deps:[]},{provide:ks,useFactory:function(e){return Ia(e=e||"undefined"!=typeof $localize&&$localize.locale||Ta),e},deps:[[new Mn(ks),new Fn,new Un]]},{provide:ws,useValue:"USD"}],cc=function(){var e=function e(t){h(this,e)};return e.\u0275fac=function(t){return new(t||e)(Rn(Xs))},e.\u0275mod=pe({type:e}),e.\u0275inj=L({providers:sc}),e}()},8939:function(e,n,r){"use strict";r.d(n,{hO:function(){return w},xv:function(){return v},Dh:function(){return p},GT:function(){return l},cc:function(){return b},on:function(){return g},pX:function(){return c}});var i=r(3018),a=r(7841),u=r(6643);e=r.hmd(e);var s=["ngOnDestroy"],c=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(e,{get:function(i,a){return n.runOutsideAngular(function(){var i;if(e[a])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(a,e[a]),e[a];if(s.indexOf(a)>-1)return function(){};var u=t.toPromise().then(function(e){var t=e&&e[a];return"function"==typeof t?t.bind(e):t&&t.then?t.then(function(e){return n.run(function(){return e})}):n.run(function(){return t})});return new Proxy(function(){},{get:function(e,t){return u[t]},apply:function(e,t,n){return u.then(function(e){var t,i=e&&e.apply(void 0,o(n));return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(a,n,i),i})}})})}})},l=function(e,t){t.forEach(function(t){Object.getOwnPropertyNames(t.prototype||t).forEach(function(n){Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})},d=function e(t){return h(this,e),t},p=new i.OlP("angularfire2.app.options"),v=new i.OlP("angularfire2.app.name");function g(t,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=a.Z.apps.filter(function(e){return e&&e.name===i.name})[0]||n.runOutsideAngular(function(){return a.Z.initializeApp(t,i)});try{JSON.stringify(t)!==JSON.stringify(o.options)&&y("error","".concat(o.name," Firebase App already initialized with different options").concat(e.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(u){}return new d(o)}var m,y=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(0,i.X6Q)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,r)},k={provide:d,useFactory:g,deps:[p,i.R0b,[new i.FiY,v]]},w=((m=function(){function e(t){h(this,e),a.Z.registerVersion("angularfire",u.q4.full,"core"),a.Z.registerVersion("angularfire",u.q4.full,"app-compat"),a.Z.registerVersion("angular",i.q4F.full,t.toString())}return f(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:p,useValue:t},{provide:v,useValue:n}]}}}]),e}()).\u0275fac=function(e){return new(e||m)(i.LFG(i.Lbi))},m.\u0275mod=i.oAB({type:m}),m.\u0275inj=i.cJS({providers:[k]}),m);function b(e,n,r,i,o){var a=t(globalThis.\u0275AngularfireInstanceCache.find(function(t){return t[0]===e})||[],3),u=a[1],s=a[2];if(u)return function(e,t){try{return e.toString()===t.toString()}catch(r){return e===t}}(o,s)||(x("error","".concat(n," was already initialized on the ").concat(r," Firebase App with different settings.").concat(_?" You may need to reload as Firebase is not HMR aware.":"")),x("warn",{is:o,was:s})),u;var c=i();return globalThis.\u0275AngularfireInstanceCache.push([e,c,o]),c}var _=!!e.hot,x=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(0,i.X6Q)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,r)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:function(e,n,r){"use strict";r.d(n,{q4:function(){return Vn},iC:function(){return Yn},HU:function(){return Wn},vb:function(){return Hn},JM:function(){return zn}});var i=r(3018),a=r(2329),s=r(8239),c=r(5452),l=r(3854),d=r(6034),p=r(5601),v=r(6676),g="@firebase/installations",m="0.5.2",y="w:".concat(m),k="FIS_v2",w=new l.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function b(e){return e instanceof l.ZR&&e.code.includes("request-failed")}function _(e){var t=e.projectId;return"https://firebaseinstallations.googleapis.com/v1/projects/".concat(t,"/installations")}function x(e){return{token:e.token,requestStatus:2,expiresIn:R(e.expiresIn),creationTime:Date.now()}}function T(e,t){return I.apply(this,arguments)}function I(){return(I=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent.error,e.abrupt("return",w.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function C(e,t){var n=t.refreshToken,r=S(e);return r.append("Authorization",function(e){return"".concat(k," ").concat(e)}(n)),r}function E(e){return A.apply(this,arguments)}function A(){return(A=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return n=e.sent,e.abrupt("return",n.status>=500&&n.status<600?t():n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(e){return Number(e.replace("s","000"))}function O(e,t){return N.apply(this,arguments)}function N(){return(N=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.fid,i=_(t),o={method:"POST",headers:S(t),body:JSON.stringify({fid:r,authVersion:k,appId:t.appId,sdkVersion:y})},e.next=5,E(function(){return fetch(i,o)});case 5:if(!(a=e.sent).ok){e.next=11;break}return e.next=9,a.json();case 9:return u=e.sent,e.abrupt("return",{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:x(u.authToken)});case 11:return e.next=13,T("Create Installation",a);case 13:throw e.sent;case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e){return new Promise(function(t){setTimeout(t,e)})}var D=/^[cdef][\w-]{21}$/;function L(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return function(e){return btoa(String.fromCharCode.apply(String,o(e))).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return D.test(t)?t:""}catch(e){return""}}function M(e){return"".concat(e.appName,"!").concat(e.appId)}var F=new Map;function U(e,t){var n=M(e);V(n,t),function(e,t){var n=(!Z&&"BroadcastChannel"in self&&((Z=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){V(e.data.key,e.data.fid)}),Z);n&&n.postMessage({key:e,fid:t}),0===F.size&&Z&&(Z.close(),Z=null)}(n,t)}function V(e,t){var n=F.get(e);if(n){var r,i=u(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(o){i.e(o)}finally{i.f()}}}var Z=null,q="firebase-installations-store",j=null;function z(){return j||(j=(0,v.openDb)("firebase-installations-database",1,function(e){switch(e.oldVersion){case 0:e.createObjectStore(q)}})),j}function H(e,t){return B.apply(this,arguments)}function B(){return(B=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=M(t),e.next=3,z();case 3:return i=e.sent.transaction(q,"readwrite"),o=i.objectStore(q),e.next=7,o.get(r);case 7:return a=e.sent,e.next=10,o.put(n,r);case 10:return e.next=12,i.complete;case 12:return(!a||a.fid!==n.fid)&&U(t,n.fid),e.abrupt("return",n);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(e){return K.apply(this,arguments)}function K(){return(K=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=M(t),e.next=3,z();case 3:return r=e.sent.transaction(q,"readwrite"),e.next=6,r.objectStore(q).delete(n);case 6:return e.next=8,r.complete;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function W(e,t){return J.apply(this,arguments)}function J(){return(J=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=M(t),e.next=3,z();case 3:return i=e.sent.transaction(q,"readwrite"),o=i.objectStore(q),e.next=7,o.get(r);case 7:if(a=e.sent,void 0!==(u=n(a))){e.next=14;break}return e.next=12,o.delete(r);case 12:e.next=16;break;case 14:return e.next=16,o.put(u,r);case 16:return e.next=18,i.complete;case 18:return u&&(!a||a.fid!==u.fid)&&U(t,u.fid),e.abrupt("return",u);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(e){return Q.apply(this,arguments)}function Q(){return(Q=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t,function(e){var r=$(e),i=X(t,r);return n=i.registrationPromise,i.installationEntry});case 2:if(""!==(r=e.sent).fid){e.next=10;break}return e.next=6,n;case 6:e.t1=e.sent,e.t0={installationEntry:e.t1},e.next=11;break;case 10:e.t0={installationEntry:r,registrationPromise:n};case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $(e){return ie(e||{fid:L(),registrationStatus:0})}function X(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(w.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return ee.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:te(e)}:{installationEntry:t}}function ee(){return(ee=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=H,e.t1=t,e.next=5,O(t,n);case 5:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 9:if(e.prev=9,e.t3=e.catch(0),!b(e.t3)||409!==e.t3.customData.serverCode){e.next=16;break}return e.next=14,G(t);case 14:e.next=18;break;case 16:return e.next=18,H(t,{fid:n.fid,registrationStatus:0});case 18:throw e.t3;case 19:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,P(100);case 6:return e.next=8,re(t);case 8:n=e.sent;case 9:e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=18;break}return e.next=14,Y(t);case 14:return r=e.sent,i=r.installationEntry,o=r.registrationPromise,e.abrupt("return",o||i);case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function re(e){return W(e,function(e){if(!e)throw w.create("installation-not-found");return ie(e)})}function ie(e){return function(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function oe(e,t){return ae.apply(this,arguments)}function ae(){return(ae=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appConfig,i=t.platformLoggerProvider,o=ue(r,n),a=C(r,n),(u=i.getImmediate({optional:!0}))&&a.append("x-firebase-client",u.getPlatformInfoString()),s={method:"POST",headers:a,body:JSON.stringify({installation:{sdkVersion:y}})},e.next=6,E(function(){return fetch(o,s)});case 6:if(!(c=e.sent).ok){e.next=13;break}return e.t0=x,e.next=11,c.json();case 11:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 13:return e.next=15,T("Generate Auth Token",c);case 15:throw e.sent;case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ue(e,t){var n=t.fid;return"".concat(_(e),"/").concat(n,"/authTokens:generate")}function se(e){return ce.apply(this,arguments)}function ce(){return(ce=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,W(t.appConfig,function(e){if(!ve(e))throw w.create("not-registered");var i=e.authToken;if(!n&&ge(i))return e;if(1===i.requestStatus)return r=le(t,n),e;if(!navigator.onLine)throw w.create("app-offline");var o=me(e);return r=de(t,o),o});case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function le(e,t){return fe.apply(this,arguments)}function fe(){return(fe=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,P(100);case 6:return e.next=8,he(t.appConfig);case 8:r=e.sent;case 9:e.next=3;break;case 11:return i=r.authToken,e.abrupt("return",0===i.requestStatus?se(t,n):i);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function he(e){return W(e,function(e){if(!ve(e))throw w.create("not-registered");return function(e){return 1===e.requestStatus&&e.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function de(e,t){return pe.apply(this,arguments)}function pe(){return(pe=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,H(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),b(e.t0)&&(401===e.t0.customData.serverCode||404===e.t0.customData.serverCode)){e.next=18;break}return o=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=16,H(t.appConfig,o);case 16:e.next=20;break;case 18:return e.next=20,G(t.appConfig);case 20:throw e.t0;case 21:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function ve(e){return void 0!==e&&2===e.registrationStatus}function ge(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function me(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function ye(){return(ye=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,Y(n.appConfig);case 3:return r=e.sent,i=r.installationEntry,o=r.registrationPromise,e.abrupt("return",(o?o.catch(console.error):se(n).catch(console.error),i.fid));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ke(){return(ke=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=t,e.next=4,we(r.appConfig);case 4:return e.next=6,se(r,n);case 6:return e.abrupt("return",e.sent.token);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function we(e){return be.apply(this,arguments)}function be(){return(be=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:if(n=e.sent,r=n.registrationPromise,e.t0=r,!e.t0){e.next=8;break}return e.next=8,r;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _e(e){return w.create("missing-app-config-values",{valueName:e})}var xe="installations";(0,c._registerComponent)(new d.wA(xe,function(e){var t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw _e("App Configuration");if(!e.name)throw _e("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw _e(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:(0,c._getProvider)(t,"platform-logger"),_delete:function(){return Promise.resolve()}}},"PUBLIC")),(0,c._registerComponent)(new d.wA("installations-internal",function(e){var t=e.getProvider("app").getImmediate(),n=(0,c._getProvider)(t,xe).getImmediate();return{getId:function(){return function(e){return ye.apply(this,arguments)}(n)},getToken:function(e){return function(e){return ke.apply(this,arguments)}(n,e)}}},"PRIVATE")),(0,c.registerVersion)(g,m),(0,c.registerVersion)(g,m,"esm2017");var Te="@firebase/remote-config",Ie=new l.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"}),Se=function(){function e(t,n,r,i){h(this,e),this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return f(e,[{key:"isCachedDataFresh",value:function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: ".concat(n,". Cache max age millis (minimumFetchIntervalMillis setting): ").concat(e,". Is cache hit: ").concat(r,".")),r}},{key:"fetch",value:function(e){var n=this;return(0,s.Z)(regeneratorRuntime.mark(function r(){var i,o,a,u,s,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);case 2:if(i=r.sent,o=t(i,2),a=o[0],!(u=o[1])||!n.isCachedDataFresh(e.cacheMaxAgeMillis,a)){r.next=8;break}return r.abrupt("return",u);case 8:return e.eTag=u&&u.eTag,r.next=11,n.client.fetch(e);case 11:return s=r.sent,c=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===s.status&&c.push(n.storage.setLastSuccessfulFetchResponse(s)),r.next=16,Promise.all(c);case 16:return r.abrupt("return",s);case 17:case"end":return r.stop()}},r)}))()}}]),e}();function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return e.languages&&e.languages[0]||e.language}var Ee=function(){function e(t,n,r,i,o,a){h(this,e),this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}return f(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var n=this;return(0,s.Z)(regeneratorRuntime.mark(function r(){var i,o,a,u,s,c,l,f,h,d,p,v,g,m,y,k,w;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]);case 2:return i=r.sent,o=t(i,2),a=o[0],u=o[1],s="".concat(window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com","/v1/projects/").concat(n.projectId,"/namespaces/").concat(n.namespace,":fetch?key=").concat(n.apiKey),c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:n.sdkVersion,app_instance_id:a,app_instance_id_token:u,app_id:n.appId,language_code:Ce()},f={method:"POST",headers:c,body:JSON.stringify(l)},h=fetch(s,f),d=new Promise(function(t,n){e.signal.addEventListener(function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)})}),r.prev=12,r.next=15,Promise.race([h,d]);case 15:return r.next=17,h;case 17:p=r.sent,r.next=24;break;case 20:throw r.prev=20,r.t0=r.catch(12),v="fetch-client-network","AbortError"===r.t0.name&&(v="fetch-timeout"),Ie.create(v,{originalErrorMessage:r.t0.message});case 24:if(g=p.status,m=p.headers.get("ETag")||void 0,200!==p.status){r.next=37;break}return r.prev=27,r.next=30,p.json();case 30:w=r.sent,r.next=36;break;case 33:throw r.prev=33,r.t1=r.catch(27),Ie.create("fetch-client-parse",{originalErrorMessage:r.t1.message});case 36:y=w.entries,k=w.state;case 37:if("INSTANCE_STATE_UNSPECIFIED"===k?g=500:"NO_CHANGE"===k?g=304:("NO_TEMPLATE"===k||"EMPTY_CONFIG"===k)&&(y={}),304===g||200===g){r.next=39;break}throw Ie.create("fetch-status",{httpStatus:g});case 39:return r.abrupt("return",{status:g,eTag:m,config:y});case 40:case"end":return r.stop()}},r,null,[[12,20],[27,33]])}))()})}]),e}(),Ae=function(){function e(t,n){h(this,e),this.client=t,this.storage=n}return f(e,[{key:"fetch",value:function(e){var t=this;return(0,s.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.storage.getThrottleMetadata();case 2:if(n.t0=n.sent,n.t0){n.next=5;break}n.t0={backoffCount:0,throttleEndTimeMillis:Date.now()};case 5:return r=n.t0,n.abrupt("return",t.attemptFetch(e,r));case 7:case"end":return n.stop()}},n)}))()}},{key:"attemptFetch",value:function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount,i=this;return(0,s.Z)(regeneratorRuntime.mark(function t(){var o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(Ie.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,n);case 2:return t.prev=2,t.next=5,i.client.fetch(e);case 5:return o=t.sent,t.next=8,i.storage.deleteThrottleMetadata();case 8:return t.abrupt("return",o);case 11:if(t.prev=11,t.t0=t.catch(2),function(e){if(!(e instanceof l.ZR&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t.t0)){t.next=15;break}throw t.t0;case 15:return a={throttleEndTimeMillis:Date.now()+(0,l.$s)(r),backoffCount:r+1},t.next=18,i.storage.setThrottleMetadata(a);case 18:return t.abrupt("return",i.attemptFetch(e,a));case 19:case"end":return t.stop()}},t,null,[[2,11]])}))()}}]),e}(),Re=function(){function e(t,n,r,i,o){h(this,e),this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return f(e,[{key:"fetchTimeMillis",get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}},{key:"lastFetchStatus",get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}]),e}();function Oe(e,t){var n=e.target.error||void 0;return Ie.create(t,{originalErrorMessage:n&&n.message})}var Ne="app_namespace_store",Pe=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Promise(function(e,t){try{var r=indexedDB.open("firebase_remote_config",1);r.onerror=function(e){t(Oe(e,"storage-open"))},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Ne,{keyPath:"compositeKey"})}}}catch(n){t(Ie.create("storage-open",{originalErrorMessage:n}))}});h(this,e),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return f(e,[{key:"getLastFetchStatus",value:function(){return this.get("last_fetch_status")}},{key:"setLastFetchStatus",value:function(e){return this.set("last_fetch_status",e)}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.get("last_successful_fetch_timestamp_millis")}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.set("last_successful_fetch_timestamp_millis",e)}},{key:"getLastSuccessfulFetchResponse",value:function(){return this.get("last_successful_fetch_response")}},{key:"setLastSuccessfulFetchResponse",value:function(e){return this.set("last_successful_fetch_response",e)}},{key:"getActiveConfig",value:function(){return this.get("active_config")}},{key:"setActiveConfig",value:function(e){return this.set("active_config",e)}},{key:"getActiveConfigEtag",value:function(){return this.get("active_config_etag")}},{key:"setActiveConfigEtag",value:function(e){return this.set("active_config_etag",e)}},{key:"getThrottleMetadata",value:function(){return this.get("throttle_metadata")}},{key:"setThrottleMetadata",value:function(e){return this.set("throttle_metadata",e)}},{key:"deleteThrottleMetadata",value:function(){return this.delete("throttle_metadata")}},{key:"get",value:function(e){var t=this;return(0,s.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.openDbPromise;case 2:return r=n.sent,n.abrupt("return",new Promise(function(n,i){var o=r.transaction([Ne],"readonly").objectStore(Ne),a=t.createCompositeKey(e);try{var u=o.get(a);u.onerror=function(e){i(Oe(e,"storage-get"))},u.onsuccess=function(e){var t=e.target.result;n(t?t.value:void 0)}}catch(u){i(Ie.create("storage-get",{originalErrorMessage:u&&u.message}))}}));case 4:case"end":return n.stop()}},n)}))()}},{key:"set",value:function(e,t){var n=this;return(0,s.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.openDbPromise;case 2:return i=r.sent,r.abrupt("return",new Promise(function(r,o){var a=i.transaction([Ne],"readwrite").objectStore(Ne),u=n.createCompositeKey(e);try{var s=a.put({compositeKey:u,value:t});s.onerror=function(e){o(Oe(e,"storage-set"))},s.onsuccess=function(){r()}}catch(s){o(Ie.create("storage-set",{originalErrorMessage:s&&s.message}))}}));case 4:case"end":return r.stop()}},r)}))()}},{key:"delete",value:function(e){var t=this;return(0,s.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.openDbPromise;case 2:return r=n.sent,n.abrupt("return",new Promise(function(n,i){var o=r.transaction([Ne],"readwrite").objectStore(Ne),a=t.createCompositeKey(e);try{var u=o.delete(a);u.onerror=function(e){i(Oe(e,"storage-delete"))},u.onsuccess=function(){n()}}catch(u){i(Ie.create("storage-delete",{originalErrorMessage:u&&u.message}))}}));case 4:case"end":return n.stop()}},n)}))()}},{key:"createCompositeKey",value:function(e){return[this.appId,this.appName,this.namespace,e].join()}}]),e}(),De=function(){function e(t){h(this,e),this.storage=t}return f(e,[{key:"getLastFetchStatus",value:function(){return this.lastFetchStatus}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.lastSuccessfulFetchTimestampMillis}},{key:"getActiveConfig",value:function(){return this.activeConfig}},{key:"loadFromStorage",value:function(){var e=this;return(0,s.Z)(regeneratorRuntime.mark(function t(){var n,r,i,o,a,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),t.next=5,n;case 5:return(o=t.sent)&&(e.lastFetchStatus=o),t.next=9,r;case 9:return(a=t.sent)&&(e.lastSuccessfulFetchTimestampMillis=a),t.next=13,i;case 13:(u=t.sent)&&(e.activeConfig=u);case 15:case"end":return t.stop()}},t)}))()}},{key:"setLastFetchStatus",value:function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}},{key:"setActiveConfig",value:function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}]),e}();function Le(){return(Le=(0,s.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,l.hl)()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,(0,l.eu)();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[2,8]])}))).apply(this,arguments)}(0,c._registerComponent)(new d.wA("remote-config",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ie.create("registration-window");if(!(0,l.hl)())throw Ie.create("indexed-db-unavailable");var o=r.options,a=o.projectId,u=o.apiKey,s=o.appId;if(!a)throw Ie.create("registration-project-id");if(!u)throw Ie.create("registration-api-key");if(!s)throw Ie.create("registration-app-id");var f=new Pe(s,r.name,n=n||"firebase"),h=new De(f),d=new p.Yd(Te);d.logLevel=p.in.ERROR;var v=new Ee(i,c.SDK_VERSION,n,a,u,s),g=new Ae(v,f),m=new Se(g,f,h,d),y=new Re(r,m,h,f,d);return function(e){var t=(0,l.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0}))}(y),y},"PUBLIC").setMultipleInstances(!0)),(0,c.registerVersion)(Te,"0.3.1"),(0,c.registerVersion)(Te,"0.3.1","esm2017");var Me,Fe="/firebase-messaging-sw.js",Ue="/firebase-cloud-messaging-push-scope",Ve="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ze="google.c.a.c_id",qe="google.c.a.c_l",je="google.c.a.ts",ze="google.c.a.e",He=((Me=He||(He={})).PUSH_RECEIVED="push-received",Me.NOTIFICATION_CLICKED="notification-clicked",He);function Be(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,o(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ge(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var Ke="fcm_token_details_db",We="fcm_token_object_Store";function Je(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="databases"in indexedDB,!e.t0){e.next=5;break}return e.next=4,indexedDB.databases();case 4:e.t0=!e.sent.map(function(e){return e.name}).includes(Ke);case 5:if(!e.t0){e.next=7;break}return e.abrupt("return",null);case 7:return n=null,e.next=10,(0,v.openDb)(Ke,5,function(){var e=(0,s.Z)(regeneratorRuntime.mark(function e(r){var i,o,a,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.oldVersion<2)&&r.objectStoreNames.contains(We)){e.next=2;break}return e.abrupt("return");case 2:return o=r.transaction.objectStore(We),e.next=5,o.index("fcmSenderId").get(t);case 5:return a=e.sent,e.next=8,o.clear();case 8:if(!a){e.next=17;break}if(2!==r.oldVersion){e.next=16;break}if((u=a).auth&&u.p256dh&&u.endpoint){e.next=13;break}return e.abrupt("return");case 13:n={token:u.fcmToken,createTime:null!==(i=u.createTime)&&void 0!==i?i:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:Be(u.vapidKey)}},e.next=17;break;case 16:3===r.oldVersion?n={token:(s=a).fcmToken,createTime:s.createTime,subscriptionOptions:{auth:Be(s.auth),p256dh:Be(s.p256dh),endpoint:s.endpoint,swScope:s.swScope,vapidKey:Be(s.vapidKey)}}:4===r.oldVersion&&(n={token:(c=a).fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Be(c.auth),p256dh:Be(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Be(c.vapidKey)}});case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 10:return e.sent.close(),e.next=13,(0,v.deleteDb)(Ke);case 13:return e.next=15,(0,v.deleteDb)("fcm_vapid_details_db");case 15:return e.next=17,(0,v.deleteDb)("undefined");case 17:return e.abrupt("return",Qe(n)?n:null);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qe(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var $e="firebase-messaging-store",Xe=null;function et(){return Xe||(Xe=(0,v.openDb)("firebase-messaging-database",1,function(e){switch(e.oldVersion){case 0:e.createObjectStore($e)}})),Xe}function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ut(t),e.next=3,et();case 3:return e.next=5,e.sent.transaction($e).objectStore($e).get(n);case 5:if(!(r=e.sent)){e.next=8;break}return e.abrupt("return",r);case 8:return e.next=10,Je(t.appConfig.senderId);case 10:if(!(i=e.sent)){e.next=15;break}return e.next=14,rt(t,i);case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rt(e,t){return it.apply(this,arguments)}function it(){return(it=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=ut(t),e.next=3,et();case 3:return i=e.sent.transaction($e,"readwrite"),e.next=6,i.objectStore($e).put(n,r);case 6:return e.next=8,i.complete;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ot(e){return at.apply(this,arguments)}function at(){return(at=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ut(t),e.next=3,et();case 3:return r=e.sent.transaction($e,"readwrite"),e.next=6,r.objectStore($e).delete(n);case 6:return e.next=8,r.complete;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ut(e){return e.appConfig.appId}var st=new l.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ct(e,t){return lt.apply(this,arguments)}function lt(){return(lt=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt(t);case 2:return r=e.sent,i=yt(n),o={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(vt(t.appConfig),o);case 8:return e.next=10,e.sent.json();case 10:a=e.sent,e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(5),st.create("token-subscribe-failed",{errorInfo:e.t0});case 16:if(!a.error){e.next=18;break}throw st.create("token-subscribe-failed",{errorInfo:a.error.message});case 18:if(a.token){e.next=20;break}throw st.create("token-subscribe-no-token");case 20:return e.abrupt("return",a.token);case 21:case"end":return e.stop()}},e,null,[[5,13]])}))).apply(this,arguments)}function ft(e,t){return ht.apply(this,arguments)}function ht(){return(ht=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt(t);case 2:return r=e.sent,i=yt(n.subscriptionOptions),o={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(vt(t.appConfig),"/").concat(n.token),o);case 8:return e.next=10,e.sent.json();case 10:a=e.sent,e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(5),st.create("token-update-failed",{errorInfo:e.t0});case 16:if(!a.error){e.next=18;break}throw st.create("token-update-failed",{errorInfo:a.error.message});case 18:if(a.token){e.next=20;break}throw st.create("token-update-no-token");case 20:return e.abrupt("return",a.token);case 21:case"end":return e.stop()}},e,null,[[5,13]])}))).apply(this,arguments)}function dt(e,t){return pt.apply(this,arguments)}function pt(){return(pt=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt(t);case 2:return e.t0=e.sent,r={method:"DELETE",headers:e.t0},e.prev=4,e.next=7,fetch("".concat(vt(t.appConfig),"/").concat(n),r);case 7:return e.next=9,e.sent.json();case 9:if(!(i=e.sent).error){e.next=12;break}throw st.create("token-unsubscribe-failed",{errorInfo:i.error.message});case 12:e.next=17;break;case 14:throw e.prev=14,e.t1=e.catch(4),st.create("token-unsubscribe-failed",{errorInfo:e.t1});case 17:case"end":return e.stop()}},e,null,[[4,14]])}))).apply(this,arguments)}function vt(e){var t=e.projectId;return"https://fcmregistrations.googleapis.com/v1/projects/".concat(t,"/registrations")}function gt(e){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yt(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==Ve&&(o.web.applicationPubKey=i),o}var kt=6048e5;function wt(e){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Et(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:Be(n.getKey("auth")),p256dh:Be(n.getKey("p256dh"))},e.next=6,tt(t.firebaseDependencies);case 6:if(!(i=e.sent)){e.next=19;break}if(!Rt(i.subscriptionOptions,r)){e.next=10;break}return e.abrupt("return",Date.now()>=i.createTime+kt?Tt(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}):i.token);case 10:return e.prev=10,e.next=13,dt(t.firebaseDependencies,i.token);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),console.warn(e.t0);case 18:case 19:return e.abrupt("return",St(t.firebaseDependencies,r));case 20:case"end":return e.stop()}},e,null,[[10,15]])}))).apply(this,arguments)}function _t(e){return xt.apply(this,arguments)}function xt(){return(xt=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(t.firebaseDependencies);case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=9;break}return e.next=7,dt(t.firebaseDependencies,n.token);case 7:return e.next=9,ot(t.firebaseDependencies);case 9:return e.next=11,t.swRegistration.pushManager.getSubscription();case 11:return r=e.sent,e.abrupt("return",!r||r.unsubscribe());case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tt(e,t){return It.apply(this,arguments)}function It(){return(It=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ft(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,rt(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,_t(t);case 14:throw e.t0;case 15:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function St(e,t){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct(t,n);case 2:return e.t0=e.sent,e.t1=Date.now(),e.t2=n,r={token:e.t0,createTime:e.t1,subscriptionOptions:e.t2},e.next=8,rt(t,r);case 8:return e.abrupt("return",r.token);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Et(e,t){return At.apply(this,arguments)}function At(){return(At=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ge(n)});case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Rt(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function Ot(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){!t.data||(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}function Nt(e){return"object"==typeof e&&!!e&&Ze in e}function Pt(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Dt(e){return st.create("missing-app-config-values",{valueName:e})}Pt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var Lt=function(){function e(t,n,r){h(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw Dt("App Configuration Object");if(!e.name)throw Dt("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw Dt(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return f(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function Mt(e){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(Fe,{scope:Ue});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch(function(){}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),st.create("failed-service-worker-registration",{browserErrorMessage:e.t0.message});case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function Ut(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!n&&!t.swRegistration,!e.t0){e.next=4;break}return e.next=4,Mt(t);case 4:if(!n&&t.swRegistration){e.next=8;break}if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw st.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zt(e,t){return qt.apply(this,arguments)}function qt(){return(qt=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=Ve);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function jt(){return(jt=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw st.create("only-available-in-window");case 2:if(e.t0="default"===Notification.permission,!e.t0){e.next=6;break}return e.next=6,Notification.requestPermission();case 6:if("granted"===Notification.permission){e.next=8;break}throw st.create("permission-blocked");case 8:return e.next=10,Zt(t,null==n?void 0:n.vapidKey);case 10:return e.next=12,Ut(t,null==n?void 0:n.serviceWorkerRegistration);case 12:return e.abrupt("return",wt(t));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zt(e,t,n){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,s.Z)(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bt(n),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(i,{message_id:r[Ze],message_name:r[qe],message_time:r[je],message_device_time:Math.floor(Date.now()/1e3)});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bt(e){switch(e){case He.NOTIFICATION_CLICKED:return"notification_open";case He.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Gt(){return(Gt=(0,s.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).isFirebaseMessaging){e.next=3;break}return e.abrupt("return");case 3:if(t.onMessageHandler&&r.messageType===He.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Ot(r)):t.onMessageHandler.next(Ot(r))),i=r.data,e.t0=Nt(i)&&"1"===i[ze],!e.t0){e.next=9;break}return e.next=9,zt(t,r.messageType,i);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Kt="@firebase/messaging";function Wt(){return(Wt=(0,s.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t7="undefined"!=typeof window&&(0,l.hl)(),!e.t7){e.next=5;break}return e.next=4,(0,l.eu)();case 4:e.t7=e.sent;case 5:if(e.t6=e.t7,!e.t6){e.next=8;break}e.t6=(0,l.zI)();case 8:if(e.t5=e.t6,!e.t5){e.next=11;break}e.t5="serviceWorker"in navigator;case 11:if(e.t4=e.t5,!e.t4){e.next=14;break}e.t4="PushManager"in window;case 14:if(e.t3=e.t4,!e.t3){e.next=17;break}e.t3="Notification"in window;case 17:if(e.t2=e.t3,!e.t2){e.next=20;break}e.t2="fetch"in window;case 20:if(e.t1=e.t2,!e.t1){e.next=23;break}e.t1=ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification");case 23:if(e.t0=e.t1,!e.t0){e.next=26;break}e.t0=PushSubscription.prototype.hasOwnProperty("getKey");case 26:return e.abrupt("return",e.t0);case 27:case"end":return e.stop()}},e)}))).apply(this,arguments)}(0,c._registerComponent)(new d.wA("messaging",function(e){var t=new Lt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",function(e){return function(e,t){return Gt.apply(this,arguments)}(t,e)}),t},"PUBLIC")),(0,c._registerComponent)(new d.wA("messaging-internal",function(e){var t=e.getProvider("messaging").getImmediate();return{getToken:function(e){return function(e,t){return jt.apply(this,arguments)}(t,e)}}},"PRIVATE")),(0,c.registerVersion)(Kt,"0.9.2"),(0,c.registerVersion)(Kt,"0.9.2","esm2017");var Jt="analytics",Yt="firebase_id",Qt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$t="https://www.googletagmanager.com/gtag/js",Xt=new p.Yd("@firebase/analytics");function en(e){return Promise.all(e.map(function(e){return e.catch(function(e){return e})}))}function tn(e,t){var n=document.createElement("script");n.src="".concat($t,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function nn(e,t,n,r,i,o){return rn.apply(this,arguments)}function rn(){return(rn=(0,s.Z)(regeneratorRuntime.mark(function e(t,n,r,i,o,a){var u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[o],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,en(r);case 9:if(s=e.sent.find(function(e){return e.measurementId===o}),e.t0=s,!e.t0){e.next=14;break}return e.next=14,n[s.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),Xt.error(e.t1);case 19:t("config",o,a);case 20:case"end":return e.stop()}},e,null,[[1,16]])}))).apply(this,arguments)}function on(e,t,n,r,i){return an.apply(this,arguments)}function an(){return(an=(0,s.Z)(regeneratorRuntime.mark(function e(t,n,r,i,o){var a,s,c,l,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=[],!o||!o.send_to){e.next=26;break}return s=o.send_to,Array.isArray(s)||(s=[s]),e.next=7,en(r);case 7:c=e.sent,l=u(s),e.prev=9,h=function(){var e=f.value,t=c.find(function(t){return t.measurementId===e}),r=t&&n[t.appId];if(!r)return a=[],"break";a.push(r)},l.s();case 12:if((f=l.n()).done){e.next=18;break}if("break"!==h()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),l.e(e.t0);case 23:return e.prev=23,l.f(),e.finish(23);case 26:return 0===a.length&&(a=Object.values(n)),e.next=29,Promise.all(a);case 29:t("event",i,o||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),Xt.error(e.t1);case 35:case"end":return e.stop()}},e,null,[[0,32],[9,20,23,26]])}))).apply(this,arguments)}function un(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes($t))return r}return null}var sn=new l.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cn=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;h(this,e),this.throttleMetadata=t,this.intervalMillis=n}return f(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}());function ln(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function fn(e){return hn.apply(this,arguments)}function hn(){return(hn=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,o={method:"GET",headers:ln(i)},a=Qt.replace("{app-id}",r),e.next=6,fetch(a,o);case 6:if(200===(u=e.sent).status||304===u.status){e.next=19;break}return s="",e.prev=9,e.next=12,u.json();case 12:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(s=c.error.message),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(9);case 18:throw sn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:s});case 19:return e.abrupt("return",u.json());case 20:case"end":return e.stop()}},e,null,[[9,16]])}))).apply(this,arguments)}function dn(e){return pn.apply(this,arguments)}function pn(){return(pn=(0,s.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,u,c,l,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:cn,r=f.length>2?f[2]:void 0,i=t.options,o=i.appId,a=i.apiKey,u=i.measurementId,o){e.next=5;break}throw sn.create("no-app-id");case 5:if(a){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:o});case 8:throw sn.create("no-api-key");case 9:return c=n.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new kn,e.abrupt("return",(setTimeout((0,s.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.abort();case 1:case"end":return e.stop()}},e)})),void 0!==r?r:6e4),vn({appId:o,apiKey:a,measurementId:u},c,l,n)));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vn(e,t,n){return gn.apply(this,arguments)}function gn(){return(gn=(0,s.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,u,s,c,f,h,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,o=n.backoffCount,a=d.length>3&&void 0!==d[3]?d[3]:cn,u=t.appId,s=t.measurementId,e.prev=3,e.next=6,mn(r,i);case 6:e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(3),!s){e.next=12;break}return e.abrupt("return",(Xt.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ".concat(s,' provided in the "measurementId" field in the local Firebase config. [').concat(e.t0.message,"]")),{appId:u,measurementId:s}));case 12:throw e.t0;case 13:return e.prev=13,e.next=16,fn(t);case 16:return c=e.sent,e.abrupt("return",(a.deleteThrottleMetadata(u),c));case 20:if(e.prev=20,e.t1=e.catch(13),yn(e.t1)){e.next=26;break}if(a.deleteThrottleMetadata(u),!s){e.next=25;break}return e.abrupt("return",(Xt.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ".concat(s,' provided in the "measurementId" field in the local Firebase config. [').concat(e.t1.message,"]")),{appId:u,measurementId:s}));case 25:throw e.t1;case 26:return f=503===Number(e.t1.customData.httpStatus)?(0,l.$s)(o,a.intervalMillis,30):(0,l.$s)(o,a.intervalMillis),h={throttleEndTimeMillis:Date.now()+f,backoffCount:o+1},e.abrupt("return",(a.setThrottleMetadata(u,h),Xt.debug("Calling attemptFetch again in ".concat(f," millis")),vn(t,h,r,a)));case 28:case"end":return e.stop()}},e,null,[[3,8],[13,20]])}))).apply(this,arguments)}function mn(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(sn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function yn(e){if(!(e instanceof l.ZR&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var kn=function(){function e(){h(this,e),this.listeners=[]}return f(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach(function(e){return e()})}}]),e}();function wn(){return bn.apply(this,arguments)}function bn(){return(bn=(0,s.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,l.hl)()){e.next=2;break}return e.abrupt("return",(Xt.warn(sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1));case 2:return e.prev=2,e.next=5,(0,l.eu)();case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",(Xt.warn(sn.create("indexeddb-unavailable",{errorInfo:e.t0}).message),!1));case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}},e,null,[[2,7]])}))).apply(this,arguments)}function _n(){return(_n=(0,s.Z)(regeneratorRuntime.mark(function e(n,r,i,o,a,u,s){var c,l,f,h,d,p,v,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(l=dn(n)).then(function(e){i[e.measurementId]=e.appId,n.options.measurementId&&e.measurementId!==n.options.measurementId&&Xt.warn("The measurement ID in the local Firebase config (".concat(n.options.measurementId,") does not match the measurement ID fetched from the server (").concat(e.measurementId,"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config."))}).catch(function(e){return Xt.error(e)}),r.push(l),f=wn().then(function(e){if(e)return o.getId()}),e.next=5,Promise.all([l,f]);case 5:return h=e.sent,d=t(h,2),p=d[0],v=d[1],un()||tn(u,p.measurementId),a("js",new Date),g=null!==(c=null==s?void 0:s.config)&&void 0!==c?c:{},e.abrupt("return",(g.origin="firebase",g.update=!0,null!=v&&(g[Yt]=v),a("config",p.measurementId,g),p.measurementId));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var xn,Tn,In=function(){function e(t){h(this,e),this.app=t}return f(e,[{key:"_delete",value:function(){return delete Sn[this.app.options.appId],Promise.resolve()}}]),e}(),Sn={},Cn=[],En={},An="dataLayer",Rn=!1;function On(){return(On=(0,s.Z)(regeneratorRuntime.mark(function e(t,n,r,i,o){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||!o.global){e.next=4;break}t("event",r,i),e.next=8;break;case 4:return e.next=6,n;case 6:a=e.sent,t("event",r,Object.assign(Object.assign({},i),{send_to:a}));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nn(){return(Nn=(0,s.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,l.ru)()&&(0,l.zI)()&&(0,l.hl)()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,(0,l.eu)();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[2,8]])}))).apply(this,arguments)}var Pn="@firebase/analytics";(0,c._registerComponent)(new d.wA(Jt,function(e,t){var n=t.options;return function(e,t,n){!function(){var e=[];if((0,l.ru)()&&e.push("This is a browser extension environment."),(0,l.zI)()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(e,t){return"(".concat(t+1,") ").concat(e)}).join(" "),n=sn.create("invalid-analytics-context",{errorInfo:t});Xt.warn(n.message)}}();var r=e.options.appId;if(!r)throw sn.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw sn.create("no-api-key");Xt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '.concat(e.options.measurementId,' provided in the "measurementId" field in the local Firebase config.'))}if(null!=Sn[r])throw sn.create("already-exists",{id:r});if(!Rn){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(An);var i=function(e,t,n,r,i){var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){function i(){return(i=(0,s.Z)(regeneratorRuntime.mark(function i(o,a,u){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==o){i.next=6;break}return i.next=4,on(e,t,n,a,u);case 4:i.next=12;break;case 6:if("config"!==o){i.next=11;break}return i.next=9,nn(e,t,n,r,a,u);case 9:i.next=12;break;case 11:e("set",a);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),Xt.error(i.t0);case 17:case"end":return i.stop()}},i,null,[[0,14]])}))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(Sn,Cn,En,An,"gtag"),o=i.wrappedGtag,a=i.gtagCore;Tn=o,xn=a,Rn=!0}return Sn[r]=function(e,t,n,r,i,o,a){return _n.apply(this,arguments)}(e,Cn,En,t,xn,An,n),new In(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),(0,c._registerComponent)(new d.wA("analytics-internal",function(e){try{var t=e.getProvider(Jt).getImmediate();return{logEvent:function(e,n,r){return function(e,t,n,r){e=(0,l.m9)(e),function(e,t,n,r,i){return On.apply(this,arguments)}(Tn,Sn[e.app.options.appId],t,n,r).catch(function(e){return Xt.error(e)})}(t,e,n,r)}}}catch(t){throw sn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,c.registerVersion)(Pn,"0.7.2"),(0,c.registerVersion)(Pn,"0.7.2","esm2017");var Dn=r(7771),Ln=r(3637),Mn=r(3342),Fn=r(3101),Un=r(309),Vn=new i.GfV("7.1.0"),Zn="__angularfire_symbol__analyticsIsSupported",qn="__angularfire_symbol__remoteConfigIsSupported",jn="__angularfire_symbol__messagingIsSupported";function zn(e,t,n){if(t){if(1===t.length)return t[0];var r=t.filter(function(e){return e.app===n});if(1===r.length)return r[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Zn]||(globalThis[Zn]=function(){return Nn.apply(this,arguments)}().then(function(e){return globalThis.__angularfire_symbol__analyticsIsSupportedValue=e})),globalThis[jn]||(globalThis[jn]=function(){return Wt.apply(this,arguments)}().then(function(e){return globalThis.__angularfire_symbol__messagingIsSupportedValue=e})),globalThis[qn]||(globalThis[qn]=function(){return Le.apply(this,arguments)}().then(function(e){return globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=e}));var Hn=function(e,t){var n=t?[t]:(0,a.C6)(),r=[];return n.forEach(function(t){t.container.getProvider(e).instances.forEach(function(e){r.includes(e)||r.push(e)})}),r};function Bn(){}var Gn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dn.N;h(this,e),this.zone=t,this.delegate=n}return f(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule(function(t){var n=this;r.runGuarded(function(){e.apply(n,[t])})},t,n)}}]),e}(),Kn=function(){function e(t){h(this,e),this.zone=t,this.task=null}return f(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",Bn,{},Bn,Bn)}),t.pipe((0,Mn.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout(function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)},10)}}]),e}(),Wn=function(){var e=function e(t){h(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular(function(){return new Gn(Zone.current)}),this.insideAngular=t.run(function(){return new Gn(Zone.current,Ln.z)}),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)};return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.R0b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function Jn(){var e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function Yn(e){return Jn(),function(e){return function(t){return(t=t.lift(new Kn(e.ngZone))).pipe((0,Fn.R)(e.outsideAngular),(0,Un.QV)(e.insideAngular))}}(Jn())(e)}},4486:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(3854),i=n(6034),o=n(5452),a=n(5601),u=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,(0,o._addComponent)(t,new i.wA("app-compat",function(){return r},"PUBLIC")),this.container=t.container}return f(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise(function(t){e._delegate.checkDestroyed(),t()}).then(function(){return e.firebase.INTERNAL.removeApp(e.name),(0,o.deleteApp)(e._delegate)})}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return!r.isInitialized()&&"EXPLICIT"===(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)&&r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){(0,o._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){(0,o._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),s=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=o.initializeApp(i,a);if((0,r.r3)(t,u.name))return t[u.name];var s=new e(u,n);return t[u.name]=s,s},app:i,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function(t){var a=t.name,u=a.replace("-compat","");if(o._registerComponent(t)&&"PUBLIC"===t.type){var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!=typeof e[u])throw s.create("invalid-app-argument",{appName:a});return e[u]()};void 0!==t.serviceProps&&(0,r.ZB)(c,t.serviceProps),n[u]=c,e.prototype[u]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this._getService.bind(this,a).apply(this,t.multipleInstances?n:[])}}return"PUBLIC"===t.type?n[u]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:o}};function i(e){if(!(0,r.r3)(t,e=e||o._DEFAULT_ENTRY_NAME))throw s.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),i.App=e,n}(u);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),l=new a.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var d=self.firebase.SDK_VERSION;d&&d.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var p=c;(0,o.registerVersion)("@firebase/app-compat","0.1.5",void 0)},5452:function(t,n,r){"use strict";var i;r.r(n),r.d(n,{FirebaseError:function(){return c.ZR},SDK_VERSION:function(){return C},_DEFAULT_ENTRY_NAME:function(){return v},_addComponent:function(){return k},_addOrOverwriteComponent:function(){return w},_apps:function(){return m},_clearComponents:function(){return T},_components:function(){return y},_getProvider:function(){return _},_registerComponent:function(){return b},_removeServiceInstance:function(){return x},deleteApp:function(){return O},getApp:function(){return A},getApps:function(){return R},initializeApp:function(){return E},onLog:function(){return D},registerVersion:function(){return P},setLogLevel:function(){return L}});var o=r(8239),a=r(6034),s=r(5601),c=r(3854),l=function(){function e(t){h(this,e),this.container=t}return f(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if("VERSION"===(null==(n=e.getComponent())?void 0:n.type)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}var n;return null}).filter(function(e){return e}).join(" ")}}]),e}(),d="@firebase/app",p=new s.Yd("@firebase/app"),v="[DEFAULT]",g=(e(i={},d,"fire-core"),e(i,"@firebase/app-compat","fire-core-compat"),e(i,"@firebase/analytics","fire-analytics"),e(i,"@firebase/analytics-compat","fire-analytics-compat"),e(i,"@firebase/app-check","fire-app-check"),e(i,"@firebase/app-check-compat","fire-app-check-compat"),e(i,"@firebase/auth","fire-auth"),e(i,"@firebase/auth-compat","fire-auth-compat"),e(i,"@firebase/database","fire-rtdb"),e(i,"@firebase/database-compat","fire-rtdb-compat"),e(i,"@firebase/functions","fire-fn"),e(i,"@firebase/functions-compat","fire-fn-compat"),e(i,"@firebase/installations","fire-iid"),e(i,"@firebase/installations-compat","fire-iid-compat"),e(i,"@firebase/messaging","fire-fcm"),e(i,"@firebase/messaging-compat","fire-fcm-compat"),e(i,"@firebase/performance","fire-perf"),e(i,"@firebase/performance-compat","fire-perf-compat"),e(i,"@firebase/remote-config","fire-rc"),e(i,"@firebase/remote-config-compat","fire-rc-compat"),e(i,"@firebase/storage","fire-gcs"),e(i,"@firebase/storage-compat","fire-gcs-compat"),e(i,"@firebase/firestore","fire-fst"),e(i,"@firebase/firestore-compat","fire-fst-compat"),e(i,"fire-js","fire-js"),e(i,"firebase","fire-js-all"),i),m=new Map,y=new Map;function k(e,t){try{e.container.addComponent(t)}catch(n){p.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function w(e,t){e.container.addOrOverwriteComponent(t)}function b(e){var t=e.name;if(y.has(t))return p.debug("There were multiple attempts to register component ".concat(t,".")),!1;y.set(t,e);var n,r=u(m.values());try{for(r.s();!(n=r.n()).done;){k(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function _(e,t){return e.container.getProvider(t)}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;_(e,t).clearInstance(n)}function T(){y.clear()}var I=new c.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."}),S=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new a.wA("app",function(){return i},"PUBLIC"))}return f(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw I.create("app-deleted",{appName:this._name})}}]),e}(),C="9.1.3";function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!=typeof t&&(t={name:t});var n=Object.assign({name:v,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw I.create("bad-app-name",{appName:String(r)});var i=m.get(r);if(i){if((0,c.vZ)(e,i.options)&&(0,c.vZ)(n,i.config))return i;throw I.create("duplicate-app",{appName:r})}var o,s=new a.H0(r),l=u(y.values());try{for(l.s();!(o=l.n()).done;){var f=o.value;s.addComponent(f)}}catch(d){l.e(d)}finally{l.f()}var h=new S(e,n,s);return m.set(r,h),h}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=m.get(e);if(!t)throw I.create("no-app",{appName:e});return t}function R(){return Array.from(m.values())}function O(e){return N.apply(this,arguments)}function N(){return(N=(0,o.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,e.t0=m.has(n),!e.t0){e.next=7;break}return m.delete(n),e.next=6,Promise.all(t.container.getProviders().map(function(e){return e.delete()}));case 6:t.isDeleted=!0;case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e,t,n){var r,i=null!==(r=g[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),u=t.match(/\s|\//);if(o||u){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&u&&s.push("and"),u&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void p.warn(s.join(" "))}b(new a.wA("".concat(i,"-version"),function(){return{library:i,version:t}},"VERSION"))}function D(e,t){if(null!==e&&"function"!=typeof e)throw I.create("invalid-log-argument");(0,s.Am)(e,t)}function L(e){(0,s.Ub)(e)}b(new a.wA("platform-logger",function(e){return new l(e)},"PRIVATE")),P(d,"0.7.4",""),P(d,"0.7.4","esm2017"),P("fire-js","")},6034:function(e,t,n){"use strict";n.d(t,{wA:function(){return o},H0:function(){return c}});var r=n(4762),i=n(3854),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",u=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(f){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=(0,r.CR)(o.value,2),s=u[1],c=this.normalizeInstanceIdentifier(u[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});s.resolve(l)}catch(f){}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var e;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.CR)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var s=(0,r.XA)(this.instancesDeferred.entries()),c=s.next();!c.done;c=s.next()){var l=(0,r.CR)(c.value,2),f=l[1];a===this.normalizeInstanceIdentifier(l[0])&&f.resolve(u)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return u},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.XA)(o),u=a.next();!u.done;u=a.next()){var s=u.value;try{s(e,t)}catch(c){}}}catch(c){n={error:c}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:s(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(o){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();function s(e){return e===a?void 0:e}var c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new u(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},5601:function(t,n,r){"use strict";var i;r.d(n,{in:function(){return s},Yd:function(){return v},Ub:function(){return g},Am:function(){return m}});var o,a=[],s=((o=s||(s={}))[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT",s),c={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},l=s.INFO,d=(e(i={},s.DEBUG,"log"),e(i,s.VERBOSE,"log"),e(i,s.INFO,"info"),e(i,s.WARN,"warn"),e(i,s.ERROR,"error"),i),p=function(e,t){var n;if(!(t<e.logLevel)){var r=(new Date).toISOString(),i=d[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,a=new Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];(n=console)[i].apply(n,["[".concat(r,"]  ").concat(e.name,":")].concat(a))}},v=function(){function e(t){h(this,e),this.name=t,this._logLevel=l,this._logHandler=p,this._userLogHandler=null,a.push(this)}return f(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?c[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,s.DEBUG].concat(t)),this._logHandler.apply(this,[this,s.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,s.VERBOSE].concat(t)),this._logHandler.apply(this,[this,s.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,s.INFO].concat(t)),this._logHandler.apply(this,[this,s.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,s.WARN].concat(t)),this._logHandler.apply(this,[this,s.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,s.ERROR].concat(t)),this._logHandler.apply(this,[this,s.ERROR].concat(t))}}]),e}();function g(e){a.forEach(function(t){t.setLogLevel(e)})}function m(e,t){var n,r=u(a);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=c[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var u=o.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!=i?i:t.logLevel)&&e({level:s[n].toLowerCase(),message:u,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}},3854:function(e,n,r){"use strict";r.d(n,{BH:function(){return l},LL:function(){return N},ZR:function(){return O},zI:function(){return R},US:function(){return o},tV:function(){return u},$s:function(){return H},r3:function(){return D},Sg:function(){return v},ne:function(){return q},vZ:function(){return M},ZB:function(){return s},pd:function(){return Z},m9:function(){return B},z$:function(){return y},jU:function(){return b},ru:function(){return _},d:function(){return T},xb:function(){return L},w1:function(){return I},hl:function(){return E},uI:function(){return k},UG:function(){return w},b$:function(){return x},G6:function(){return C},Mn:function(){return S},xO:function(){return U},zd:function(){return V},eu:function(){return A}});var i=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,u=a?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=(15&u)<<2|c>>6,f=63&c;s||(f=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|u>>4],n[l],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==s)throw Error();r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==s&&r.push(u<<6&192|s))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},a=function(e){return function(e){var t=i(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")},u=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function s(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)!t.hasOwnProperty(n)||!c(n)||(e[n]=s(e[n],t[n]));return e}function c(e){return"__proto__"!==e}var l=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return f(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}}}]),e}();function v(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(o)),""].join(".")}function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function k(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function w(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function b(){return"object"==typeof self&&self.self===self}function _(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function x(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function T(){return y().indexOf("Electron/")>=0}function I(){var e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function S(){return y().indexOf("MSAppHost/")>=0}function C(){return!w()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E(){return"object"==typeof indexedDB}function A(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function R(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}var O=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(g(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(g(o),N.prototype.create),o}return n}(m(Error)),N=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return f(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(P,function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error";return new O(n,"".concat(this.serviceName,": ").concat(i," (").concat(n,")."),t)}}]),e}(),P=/\{\$([^}]+)}/g;function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function M(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var u=e[a],s=t[a];if(F(u)&&F(s)){if(!M(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function F(e){return null!==e&&"object"==typeof e}function U(e){for(var n=[],r=function(){var e=t(o[i],2),r=e[0],a=e[1];Array.isArray(a)?a.forEach(function(e){n.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):n.push(encodeURIComponent(r)+"="+encodeURIComponent(a))},i=0,o=Object.entries(e);i<o.length;i++)r();return n.length?"&"+n.join("&"):""}function V(e){var n={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var r=t(e.split("="),2),i=r[0],o=r[1];n[decodeURIComponent(i)]=decodeURIComponent(o)}}),n}function Z(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function q(e,t){var n=new j(e,t);return n.subscribe.bind(n)}var j=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(e){r.error(e)})}return f(e,[{key:"next",value:function(e){this.forEachObserver(function(t){t.next(e)})}},{key:"error",value:function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),e}();function z(){}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function B(e){return e&&e._delegate?e._delegate:e}},2329:function(e,t,n){"use strict";n.d(t,{Mq:function(){return r.getApp},C6:function(){return r.getApps}});var r=n(5452);(0,r.registerVersion)("firebase","9.1.3","app")},7841:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(4486);r.Z.registerVersion("firebase","9.1.3","app-compat")},4671:function(c,l,v){"use strict";v.r(l);var m=v(8239),y=v(4486),k=v(3854),w=v(5452),_=v(4762),x=v(5601),T=v(6034),I=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},S=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),C=new x.Yd("@firebase/auth");function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];C.logLevel<=x.in.ERROR&&C.error.apply(C,["Auth (".concat(w.SDK_VERSION,"): ").concat(e)].concat(n))}function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw P.apply(void 0,[e].concat(n))}function R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return P.apply(void 0,[e].concat(n))}function O(t,n,r){var i=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),e({},n,r));return new k.LL("auth","Firebase",i).create(n,{appName:t.name})}function N(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&A(e,"argument-error"),O(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.Did you pass a reference from a different Auth SDK?"))}function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!=typeof e){var i,a=n[0],u=o(n.slice(1));return u[0]&&(u[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(o(u)))}return S.create.apply(S,[e].concat(n))}function D(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e)throw P.apply(void 0,[t].concat(r))}function L(e){var t="INTERNAL ASSERTION FAILED: "+e;throw E(t),new Error(t)}function M(e,t){e||L(t)}var F=new Map;function U(e){M(e instanceof Function,"Expected a class definition");var t=F.get(e);return t?(M(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,F.set(e,t),t)}function V(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Z(){return"http:"===q()||"https:"===q()}function q(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var j=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,M(n>t,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}return f(e,[{key:"get",value:function(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Z()||(0,k.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function z(e,t){M(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var H=function(){function e(){h(this,e)}return f(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void L("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void L("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void L("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),B={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},G=new j(3e4,6e4);function K(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function W(e,t,n,r){return J.apply(this,arguments)}function J(){return(J=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>4&&void 0!==a[4]?a[4]:{},e.abrupt("return",Y(t,o,function(){var e={},o={};i&&("GET"===n?o=i:e={body:JSON.stringify(i)});var a=(0,k.xO)(Object.assign({key:t.config.apiKey},o)).slice(1),u=new(H.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),H.fetch()(ee(t,t.config.apiHost,r,a),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},e))}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(e,t,n){return Q.apply(this,arguments)}function Q(){return(Q=(0,m.Z)(regeneratorRuntime.mark(function e(n,r,i){var o,a,u,s,c,l,f,h,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n._canInitEmulator=!1,o=Object.assign(Object.assign({},B),r),e.prev=2,a=new te(n),e.next=6,Promise.race([i(),a.promise]);case 6:return u=e.sent,a.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw ne(n,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=15;break}return e.abrupt("return",s);case 15:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=t(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=18;break}throw ne(n,"credential-already-in-use",s);case 18:if("EMAIL_EXISTS"!==h){e.next=20;break}throw ne(n,"email-already-in-use",s);case 20:if(p=o[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=23;break}throw O(n,p,d);case 23:A(n,p),e.next=31;break;case 26:if(e.prev=26,e.t0=e.catch(2),!(e.t0 instanceof k.ZR)){e.next=30;break}throw e.t0;case 30:A(n,"network-request-failed");case 31:case"end":return e.stop()}},e,null,[[2,26]])}))).apply(this,arguments)}function $(e,t,n,r){return X.apply(this,arguments)}function X(){return(X=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var o,a,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,W(t,n,r,i,o);case 3:return a=e.sent,e.abrupt("return",("mfaPendingCredential"in a&&A(t,"multi-factor-auth-required",{serverResponse:a}),a));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ee(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?z(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var te=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise(function(e,t){n.timer=setTimeout(function(){return t(R(n.auth,"timeout"))},G.get())})}return f(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ne(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=R(e,t,r);return i.customData._tokenResponse=n,i}function re(){return(re=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ie(e,t){return oe.apply(this,arguments)}function oe(){return(oe=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(e,t){return ue.apply(this,arguments)}function ue(){return(ue=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function se(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function ce(){return(ce=(0,m.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,u,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=(0,k.m9)(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,D((o=fe(i))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),a="object"==typeof o.firebase?o.firebase:void 0,u=null==a?void 0:a.sign_in_provider,e.abrupt("return",{claims:o,token:i,authTime:se(le(o.auth_time)),issuedAtTime:se(le(o.iat)),expirationTime:se(le(o.exp)),signInProvider:u||null,signInSecondFactor:(null==a?void 0:a.sign_in_second_factor)||null});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function le(e){return 1e3*Number(e)}function fe(e){var n=t(e.split("."),3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return E("JWT malformed, contained fewer than 3 sections"),null;try{var a=(0,k.tV)(i);return a?JSON.parse(a):(E("Failed to decode base64 JWT payload"),null)}catch(a){return E("Caught error parsing JWT payload as JSON",a),null}}function he(e,t){return de.apply(this,arguments)}function de(){return(de=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),e.t1=e.t0 instanceof k.ZR&&pe(e.t0)&&t.auth.currentUser===t,!e.t1){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function pe(e){var t=e.code;return"auth/user-disabled"===t||"auth/user-token-expired"===t}var ve=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return f(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;if(this.isRunning){var n=this.getInterval(e);this.timerId=setTimeout((0,m.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.iteration();case 2:case"end":return e.stop()}},e)})),n)}}},{key:"iteration",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.user.getIdToken(!0);case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return",void("auth/network-request-failed"===t.t0.code&&e.schedule(!0)));case 8:e.schedule();case 9:case"end":return t.stop()}},t,null,[[0,5]])}))()}}]),e}(),ge=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return f(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=se(this.lastLoginAt),this.creationTime=se(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function me(e){return ye.apply(this,arguments)}function ye(){return(ye=(0,m.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,u,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,he(t,ae(r,{idToken:i}));case 6:D(null==(o=e.sent)?void 0:o.users.length,r,"internal-error"),a=o.users[0],t._notifyReloadListener(a),u=(null===(n=a.providerUserInfo)||void 0===n?void 0:n.length)?be(a.providerUserInfo):[],s=we(t.providerData,u),c=!!t.isAnonymous&&!(t.email&&a.passwordHash||(null==s?void 0:s.length)),l={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new ge(a.createdAt,a.lastLoginAt),isAnonymous:c},Object.assign(t,l);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ke(){return(ke=(0,m.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,k.m9)(t),e.next=3,me(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function we(e,t){return[].concat(o(e.filter(function(e){return!t.some(function(t){return t.providerId===e.providerId})})),o(t))}function be(e){return e.map(function(e){var t=e.providerId,n=(0,_._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function _e(){return(_e=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t,{},function(){var e=(0,k.xO)({grant_type:"refresh_token",refresh_token:n}).slice(1),r=t.config,i=r.tokenApiHost,o=r.apiKey,a=ee(t,i,"/v1/token","key=".concat(o));return H.fetch()(a,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:e})});case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var xe=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return f(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){D(e.idToken,"internal-error"),D(void 0!==e.idToken,"internal-error"),D(void 0!==e.refreshToken,"internal-error");var t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){var t=fe(e);return D(t,"internal-error"),D(void 0!==t.exp,"internal-error"),D(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return(0,m.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(D(!n.accessToken||n.refreshToken,e,"user-token-expired"),!t&&n.accessToken&&!n.isExpired){r.next=12;break}if(!n.refreshToken){r.next=8;break}return r.next=5,n.refresh(e,n.refreshToken);case 5:r.t1=n.accessToken,r.next=9;break;case 8:r.t1=null;case 9:r.t0=r.t1,r.next=13;break;case 12:r.t0=n.accessToken;case 13:return r.abrupt("return",r.t0);case 14:case"end":return r.stop()}},r)}))()}},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(e,t){var n=this;return(0,m.Z)(regeneratorRuntime.mark(function r(){var i,o,a,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e,t){return _e.apply(this,arguments)}(e,t);case 2:i=r.sent,o=i.accessToken,a=i.refreshToken,u=i.expiresIn,n.updateTokensAndExpiration(o,a,Number(u));case 7:case"end":return r.stop()}},r)}))()}},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return L("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,o=n.expirationTime,a=new e;return r&&(D("string"==typeof r,"internal-error",{appName:t}),a.refreshToken=r),i&&(D("string"==typeof i,"internal-error",{appName:t}),a.accessToken=i),o&&(D("number"==typeof o,"internal-error",{appName:t}),a.expirationTime=o),a}}]),e}();function Te(e,t){D("string"==typeof e||void 0===e,"internal-error",{appName:t})}var Ie=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=(0,_._T)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ve(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.metadata=new ge(o.createdAt||void 0,o.lastLoginAt||void 0)}return f(e,[{key:"getIdToken",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,he(t,t.stsTokenManager.getToken(t.auth,e));case 2:if(D(r=n.sent,t.auth,"internal-error"),n.t0=t.accessToken!==r,!n.t0){n.next=10;break}return t.accessToken=r,n.next=9,t.auth._persistUserIfCurrent(t);case 9:t.auth._notifyListenersIfCurrent(t);case 10:return n.abrupt("return",r);case 11:case"end":return n.stop()}},n)}))()}},{key:"getIdTokenResult",value:function(e){return function(e){return ce.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ke.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(D(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(e){return Object.assign({},e)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return(0,m.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=!1,e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),i=!0),r.t0=t,!r.t0){r.next=6;break}return r.next=6,me(n);case 6:return r.next=8,n.auth._persistUserIfCurrent(n);case 8:i&&n.auth._notifyListenersIfCurrent(n);case 9:case"end":return r.stop()}},r)}))()}},{key:"delete",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getIdToken();case 2:return n=t.sent,t.next=5,he(e,function(e,t){return re.apply(this,arguments)}(e.auth,{idToken:n}));case 5:return e.stsTokenManager.clearRefreshToken(),t.abrupt("return",e.auth.signOut());case 7:case"end":return t.stop()}},t)}))()}},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return Object.assign({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,o,a,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,g=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;D(k&&x,t,"internal-error");var T=xe.fromJSON(this.name,x);D("string"==typeof k,t,"internal-error"),Te(f,t.name),Te(h,t.name),D("boolean"==typeof w,t,"internal-error"),D("boolean"==typeof b,t,"internal-error"),Te(d,t.name),Te(p,t.name),Te(v,t.name),Te(g,t.name),Te(m,t.name),Te(y,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:T,createdAt:m,lastLoginAt:y});return _&&Array.isArray(_)&&(I.providerData=_.map(function(e){return Object.assign({},e)})),g&&(I._redirectEventId=g),I}},{key:"_fromIdTokenResponse",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,m.Z)(regeneratorRuntime.mark(function i(){var o,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return(o=new xe).updateFromServerResponse(n),a=new e({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r}),i.next=5,me(a);case 5:return i.abrupt("return",a);case 6:case"end":return i.stop()}},i)}))()}}]),e}(),Se=function(){var e=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return f(e,[{key:"_isAvailable",value:function(){return(0,m.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}))()}},{key:"_set",value:function(e,t){var n=this;return(0,m.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n.storage[e]=t;case 1:case"end":return r.stop()}},r)}))()}},{key:"_get",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.storage[e],n.abrupt("return",void 0===r?null:r);case 2:case"end":return n.stop()}},n)}))()}},{key:"_remove",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:delete t.storage[e];case 1:case"end":return n.stop()}},n)}))()}},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();return e.type="NONE",e}();function Ce(e,t,n){return"firebase:".concat(e,":").concat(t,":").concat(n)}var Ee=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,o=i.config,a=i.name;this.fullUserKey=Ce(this.userKey,o.apiKey,a),this.fullPersistenceKey=Ce("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return f(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.persistence._get(e.fullUserKey);case 2:return n=t.sent,t.abrupt("return",n?Ie._fromJSON(e.auth,n):null);case 4:case"end":return t.stop()}},t)}))()}},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.persistence!==e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,t.getCurrentUser();case 4:return r=n.sent,n.next=7,t.removeCurrentUser();case 7:return t.persistence=e,n.abrupt("return",r?t.setCurrentUser(r):void 0);case 9:case"end":return n.stop()}},n)}))()}},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";return(0,m.Z)(regeneratorRuntime.mark(function i(){var o,a,s,c,l,f,h,d,p,v;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n.length){i.next=2;break}return i.abrupt("return",new e(U(Se),t,r));case 2:return i.next=4,Promise.all(n.map(function(){var e=(0,m.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:o=i.sent.filter(function(e){return e}),a=o[0]||U(Se),s=Ce(r,t.config.apiKey,t.name),c=null,l=u(n),i.prev=9,l.s();case 11:if((f=l.n()).done){i.next=27;break}return h=f.value,i.prev=13,i.next=16,h._get(s);case 16:if(!(d=i.sent)){i.next=21;break}return p=Ie._fromJSON(t,d),h!==a&&(c=p),a=h,i.abrupt("break",27);case 21:i.next=25;break;case 23:i.prev=23,i.t0=i.catch(13);case 25:i.next=11;break;case 27:i.next=32;break;case 29:i.prev=29,i.t1=i.catch(9),l.e(i.t1);case 32:return i.prev=32,l.f(),i.finish(32);case 35:if(v=o.filter(function(e){return e._shouldAllowMigration}),!a._shouldAllowMigration||!v.length){i.next=47;break}if(a=v[0],i.t3=c,!i.t3){i.next=42;break}return i.next=42,a._set(s,c.toJSON());case 42:return i.next=44,Promise.all(n.map(function(){var e=(0,m.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()));case 44:i.t2=new e(a,t,r),i.next=48;break;case 47:i.t2=new e(a,t,r);case 48:return i.abrupt("return",i.t2);case 49:case"end":return i.stop()}},i,null,[[9,29,32,35],[13,23]])}))()}}]),e}();function Ae(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Re(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Le(t))return"Blackberry";if(Me(t))return"Webos";if(Oe(t))return"Safari";if((t.includes("chrome/")||Ne(t))&&!t.includes("edge/"))return"Chrome";if(De(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null==n?void 0:n.length)?n[1]:"Other"}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/firefox\//i.test(e)}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/crios\//i.test(e)}function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/iemobile/i.test(e)}function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/android/i.test(e)}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/blackberry/i.test(e)}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/webos/i.test(e)}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/iphone|ipad|ipod/i.test(e)}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return Fe(e)||De(e)||Me(e)||Le(e)||/windows phone/i.test(e)||Pe(e)}function Ve(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ae((0,k.z$)());break;case"Worker":t="".concat(Ae((0,k.z$)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/JsCore/").concat(w.SDK_VERSION,"/").concat(r)}var Ze=function(){function e(t,n){h(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new je(this),this.idTokenSubscription=new je(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return f(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=U(t)),this._initializationPromise=this.queue((0,m.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=n._deleted,r.t0){r.next=14;break}return r.next=4,Ee.create(n,e);case 4:if(n.persistenceManager=r.sent,r.t1=!n._deleted,!r.t1){r.next=14;break}if(r.t2=null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively,!r.t2){r.next=11;break}return r.next=11,n._popupRedirectResolver._initialize(n);case 11:return r.next=13,n.initializeCurrentUser(t);case 13:!n._deleted&&(n._isInitialized=!0);case 14:case"end":return r.stop()}},r)}))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._deleted){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.assertedPersistence.getCurrentUser();case 4:if(n=t.sent,!e.currentUser&&!n){t.next=13;break}if(!e.currentUser||!n||e.currentUser.uid!==n.uid){t.next=11;break}return e._currentUser._assign(n),t.next=10,e.currentUser.getIdToken();case 10:return t.abrupt("return",void t.sent);case 11:return t.next=13,e._updateCurrentUser(n);case 13:case"end":return t.stop()}},t)}))()}},{key:"initializeCurrentUser",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r,i,o,a,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.getCurrentUser();case 2:if(i=n.sent,!e||!t.config.authDomain){n.next=12;break}return n.next=6,t.getOrInitRedirectPersistenceManager();case 6:return o=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,a=null==i?void 0:i._redirectEventId,n.next=10,t.tryRedirectSignIn(e);case 10:u=n.sent,(!o||o===a)&&(null==u?void 0:u.user)&&(i=u.user);case 12:if(!i){n.next=24;break}if(!i._redirectEventId){n.next=20;break}return D(t._popupRedirectResolver,t,"argument-error"),n.next=17,t.getOrInitRedirectPersistenceManager();case 17:n.t1=t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i),n.next=21;break;case 20:n.t1=t.reloadAndSetCurrentUserOrClear(i);case 21:n.t0=n.t1,n.next=25;break;case 24:n.t0=t.directlySetCurrentUser(null);case 25:return n.abrupt("return",n.t0);case 26:case"end":return n.stop()}},n)}))()}},{key:"tryRedirectSignIn",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=null,n.prev=1,n.next=4,t._popupRedirectResolver._completeRedirectFn(t,e,!0);case 4:r=n.sent,n.next=11;break;case 7:return n.prev=7,n.t0=n.catch(1),n.next=11,t._setRedirectUser(null);case 11:return n.abrupt("return",r);case 12:case"end":return n.stop()}},n,null,[[1,7]])}))()}},{key:"reloadAndSetCurrentUserOrClear",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,me(e);case 3:n.next=9;break;case 5:if(n.prev=5,n.t0=n.catch(0),"auth/network-request-failed"===n.t0.code){n.next=9;break}return n.abrupt("return",t.directlySetCurrentUser(null));case 9:return n.abrupt("return",t.directlySetCurrentUser(e));case 10:case"end":return n.stop()}},n,null,[[0,5]])}))()}},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"==typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e._deleted=!0;case 1:case"end":return t.stop()}},t)}))()}},{key:"updateCurrentUser",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e?(0,k.m9)(e):null,n.abrupt("return",(r&&D(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))));case 2:case"end":return n.stop()}},n)}))()}},{key:"_updateCurrentUser",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t._deleted){n.next=2;break}return n.abrupt("return",(e&&D(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.directlySetCurrentUser(e);case 2:t.notifyAuthListeners();case 3:case"end":return n.stop()}},n)})))));case 2:case"end":return n.stop()}},n)}))()}},{key:"signOut",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.redirectPersistenceManager||e._popupRedirectResolver,!t.t0){t.next=4;break}return t.next=4,e._setRedirectUser(null);case 4:return t.abrupt("return",e._updateCurrentUser(null));case 5:case"end":return t.stop()}},t)}))()}},{key:"setPersistence",value:function(e){var t=this;return this.queue((0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(U(e));case 2:case"end":return n.stop()}},n)})))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new k.LL("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(e,t){var n=this;return(0,m.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.getOrInitRedirectPersistenceManager(t);case 2:return i=r.sent,r.abrupt("return",null===e?i.removeCurrentUser():i.setCurrentUser(e));case 4:case"end":return r.stop()}},r)}))()}},{key:"getOrInitRedirectPersistenceManager",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.redirectPersistenceManager){n.next=9;break}return D(r=e&&U(e)||t._popupRedirectResolver,t,"argument-error"),n.next=5,Ee.create(t,[U(r._redirectPersistence)],"redirectUser");case 5:return t.redirectPersistenceManager=n.sent,n.next=8,t.redirectPersistenceManager.getCurrentUser();case 8:t.redirectUser=n.sent;case 9:return n.abrupt("return",t.redirectPersistenceManager);case 10:case"end":return n.stop()}},n)}))()}},{key:"_redirectUserForId",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=t._isInitialized,!n.t0){n.next=4;break}return n.next=4,t.queue((0,m.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})));case 4:return n.abrupt("return",(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null);case 5:case"end":return n.stop()}},n)}))()}},{key:"_persistUserIfCurrent",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e!==t.currentUser){n.next=2;break}return n.abrupt("return",t.queue((0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.directlySetCurrentUser(e));case 1:case"end":return n.stop()}},n)}))));case 2:case"end":return n.stop()}},n)}))()}},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var o="function"==typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return D(a,this,"internal-error"),a.then(function(){return o(i.currentUser)}),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,!e){n.next=7;break}return n.next=5,t.assertedPersistence.setCurrentUser(e);case 5:n.next=9;break;case 7:return n.next=9,t.assertedPersistence.removeCurrentUser();case 9:case"end":return n.stop()}},n)}))()}},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ve(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getSdkClientVersion",value:function(){return this.clientVersion}}]),e}();function qe(e){return(0,k.m9)(e)}var je=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=(0,k.ne)(function(e){return n.observer=e})}return f(e,[{key:"next",get:function(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ze(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function He(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Be=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return f(e,[{key:"toJSON",value:function(){return L("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return L("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return L("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return L("not implemented")}}]),e}();function Ge(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:resetPassword",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function We(e,t){return Je.apply(this,arguments)}function Je(){return(Je=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ye(e,t){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:update",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $e(){return($e=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:signInWithPassword",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xe(e,t){return et.apply(this,arguments)}function et(){return(et=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:sendOobCode",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xe(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rt(e,t){return it.apply(this,arguments)}function it(){return(it=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xe(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ot(e,t){return at.apply(this,arguments)}function at(){return(at=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xe(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ut(e,t){return st.apply(this,arguments)}function st(){return(st=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xe(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ct(){return(ct=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:signInWithEmailLink",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lt(){return(lt=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:signInWithEmailLink",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ft=function(e){d(n,e);var t=p(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(o=t.call(this,"password",i))._email=e,o._password=r,o._tenantId=a,o}return f(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t.signInMethod,n.next="password"===n.t0?3:"emailLink"===n.t0?4:5;break;case 3:return n.abrupt("return",function(e,t){return $e.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password}));case 4:return n.abrupt("return",function(e,t){return ct.apply(this,arguments)}(e,{email:t._email,oobCode:t._password}));case 5:A(e,"internal-error");case 6:case"end":return n.stop()}},n)}))()}},{key:"_linkToIdToken",value:function(e,t){var n=this;return(0,m.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=n.signInMethod,r.next="password"===r.t0?3:"emailLink"===r.t0?4:5;break;case 3:return r.abrupt("return",We(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password}));case 4:return r.abrupt("return",function(e,t){return lt.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password}));case 5:A(e,"internal-error");case 6:case"end":return r.stop()}},r)}))()}},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Be);function ht(e,t){return dt.apply(this,arguments)}function dt(){return(dt=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:signInWithIdp",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var pt=function(e){d(n,e);var t=p(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return f(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ht(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ht(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ht(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,k.xO)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):A("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=(0,_._T)(t,["providerId","signInMethod"]);if(!r||!i)return null;var a=new n(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}}]),n}(Be);function vt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:sendVerificationCode",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mt(){return(mt=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:signInWithPhoneNumber",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yt(){return(yt=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t,"POST","/v1/accounts:signInWithPhoneNumber",K(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ne(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var kt={USER_NOT_FOUND:"user-not-found"};function wt(){return(wt=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:signInWithPhoneNumber",K(t,Object.assign(Object.assign({},n),{operation:"REAUTH"})),kt));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var bt=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return f(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return mt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return yt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return wt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"==typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,o=t.phoneNumber,a=t.temporaryProof;return i||r||o||a?new n({verificationId:r,verificationCode:i,phoneNumber:o,temporaryProof:a}):null}}]),n}(Be),_t=function(){function e(t){var n,r,i,o,a,u;h(this,e);var s=(0,k.zd)((0,k.pd)(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);D(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(o=s.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=s.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return f(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=(0,k.zd)((0,k.pd)(e)).link,n=t?(0,k.zd)((0,k.pd)(t)).deep_link_id:null,r=(0,k.zd)((0,k.pd)(e)).deep_link_id;return(r?(0,k.zd)((0,k.pd)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}(),xt=function(){var e=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return f(e,null,[{key:"credential",value:function(e,t){return ft._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=_t.parseLink(t);return D(n,"argument-error"),ft._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e}(),Tt=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return f(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),It=function(e){d(n,e);var t=p(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return f(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return o(this.scopes)}}]),n}(Tt),St=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return D(e.idToken||e.accessToken,"argument-error"),pt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return D("providerId"in t&&"signInMethod"in t,"argument-error"),pt._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,o=t.oauthTokenSecret,a=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!o&&!r&&!a||!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:a})}catch(c){return null}}}]),n}(It),Ct=function(){var e=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.call(this,"facebook.com")}return f(n,null,[{key:"credential",value:function(e){return pt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(It);return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e}(),Et=function(){var e=function(e){d(n,e);var t=p(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return f(n,null,[{key:"credential",value:function(e,t){return pt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(o){return null}}}]),n}(It);return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e}(),At=function(){var e=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.call(this,"github.com")}return f(n,null,[{key:"credential",value:function(e){return pt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(It);return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e}(),Rt=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return f(n,[{key:"_getIdTokenResponse",value:function(e){return ht(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ht(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ht(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=t.pendingToken;return r&&i&&o&&r===i?new n(r,o):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Be),Ot=function(){var e=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.call(this,"twitter.com")}return f(n,null,[{key:"credential",value:function(e,t){return pt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(o){return null}}}]),n}(It);return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e}();function Nt(e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:signUp",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Dt=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return f(e,null,[{key:"_fromIdTokenResponse",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,m.Z)(regeneratorRuntime.mark(function o(){var a,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Ie._fromIdTokenResponse(t,r,i);case 2:return a=o.sent,u=Lt(r),o.abrupt("return",new e({user:a,providerId:u,_tokenResponse:r,operationType:n}));case 5:case"end":return o.stop()}},o)}))()}},{key:"_forOperation",value:function(t,n,r){return(0,m.Z)(regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t._updateTokensIfNecessary(r,!0);case 2:return o=Lt(r),i.abrupt("return",new e({user:t,providerId:o,_tokenResponse:r,operationType:n}));case 4:case"end":return i.stop()}},i)}))()}}]),e}();function Lt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Mt(){return(Mt=(0,m.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=qe(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Dt({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Nt(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Dt._fromIdTokenResponse(r,"signIn",i,!0);case 10:return o=e.sent,e.next=13,r._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ft=function(e){d(n,e);var t=p(n);function n(e,r,i,o){var a,u;return h(this,n),(a=t.call(this,r.code,r.message)).operationType=i,a.user=o,a.name="FirebaseError",Object.setPrototypeOf(g(a),n.prototype),a.appName=e.name,a.code=r.code,a.tenantId=null!==(u=e.tenantId)&&void 0!==u?u:void 0,a.serverResponse=r.customData.serverResponse,a}return f(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(k.ZR);function Ut(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(function(n){throw"auth/multi-factor-auth-required"===n.code?Ft._fromErrorAndOperation(e,n,t,r):n})}function Vt(e){return new Set(e.map(function(e){return e.providerId}).filter(function(e){return!!e}))}function Zt(){return(Zt=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,k.m9)(t),e.next=3,zt(!0,r,n);case 3:return e.t0=ie,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,o=i.providerUserInfo,a=Vt(o||[]),r.providerData=r.providerData.filter(function(e){return a.has(e.providerId)}),a.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qt(e,t){return jt.apply(this,arguments)}function jt(){return(jt=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.t0=he,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Dt._forOperation(t,"link",i));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zt(e,t,n){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(n);case 2:i=!1===t?"provider-already-linked":"no-such-provider",D(Vt(n.providerData).has(r)===t,n.auth,i);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bt(e,t){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u,s,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,o="reauthenticate",e.prev=2,e.next=5,he(t,Ut(i,o,n,t),r);case 5:return D((a=e.sent).idToken,i,"internal-error"),D(u=fe(a.idToken),i,"internal-error"),s=u.sub,e.abrupt("return",(D(t.uid===s,i,"user-mismatch"),Dt._forOperation(t,o,a)));case 13:throw e.prev=13,e.t0=e.catch(2),"auth/user-not-found"===(null==e.t0?void 0:e.t0.code)&&A(i,"user-mismatch"),e.t0;case 16:case"end":return e.stop()}},e,null,[[2,13]])}))).apply(this,arguments)}function Kt(e,t){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Ut(t,i,n);case 4:return o=e.sent,e.next=7,Dt._fromIdTokenResponse(t,i,o);case 7:if(a=e.sent,e.t0=r,e.t0){e.next=12;break}return e.next=12,t._updateCurrentUser(a.user);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Jt(e,t){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kt(qe(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qt(e,t){return $t.apply(this,arguments)}function $t(){return($t=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,k.m9)(t),e.next=3,zt(!1,r,n.providerId);case 3:return e.abrupt("return",qt(r,n));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xt(e,t){return en.apply(this,arguments)}function en(){return(en=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bt((0,k.m9)(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,"POST","/v1/accounts:signInWithCustomToken",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rn(){return(rn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=qe(t),e.next=3,tn(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Dt._fromIdTokenResponse(r,"signIn",i);case 6:return o=e.sent,e.next=9,r._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var on=function(){function e(t,n){h(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return f(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?an._fromServerResponse(e,t):A(e,"internal-error")}}]),e}(),an=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return f(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(on);function un(e,t,n){var r;D((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),D(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(D(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(D(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function sn(){return(sn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,k.m9)(t),o={requestType:"PASSWORD_RESET",email:n},r&&un(i,o,r),e.next=4,rt(i,o);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cn(){return(cn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge((0,k.m9)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ln(){return(ln=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye((0,k.m9)(t),{oobCode:n});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fn(e,t){return hn.apply(this,arguments)}function hn(){return(hn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,k.m9)(t),e.next=3,Ge(r,{oobCode:n});case 3:i=e.sent,o=i.requestType,e.t0=(D(o,r,"internal-error"),o),e.next="EMAIL_SIGNIN"===e.t0?8:"VERIFY_AND_CHANGE_EMAIL"===e.t0?9:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?11:12;break;case 8:return e.abrupt("break",13);case 9:return D(i.newEmail,r,"internal-error"),e.abrupt("break",13);case 11:D(i.mfaInfo,r,"internal-error");case 12:D(i.email,r,"internal-error");case 13:return a=null,e.abrupt("return",(i.mfaInfo&&(a=on._fromServerResponse(qe(r),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:a},operation:o}));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function dn(){return(dn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fn((0,k.m9)(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pn(){return(pn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=qe(t),e.next=3,Nt(i,{returnSecureToken:!0,email:n,password:r});case 3:return o=e.sent,e.next=6,Dt._fromIdTokenResponse(i,"signIn",o);case 6:return a=e.sent,e.next=9,i._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vn(){return(vn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,k.m9)(t),o={requestType:"EMAIL_SIGNIN",email:n},D(r.handleCodeInApp,i,"argument-error"),r&&un(i,o,r),e.next=5,ot(i,o);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gn(){return(gn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,k.m9)(t),o=xt.credentialWithLink(n,r||V()),e.abrupt("return",(D(o._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Jt(i,o)));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mn(e,t){return yn.apply(this,arguments)}function yn(){return(yn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:createAuthUri",K(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function kn(){return(kn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={identifier:n,continueUri:Z()?V():"http://localhost"},e.next=3,mn((0,k.m9)(t),r);case 3:return i=e.sent,o=i.signinMethods,e.abrupt("return",o||[]);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function wn(){return(wn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,k.m9)(t),e.next=3,t.getIdToken();case 3:return e.t0=e.sent,i={requestType:"VERIFY_EMAIL",idToken:e.t0},n&&un(r.auth,i,n),e.next=8,tt(r.auth,i);case 8:if(o=e.sent,a=o.email,e.t1=a!==t.email,!e.t1){e.next=14;break}return e.next=14,t.reload();case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bn(){return(bn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,k.m9)(t),e.next=3,t.getIdToken();case 3:return e.t0=e.sent,e.t1=n,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e.t0,newEmail:e.t1},r&&un(i.auth,o,r),e.next=9,ut(i.auth,o);case 9:if(a=e.sent,u=a.email,e.t2=u!==t.email,!e.t2){e.next=15;break}return e.next=15,t.reload();case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _n(e,t){return xn.apply(this,arguments)}function xn(){return(xn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tn(){return(Tn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return o=(0,k.m9)(t),e.next=6,o.getIdToken();case 6:return e.t0=e.sent,e.t1=r,e.t2=i,e.t3=!0,a={idToken:e.t0,displayName:e.t1,photoUrl:e.t2,returnSecureToken:e.t3},e.next=13,he(o,_n(o.auth,a));case 13:return u=e.sent,o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null,(s=o.providerData.find(function(e){return"password"===e.providerId}))&&(s.displayName=o.displayName,s.photoURL=o.photoURL),e.next=19,o._updateTokensIfNecessary(u);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function In(e,t,n){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return e.t0=e.sent,e.t1=!0,o={idToken:e.t0,returnSecureToken:e.t1},n&&(o.email=n),r&&(o.password=r),e.next=9,he(t,We(i,o));case 9:return a=e.sent,e.next=12,t._updateTokensIfNecessary(a,!0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Cn=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,e),this.isNewUser=t,this.providerId=n,this.profile=r},En=function(e){d(n,e);var t=p(n);function n(e,r,i,o){var a;return h(this,n),(a=t.call(this,e,r,i)).username=o,a}return n}(Cn),An=function(e){d(n,e);var t=p(n);function n(e,r){return h(this,n),t.call(this,e,"facebook.com",r)}return n}(Cn),Rn=function(e){d(n,e);var t=p(n);function n(e,r){return h(this,n),t.call(this,e,"github.com",r,"string"==typeof(null==r?void 0:r.login)?null==r?void 0:r.login:null)}return n}(En),On=function(e){d(n,e);var t=p(n);function n(e,r){return h(this,n),t.call(this,e,"google.com",r)}return n}(Cn),Nn=function(e){d(n,e);var t=p(n);function n(e,r,i){return h(this,n),t.call(this,e,"twitter.com",r,i)}return n}(En);function Pn(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){var a=null===(n=null===(t=fe(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(a)return new Cn(o,"anonymous"!==a&&"custom"!==a?a:null)}if(!r)return null;switch(r){case"facebook.com":return new An(o,i);case"github.com":return new Rn(o,i);case"google.com":return new On(o,i);case"twitter.com":return new Nn(o,i,e.screenName||null);case"custom":case"anonymous":return new Cn(o,null);default:return new Cn(o,r,i)}}(n)}var Dn=function(){function t(e,n){h(this,t),this.type=e,this.credential=n}return f(t,[{key:"toJSON",value:function(){return{multiFactorSession:e({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(e){return new t("enroll",e)}},{key:"_fromMfaPendingCredential",value:function(e){return new t("signin",e)}},{key:"fromJSON",value:function(e){var n,r;if(null==e?void 0:e.multiFactorSession){if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return t._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(r=e.multiFactorSession)||void 0===r?void 0:r.idToken)return t._fromIdtoken(e.multiFactorSession.idToken)}return null}}]),t}(),Ln=function(){function e(t,n,r){h(this,e),this.session=t,this.hints=n,this.signInResolver=r}return f(e,[{key:"resolveSignIn",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.signInResolver(e));case 1:case"end":return n.stop()}},n)}))()}}],[{key:"_fromError",value:function(t,n){var r=qe(t),i=(n.serverResponse.mfaInfo||[]).map(function(e){return on._fromServerResponse(r,e)});D(n.serverResponse.mfaPendingCredential,r,"internal-error");var o,a=Dn._fromMfaPendingCredential(n.serverResponse.mfaPendingCredential);return new e(a,i,(o=(0,m.Z)(regeneratorRuntime.mark(function e(t){var i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,a);case 2:i=e.sent,delete n.serverResponse.mfaInfo,delete n.serverResponse.mfaPendingCredential,o=Object.assign(Object.assign({},n.serverResponse),{idToken:i.idToken,refreshToken:i.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?8:"reauthenticate"===e.t0?14:15;break;case 8:return e.next=10,Dt._fromIdTokenResponse(r,n.operationType,o);case 10:return u=e.sent,e.next=13,r._updateCurrentUser(u.user);case 13:return e.abrupt("return",u);case 14:return e.abrupt("return",(D(n.user,r,"internal-error"),Dt._forOperation(n.user,n.operationType,o)));case 15:A(r,"internal-error");case 16:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}))}}]),e}();function Mn(e,t){return W(e,"POST","/v2/accounts/mfaEnrollment:start",K(e,t))}var Fn=function(){function e(t){var n=this;h(this,e),this.user=t,this.enrolledFactors=[],t._onReload(function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map(function(e){return on._fromServerResponse(t.auth,e)}))})}return f(e,[{key:"getSession",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Dn,t.next=3,e.user.getIdToken();case 3:return t.t1=t.sent,t.abrupt("return",t.t0._fromIdtoken.call(t.t0,t.t1));case 5:case"end":return t.stop()}},t)}))()}},{key:"enroll",value:function(e,t){var n=this;return(0,m.Z)(regeneratorRuntime.mark(function r(){var i,o,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=e,r.next=3,n.getSession();case 3:return o=r.sent,r.next=6,he(n.user,i._process(n.user.auth,o,t));case 6:return a=r.sent,r.next=9,n.user._updateTokensIfNecessary(a);case 9:return r.abrupt("return",n.user.reload());case 10:case"end":return r.stop()}},r)}))()}},{key:"unenroll",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r,i,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r="string"==typeof e?e:e.uid,n.next=3,t.user.getIdToken();case 3:return i=n.sent,n.next=6,he(t.user,function(e,t){return W(e,"POST","/v2/accounts/mfaEnrollment:withdraw",K(e,t))}(t.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return o=n.sent,t.enrolledFactors=t.enrolledFactors.filter(function(e){return e.uid!==r}),n.next=10,t.user._updateTokensIfNecessary(o);case 10:return n.prev=10,n.next=13,t.user.reload();case 13:n.next=19;break;case 15:if(n.prev=15,n.t0=n.catch(10),"auth/user-token-expired"===n.t0.code){n.next=19;break}throw n.t0;case 19:case"end":return n.stop()}},n,null,[[10,15]])}))()}}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Un=new WeakMap,Vn="__sak",Zn=function(){function e(t,n){h(this,e),this.storage=t,this.type=n}return f(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Vn,"1"),this.storage.removeItem(Vn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}}]),e}(),qn=function(){var e=function(e){d(n,e);var t=p(n);function n(){var e;return h(this,n),(e=t.call(this,window.localStorage,"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=(0,k.z$)();return Oe(e)||Fe(e)}()&&function(){try{return!(!window||window===window.top)}catch(n){return!1}}(),e.fallbackToPolling=Ue(),e._shouldAllowMigration=!0,e}return f(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),o=this.localCache[r];i!==o&&e(r,o,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var o=function(){var e=t.storage.getItem(r);!n&&t.localCache[r]===e||t.notifyListeners(r,e)},a=this.storage.getItem(r);(0,k.w1)()&&10===document.documentMode&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,10):o()}else this.forAllChangedKeys(function(e,n,r){t.notifyListeners(e,r)})}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t&&JSON.parse(t))}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(function(){e.forAllChangedKeys(function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(e,t){var r=this,o=this;return(0,m.Z)(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i(b(n.prototype),"_set",r).call(o,e,t);case 2:o.localCache[e]=JSON.stringify(t);case 3:case"end":return a.stop()}},a)}))()}},{key:"_get",value:function(e){var t=this,r=this;return(0,m.Z)(regeneratorRuntime.mark(function o(){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i(b(n.prototype),"_get",t).call(r,e);case 2:return a=o.sent,o.abrupt("return",(r.localCache[e]=JSON.stringify(a),a));case 4:case"end":return o.stop()}},o)}))()}},{key:"_remove",value:function(e){var t=this,r=this;return(0,m.Z)(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i(b(n.prototype),"_remove",t).call(r,e);case 2:delete r.localCache[e];case 3:case"end":return o.stop()}},o)}))()}}]),n}(Zn);return e.type="LOCAL",e}(),jn=function(){var e=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.call(this,window.sessionStorage,"SESSION")}return f(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Zn);return e.type="SESSION",e}(),zn=function(){var e=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return f(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r,i,o,a,u,s,c,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=(r=e).data,o=i.eventId,a=i.eventType,u=i.data,null==(s=t.handlersMap[a])?void 0:s.size){n.next=3;break}return n.abrupt("return");case 3:return r.ports[0].postMessage({status:"ack",eventId:o,eventType:a}),c=Array.from(s).map(function(){var e=(0,m.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(r.origin,u));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.next=7,function(e){return Promise.all(e.map((t=(0,m.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=!0,e.next=4,t;case 4:return e.t1=e.sent,e.abrupt("return",{fulfilled:e.t0,value:e.t1});case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t2});case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return t.apply(this,arguments)})));var t}(c);case 7:l=n.sent,r.ports[0].postMessage({status:"done",eventId:o,eventType:a,response:l});case 9:case"end":return n.stop()}},n)}))()}},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find(function(e){return e.isListeningto(t)});if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();return e.receivers=[],e}();function Hn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}var Bn=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return f(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=this;return(0,m.Z)(regeneratorRuntime.mark(function i(){var o,a,u;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o="undefined"!=typeof MessageChannel?new MessageChannel:null){i.next=3;break}throw new Error("connection_unavailable");case 3:return i.abrupt("return",new Promise(function(i,s){var c=Hn("",20);o.port1.start();var l=setTimeout(function(){s(new Error("unsupported_event"))},n);u={messageChannel:o,onMessage:function(e){var t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),a=setTimeout(function(){s(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),i(t.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},r.handlers.add(u),o.port1.addEventListener("message",u.onMessage),r.target.postMessage({eventType:e,eventId:c,data:t},[o.port2])}).finally(function(){u&&r.removeMessageHandler(u)}));case 4:case"end":return i.stop()}},i)}))()}}]),e}();function Gn(){return window}function Kn(){return void 0!==Gn().WorkerGlobalScope&&"function"==typeof Gn().importScripts}function Wn(){return(Wn=(0,m.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return e.abrupt("return",e.sent.active);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",null);case 11:case"end":return e.stop()}},e,null,[[2,8]])}))).apply(this,arguments)}var Jn="firebaseLocalStorageDb",Yn="firebaseLocalStorage",Qn="fbase_key",$n=function(){function e(t){h(this,e),this.request=t}return f(e,[{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.request.addEventListener("success",function(){t(e.request.result)}),e.request.addEventListener("error",function(){n(e.request.error)})})}}]),e}();function Xn(e,t){return e.transaction([Yn],t?"readwrite":"readonly").objectStore(Yn)}function er(){var e=indexedDB.open(Jn,1);return new Promise(function(t,n){e.addEventListener("error",function(){n(e.error)}),e.addEventListener("upgradeneeded",function(){var t=e.result;try{t.createObjectStore(Yn,{keyPath:Qn})}catch(r){n(r)}}),e.addEventListener("success",(0,m.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=e.result).objectStoreNames.contains(Yn)){n.next=5;break}t(r),n.next=13;break;case 5:return r.close(),n.next=8,function(){var e=indexedDB.deleteDatabase(Jn);return new $n(e).toPromise()}();case 8:return n.t0=t,n.next=11,er();case 11:n.t1=n.sent,(0,n.t0)(n.t1);case 13:case"end":return n.stop()}},n)})))})}function tr(e,t,n){return nr.apply(this,arguments)}function nr(){return(nr=(0,m.Z)(regeneratorRuntime.mark(function t(n,r,i){var o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=Xn(n,!0).put((e(o={},Qn,r),e(o,"value",i),o)),t.abrupt("return",new $n(a).toPromise());case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}function rr(){return(rr=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xn(t,!1).get(n),e.next=3,new $n(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ir(e,t){var n=Xn(e,!0).delete(t);return new $n(n).toPromise()}var or=function(){var e=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})}return f(e,[{key:"_openDb",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.db,t.t0){t.next=5;break}return t.next=4,er();case 4:e.db=t.sent;case 5:return t.abrupt("return",e.db);case 6:case"end":return t.stop()}},t)}))()}},{key:"_withRetries",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=0;case 1:return n.prev=1,n.next=4,t._openDb();case 4:return i=n.sent,n.next=7,e(i);case 7:return n.abrupt("return",n.sent);case 10:if(n.prev=10,n.t0=n.catch(1),!(r++>3)){n.next=14;break}throw n.t0;case 14:t.db&&(t.db.close(),t.db=void 0);case 15:n.next=1;break;case 17:case"end":return n.stop()}},n,null,[[1,10]])}))()}},{key:"initializeServiceWorkerMessaging",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Kn()?e.initializeReceiver():e.initializeSender());case 1:case"end":return t.stop()}},t)}))()}},{key:"initializeReceiver",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.receiver=zn._getInstance(Kn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,m.Z)(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._poll();case 2:return t.t0=t.sent.includes(r.key),t.abrupt("return",{keyProcessed:t.t0});case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t)}))()}},{key:"initializeSender",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){var n,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(){return Wn.apply(this,arguments)}();case 2:if(e.activeServiceWorker=t.sent,e.activeServiceWorker){t.next=5;break}return t.abrupt("return");case 5:return e.sender=new Bn(e.activeServiceWorker),t.next=8,e.sender._send("ping",{},800);case 8:!(i=t.sent)||(null===(n=i[0])||void 0===n?void 0:n.fulfilled)&&(null===(r=i[0])||void 0===r?void 0:r.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0);case 10:case"end":return t.stop()}},t)}))()}},{key:"notifyServiceWorker",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.sender||!t.activeServiceWorker||function(){var e;return(null===(e=null==navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()!==t.activeServiceWorker){n.next=8;break}return n.prev=1,n.next=4,t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50);case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}},n,null,[[1,6]])}))()}},{key:"_isAvailable",value:function(){return(0,m.Z)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,er();case 5:return t=e.sent,e.next=8,tr(t,Vn,"1");case 8:return e.next=10,ir(t,Vn);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,null,[[0,13]])}))()}},{key:"_withPendingWrite",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.pendingWrites++,n.prev=1,n.next=4,e();case 4:return n.prev=4,t.pendingWrites--,n.finish(4);case 7:case"end":return n.stop()}},n,null,[[1,,4,7]])}))()}},{key:"_set",value:function(e,t){var n=this;return(0,m.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",n._withPendingWrite((0,m.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n._withRetries(function(n){return tr(n,e,t)});case 2:return n.localCache[e]=t,r.abrupt("return",n.notifyServiceWorker(e));case 4:case"end":return r.stop()}},r)}))));case 1:case"end":return r.stop()}},r)}))()}},{key:"_get",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._withRetries(function(t){return function(e,t){return rr.apply(this,arguments)}(t,e)});case 2:return r=n.sent,n.abrupt("return",(t.localCache[e]=r,r));case 4:case"end":return n.stop()}},n)}))()}},{key:"_remove",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._withPendingWrite((0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._withRetries(function(t){return ir(t,e)});case 2:return delete t.localCache[e],n.abrupt("return",t.notifyServiceWorker(e));case 4:case"end":return n.stop()}},n)}))));case 1:case"end":return n.stop()}},n)}))()}},{key:"_poll",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){var n,r,i,o,a,s,c,l,f,h,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._withRetries(function(e){var t=Xn(e,!1).getAll();return new $n(t).toPromise()});case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return",[]);case 5:if(0===e.pendingWrites){t.next=7;break}return t.abrupt("return",[]);case 7:r=[],i=new Set,o=u(n);try{for(o.s();!(a=o.n()).done;)s=a.value,c=s.fbase_key,l=s.value,i.add(c),JSON.stringify(e.localCache[c])!==JSON.stringify(l)&&(e.notifyListeners(c,l),r.push(c))}catch(p){o.e(p)}finally{o.f()}for(f=0,h=Object.keys(e.localCache);f<h.length;f++)d=h[f],e.localCache[d]&&!i.has(d)&&(e.notifyListeners(d,null),r.push(d));return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))()}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}},t)})),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();return e.type="LOCAL",e}();function ar(e,t){return W(e,"POST","/v2/accounts/mfaSignIn:start",K(e,t))}function ur(){return(ur=(0,m.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function sr(e){return new Promise(function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=R("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function cr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var lr=1e12,fr=function(){function e(t){h(this,e),this.auth=t,this.counter=lr,this._widgets=new Map}return f(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new hr(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||lr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t;return(null===(t=this._widgets.get(e||lr))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(null===(r=t._widgets.get(e||lr))||void 0===r||r.execute(),""));case 1:case"end":return n.stop()}},n)}))()}}]),e}(),hr=function(){function e(t,n,r){var i=this;h(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var o="string"==typeof t?document.getElementById(t):t;D(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return f(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout(function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()},6e4)},500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}(),dr=cr("rcb"),pr=new j(3e4,6e4),vr=function(){function e(){h(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Gn().grecaptcha}return f(e,[{key:"load",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return D((t=r).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t),e,"argument-error"),this.shouldResolveImmediately(r)?Promise.resolve(Gn().grecaptcha):new Promise(function(t,i){var o=Gn().setTimeout(function(){i(R(e,"network-request-failed"))},pr.get());Gn()[dr]=function(){Gn().clearTimeout(o),delete Gn()[dr];var a=Gn().grecaptcha;if(a){var u=a.render;a.render=function(e,t){var r=u(e,t);return n.counter++,r},n.hostLanguage=r,t(a)}else i(R(e,"internal-error"))},sr("https://www.google.com/recaptcha/api.js??".concat((0,k.xO)({onload:dr,render:"explicit",hl:r}))).catch(function(){clearTimeout(o),i(R(e,"internal-error"))})})}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Gn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}(),gr=function(){function e(){h(this,e)}return f(e,[{key:"load",value:function(e){return(0,m.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new fr(e));case 1:case"end":return t.stop()}},t)}))()}},{key:"clearedOneInstance",value:function(){}}]),e}(),mr="recaptcha",yr={theme:"light",type:"image"},kr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},yr),r=arguments.length>2?arguments[2]:void 0;h(this,e),this.parameters=n,this.type=mr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qe(r),this.isInvisible="invisible"===this.parameters.size,D("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"==typeof t?document.getElementById(t):t;D(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gr:new vr,this.validateStartingState()}return f(e,[{key:"verify",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.assertNotDestroyed(),t.next=3,e.render();case 3:return n=t.sent,r=e.getAssertedRecaptcha(),t.abrupt("return",r.getResponse(n)||new Promise(function(t){e.tokenChangeListeners.add(function n(r){!r||(e.tokenChangeListeners.delete(n),t(r))}),e.isInvisible&&r.execute(n)}));case 6:case"end":return t.stop()}},t)}))()}},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(function(t){throw e.renderPromise=null,t})),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(function(t){e.container.removeChild(t)})}},{key:"validateStartingState",value:function(){D(!this.parameters.sitekey,this.auth,"argument-error"),D(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),D("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach(function(e){return e(n)}),"function"==typeof e)e(n);else if("string"==typeof e){var r=Gn()[e];"function"==typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){D(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:if(e.widgetId){t.next=6;break}n=e.container,e.isInvisible||(r=document.createElement("div"),n.appendChild(r),n=r),e.widgetId=e.getAssertedRecaptcha().render(n,e.parameters);case 6:return t.abrupt("return",e.widgetId);case 7:case"end":return t.stop()}},t)}))()}},{key:"init",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return D(Z()&&!Kn(),e.auth,"internal-error"),t.next=3,function(){var e=null;return new Promise(function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()}).catch(function(t){throw e&&window.removeEventListener("load",e),t})}();case 3:return t.next=5,e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);case 5:return e.recaptcha=t.sent,t.next=8,function(e){return ur.apply(this,arguments)}(e.auth);case 8:D(n=t.sent,e.auth,"internal-error"),e.parameters.sitekey=n;case 10:case"end":return t.stop()}},t)}))()}},{key:"getAssertedRecaptcha",value:function(){return D(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}(),wr=function(){function e(t,n){h(this,e),this.verificationId=t,this.onConfirmation=n}return f(e,[{key:"confirm",value:function(e){var t=bt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function br(){return(br=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=qe(t),e.next=3,Tr(i,n,(0,k.m9)(r));case 3:return o=e.sent,e.abrupt("return",new wr(o,function(e){return Jt(i,e)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _r(){return(_r=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,k.m9)(t),e.next=3,zt(!1,i,"phone");case 3:return e.next=5,Tr(i.auth,n,(0,k.m9)(r));case 5:return o=e.sent,e.abrupt("return",new wr(o,function(e){return Qt(i,e)}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xr(){return(xr=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,k.m9)(t),e.next=3,Tr(i.auth,n,(0,k.m9)(r));case 3:return o=e.sent,e.abrupt("return",new wr(o,function(e){return Xt(i,e)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tr(e,t,n){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,u,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(o=e.sent,e.prev=3,D("string"==typeof o,t,"argument-error"),D(r.type===mr,t,"argument-error"),!("session"in(a="string"==typeof n?{phoneNumber:n}:n))){e.next=17;break}if(u=a.session,!("phoneNumber"in a)){e.next=11;break}return D("enroll"===u.type,t,"internal-error"),e.next=10,Mn(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:o}});case 10:return e.abrupt("return",e.sent.phoneSessionInfo.sessionInfo);case 11:return D("signin"===u.type,t,"internal-error"),D(s=(null===(i=a.multiFactorHint)||void 0===i?void 0:i.uid)||a.multiFactorUid,t,"missing-multi-factor-info"),e.next=16,ar(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:s,phoneSignInInfo:{recaptchaToken:o}});case 16:return e.abrupt("return",e.sent.phoneResponseInfo.sessionInfo);case 17:return e.next=19,vt(t,{phoneNumber:a.phoneNumber,recaptchaToken:o});case 19:return c=e.sent,l=c.sessionInfo,e.abrupt("return",l);case 22:return e.prev=22,r._reset(),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[3,,22,25]])}))).apply(this,arguments)}function Sr(){return(Sr=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt((0,k.m9)(t),n);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Cr=function(){var e=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=qe(t)}return f(e,[{key:"verifyPhoneNumber",value:function(e,t){return Tr(this.auth,e,(0,k.m9)(t))}}],[{key:"credential",value:function(e,t){return bt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){return e.credentialFromTaggedObject(t)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?bt._fromTokenResponse(n,r):null}}]),e}();return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e}();function Er(e,t){return t?U(t):(D(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var Ar=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return f(n,[{key:"_getIdTokenResponse",value:function(e){return ht(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ht(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ht(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Be);function Rr(e){return Kt(e.auth,new Ar(e),e.bypassAuthState)}function Or(e){var t=e.auth,n=e.user;return D(n,t,"internal-error"),Bt(n,new Ar(e),e.bypassAuthState)}function Nr(e){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,m.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,r=t.user,e.abrupt("return",(D(r,n,"internal-error"),qt(r,new Ar(t),t.bypassAuthState)));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Dr=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return f(e,[{key:"execute",value:function(){var e,t=this;return new Promise((e=(0,m.Z)(regeneratorRuntime.mark(function e(n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.pendingPromise={resolve:n,reject:r},e.prev=1,e.next=4,t.resolver._initialize(t.auth);case 4:return t.eventManager=e.sent,e.next=7,t.onExecution();case 7:t.eventManager.registerConsumer(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.reject(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])})),function(t,n){return e.apply(this,arguments)}))}},{key:"onAuthEvent",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r,i,o,a,u,s,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.urlResponse,i=e.sessionId,o=e.postBody,a=e.tenantId,u=e.error,s=e.type,!u){n.next=3;break}return n.abrupt("return",void t.reject(u));case 3:return c={auth:t.auth,requestUri:r,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState},n.prev=4,n.t0=t,n.next=8,t.getIdpTask(s)(c);case 8:n.t1=n.sent,n.t0.resolve.call(n.t0,n.t1),n.next=15;break;case 12:n.prev=12,n.t2=n.catch(4),t.reject(n.t2);case 15:case"end":return n.stop()}},n,null,[[4,12]])}))()}},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rr;case"linkViaPopup":case"linkViaRedirect":return Nr;case"reauthViaPopup":case"reauthViaRedirect":return Or;default:A(this.auth,"internal-error")}}},{key:"resolve",value:function(e){M(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){M(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Lr=new j(2e3,1e4);function Mr(){return(Mr=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=qe(t),N(t,n,Tt),o=Er(i,r),e.abrupt("return",new Vr(i,"signInViaPopup",n,o).executeNotNull());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fr(){return(Fr=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return N((i=(0,k.m9)(t)).auth,n,Tt),o=Er(i.auth,r),e.abrupt("return",new Vr(i.auth,"reauthViaPopup",n,o,i).executeNotNull());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ur(){return(Ur=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return N((i=(0,k.m9)(t)).auth,n,Tt),o=Er(i.auth,r),e.abrupt("return",new Vr(i.auth,"linkViaPopup",n,o,i).executeNotNull());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Vr=function(){var e=function(e){d(n,e);var t=p(n);function n(e,r,i,o,a){var u;return h(this,n),(u=t.call(this,e,r,o,a)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=g(u),u}return f(n,[{key:"executeNotNull",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.execute();case 2:return n=t.sent,t.abrupt("return",(D(n,e.auth,"internal-error"),n));case 4:case"end":return t.stop()}},t)}))()}},{key:"onExecution",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return M(1===e.filter.length,"Popup operations only handle one event"),n=Hn(),t.next=4,e.resolver._openPopup(e.auth,e.provider,e.filter[0],n);case 4:e.authWindow=t.sent,e.authWindow.associatedEvent=n,e.resolver._originValidation(e.auth).catch(function(t){e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,function(t){t||e.reject(R(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation();case 9:case"end":return t.stop()}},t)}))()}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(R(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;e.pollId=(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?window.setTimeout(function(){e.pollId=null,e.reject(R(e.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,Lr.get())}()}}]),n}(Dr);return e.currentPopupAction=null,e}(),Zr=new Map,qr=function(e){d(n,e);var t=p(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o)).eventId=null,i}return f(n,[{key:"execute",value:function(){var e=this,t=this;return(0,m.Z)(regeneratorRuntime.mark(function r(){var o,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=Zr.get(t.auth._key())){r.next=20;break}return r.prev=2,r.next=5,function(e,t){return jr.apply(this,arguments)}(t.resolver,t.auth);case 5:if(!r.sent){r.next=11;break}return r.next=8,i(b(n.prototype),"execute",e).call(t);case 8:r.t0=r.sent,r.next=12;break;case 11:r.t0=null;case 12:a=r.t0,o=function(){return Promise.resolve(a)},r.next=19;break;case 16:r.prev=16,r.t1=r.catch(2),o=function(){return Promise.reject(r.t1)};case 19:Zr.set(t.auth._key(),o);case 20:return r.abrupt("return",o());case 21:case"end":return r.stop()}},r,null,[[2,16]])}))()}},{key:"onAuthEvent",value:function(e){var t=this,r=function(){return i(b(n.prototype),"onAuthEvent",t)},o=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("signInViaRedirect"!==e.type){t.next=2;break}return t.abrupt("return",r().call(o,e));case 2:if("unknown"===e.type){t.next=12;break}if(!e.eventId){t.next=10;break}return t.next=6,o.auth._redirectUserForId(e.eventId);case 6:if(!(n=t.sent)){t.next=9;break}return t.abrupt("return",(o.user=n,r().call(o,e)));case 9:o.resolve(null);case 10:t.next=13;break;case 12:o.resolve(null);case 13:case"end":return t.stop()}},t)}))()}},{key:"onExecution",value:function(){return(0,m.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()}},{key:"cleanUp",value:function(){}}]),n}(Dr);function jr(){return(jr=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gr(n),e.next=3,Br(t)._get(r);case 3:return e.t0=e.sent,i="true"===e.t0,e.next=7,Br(t)._remove(r);case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zr(e,t){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t)._set(Gr(n),"true"));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Br(e){return U(e._redirectPersistence)}function Gr(e){return Ce("pendingRedirect",e.config.apiKey,e.name)}function Kr(){return(Kr=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=qe(t),N(t,n,Tt),o=Er(i,r),e.next=5,zr(o,i);case 5:return e.abrupt("return",o._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Wr(){return(Wr=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return N((i=(0,k.m9)(t)).auth,n,Tt),o=Er(i.auth,r),e.next=5,zr(o,i.auth);case 5:return e.next=7,Xr(i);case 7:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"reauthViaRedirect",a));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Jr(){return(Jr=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return N((i=(0,k.m9)(t)).auth,n,Tt),o=Er(i.auth,r),e.next=5,zt(!1,i,n.providerId);case 5:return e.next=7,zr(o,i.auth);case 7:return e.next=9,Xr(i);case 9:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"linkViaRedirect",a));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yr(){return(Yr=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(t)._initializationPromise;case 2:return e.abrupt("return",Qr(t,n,!1));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qr(e,t){return $r.apply(this,arguments)}function $r(){return($r=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=qe(t),o=Er(i,n),e.next=5,new qr(i,o,r).execute();case 5:if(a=e.sent,e.t0=a&&!r,!e.t0){e.next=13;break}return delete a.user._redirectEventId,e.next=11,i._persistUserIfCurrent(a.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xr(e){return ei.apply(this,arguments)}function ei(){return(ei=(0,m.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hn("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ti=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return f(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach(function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ri(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ri(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(R(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ni(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ni(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ni(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(function(e){return e}).join("-")}function ri(e){var t=e.type,n=e.error;return"unknown"===t&&"auth/no-auth-event"===(null==n?void 0:n.code)}function ii(e){return oi.apply(this,arguments)}function oi(){return(oi=(0,m.Z)(regeneratorRuntime.mark(function e(t){var n,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",W(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ai=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ui=/^https?/;function si(){return(si=(0,m.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ii(t);case 4:n=e.sent,r=n.authorizedDomains,i=u(r),e.prev=7,i.s();case 9:if((o=i.n()).done){e.next=20;break}if(a=o.value,e.prev=11,!ci(a)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:A(t,"unauthorized-domain");case 29:case"end":return e.stop()}},e,null,[[7,22,25,28],[11,16]])}))).apply(this,arguments)}function ci(e){var t=V(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var o=new URL(e);return""===o.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&o.hostname===i}if(!ui.test(r))return!1;if(ai.test(e))return i===e;var a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}var li=new j(3e4,6e4);function fi(){var e=Gn().___jsl;if(null==e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=o(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var hi=null;function di(e){return hi=hi||function(e){return new Promise(function(t,n){var r,i,o;function a(){fi(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){fi(),n(R(e,"network-request-failed"))},timeout:li.get()})}if(null===(i=null===(r=Gn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Gn().gapi)||void 0===o?void 0:o.load)){var u=cr("iframefcb");return Gn()[u]=function(){gapi.load?a():n(R(e,"network-request-failed"))},sr("https://apis.google.com/js/api.js?onload=".concat(u))}a()}}).catch(function(e){throw hi=null,e})}(e)}var pi=new j(5e3,15e3),vi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},gi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mi(e){var t=e.config;D(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?z(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:w.SDK_VERSION},i=gi.get(e.config.apiHost);i&&(r.eid=i);var o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat((0,k.xO)(r).slice(1))}function yi(){return(yi=(0,m.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,di(t);case 2:return n=e.sent,r=Gn().gapi,e.abrupt("return",(D(r,t,"internal-error"),n.open({where:document.body,url:mi(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vi,dontclear:!0},function(e){return new Promise((n=(0,m.Z)(regeneratorRuntime.mark(function n(r,i){var o,a,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Gn().clearTimeout(a),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=R(t,"network-request-failed"),a=Gn().setTimeout(function(){i(o)},pi.get()),e.ping(u).then(u,function(){i(o)});case 5:case"end":return n.stop()}},n)})),function(e,t){return n.apply(this,arguments)}));var n})));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ki={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wi=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return f(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function bi(e,n,r,i,o,a){D(e.config.authDomain,e,"auth-domain-config-required"),D(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:i,v:w.SDK_VERSION,eventId:o};if(n instanceof Tt){n.setDefaultLanguage(e.languageCode),u.providerId=n.providerId||"",(0,k.xb)(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=t(c[s],2),f=l[0],h=l[1];u[f]=h}}if(n instanceof It){var d=n.getScopes().filter(function(e){return""!==e});d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,g=Object.keys(p);v<g.length;v++){var m=g[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;return t.emulator?z(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/__/auth/handler")}(e),"?").concat((0,k.xO)(p).slice(1))}var _i,xi="webStorageSupport",Ti=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return f(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return W(e,"POST","/v2/accounts/mfaEnrollment:finalize",K(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return W(e,"POST","/v2/accounts/mfaSignIn:finalize",K(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){h(this,e),this.factorId=t}return f(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return L("unexpected MultiFactorSessionType")}}}]),e}()),Ii=function(){var e=function(){function e(){h(this,e)}return f(e,null,[{key:"assertion",value:function(e){return Ti._fromCredential(e)}}]),e}();return e.FACTOR_ID="phone",e}(),Si="@firebase/auth",Ci=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return f(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.assertAuthConfigured(),n.next=3,t.auth._initializationPromise;case 3:if(!t.auth.currentUser){n.next=10;break}return n.next=6,t.auth.currentUser.getIdToken(e);case 6:n.t1=n.sent,n.t0={accessToken:n.t1},n.next=11;break;case 10:n.t0=null;case 11:return n.abrupt("return",n.t0);case 12:case"end":return n.stop()}},n)}))()}},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged(function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ei(){return window}function Ai(){return(Ai=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ei(),a=o.BuildInfo,M(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Ni(n.sessionId);case 4:return u=e.sent,s={},e.abrupt("return",(Fe()?s.ibi=a.packageName:De()?s.apn=a.packageName:A(t,"operation-not-supported-in-this-environment"),a.displayName&&(s.appDisplayName=a.displayName),s.sessionId=u,bi(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s)));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ri(){return(Ri=(0,m.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ei(),r=n.BuildInfo,i={},Fe()?i.iosBundleId=r.packageName:De()?i.androidPackageName=r.packageName:A(t,"operation-not-supported-in-this-environment"),e.next=4,ii(t,i);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Oi(){return(Oi=(0,m.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ei(),o=i.cordova,a=function(){},e.prev=2,e.next=5,new Promise(function(e,i){var u=null;function s(){var t;e();var n=null===(t=o.plugins.browsertab)||void 0===t?void 0:t.close;"function"==typeof n&&n(),"function"==typeof(null==r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout(function(){i(R(t,"redirect-cancelled-by-user"))},2e3))}function l(){"visible"===(null==document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),De()&&document.addEventListener("visibilitychange",l,!1),a=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}});case 5:return e.prev=5,a(),e.finish(5);case 8:case"end":return e.stop()}},e,null,[[2,,5,8]])}))).apply(this,arguments)}function Ni(e){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,m.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Di(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,e.abrupt("return",Array.from(new Uint8Array(r)).map(function(e){return e.toString(16).padStart(2,"0")}).join(""));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Di(e){if(M(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}_i="Browser",(0,w._registerComponent)(new T.wA("auth",function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,o=i.apiKey,a=i.authDomain;return function(e){D(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),D(!(null==a?void 0:a.includes(":")),"argument-error",{appName:e.name});var t={apiKey:o,authDomain:a,clientPlatform:_i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ve(_i)},r=new Ze(e,t);return function(e,t){var n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(U);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(r,n),r}(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider("auth-internal").initialize()})),(0,w._registerComponent)(new T.wA("auth-internal",function(e){var t=qe(e.getProvider("auth").getImmediate());return new Ci(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,w.registerVersion)(Si,"0.18.3",void 0),(0,w.registerVersion)(Si,"0.18.3","esm2017");var Li=function(e){d(n,e);var t=p(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise(function(t){e.resolveInialized=t}),e}return f(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach(function(t){return t(e)}),i(b(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initPromise;case 2:case"end":return t.stop()}},t)}))()}}]),n}(ti);function Mi(e){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,m.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vi()._get(Zi(t));case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=7;break}return e.next=7,Vi()._remove(Zi(t));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ui(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Vi(){return U(qn)}function Zi(e){return Ce("authEvent",e.config.apiKey,e.name)}function qi(e){if(!(null==e?void 0:e.includes("?")))return{};var t,i=e.split("?"),o=r(t=i)||a(t)||s(t)||n(),u=(o[0],o.slice(1));return(0,k.zd)(u.join("?"))}function ji(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:R("no-auth-event")}}function zi(){var e;return(null===(e=null==self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return!("file:"!==zi()&&"ionic:"!==zi()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bi(){try{var e=self.localStorage,t=Hn();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/Edge\/\d+/.test(e)}(e)}()||(0,k.hl)()}catch(_i){return Gi()&&(0,k.hl)()}return!1}function Gi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ki(){return("http:"===zi()||"https:"===zi()||(0,k.ru)()||Hi())&&!((0,k.b$)()||(0,k.UG)())&&Bi()&&!Gi()}function Wi(){return Hi()&&"undefined"!=typeof document}function Ji(){return(Ji=(0,m.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!!Wi()&&new Promise(function(e){var t=setTimeout(function(){e(!1)},1e3);document.addEventListener("deviceready",function(){clearTimeout(t),e(!0)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Yi={LOCAL:"local",NONE:"none",SESSION:"session"},Qi=D,$i="persistence";function Xi(e){return eo.apply(this,arguments)}function eo(){return(eo=(0,m.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=to(),r=Ce($i,t.config.apiKey,t.name),(null==n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function to(){return"undefined"!=typeof window?window:null}var no=D,ro=function(){function e(){h(this,e),this.browserResolver=U(function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jn,this._completeRedirectFn=Qr}return f(e,[{key:"_openPopup",value:function(e,n,r,i){var o=this;return(0,m.Z)(regeneratorRuntime.mark(function a(){var u,s;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return M(null===(u=o.eventManagers[e._key()])||void 0===u?void 0:u.manager,"_initialize() not called before _openPopup()"),s=bi(e,n,r,V(),i),a.abrupt("return",function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString(),s="",c=Object.assign(Object.assign({},ki),{width:i.toString(),height:o.toString(),top:a,left:u}),l=(0,k.z$)().toLowerCase();r&&(s=Ne(l)?"_blank":r),Re(l)&&(n=n||"http://localhost",c.scrollbars="yes");var f=Object.entries(c).reduce(function(e,n){var r=t(n,2),i=r[0],o=r[1];return"".concat(e).concat(i,"=").concat(o,",")},"");if(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return Fe(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(n||"",s),new wi(null);var h=window.open(n||"",s,f);D(h,e,"popup-blocked");try{h.focus()}catch(d){}return new wi(h)}(e,s,Hn()));case 3:case"end":return a.stop()}},a)}))()}},{key:"_openRedirect",value:function(e,t,n,r){var i=this;return(0,m.Z)(regeneratorRuntime.mark(function o(){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i._originValidation(e);case 2:return a=bi(e,t,n,V(),r),Gn().location.href=a,o.abrupt("return",new Promise(function(){}));case 5:case"end":return o.stop()}},o)}))()}},{key:"_initialize",value:function(e){var t=e._key();if(this.eventManagers[t]){var n=this.eventManagers[t],r=n.manager,i=n.promise;return r?Promise.resolve(r):(M(i,"If manager is not set, promise should be"),i)}var o=this.initAndGetManager(e);return this.eventManagers[t]={promise:o},o}},{key:"initAndGetManager",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,function(e){return yi.apply(this,arguments)}(e);case 2:return r=n.sent,i=new ti(e),n.abrupt("return",(r.register("authEvent",function(t){return D(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:i.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i));case 5:case"end":return n.stop()}},n)}))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(xi,{type:xi},function(n){var r,i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[xi];void 0!==i&&t(!!i),A(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return si.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ue()||Oe()||Fe()}}]),e}()),this.cordovaResolver=U(function(){function e(){h(this,e),this._redirectPersistence=jn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Qr}return f(e,[{key:"_initialize",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e._key(),i=t.eventManagers.get(r),n.abrupt("return",(i||(i=new Li(e),t.eventManagers.set(r,i),t.attachCallbackListeners(e,i)),i));case 3:case"end":return n.stop()}},n)}))()}},{key:"_openPopup",value:function(e){A(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(e,t,n,r){var i=this;return(0,m.Z)(regeneratorRuntime.mark(function o(){var a,u,s,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return function(e){var t,n,r,i,o,a,u,s,c,l,f=Ei();D("function"==typeof(null===(t=null==f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),D(void 0!==(null===(n=null==f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),D("function"==typeof(null===(o=null===(i=null===(r=null==f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D("function"==typeof(null===(s=null===(u=null===(a=null==f?void 0:f.cordova)||void 0===a?void 0:a.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D("function"==typeof(null===(l=null===(c=null==f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e),o.next=3,i._initialize(e);case 3:return a=o.sent,o.next=6,a.initialized();case 6:return a.resetRedirect(),Zr.clear(),o.next=10,i._originValidation(e);case 10:return u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Ui(),postBody:null,tenantId:e.tenantId,error:R(e,"no-auth-event")}}(e,n,r),o.next=13,function(e,t){return Vi()._set(Zi(e),t)}(e,u);case 13:return o.next=15,function(e,t,n){return Ai.apply(this,arguments)}(e,u,t);case 15:return s=o.sent,o.next=18,function(e){var t=Ei().cordova;return new Promise(function(n){t.plugins.browsertab.isAvailable(function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,k.z$)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(s);case 18:return c=o.sent,o.abrupt("return",function(e,t,n){return Oi.apply(this,arguments)}(e,a,c));case 20:case"end":return o.stop()}},o)}))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ri.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n,r=Ei(),i=r.universalLinks,o=r.handleOpenURL,a=r.BuildInfo,u=setTimeout((0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Mi(e);case 2:t.onEvent(ji());case 3:case"end":return n.stop()}},n)})),500),s=(n=(0,m.Z)(regeneratorRuntime.mark(function n(r){var i,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(u),n.next=3,Mi(e);case 3:i=n.sent,o=null,i&&(null==r?void 0:r.url)&&(o=function(e,t){var n,r,i=function(e){var t=qi(e),n=t.link?decodeURIComponent(t.link):void 0,r=qi(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return qi(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var o=qi(i),a=o.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(o.firebaseError)):null,u=null===(r=null===(n=null==a?void 0:a.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?R(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(i,r.url)),t.onEvent(o||ji());case 6:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)});void 0!==i&&"function"==typeof i.subscribe&&i.subscribe(null,s);var c=o,l="".concat(a.packageName.toLowerCase(),"://");Ei().handleOpenURL=function(){var e=(0,m.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&s({url:t}),"function"==typeof c)try{c(t)}catch(n){console.error(n)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}]),e}()),this.underlyingResolver=null,this._redirectPersistence=jn,this._completeRedirectFn=Qr}return f(e,[{key:"_initialize",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.selectUnderlyingResolver();case 2:return n.abrupt("return",t.assertedUnderlyingResolver._initialize(e));case 3:case"end":return n.stop()}},n)}))()}},{key:"_openPopup",value:function(e,t,n,r){var i=this;return(0,m.Z)(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i.selectUnderlyingResolver();case 2:return o.abrupt("return",i.assertedUnderlyingResolver._openPopup(e,t,n,r));case 3:case"end":return o.stop()}},o)}))()}},{key:"_openRedirect",value:function(e,t,n,r){var i=this;return(0,m.Z)(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i.selectUnderlyingResolver();case 2:return o.abrupt("return",i.assertedUnderlyingResolver._openRedirect(e,t,n,r));case 3:case"end":return o.stop()}},o)}))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Wi()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return no(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.underlyingResolver){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,function(){return Ji.apply(this,arguments)}();case 4:n=t.sent,e.underlyingResolver=n?e.cordovaResolver:e.browserResolver;case 6:case"end":return t.stop()}},t)}))()}}]),e}();function io(e){return e.unwrap()}function oo(e){return ao(e)}function ao(e){var t=(e instanceof k.ZR?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof k.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return Cr.credentialFromResult(e);var n,r=t.providerId;if(!r||"password"===r)return null;switch(r){case"google.com":n=Et;break;case"facebook.com":n=Ct;break;case"github.com":n=At;break;case"twitter.com":n=Ot;break;default:var i=t.oauthIdToken,o=t.oauthAccessToken,a=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return o||a||i||u?u?r.startsWith("saml.")?Rt._create(r,u):pt._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:o}):new St(r).credential({idToken:i,accessToken:o,rawNonce:s}):null}return e instanceof k.ZR?n.credentialFromError(e):n.credentialFromResult(e)}function uo(e,t){return t.catch(function(t){throw t instanceof k.ZR&&function(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new lo(e,function(e,t){var n,r=(0,k.m9)(e),i=t;return D(t.operationType,r,"argument-error"),D(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ln._fromError(r,i)}(e,t));else if(r){var i=ao(t),o=t;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(function(e){var t=e.user;return{operationType:e.operationType,credential:oo(e),additionalUserInfo:Pn(e),user:fo.getOrCreate(t)}})}function so(e,t){return co.apply(this,arguments)}function co(){return(co=(0,m.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return uo(t,r.confirm(e))}});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var lo=function(){function e(t,n){h(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return f(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return uo(io(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),fo=function(){function e(t){h(this,e),this._delegate=t,this.multiFactor=function(e){var t=(0,k.m9)(e);return Un.has(t)||Un.set(t,Fn._fromUser(t)),Un.get(t)}(t)}return f(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",uo(t.auth,Qt(t._delegate,e)));case 1:case"end":return n.stop()}},n)}))()}},{key:"linkWithPhoneNumber",value:function(e,t){var n=this;return(0,m.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",so(n.auth,function(e,t,n){return _r.apply(this,arguments)}(n._delegate,e,t)));case 1:case"end":return r.stop()}},r)}))()}},{key:"linkWithPopup",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",uo(t.auth,function(e,t,n){return Ur.apply(this,arguments)}(t._delegate,e,ro)));case 1:case"end":return n.stop()}},n)}))()}},{key:"linkWithRedirect",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Xi(qe(t.auth));case 2:return n.abrupt("return",function(e,t,n){return function(e,t,n){return Jr.apply(this,arguments)}(e,t,n)}(t._delegate,e,ro));case 3:case"end":return n.stop()}},n)}))()}},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",uo(t.auth,Xt(t._delegate,e)));case 1:case"end":return n.stop()}},n)}))()}},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return so(this.auth,function(e,t,n){return xr.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return uo(this.auth,function(e,t,n){return Fr.apply(this,arguments)}(this._delegate,e,ro))}},{key:"reauthenticateWithRedirect",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Xi(qe(t.auth));case 2:return n.abrupt("return",function(e,t,n){return function(e,t,n){return Wr.apply(this,arguments)}(e,t,n)}(t._delegate,e,ro));case 3:case"end":return n.stop()}},n)}))()}},{key:"sendEmailVerification",value:function(e){return function(e,t){return wn.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,function(e,t){return Zt.apply(this,arguments)}(t._delegate,e);case 2:return n.abrupt("return",t);case 3:case"end":return n.stop()}},n)}))()}},{key:"updateEmail",value:function(e){return function(e,t){return In((0,k.m9)(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return In((0,k.m9)(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Sr.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Tn.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return bn.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();fo.USER_MAP=new WeakMap;var ho=D,po=function(){var e=function(){function e(t,n){if(h(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;ho(r,"invalid-api-key",{appName:t.name});var i=[Se];if("undefined"!=typeof window){i=function(e,t){var n=to();if(!(null==n?void 0:n.sessionStorage))return[];var r=Ce($i,e,t);switch(n.sessionStorage.getItem(r)){case Yi.NONE:return[Se];case Yi.LOCAL:return[or,jn];case Yi.SESSION:return[jn];default:return[]}}(r,t.name);for(var o=0,a=[or,qn,jn];o<a.length;o++){var u=a[o];i.includes(u)||i.push(u)}}ho(r,"invalid-api-key",{appName:t.name});var s="undefined"!=typeof window?ro:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:s}}),this._delegate._updateErrorMap(I),this.linkUnderlyingAuth()}return f(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?fo.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,n){!function(e,n,r){var i=qe(e);D(i._canInitEmulator,i,"emulator-config-failed"),D(/^https?:\/\//.test(n),i,"invalid-emulator-scheme");var o=!!(null==r?void 0:r.disableWarnings),a=ze(n),u=function(e){var n=ze(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(n.length));if(!r)return{host:"",port:null};var i=r[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){var a=o[1];return{host:a,port:He(i.substr(a.length+1))}}var u=t(i.split(":"),2);return{host:u[0],port:He(u[1])}}(n),s=u.host,c=u.port;i.config.emulator={url:"".concat(a,"//").concat(s).concat(null===c?"":":".concat(c),"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,n)}},{key:"applyActionCode",value:function(e){return function(e,t){return ln.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return fn(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return cn.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(e,t){var n=this;return(0,m.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",uo(n._delegate,function(e,t,n){return pn.apply(this,arguments)}(n._delegate,e,t)));case 1:case"end":return r.stop()}},r)}))()}},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return kn.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=_t.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}},{key:"getRedirectResult",value:function(){var e=this;return(0,m.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ho(Ki(),e._delegate,"operation-not-supported-in-this-environment"),t.next=3,function(e,t){return Yr.apply(this,arguments)}(e._delegate,ro);case 3:return n=t.sent,t.abrupt("return",n?uo(e._delegate,Promise.resolve(n)):{credential:null,user:null});case 5:case"end":return t.stop()}},t)}))()}},{key:"addFrameworkForLogging",value:function(e){!function(e,t){qe(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=vo(e,t,n),i=r.next,o=r.error,a=r.complete;return this._delegate.onAuthStateChanged(i,o,a)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=vo(e,t,n),i=r.next,o=r.error,a=r.complete;return this._delegate.onIdTokenChanged(i,o,a)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return vn.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return sn.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=(function(e,t){Qi(Object.values(Yi).includes(t),e,"invalid-persistence-type"),(0,k.b$)()?Qi(t!==Yi.SESSION,e,"unsupported-persistence-type"):(0,k.UG)()?Qi(t===Yi.NONE,e,"unsupported-persistence-type"):Gi()?Qi(t===Yi.NONE||t===Yi.LOCAL&&(0,k.hl)(),e,"unsupported-persistence-type"):Qi(t===Yi.NONE||Bi(),e,"unsupported-persistence-type")}(t._delegate,e),e),n.next=n.t0===Yi.SESSION?3:n.t0===Yi.LOCAL?5:n.t0===Yi.NONE?14:16;break;case 3:return r=jn,n.abrupt("break",17);case 5:return n.next=7,U(or)._isAvailable();case 7:if(!n.sent){n.next=11;break}n.t1=or,n.next=12;break;case 11:n.t1=qn;case 12:return r=n.t1,n.abrupt("break",17);case 14:return r=Se,n.abrupt("break",17);case 16:return n.abrupt("return",A("argument-error",{appName:t._delegate.name}));case 17:return n.abrupt("return",t._delegate.setPersistence(r));case 18:case"end":return n.stop()}},n)}))()}},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return uo(this._delegate,function(e){return Mt.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return uo(this._delegate,Jt(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return uo(this._delegate,function(e,t){return rn.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return uo(this._delegate,function(e,t,n){return Jt((0,k.m9)(e),xt.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return uo(this._delegate,function(e,t,n){return gn.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return so(this._delegate,function(e,t,n){return br.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(ho(Ki(),t._delegate,"operation-not-supported-in-this-environment"),uo(t._delegate,function(e,t,n){return Mr.apply(this,arguments)}(t._delegate,e,ro))));case 1:case"end":return n.stop()}},n)}))()}},{key:"signInWithRedirect",value:function(e){var t=this;return(0,m.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return ho(Ki(),t._delegate,"operation-not-supported-in-this-environment"),n.next=3,Xi(t._delegate);case 3:return n.abrupt("return",function(e,t,n){return function(e,t,n){return Kr.apply(this,arguments)}(e,t,n)}(t._delegate,e,ro));case 4:case"end":return n.stop()}},n)}))()}},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return dn.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();return e.Persistence=Yi,e}();function vo(e,t,n){var r,i=e;"function"!=typeof e&&(i=(r=e).next,t=r.error,n=r.complete);var o=i;return{next:function(e){return o(e&&fo.getOrCreate(e))},error:t,complete:n}}var go=function(){function e(){h(this,e),this.providerId="phone",this._delegate=new Cr(io(y.Z.auth()))}return f(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Cr.credential(e,t)}}]),e}();go.PHONE_SIGN_IN_METHOD=Cr.PHONE_SIGN_IN_METHOD,go.PROVIDER_ID=Cr.PROVIDER_ID;var mo=D,yo=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.Z.app();h(this,e),mo(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new kr(t,n,i.auth()),this.type=this._delegate.type}return f(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new T.wA("auth-compat",function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new po(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:xt,FacebookAuthProvider:Ct,GithubAuthProvider:At,GoogleAuthProvider:Et,OAuthProvider:St,PhoneAuthProvider:go,PhoneMultiFactorGenerator:Ii,RecaptchaVerifier:yo,TwitterAuthProvider:Ot,Auth:po,AuthCredential:Be,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.1.6")}(y.Z)},6676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,o=new Promise(function(o,a){n(i=e[t].apply(e,r)).then(o,a)});return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new l(e,i.request)})}function o(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function a(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function u(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function s(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),s(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new l(e,t._request)})})})}),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),s(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),u(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),u(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),u(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),u(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[f,c].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,f].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then(function(e){return new p(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},7574:function(e,t,n){"use strict";n.d(t,{y:function(){return l}});var r,i=n(7393),o=n(9181),a=n(6490),u=n(6554),s=n(4487),c=n(2494),l=((r=function(e){function t(e){h(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return f(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,u=function(e,t,n){if(e){if(e instanceof i.L)return e;if(e[o.b])return e[o.b]()}return e||t||n?new i.L(e,t,n):new i.L(a.c)}(e,t,n);if(u.add(r?r.call(u,this.source):this.source||c.v.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),c.v.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){c.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof i.L?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=d(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:e,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:function(e){return 0===e.length?s.y:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=d(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}}]),t}(u.L)).create=function(e){return new r(e)},r);function d(e){if(e||(e=c.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r=n(2494),i=n(4449),o={closed:!0,next:function(e){},error:function(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete:function(){}}},9765:function(e,t,n){"use strict";n.d(t,{Yc:function(){return v},xQ:function(){return g}});var r,o=n(7574),a=n(7393),u=n(5319),s=n(7971),c=n(8858),l=n(9181),v=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).destination=e,r}return n}(a.L),g=((r=function(e,t){d(r,e);var n=p(r);function r(){var e;return h(this,r),(e=n.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return f(r,[{key:t,value:function(){return new v(this)}},{key:"lift",value:function(e){var t=new m(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new s.N;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new s.N;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new s.N;return i(b(r.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new s.N;return this.hasError?(e.error(this.thrownError),u.w.EMPTY):this.isStopped?(e.complete(),u.w.EMPTY):(this.observers.push(e),new c.W(this,e))}},{key:"asObservable",value:function(){var e=new o.y;return e.source=this,e}}]),r}(o.y,l.b)).create=function(e,t){return new m(e,t)},r),m=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).destination=e,i.source=r,i}return f(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):u.w.EMPTY}}]),n}(g)},8858:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});var r=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return f(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n(5319).w)},7393:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var r=n(9105),o=n(6490),a=n(5319),u=n(9181),s=n(2494),c=n(4449),l=function(e,t){d(r,e);var n=p(r);function r(e,t,i){var a;switch(h(this,r),(a=n.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.c;break;case 1:if(!e){a.destination=o.c;break}if("object"==typeof e){e instanceof r?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(g(a))):(a.syncErrorThrowable=!0,a.destination=new v(g(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new v(g(a),e,t,i)}return a}return f(r,[{key:t,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,i(b(r.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,n){var i=new r(e,t,n);return i.syncErrorThrowable=!1,i}}]),r}(a.w,u.b),v=function(e){d(n,e);var t=p(n);function n(e,i,a,u){var s;h(this,n),(s=t.call(this))._parentSubscriber=e;var c,l=g(s);return(0,r.m)(i)?c=i:i&&(c=i.next,a=i.error,u=i.complete,i!==o.c&&(l=Object.create(i),(0,r.m)(l.unsubscribe)&&s.add(l.unsubscribe.bind(l)),l.unsubscribe=s.unsubscribe.bind(g(s)))),s._context=l,s._next=c,s._error=a,s._complete=u,s}return f(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.z)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,c.z)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(l)},5319:function(e,t,n){"use strict";n.d(t,{w:function(){return s}});var r,i=n(9796),o=n(1555),a=n(9105),u=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),s=function(){function e(t){h(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return f(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,s=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f)n[f].remove(this);if((0,a.m)(s)){r&&(this._unsubscribe=void 0);try{s.call(this)}catch(f){t=f instanceof u?c(f.errors):[f]}}if((0,i.k)(l))for(var h=-1,d=l.length;++h<d;){var p=l[h];if((0,o.K)(p))try{p.unsubscribe()}catch(v){t=t||[],v instanceof u?t=t.concat(c(v.errors)):t.push(v)}}if(t)throw new u(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}();function c(e){return e.reduce(function(e,t){return e.concat(t instanceof u?t.errors:t)},[])}s.EMPTY=((r=new s).closed=!0,r)},2494:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:function(e,t,n){"use strict";n.d(t,{IY:function(){return a},Ds:function(){return u},ft:function(){return s}});var r=n(7393),i=n(7574),o=n(7444),a=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this)).parent=e,r}return f(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.L),u=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.L);function s(e,t){if(!t.closed){if(e instanceof i.y)return e.subscribe(t);var n;try{n=(0,o.s)(e)(t)}catch(r){t.error(r)}return n}}},2441:function(e,t,n){"use strict";n.d(t,{c:function(){return c},N:function(){return l}});var r,o=n(9765),a=n(7574),u=n(5319),s=n(1307),c=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return f(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new u.w).add(this.source.subscribe(new v(this.getSubject(),this))),e.closed&&(this._connection=null,e=u.w.EMPTY)),e}},{key:"refCount",value:function(){return(0,s.x)()(this)}}]),n}(a.y),l={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=c.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},v=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).connectable=r,i}return f(n,[{key:"_error",value:function(e){this._unsubscribe(),i(b(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),i(b(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(o.Yc)},9193:function(e,t,n){"use strict";n.d(t,{E:function(){return i},c:function(){return o}});var r=n(7574),i=new r.y(function(e){return e.complete()});function o(e){return e?function(e){return new r.y(function(t){return e.schedule(function(){return t.complete()})})}(e):i}},4402:function(e,t,n){"use strict";n.d(t,{D:function(){return f}});var r=n(7574),i=n(7444),o=n(5319),a=n(6554),u=n(4087),s=n(377),c=n(4072),l=n(9489);function f(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[a.L]}(e))return function(e,t){return new r.y(function(n){var r=new o.w;return r.add(t.schedule(function(){var i=e[a.L]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(function(n){var r=new o.w;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}(e,t);if((0,l.z)(e))return(0,u.r)(e,t);if(function(e){return e&&"function"==typeof e[s.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(function(n){var r,i=new o.w;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(function(){r=e[s.hZ](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},6693:function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var r=n(7574),i=n(5015),o=n(4087);function a(e,t){return t?(0,o.r)(e,t):new r.y((0,i.V)(e))}},6682:function(e,t,n){"use strict";n.d(t,{T:function(){return u}});var r=n(7574),i=n(4869),o=n(3282),a=n(6693);function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var u=Number.POSITIVE_INFINITY,s=null,c=t[t.length-1];return(0,i.K)(c)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(u=t.pop())):"number"==typeof c&&(u=t.pop()),null===s&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(u)((0,a.n)(t,s))}},5917:function(e,t,n){"use strict";n.d(t,{of:function(){return a}});var r=n(4869),i=n(6693),o=n(4087);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[t.length-1];return(0,r.K)(a)?(t.pop(),(0,o.r)(t,a)):(0,i.n)(t)}},8002:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(7393);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){h(this,e),this.project=t,this.thisArg=n}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))}}]),e}(),a=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||g(o),o}return f(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.L)},3282:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(9773),i=n(4487);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return(0,r.zg)(i.y,e)}},9773:function(e,t,n){"use strict";n.d(t,{zg:function(){return a}});var r=n(8002),i=n(4402),o=n(5345);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(o){return o.pipe(a(function(n,o){return(0,i.D)(e(n,o)).pipe((0,r.U)(function(e,r){return t(n,e,o,r)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new u(e,n))})}var u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;h(this,e),this.project=t,this.concurrent=n}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.project,this.concurrent))}}]),e}(),s=function(e){d(n,e);var t=p(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return h(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return f(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new o.IY(this),n=this.destination;n.add(t);var r=(0,o.ft)(e,t);r!==t&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.Ds)},309:function(e,t,n){"use strict";n.d(t,{ht:function(){return l},QV:function(){return s}});var r=n(7393),i=n(9193),o=n(5917),a=n(7574),u=function(){function e(t,n,r){h(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return f(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return e=this.error,new a.y(function(t){return t.error(e)});case"C":return(0,i.c)()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new c(e,t))}}u.completeNotification=new u("C"),u.undefinedValueNotification=new u("N",void 0);var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,e),this.scheduler=t,this.delay=n}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))}}]),e}(),l=function(e){d(n,e);var t=p(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return h(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return f(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new v(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(u.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(u.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(r.L),v=function e(t,n){h(this,e),this.notification=t,this.destination=n}},1307:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(7393);function i(){return function(e){return e.lift(new o(e))}}var o=function(){function e(t){h(this,e),this.connectable=t}return f(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new a(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),a=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).connectable=r,i}return f(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}else this.connection=null}}]),n}(r.L)},3101:function(e,t,n){"use strict";n.d(t,{R:function(){return k}});var r=n(7574),o=1,a=Promise.resolve(),u={};function s(e){return e in u&&(delete u[e],!0)}var c=function(e){var t=o++;return u[t]=!0,a.then(function(){return s(t)&&e()}),t},l=function(e){s(e)},v=n(6465),g=new(function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n(6102).v))(function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return f(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?i(b(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=c(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return i(b(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(l(t),e.scheduled=void 0)}}]),n}(v.o)),m=n(9796),y=function(e){d(n,e);var t=p(n);function n(e){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return h(this,n),(r=t.call(this)).source=e,r.delayTime=o,r.scheduler=a,(!(!(0,m.k)(i=o)&&i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),(!a||"function"!=typeof a.schedule)&&(r.scheduler=g),r}return f(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(r.y);function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new w(e,t))}}var w=function(){function e(t,n){h(this,e),this.scheduler=t,this.delay=n}return f(e,[{key:"call",value:function(e,t){return new y(t,this.delay,this.scheduler).subscribe(e)}}]),e}()},3342:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(7393);function i(){}var o=n(9105);function a(e,t,n){return function(r){return r.lift(new u(e,t,n))}}var u=function(){function e(t,n,r){h(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),s=function(e){d(n,e);var t=p(n);function n(e,r,a,u){var s;return h(this,n),(s=t.call(this,e))._tapNext=i,s._tapError=i,s._tapComplete=i,s._tapError=a||i,s._tapComplete=u||i,(0,o.m)(r)?(s._context=g(s),s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||i,s._tapError=r.error||i,s._tapComplete=r.complete||i),s}return f(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(r.L)},4087:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var r=n(7574),i=n(5319);function o(e,t){return new r.y(function(n){var r=new i.w,o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});var r=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return f(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){d(n,e);var t=p(n);function n(e,r){return h(this,n),t.call(this)}return f(n,[{key:"schedule",value:function(e){return this}}]),n}(n(5319).w))},6102:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r,o=((r=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;h(this,e),this.SchedulerAction=t,this.now=n}return f(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}()).now=function(){return Date.now()},r),a=function(e){d(n,e);var t=p(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.now;return h(this,n),(r=t.call(this,e,function(){return n.delegate&&n.delegate!==g(r)?n.delegate.now():i()})).actions=[],r.active=!1,r.scheduled=void 0,r}return f(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):i(b(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(o)},3637:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(6465),i=new(n(6102).v)(r.o)},7771:function(e,t,n){"use strict";n.d(t,{c:function(){return a},N:function(){return o}});var r=n(6465),o=new(function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return n}(n(6102).v))(function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return f(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?i(b(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?i(b(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?i(b(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(r.o)),a=o},377:function(e,t,n){"use strict";n.d(t,{hZ:function(){return r}});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},4449:function(e,t,n){"use strict";function r(e){setTimeout(function(){throw e},0)}n.d(t,{z:function(){return r}})},4487:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},9796:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},9489:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},9105:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},1555:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:function(){return r}})},4072:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:function(){return r}})},4869:function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:function(){return r}})},7444:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var r=n(5015),i=n(4449),o=n(377),a=n(6554),u=n(9489),s=n(4072),c=n(1555),l=function(e){if(e&&"function"==typeof e[a.L])return function(e){return function(t){var n=e[a.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}(e);if((0,u.z)(e))return(0,r.V)(e);if((0,s.t)(e))return function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.z),t}}(e);if(e&&"function"==typeof e[o.hZ])return function(e){return function(t){for(var n=e[o.hZ]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}}(e);var t="You provided ".concat((0,c.K)(e)?"an invalid object":"'".concat(e,"'")," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.");throw new TypeError(t)}},5015:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},8950:function(n,r,a){"use strict";var s=a(3018),c=null;function l(){return c}var k=new s.OlP("DocumentToken"),w=function(){var e=function(){function e(){h(this,e)}return f(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,s.Yz7)({factory:_,token:e,providedIn:"platform"}),e}();function _(){return(0,s.LFG)(T)}var x=new s.OlP("Location Initialized"),T=function(){var e=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this))._doc=e,r._init(),r}return f(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return l().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){var t=l().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),function(){return t.removeEventListener("popstate",e)}}},{key:"onHashChange",value:function(e){var t=l().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),function(){return t.removeEventListener("hashchange",e)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){I()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){I()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(e)}},{key:"getState",value:function(){return this._history.state}}]),n}(w);return e.\u0275fac=function(t){return new(t||e)(s.LFG(k))},e.\u0275prov=(0,s.Yz7)({factory:S,token:e,providedIn:"platform"}),e}();function I(){return!!window.history.pushState}function S(){return new T((0,s.LFG)(k))}function C(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function E(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function A(e){return e&&"?"!==e[0]?"?"+e:e}var R=function(){var e=function(){function e(){h(this,e)}return f(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,s.Yz7)({factory:O,token:e,providedIn:"root"}),e}();function O(e){var t=(0,s.LFG)(k).location;return new P((0,s.LFG)(w),t&&t.origin||"")}var N=new s.OlP("appBaseHref"),P=function(){var e=function(e){d(n,e);var t=p(n);function n(e,r){var i;if(h(this,n),(i=t.call(this))._platformLocation=e,i._removeListenerFns=[],null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,v(i)}return f(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return C(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+A(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+A(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+A(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(R);return e.\u0275fac=function(t){return new(t||e)(s.LFG(w),s.LFG(N,8))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),D=function(){var e=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",i._removeListenerFns=[],null!=r&&(i._baseHref=r),i}return f(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=C(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+A(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+A(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(R);return e.\u0275fac=function(t){return new(t||e)(s.LFG(w),s.LFG(N,8))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),L=function(){var e=function(){function e(t,n){var r=this;h(this,e),this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=E(F(i)),this._platformStrategy.onPopState(function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})})}return f(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+A(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,F(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+A(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+A(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformStrategy).historyGo)||void 0===t||t.call(e,n)}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(R),s.LFG(w))},e.normalizeQueryParams=A,e.joinWithSlash=C,e.stripTrailingSlash=E,e.\u0275prov=(0,s.Yz7)({factory:M,token:e,providedIn:"root"}),e}();function M(){return new L((0,s.LFG)(R),(0,s.LFG)(w))}function F(e){return e.replace(/\/index.html$/,"")}var U={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},V=((V=V||{})[V.Decimal=0]="Decimal",V[V.Percent=1]="Percent",V[V.Currency=2]="Currency",V[V.Scientific=3]="Scientific",V),Z=((Z=Z||{})[Z.Zero=0]="Zero",Z[Z.One=1]="One",Z[Z.Two=2]="Two",Z[Z.Few=3]="Few",Z[Z.Many=4]="Many",Z[Z.Other=5]="Other",Z),q=((q=q||{})[q.Decimal=0]="Decimal",q[q.Group=1]="Group",q[q.List=2]="List",q[q.PercentSign=3]="PercentSign",q[q.PlusSign=4]="PlusSign",q[q.MinusSign=5]="MinusSign",q[q.Exponential=6]="Exponential",q[q.SuperscriptingExponent=7]="SuperscriptingExponent",q[q.PerMille=8]="PerMille",q[q.Infinity=9]="Infinity",q[q.NaN=10]="NaN",q[q.TimeSeparator=11]="TimeSeparator",q[q.CurrencyDecimal=12]="CurrencyDecimal",q[q.CurrencyGroup=13]="CurrencyGroup",q);function j(e,t){var n=(0,s.cg1)(e),r=n[s.wAp.NumberSymbols][t];if(void 0===r){if(t===q.CurrencyDecimal)return n[s.wAp.NumberSymbols][q.Decimal];if(t===q.CurrencyGroup)return n[s.wAp.NumberSymbols][q.Group]}return r}var z=s.kL8,H=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function B(e,t,n,r,i){var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],u=a[0],s=a[1]||"";n.posPre=u.substr(0,u.indexOf("#"));for(var c=0;c<s.length;c++){var l=s.charAt(c);"0"===l?n.minFrac=n.maxFrac=c+1:"#"===l?n.maxFrac=c+1:n.posSuf+=l}var f=u.split(",");if(n.gSize=f[1]?f[1].length:0,n.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,o){var h=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+h).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return(0,s.cg1)(e)[s.wAp.NumberFormats][t]}(t,V.Currency),j(t,q.MinusSign));return o.minFrac=function(e){var t,n=U[e];return n&&(t=n[2]),"number"==typeof t?t:2}(r),o.maxFrac=o.minFrac,function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u="",s=!1;if(isFinite(e)){var c=function(e){var t,n,r,i,o,a=Math.abs(e)+"",u=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length),r=0;"0"===a.charAt(r);r++);if(r===(o=a.length))t=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(a.charAt(r))}return n>22&&(t=t.splice(0,21),u=n-1,n=1),{digits:t,exponent:u,integerLen:n}}(e);a&&(c=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));var l=t.minInt,f=t.minFrac,h=t.maxFrac;if(o){var d=o.match(H);if(null===d)throw new Error("".concat(o," is not a valid digit info"));var p=d[1],v=d[3],g=d[5];null!=p&&(l=G(p)),null!=v&&(f=G(v)),null!=g?h=G(g):null!=v&&f>h&&(h=f)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),a=o+e.integerLen,u=r[a];if(a>0){r.splice(Math.max(e.integerLen,a));for(var s=a;s<r.length;s++)r[s]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(u>=5)if(a-1<0){for(var l=0;l>a;l--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var f=0!==o,h=t+e.integerLen,d=r.reduceRight(function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,f&&(0===r[n]&&n>=h?r.pop():f=!1),t>=10?1:0},0);d&&(r.unshift(d),e.integerLen++)}(c,f,h);var m=c.digits,y=c.integerLen,k=c.exponent,w=[];for(s=m.every(function(e){return!e});y<l;y++)m.unshift(0);for(;y<0;y++)m.unshift(0);y>0?w=m.splice(y,m.length):(w=m,m=[0]);var b=[];for(m.length>=t.lgSize&&b.unshift(m.splice(-t.lgSize,m.length).join(""));m.length>t.gSize;)b.unshift(m.splice(-t.gSize,m.length).join(""));m.length&&b.unshift(m.join("")),u=b.join(j(n,r)),w.length&&(u+=j(n,i)+w.join("")),k&&(u+=j(n,q.Exponential)+"+"+k)}else u=j(n,q.Infinity);return u=e<0&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}(e,o,t,q.CurrencyGroup,q.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function G(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var K=function e(){h(this,e)},W=function(){var e=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this)).locale=e,r}return f(n,[{key:"getPluralCategory",value:function(e,t){switch(z(t||this.locale)(e)){case Z.Zero:return"zero";case Z.One:return"one";case Z.Two:return"two";case Z.Few:return"few";case Z.Many:return"many";default:return"other"}}}]),n}(K);return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.soG))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}();function J(e,n){n=encodeURIComponent(n);var r,i=u(e.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.indexOf("="),s=t(-1==a?[o,""]:[o.slice(0,a),o.slice(a+1)],2),c=s[0],l=s[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(f){i.e(f)}finally{i.f()}return null}var Y=function(){function e(t,n,r,i){h(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return f(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Q=function(){var e=function(){function e(t,n,r){h(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return f(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(n){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat(function(e){return e.name||typeof e}(e),"'. NgFor only supports binding to Iterables such as Arrays."))}}if(this._differ){var t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Y(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new $(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var u=t._viewContainer.get(r);t._viewContainer.move(u,i);var s=new $(e,u);n.push(s)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},e.\u0275dir=s.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),$=function e(t,n){h(this,e),this.record=t,this.view=n},X=function(){var e=function(){function e(t,n){h(this,e),this._viewContainer=t,this._context=new ee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return f(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){te("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){te("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.s_b),s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),ee=function e(){h(this,e),this.$implicit=null,this.ngIf=null};function te(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat((0,s.AaK)(t),"'."))}function ne(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat((0,s.AaK)(e),"'"))}var re=function(){var e=function(){function e(){h(this,e)}return f(e,[{key:"transform",value:function(t){if(null==t)return null;if("string"!=typeof t)throw ne(e,t);return t.toUpperCase()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"uppercase",type:e,pure:!0}),e}(),ie=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";h(this,e),this._locale=t,this._defaultCurrencyCode=n}return f(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultCurrencyCode,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!function(e){return!(null==e||""===e||e!=e)}(t))return null;o=o||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");var a=n||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",r=function(e){return(0,s.cg1)(e)[s.wAp.Currencies]}(n)[e]||U[e]||[],i=r[1];return"narrow"===t&&"string"==typeof i?i:r[0]||e}(a,"symbol"===r?"wide":"narrow",o):r);try{return B(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error("".concat(e," is not a number"));return e}(t),o,a,n,i)}catch(u){throw ne(e,u.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.soG,16),s.Y36(s.EJc,16))},e.\u0275pipe=s.Yjl({name:"currency",type:e,pure:!0}),e}(),oe=function(){var e=function e(){h(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[{provide:K,useClass:W}]}),e}();function ae(e){return"server"===e}var ue=function(){var e=function e(){h(this,e)};return e.\u0275prov=(0,s.Yz7)({token:e,providedIn:"root",factory:function(){return new se((0,s.LFG)(k),window)}}),e}(),se=function(){function e(t,n){h(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return f(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=function(e,t){var n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow))for(var r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var o=i.shadowRoot;if(o){var a=o.getElementById(t)||o.querySelector('[name="'.concat(t,'"]'));if(a)return a}i=r.nextNode()}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=ce(this.window.history)||ce(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),e}();function ce(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var le,fe=function e(){h(this,e)},he=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getBaseHref",value:function(e){var t=(de=de||document.querySelector("base"))?de.getAttribute("href"):null;return null==t?null:function(e){(le=le||document.createElement("a")).setAttribute("href",e);var t=le.pathname;return"/"===t.charAt(0)?t:"/".concat(t)}(t)}},{key:"resetBaseElement",value:function(){de=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(e){return J(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,c||(c=e)}}]),n}(function(e){d(n,e);var t=p(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).supportsDOMEvents=!0,e}return n}(function(){return function e(){h(this,e)}}())),de=null,pe=new s.OlP("TRANSITION_ID"),ve=[{provide:s.ip1,useFactory:function(e,t,n){return function(){n.get(s.CZH).donePromise.then(function(){for(var n=l(),r=t.querySelectorAll('style[ng-transition="'.concat(e,'"]')),i=0;i<r.length;i++)n.remove(r[i])})}},deps:[pe,k,s.zs3],multi:!0}],ge=function(){function e(){h(this,e)}return f(e,[{key:"addToWindow",value:function(e){s.dqk.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.dqk.getAllAngularTestabilities=function(){return e.getAllTestabilities()},s.dqk.getAllAngularRootElements=function(){return e.getAllRootElements()},s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(function(e){var t=s.dqk.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?l().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){(0,s.VLi)(new e)}}]),e}(),me=function(){var e=function(){function e(){h(this,e)}return f(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),ye=new s.OlP("EventManagerPlugins"),ke=function(){var e=function(){function e(t,n){var r=this;h(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return f(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(ye),s.LFG(s.R0b))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),we=function(){function e(t){h(this,e),this._doc=t}return f(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=l().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),be=function(){var e=function(){function e(){h(this,e),this._stylesSet=new Set}return f(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),_e=function(){var e=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Map,r._hostNodes.set(e.head,[]),r}return f(n,[{key:"_addStylesToHost",value:function(e,t,n){var r=this;e.forEach(function(e){var i=r._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach(xe),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,r){t._addStylesToHost(e,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach(xe)})}}]),n}(be);return e.\u0275fac=function(t){return new(t||e)(s.LFG(k))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}();function xe(e){l().remove(e)}var Te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ie=/%COMP%/g;function Se(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Se(e,i,n):(i=i.replace(Ie,e),n.push(i))}return n}function Ce(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Ee=function(){var e=function(){function e(t,n,r){h(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ae(t)}return f(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case s.ifc.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Re(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case s.ifc.ShadowDom:return new Oe(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Se(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(ke),s.LFG(_e),s.LFG(s.AFp))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),Ae=function(){function e(t){h(this,e),this.eventManager=t,this.data=Object.create(null)}return f(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Te[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=Te[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=Te[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,n,r&s.JOm.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ce(n)):this.eventManager.addEventListener(e,t,Ce(n))}}]),e}(),Re=function(e){d(n,e);var t=p(n);function n(e,r,i,o){var a;h(this,n),(a=t.call(this,e)).component=i;var u=Se(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(Ie,o+"-"+i.id),a.hostAttr=function(e){return"_nghost-%COMP%".replace(Ie,e)}(o+"-"+i.id),a}return f(n,[{key:"applyToHost",value:function(e){i(b(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=i(b(n.prototype),"createElement",this).call(this,e,t);return i(b(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Ae),Oe=function(e){d(n,e);var t=p(n);function n(e,r,i,o){var a;h(this,n),(a=t.call(this,e)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var u=Se(o.id,o.styles,[]),s=0;s<u.length;s++){var c=document.createElement("style");c.textContent=u[s],a.shadowRoot.appendChild(c)}return a}return f(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return i(b(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return i(b(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return i(b(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(i(b(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(Ae),Ne=function(){var e=function(e){d(n,e);var t=p(n);function n(e){return h(this,n),t.call(this,e)}return f(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(we);return e.\u0275fac=function(t){return new(t||e)(s.LFG(k))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),Pe=["alt","control","meta","shift"],De={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Le={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Me={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Fe=function(){var e=function(e){d(n,e);var t=p(n);function n(e){return h(this,n),t.call(this,e)}return f(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return l().onAndCancel(e,i.domEventName,o)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(Pe.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Le.hasOwnProperty(t)&&(t=Le[t]))}return De[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Pe.forEach(function(r){r!=n&&Me[r](e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(we);return e.\u0275fac=function(t){return new(t||e)(s.LFG(k))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),Ue=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function(){he.makeCurrent(),ge.init()},multi:!0},{provide:k,useFactory:function(){return(0,s.RDi)(document),document},deps:[]}]),Ve=[[],{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function(){return new s.qLn},deps:[]},{provide:ye,useClass:Ne,multi:!0,deps:[k,s.R0b,s.Lbi]},{provide:ye,useClass:Fe,multi:!0,deps:[k]},[],{provide:Ee,useClass:Ee,deps:[ke,_e,s.AFp]},{provide:s.FYo,useExisting:Ee},{provide:be,useExisting:_e},{provide:_e,useClass:_e,deps:[k]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:ke,useClass:ke,deps:[ye,s.R0b]},{provide:fe,useClass:me,deps:[]},[]],Ze=function(){var e=function(){function e(t){if(h(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return f(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:s.AFp,useValue:t.appId},{provide:pe,useExisting:s.AFp},ve]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(e,12))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:Ve,imports:[oe,s.hGG]}),e}();"undefined"!=typeof window&&window;var qe=a(5917),je=a(7574),ze=a(9773);function He(e,t){return(0,ze.zg)(e,t,1)}var Be=a(7393);function Ge(e,t){return function(n){return n.lift(new Ke(e,t))}}var Ke=function(){function e(t,n){h(this,e),this.predicate=t,this.thisArg=n}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new We(e,this.predicate,this.thisArg))}}]),e}(),We=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return f(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(Be.L),Je=a(8002),Ye=function e(){h(this,e)},Qe=function e(){h(this,e)},$e=function(){function e(t){var n=this;h(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))})}:this.headers=new Map}return f(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,o(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var a=this.headers.get(t);if(!a)return;0===(a=a.filter(function(e){return-1===i.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),Xe=function(){function e(){h(this,e)}return f(e,[{key:"encodeKey",value:function(e){return nt(e)}},{key:"encodeValue",value:function(e){return nt(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}(),et=/%(\d[a-f0-9])/gi,tt={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function nt(e){return encodeURIComponent(e).replace(et,function(e,t){var n;return null!==(n=tt[t])&&void 0!==n?n:e})}function rt(e){return"".concat(e)}var it=function(){function e(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h(this,e),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new Xe,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,n){var r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(function(e){var i=e.indexOf("="),o=t(-1==i?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,i)),n.decodeValue(e.slice(i+1))],2),a=o[0],u=o[1],s=r.get(a)||[];s.push(u),r.set(a,s)}),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(e){var t=r.fromObject[e];n.map.set(e,Array.isArray(t)?t:[t])})):this.map=null}return f(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Array.isArray(r)?r.forEach(function(e){t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(rt(t.value)),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(rt(t.value));-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}(),ot=function(){function e(){h(this,e),this.map=new Map}return f(e,[{key:"set",value:function(e,t){return this.map.set(e,t),this}},{key:"get",value:function(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}},{key:"delete",value:function(e){return this.map.delete(e),this}},{key:"keys",value:function(){return this.map.keys()}}]),e}();function at(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function ut(e){return"undefined"!=typeof Blob&&e instanceof Blob}function st(e){return"undefined"!=typeof FormData&&e instanceof FormData}var ct=function(){function e(t,n,r,i){var o;if(h(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new $e),this.context||(this.context=new ot),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var u=n.indexOf("?");this.urlWithParams=n+(-1===u?"?":u<n.length-1?"&":"")+a}}else this.params=new it,this.urlWithParams=n}return f(e,[{key:"serializeBody",value:function(){return null===this.body?null:at(this.body)||ut(this.body)||st(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof it?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||st(this.body)?null:ut(this.body)?this.body.type||null:at(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof it?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,a=void 0!==n.body?n.body:this.body,u=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,s=void 0!==n.reportProgress?n.reportProgress:this.reportProgress,c=n.headers||this.headers,l=n.params||this.params,f=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce(function(e,t){return e.set(t,n.setHeaders[t])},c)),n.setParams&&(l=Object.keys(n.setParams).reduce(function(e,t){return e.set(t,n.setParams[t])},l)),new e(r,i,a,{params:l,headers:c,context:f,reportProgress:s,responseType:o,withCredentials:u})}}]),e}(),lt=((lt=lt||{})[lt.Sent=0]="Sent",lt[lt.UploadProgress=1]="UploadProgress",lt[lt.ResponseHeader=2]="ResponseHeader",lt[lt.DownloadProgress=3]="DownloadProgress",lt[lt.Response=4]="Response",lt[lt.User=5]="User",lt),ft=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";h(this,e),this.headers=t.headers||new $e,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},ht=function(e){d(n,e);var t=p(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,r)).type=lt.ResponseHeader,e}return f(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(ft),dt=function(e){d(n,e);var t=p(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,n),(e=t.call(this,r)).type=lt.Response,e.body=void 0!==r.body?r.body:null,e}return f(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(ft),pt=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(ft);function vt(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var gt=function(){var e=function(){function e(t){h(this,e),this.handler=t}return f(e,[{key:"request",value:function(e,t){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof ct?n=e:(r=a.headers instanceof $e?a.headers:new $e(a.headers),a.params&&(i=a.params instanceof it?a.params:new it({fromObject:a.params})),n=new ct(e,t,void 0!==a.body?a.body:null,{headers:r,context:a.context,params:i,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials}));var u=(0,qe.of)(n).pipe(He(function(e){return o.handler.handle(e)}));if(e instanceof ct||"events"===a.observe)return u;var s=u.pipe(Ge(function(e){return e instanceof dt}));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return s.pipe((0,Je.U)(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe((0,Je.U)(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe((0,Je.U)(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe((0,Je.U)(function(e){return e.body}))}case"response":return s;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new it).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,vt(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,vt(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,vt(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(Ye))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),mt=function(){function e(t,n){h(this,e),this.next=t,this.interceptor=n}return f(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),yt=new s.OlP("HTTP_INTERCEPTORS"),kt=function(){var e=function(){function e(){h(this,e)}return f(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),wt=/^\)\]\}',?\n/,bt=function(){var e=function(){function e(t){h(this,e),this.xhrFactory=t}return f(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new je.y(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),u=null,s=function(){if(null!==u)return u;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new $e(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new ht({headers:i,status:t,statusText:n,url:o})},c=function(){var t=s(),i=t.headers,o=t.status,a=t.statusText,u=t.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof c){var f=c;c=c.replace(wt,"");try{c=""!==c?JSON.parse(c):null}catch(h){c=f,l&&(l=!1,c={error:h,text:c})}}l?(n.next(new dt({body:c,headers:i,status:o,statusText:a,url:u||void 0})),n.complete()):n.error(new pt({error:c,headers:i,status:o,statusText:a,url:u||void 0}))},l=function(e){var t=s().url,i=new pt({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},f=!1,h=function(t){f||(n.next(s()),f=!0);var i={type:lt.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&!!r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(e){var t={type:lt.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),e.reportProgress&&(r.addEventListener("progress",h),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:lt.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),e.reportProgress&&(r.removeEventListener("progress",h),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(fe))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),_t=new s.OlP("XSRF_COOKIE_NAME"),xt=new s.OlP("XSRF_HEADER_NAME"),Tt=function e(){h(this,e)},It=function(){var e=function(){function e(t,n,r){h(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return f(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=J(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(k),s.LFG(s.Lbi),s.LFG(_t))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),St=function(){var e=function(){function e(t,n){h(this,e),this.tokenService=t,this.headerName=n}return f(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(Tt),s.LFG(xt))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),Ct=function(){var e=function(){function e(t,n){h(this,e),this.backend=t,this.injector=n,this.chain=null}return f(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(yt,[]);this.chain=t.reduceRight(function(e,t){return new mt(e,t)},this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(Qe),s.LFG(s.zs3))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),Et=function(){var e=function(){function e(){h(this,e)}return f(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:St,useClass:kt}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:_t,useValue:t.cookieName}:[],t.headerName?{provide:xt,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[St,{provide:yt,useExisting:St,multi:!0},{provide:Tt,useClass:It},{provide:_t,useValue:"XSRF-TOKEN"},{provide:xt,useValue:"X-XSRF-TOKEN"}]}),e}(),At=function(){var e=function e(){h(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[gt,{provide:Ye,useClass:Ct},bt,{provide:Qe,useExisting:bt}],imports:[[Et.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}(),Rt=a(4402),Ot=a(9796),Nt=a(1555);function Pt(e,t){return new je.y(function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,u=function(u){var s=(0,Rt.D)(e[u]),c=!1;n.add(s.subscribe({next:function(e){c||(c=!0,a++),i[u]=e},error:function(e){return n.error(e)},complete:function(){(++o===r||!c)&&(a===r&&n.next(t?t.reduce(function(e,t,n){return e[t]=i[n],e},{}):i),n.complete())}}))},s=0;s<r;s++)u(s);else n.complete()})}var Dt=function(){var e=function(){function e(t,n){h(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return f(e,[{key:"setProperty",value:function(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"setDisabledState",value:function(e){this.setProperty("disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Qsj),s.Y36(s.SBq))},e.\u0275dir=s.lG2({type:e}),e}(),Lt=function(){var e,t=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return n}(Dt);return t.\u0275fac=function(n){return(e||(e=s.n5z(t)))(n||t)},t.\u0275dir=s.lG2({type:t,features:[s.qOj]}),t}(),Mt=new s.OlP("NgValueAccessor"),Ft={provide:Mt,useExisting:(0,s.Gpc)(function(){return Vt}),multi:!0},Ut=new s.OlP("CompositionEventMode"),Vt=function(){var e=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,e,r))._compositionMode=i,o._composing=!1,null==o._compositionMode&&(o._compositionMode=!function(){var e=l()?l().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}()),o}return f(n,[{key:"writeValue",value:function(e){this.setProperty("value",null==e?"":e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),n}(Dt);return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Ut,8))},e.\u0275dir=s.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&s.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[s._Bn([Ft]),s.qOj]}),e}();function Zt(e){return null==e||0===e.length}var qt=new s.OlP("NgValidators"),jt=new s.OlP("NgAsyncValidators"),zt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Ht(e){return null!=e}function Bt(e){var t=(0,s.QGY)(e)?(0,Rt.D)(e):e;return(0,s.CqO)(t),t}function Gt(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Kt(e,t){return t.map(function(t){return t(e)})}function Wt(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function Jt(e){return null!=e?function(e){if(!e)return null;var t=e.filter(Ht);return 0==t.length?null:function(e){return Gt(Kt(e,t))}}(Wt(e)):null}function Yt(e){return null!=e?function(e){if(!e)return null;var t=e.filter(Ht);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if((0,Ot.k)(r))return Pt(r,null);if((0,Nt.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Pt(i.map(function(e){return r[e]}),i)}}if("function"==typeof t[t.length-1]){var a=t.pop();return Pt(t=1===t.length&&(0,Ot.k)(t[0])?t[0]:t,null).pipe((0,Je.U)(function(e){return a.apply(void 0,o(e))}))}return Pt(t,null)}(Kt(e,t).map(Bt)).pipe((0,Je.U)(Gt))}}(Wt(e)):null}function Qt(e,t){return null===e?[t]:Array.isArray(e)?[].concat(o(e),[t]):[e,t]}function $t(e){return e?Array.isArray(e)?e:[e]:[]}function Xt(e,t){return Array.isArray(e)?e.includes(t):e===t}function en(e,t){var n=$t(t);return $t(e).forEach(function(e){Xt(n,e)||n.push(e)}),n}function tn(e,t){return $t(t).filter(function(t){return!Xt(e,t)})}var nn=function(){var e=function(){function e(){h(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return f(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=Jt(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Yt(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e}),e}(),rn=function(){var e,t=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(nn);return t.\u0275fac=function(n){return(e||(e=s.n5z(t)))(n||t)},t.\u0275dir=s.lG2({type:t,features:[s.qOj]}),t}(),on=function(e){d(n,e);var t=p(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return n}(nn),an=function(){function e(t){h(this,e),this._cd=t}return f(e,[{key:"is",value:function(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}]),e}(),un=function(){var e=function(e){d(n,e);var t=p(n);function n(e){return h(this,n),t.call(this,e)}return n}(an);return e.\u0275fac=function(t){return new(t||e)(s.Y36(on,2))},e.\u0275dir=s.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&s.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[s.qOj]}),e}(),sn=function(){var e=function(e){d(n,e);var t=p(n);function n(e){return h(this,n),t.call(this,e)}return n}(an);return e.\u0275fac=function(t){return new(t||e)(s.Y36(rn,10))},e.\u0275dir=s.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&s.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[s.qOj]}),e}();function cn(e,t){fn(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&hn(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&hn(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t)}function ln(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function fn(e,t){var n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(Qt(n,t.validator)):"function"==typeof n&&e.setValidators([n]);var r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(Qt(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);var i=function(){return e.updateValueAndValidity()};ln(t._rawValidators,i),ln(t._rawAsyncValidators,i)}function hn(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function dn(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var pn="VALID",vn="INVALID",gn="PENDING",mn="DISABLED";function yn(e){return(_n(e)?e.validators:e)||null}function kn(e){return Array.isArray(e)?Jt(e):e||null}function wn(e,t){return(_n(t)?t.asyncValidators:e)||null}function bn(e){return Array.isArray(e)?Yt(e):e||null}function _n(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var xn=function(){function e(t,n){h(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=kn(this._rawValidators),this._composedAsyncValidatorFn=bn(this._rawAsyncValidators)}return f(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===pn}},{key:"invalid",get:function(){return this.status===vn}},{key:"pending",get:function(){return this.status==gn}},{key:"disabled",get:function(){return this.status===mn}},{key:"enabled",get:function(){return this.status!==mn}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=kn(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=bn(e)}},{key:"addValidators",value:function(e){this.setValidators(en(e,this._rawValidators))}},{key:"addAsyncValidators",value:function(e){this.setAsyncValidators(en(e,this._rawAsyncValidators))}},{key:"removeValidators",value:function(e){this.setValidators(tn(e,this._rawValidators))}},{key:"removeAsyncValidators",value:function(e){this.setAsyncValidators(tn(e,this._rawAsyncValidators))}},{key:"hasValidator",value:function(e){return Xt(this._rawValidators,e)}},{key:"hasAsyncValidator",value:function(e){return Xt(this._rawAsyncValidators,e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=gn,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=mn,this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=pn,this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pn||this.status===gn)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?mn:pn}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status=gn,this._hasOwnPendingAsyncValidator=!0;var n=Bt(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;var r=e;return t.forEach(function(e){r=r instanceof In?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof Sn&&r.at(e)||null}),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?mn:this.errors?vn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gn)?gn:this._anyControlsHaveStatus(vn)?vn:pn}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){_n(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),Tn=function(e){d(n,e);var t=p(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return h(this,n),(e=t.call(this,yn(i),wn(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!e.asyncValidator}),e}return f(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){dn(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){dn(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(xn),In=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,yn(r),wn(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return f(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(Object.keys(e).forEach(function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof Tn?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){var r=t.controls[n];r&&e(r,n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var r=n[t],i=this.controls[r];if(this.contains(r)&&e(i))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(xn),Sn=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,yn(r),wn(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return f(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}},{key:"removeAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(e.forEach(function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof Tn?e.value:e.getRawValue()})}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=u(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(xn),Cn={provide:rn,useExisting:(0,s.Gpc)(function(){return An})},En=Promise.resolve(null),An=function(){var e=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new s.vpe,i.form=new In({},Jt(e),Yt(r)),i}return f(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(e){var t=this;En.then(function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),cn(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)})}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;En.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),dn(t._directives,e)})}},{key:"addFormGroup",value:function(e){var t=this;En.then(function(){var n=t._findContainer(e.path),r=new In({});(function(e,t){fn(e,t)})(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(e){var t=this;En.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)})}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;En.then(function(){n.form.get(e.path).setValue(t)})}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,function(e,t){e._syncPendingControls(),t.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}}]),n}(rn);return e.\u0275fac=function(t){return new(t||e)(s.Y36(qt,10),s.Y36(jt,10))},e.\u0275dir=s.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&s.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Cn]),s.qOj]}),e}(),Rn={provide:on,useExisting:(0,s.Gpc)(function(){return Nn})},On=Promise.resolve(null),Nn=function(){var e=function(e){d(n,e);var t=p(n);function n(e,r,i,o){var a;return h(this,n),(a=t.call(this)).control=new Tn,a._registered=!1,a.update=new s.vpe,a._parent=e,a._setValidators(r),a._setAsyncValidators(i),a.valueAccessor=function(e,t){return t?(Array.isArray(t),t.forEach(function(e){e.constructor===Vt?n=e:function(e){return Object.getPrototypeOf(e.constructor)===Lt}(e)?r=e:i=e}),i||r||n||null):null;var n,r,i}(0,o),a}return f(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?function(e,t){return[].concat(o(t.path),[e])}(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){cn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(e){var t=this;On.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;On.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})}}]),n}(on);return e.\u0275fac=function(t){return new(t||e)(s.Y36(rn,9),s.Y36(qt,10),s.Y36(jt,10),s.Y36(Mt,10))},e.\u0275dir=s.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([Rn]),s.qOj,s.TTD]}),e}(),Pn=function(){var e=function e(){h(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e}(),Dn={provide:Mt,useExisting:(0,s.Gpc)(function(){return Ln}),multi:!0},Ln=function(){var e,t=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"writeValue",value:function(e){this.setProperty("value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}}]),n}(Lt);return t.\u0275fac=function(n){return(e||(e=s.n5z(t)))(n||t)},t.\u0275dir=s.lG2({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&s.NdJ("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[s._Bn([Dn]),s.qOj]}),t}(),Mn=function(){var e=function e(){h(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e}(),Fn={provide:qt,useExisting:(0,s.Gpc)(function(){return Un}),multi:!0},Un=function(){var e=function(){function e(){h(this,e),this._required=!1}return f(e,[{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&"false"!="".concat(e),this._onChange&&this._onChange()}},{key:"validate",value:function(e){return this.required?function(e){return Zt(e.value)?{required:!0}:null}(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&s.uIk("required",t.required?"":null)},inputs:{required:"required"},features:[s._Bn([Fn])]}),e}(),Vn={provide:qt,useExisting:(0,s.Gpc)(function(){return Zn}),multi:!0},Zn=function(){var e=function(){function e(){h(this,e),this._enabled=!1}return f(e,[{key:"email",set:function(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}},{key:"validate",value:function(e){return this._enabled?function(e){return Zt(e.value)||zt.test(e.value)?null:{email:!0}}(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[s._Bn([Vn])]}),e}(),qn=function(){var e=function e(){h(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[Mn]]}),e}(),jn=function(){var e=function e(){h(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[qn]}),e}(),zn=function(){function e(t,n,r,i){h(this,e),this.email=t,this.id=n,this._token=r,this._tokenExpirationDate=i}return f(e,[{key:"token",get:function(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}]),e}(),Hn=a(3342),Bn=a(9765),Gn=a(7971),Kn=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this))._value=e,r}return f(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=i(b(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Gn.N;return this._value}},{key:"next",value:function(e){i(b(n.prototype),"next",this).call(this,this._value=e)}}]),n}(Bn.xQ),Wn=a(4869),Jn=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(Be.L),Yn=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return f(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(Be.L),Qn=a(7444);function $n(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Yn(e,n,r);if(!i.closed)return t instanceof je.y?t.subscribe(i):(0,Qn.s)(t)(i)}var Xn=a(6693),er={},tr=function(){function e(t){h(this,e),this.resultSelector=t}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new nr(e,this.resultSelector))}}]),e}(),nr=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return f(n,[{key:"_next",value:function(e){this.values.push(er),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add($n(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var r=this.values,i=this.toRespond?r[n]===er?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(Jn),rr=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),ir=a(3282);function or(){return(0,ir.J)(1)(qe.of.apply(void 0,arguments))}var ar=a(9193);function ur(e){return new je.y(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,Rt.D)(n):(0,ar.c)()).subscribe(t)})}var sr=a(2441),cr=a(5345);function lr(e,t){return"function"==typeof t?function(n){return n.pipe(lr(function(n,r){return(0,Rt.D)(e(n,r)).pipe((0,Je.U)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new fr(e))}}var fr=function(){function e(t){h(this,e),this.project=t}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new hr(e,this.project))}}]),e}(),hr=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return f(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new cr.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,cr.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;(!e||e.closed)&&i(b(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&i(b(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(cr.Ds),dr=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function pr(e){return function(t){return 0===e?(0,ar.c)():t.lift(new vr(e))}}var vr=function(){function e(t){if(h(this,e),this.total=t,this.total<0)throw new dr}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new gr(e,this.total))}}]),e}(),gr=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return f(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(Be.L);function mr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return(0,Wn.K)(r)?(t.pop(),function(e){return or(t,e,r)}):function(e){return or(t,e)}}function yr(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new kr(e,t,n))}}var kr=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new wr(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),wr=function(e){d(n,e);var t=p(n);function n(e,r,i,o){var a;return h(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return f(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(Be.L);function br(e){return function(t){var n=new _r(e),r=t.lift(n);return n.caught=r}}var _r=function(){function e(t){h(this,e),this.selector=t}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new xr(e,this.selector,this.caught))}}]),e}(),xr=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return f(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(a){return void i(b(n.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var r=new cr.IY(this);this.add(r);var o=(0,cr.ft)(t,r);o!==r&&this.add(o)}}}]),n}(cr.Ds);function Tr(e){return function(t){return 0===e?(0,ar.c)():t.lift(new Ir(e))}}var Ir=function(){function e(t){if(h(this,e),this.total=t,this.total<0)throw new dr}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new Sr(e,this.total))}}]),e}(),Sr=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return f(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(Be.L);function Cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr;return function(t){return t.lift(new Er(e))}}var Er=function(){function e(t){h(this,e),this.errorFactory=t}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new Ar(e,this.errorFactory))}}]),e}(),Ar=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return f(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(Be.L);function Rr(){return new rr}function Or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Nr(e))}}var Nr=function(){function e(t){h(this,e),this.defaultValue=t}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new Pr(e,this.defaultValue))}}]),e}(),Pr=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return f(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(Be.L),Dr=a(4487);function Lr(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Ge(function(t,n){return e(t,n,r)}):Dr.y,pr(1),n?Or(t):Cr(function(){return new rr}))}}var Mr=a(1307),Fr=a(5319),Ur=function(){function e(t){h(this,e),this.callback=t}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new Vr(e,this.callback))}}]),e}(),Vr=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).add(new Fr.w(r)),i}return n}(Be.L),Zr=function e(t,n){h(this,e),this.id=t,this.url=n},qr=function(e){d(n,e);var t=p(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return f(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Zr),jr=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return f(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Zr),zr=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,e,r)).reason=i,o}return f(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Zr),Hr=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,e,r)).error=i,o}return f(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Zr),Br=function(e){d(n,e);var t=p(n);function n(e,r,i,o){var a;return h(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return f(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zr),Gr=function(e){d(n,e);var t=p(n);function n(e,r,i,o){var a;return h(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return f(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zr),Kr=function(e){d(n,e);var t=p(n);function n(e,r,i,o,a){var u;return h(this,n),(u=t.call(this,e,r)).urlAfterRedirects=i,u.state=o,u.shouldActivate=a,u}return f(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Zr),Wr=function(e){d(n,e);var t=p(n);function n(e,r,i,o){var a;return h(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return f(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zr),Jr=function(e){d(n,e);var t=p(n);function n(e,r,i,o){var a;return h(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return f(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zr),Yr=function(){function e(t){h(this,e),this.route=t}return f(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Qr=function(){function e(t){h(this,e),this.route=t}return f(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),$r=function(){function e(t){h(this,e),this.snapshot=t}return f(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Xr=function(){function e(t){h(this,e),this.snapshot=t}return f(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ei=function(){function e(t){h(this,e),this.snapshot=t}return f(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ti=function(){function e(t){h(this,e),this.snapshot=t}return f(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ni=function(){function e(t,n,r){h(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return f(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),ri="primary",ii=function(){function e(t){h(this,e),this.params=t||{}}return f(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function oi(e){return new ii(e)}var ai="ngNavigationCancelingError";function ui(e){var t=Error("NavigationCancelingError: "+e);return t[ai]=!0,t}function si(e,t,n){var r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],u=e[o];if(a.startsWith(":"))i[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ci(e,t){var n,r=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!li(e[n=r[o]],t[n]))return!1;return!0}function li(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=o(e).sort(),r=o(t).sort();return n.every(function(e,t){return r[t]===e})}return e===t}function fi(e){return Array.prototype.concat.apply([],e)}function hi(e){return e.length>0?e[e.length-1]:null}function di(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function pi(e){return(0,s.CqO)(e)?e:(0,s.QGY)(e)?(0,Rt.D)(Promise.resolve(e)):(0,qe.of)(e)}var vi={exact:function e(t,n,r){if(!Ti(t.segments,n.segments)||!wi(t.segments,n.segments,r)||t.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children)if(!t.children[i]||!e(t.children[i],n.children[i],r))return!1;return!0},subset:yi},gi={exact:function(e,t){return ci(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return li(e[n],t[n])})},ignored:function(){return!0}};function mi(e,t,n){return vi[n.paths](e.root,t.root,n.matrixParams)&&gi[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function yi(e,t,n){return ki(e,t,t.segments,n)}function ki(e,t,n,r){if(e.segments.length>n.length){var i=e.segments.slice(0,n.length);return!(!Ti(i,n)||t.hasChildren()||!wi(i,n,r))}if(e.segments.length===n.length){if(!Ti(e.segments,n)||!wi(e.segments,n,r))return!1;for(var o in t.children)if(!e.children[o]||!yi(e.children[o],t.children[o],r))return!1;return!0}var a=n.slice(0,e.segments.length),u=n.slice(e.segments.length);return!!(Ti(e.segments,a)&&wi(e.segments,a,r)&&e.children[ri])&&ki(e.children[ri],t,u,r)}function wi(e,t,n){return t.every(function(t,r){return gi[n](e[r].parameters,t.parameters)})}var bi=function(){function e(t,n,r){h(this,e),this.root=t,this.queryParams=n,this.fragment=r}return f(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=oi(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Ci.serialize(this)}}]),e}(),_i=function(){function e(t,n){var r=this;h(this,e),this.segments=t,this.children=n,this.parent=null,di(n,function(e,t){return e.parent=r})}return f(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Ei(this)}}]),e}(),xi=function(){function e(t,n){h(this,e),this.path=t,this.parameters=n}return f(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=oi(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Li(this)}}]),e}();function Ti(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var Ii=function e(){h(this,e)},Si=function(){function e(){h(this,e)}return f(e,[{key:"parse",value:function(e){var t=new Zi(e);return new bi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t;return"".concat("/".concat(Ai(e.root,!0)),function(e){var t=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return"".concat(Oi(t),"=").concat(Oi(e))}).join("&"):"".concat(Oi(t),"=").concat(Oi(n))}).filter(function(e){return!!e});return t.length?"?".concat(t.join("&")):""}(e.queryParams)).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),Ci=new Si;function Ei(e){return e.segments.map(function(e){return Li(e)}).join("/")}function Ai(e,t){if(!e.hasChildren())return Ei(e);if(t){var n=e.children[ri]?Ai(e.children[ri],!1):"",r=[];return di(e.children,function(e,t){t!==ri&&r.push("".concat(t,":").concat(Ai(e,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(e,t){var n=[];return di(e.children,function(e,r){r===ri&&(n=n.concat(t(e,r)))}),di(e.children,function(e,r){r!==ri&&(n=n.concat(t(e,r)))}),n}(e,function(t,n){return n===ri?[Ai(e.children[ri],!1)]:["".concat(n,":").concat(Ai(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children[ri]?"".concat(Ei(e),"/").concat(i[0]):"".concat(Ei(e),"/(").concat(i.join("//"),")")}function Ri(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oi(e){return Ri(e).replace(/%3B/gi,";")}function Ni(e){return Ri(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pi(e){return decodeURIComponent(e)}function Di(e){return Pi(e.replace(/\+/g,"%20"))}function Li(e){return"".concat(Ni(e.path)).concat(function(e){return Object.keys(e).map(function(t){return";".concat(Ni(t),"=").concat(Ni(e[t]))}).join("")}(e.parameters))}var Mi=/^[^\/()?;=#]+/;function Fi(e){var t=e.match(Mi);return t?t[0]:""}var Ui=/^[^=?&#]+/,Vi=/^[^?&#]+/,Zi=function(){function e(t){h(this,e),this.url=t,this.remaining=t}return f(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _i([],{}):new _i([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[ri]=new _i(e,t)),n}},{key:"parseSegment",value:function(){var e=Fi(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new xi(Pi(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Fi(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Fi(this.remaining);r&&(n=r,this.capture(n))}e[Pi(t)]=Pi(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Ui);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Vi);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Di(t),o=Di(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Fi(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=ri);var o=this.parseChildren();t[i]=1===Object.keys(o).length?o[ri]:new _i([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),qi=function(){function e(t){h(this,e),this._root=t}return f(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=ji(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=ji(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=zi(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return zi(e,this._root).map(function(e){return e.value})}}]),e}();function ji(e,t){if(e===t.value)return t;var n,r=u(t.children);try{for(r.s();!(n=r.n()).done;){var i=ji(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function zi(e,t){if(e===t.value)return[t];var n,r=u(t.children);try{for(r.s();!(n=r.n()).done;){var i=zi(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Hi=function(){function e(t,n){h(this,e),this.value=t,this.children=n}return f(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Bi(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var Gi=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).snapshot=r,$i(g(i),e),i}return f(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(qi);function Ki(e,t){var n=function(e,t){var n=new Yi([],{},{},"",{},ri,t,null,e.root,-1,{});return new Qi("",new Hi(n,[]))}(e,t),r=new Kn([new xi("",{})]),i=new Kn({}),o=new Kn({}),a=new Kn({}),u=new Kn(""),s=new Wi(r,i,a,u,o,ri,t,n.root);return s.snapshot=n.root,new Gi(new Hi(s,[]),n)}var Wi=function(){function e(t,n,r,i,o,a,u,s){h(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=u,this._futureSnapshot=s}return f(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(function(e){return oi(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(function(e){return oi(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function Ji(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Yi=function(){function e(t,n,r,i,o,a,u,s,c,l,f){h(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=u,this.routeConfig=s,this._urlSegment=c,this._lastPathIndex=l,this._resolve=f}return f(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=oi(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=oi(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),Qi=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,r)).url=e,$i(g(i),r),i}return f(n,[{key:"toString",value:function(){return Xi(this._root)}}]),n}(qi);function $i(e,t){t.value._routerState=e,t.children.forEach(function(t){return $i(e,t)})}function Xi(e){var t=e.children.length>0?" { ".concat(e.children.map(Xi).join(", ")," } "):"";return"".concat(e.value).concat(t)}function eo(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ci(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),ci(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!ci(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),ci(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function to(e,t){return ci(e.params,t.params)&&function(e,t){return Ti(e,t)&&e.every(function(e,n){return ci(e.parameters,t[n].parameters)})}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||to(e.parent,t.parent))}function no(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=t.value;var i=function(e,t,n){return t.children.map(function(t){var r,i=u(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(e.shouldReuseRoute(t.value,o.value.snapshot))return no(e,t,o)}}catch(a){i.e(a)}finally{i.f()}return no(e,t)})}(e,t,n);return new Hi(r,i)}if(e.shouldAttach(t.value)){var o=e.retrieve(t.value);if(null!==o){var a=o.route;return ro(t,a),a}}var s=function(e){return new Wi(new Kn(e.url),new Kn(e.params),new Kn(e.queryParams),new Kn(e.fragment),new Kn(e.data),e.outlet,e.component,e)}(t.value),c=t.children.map(function(t){return no(e,t)});return new Hi(s,c)}function ro(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)ro(e.children[n],t.children[n])}function io(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function oo(e){return"object"==typeof e&&null!=e&&e.outlets}function ao(e,t,n,r,i){var o={};return r&&di(r,function(e,t){o[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new bi(n.root===e?t:uo(n.root,e,t),o,i)}function uo(e,t,n){var r={};return di(e.children,function(e,i){r[i]=e===t?n:uo(e,t,n)}),new _i(e.segments,r)}var so=function(){function e(t,n,r){if(h(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&io(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(oo);if(i&&i!==hi(r))throw new Error("{outlets:{}} has to be the last command")}return f(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),co=function e(t,n,r){h(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function lo(e,t,n){if(e||(e=new _i([],{})),0===e.segments.length&&e.hasChildren())return fo(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],u=n[r];if(oo(u))break;var s="".concat(u),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&c&&"object"==typeof c&&void 0===c.outlets){if(!go(s,c,a))return o;r+=2}else{if(!go(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new _i(e.segments.slice(0,r.pathIndex),{});return o.children[ri]=new _i(e.segments.slice(r.pathIndex),e.children),fo(o,0,i)}return r.match&&0===i.length?new _i(e.segments,{}):r.match&&!e.hasChildren()?ho(e,t,n):r.match?fo(e,0,i):ho(e,t,n)}function fo(t,n,r){if(0===r.length)return new _i(t.segments,{});var i=function(t){return oo(t[0])?t[0].outlets:e({},ri,t)}(r),o={};return di(i,function(e,r){"string"==typeof e&&(e=[e]),null!==e&&(o[r]=lo(t.children[r],n,e))}),di(t.children,function(e,t){void 0===i[t]&&(o[t]=e)}),new _i(t.segments,o)}function ho(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){var o=n[i];if(oo(o)){var a=po(o.outlets);return new _i(r,a)}if(0===i&&io(n[0]))r.push(new xi(e.segments[t].path,vo(n[0]))),i++;else{var u=oo(o)?o.outlets[ri]:"".concat(o),s=i<n.length-1?n[i+1]:null;u&&s&&io(s)?(r.push(new xi(u,vo(s))),i+=2):(r.push(new xi(u,{})),i++)}}return new _i(r,{})}function po(e){var t={};return di(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=ho(new _i([],{}),0,e))}),t}function vo(e){var t={};return di(e,function(e,n){return t[n]="".concat(e)}),t}function go(e,t,n){return e==n.path&&ci(t,n.parameters)}var mo=function(){function e(t,n,r,i){h(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return f(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),eo(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=Bi(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),di(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Bi(e),o=0,a=Object.keys(i);o<a.length;o++){var u=a[o];this.deactivateRouteAndItsChildren(i[u],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=Bi(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new ti(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Xr(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(eo(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),yo(u.route)}else{var s=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=s?s.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function yo(e){eo(e.value),e.children.forEach(yo)}var ko=function e(t,n){h(this,e),this.routes=t,this.module=n};function wo(e){return"function"==typeof e}function bo(e){return e instanceof bi}var _o=Symbol("INITIAL_VALUE");function xo(){return lr(function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i;return(0,Wn.K)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&(0,Ot.k)(t[0])&&(t=t[0]),(0,Xn.n)(t,i).lift(new tr(r))}(e.map(function(e){return e.pipe(pr(1),mr(_o))})).pipe(yr(function(e,t){var n=!1;return t.reduce(function(e,r,i){return e!==_o?e:(r===_o&&(n=!0),n||!1!==r&&i!==t.length-1&&!bo(r)?e:r)},e)},_o),Ge(function(e){return e!==_o}),(0,Je.U)(function(e){return bo(e)?e:!0===e}),pr(1))})}var To=function(){var e=function e(){h(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&s._UZ(0,"router-outlet")},directives:function(){return[_a]},encapsulation:2}),e}();function Io(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];So(r,Co(t,r))}}function So(e,t){e.children&&Io(e.children,t)}function Co(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Eo(e){var t=e.children&&e.children.map(Eo),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ri&&(n.component=To),n}function Ao(e){return e.outlet||ri}function Ro(e,t){var n=e.filter(function(e){return Ao(e)===t});return n.push.apply(n,o(e.filter(function(e){return Ao(e)!==t}))),n}var Oo={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function No(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Oo):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(t.matcher||si)(n,e,t);if(!i)return Object.assign({},Oo);var o={};di(i.posParams,function(e,t){o[t]=e.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Po(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(e,t,n){return n.some(function(n){return Do(e,t,n)&&Ao(n)!==ri})}(e,n,r)){var o=new _i(t,function(e,t,n,r){var i={};i[ri]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=u(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&Ao(s)!==ri){var c=new _i([],{});c._sourceSegment=e,c._segmentIndexShift=t.length,i[Ao(s)]=c}}}catch(l){a.e(l)}finally{a.f()}return i}(e,t,r,new _i(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(function(n){return Do(e,t,n)})}(e,n,r)){var a=new _i(e.segments,function(e,t,n,r,i,o){var a,s={},c=u(r);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(Do(e,n,l)&&!i[Ao(l)]){var f=new _i([],{});f._sourceSegment=e,f._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[Ao(l)]=f}}}catch(h){c.e(h)}finally{c.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new _i(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Do(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Lo(e,t,n,r){return!!(Ao(e)===r||r!==ri&&Do(t,n,e))&&("**"===e.path||No(t,e,n).matched)}function Mo(e,t,n){return 0===t.length&&!e.children[n]}var Fo=function e(t){h(this,e),this.segmentGroup=t||null},Uo=function e(t){h(this,e),this.urlTree=t};function Vo(e){return new je.y(function(t){return t.error(new Fo(e))})}function Zo(e){return new je.y(function(t){return t.error(new Uo(e))})}function qo(e){return new je.y(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var jo=function(){function t(e,n,r,i,o){h(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(s.h0i)}return f(t,[{key:"apply",value:function(){var e=this,t=Po(this.urlTree.root,[],[],this.config).segmentGroup,n=new _i(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,ri).pipe((0,Je.U)(function(t){return e.createUrlTree(zo(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(br(function(t){if(t instanceof Uo)return e.allowRedirects=!1,e.match(t.urlTree);throw t instanceof Fo?e.noMatchError(t):t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,ri).pipe((0,Je.U)(function(n){return t.createUrlTree(zo(n),e.queryParams,e.fragment)})).pipe(br(function(e){throw e instanceof Fo?t.noMatchError(e):e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,n,r){var i=t.segments.length>0?new _i([],e({},ri,t)):t;return new bi(i,n,r)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,Je.U)(function(e){return new _i([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var u=a[o];"primary"===u?i.unshift(u):i.push(u)}return(0,Rt.D)(i).pipe(He(function(i){var o=n.children[i],a=Ro(t,i);return r.expandSegmentGroup(e,a,o,i).pipe((0,Je.U)(function(e){return{segment:e,outlet:i}}))}),yr(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Ge(function(t,n){return e(t,n,r)}):Dr.y,Tr(1),n?Or(t):Cr(function(){return new rr}))}}())}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return(0,Rt.D)(n).pipe(He(function(u){return a.expandSegmentAgainstRoute(e,t,n,u,r,i,o).pipe(br(function(e){if(e instanceof Fo)return(0,qe.of)(null);throw e}))}),Lr(function(e){return!!e}),br(function(e,n){if(e instanceof rr||"EmptyError"===e.name){if(Mo(t,r,i))return(0,qe.of)(new _i([],{}));throw new Fo(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return Lo(r,t,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Vo(t):Vo(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Zo(o):this.lineralizeSegments(n,o).pipe((0,ze.zg)(function(n){var o=new _i(n,{});return i.expandSegment(e,o,t,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,u=No(t,r,i),s=u.matched,c=u.consumedSegments,l=u.lastChild,f=u.positionalParamSegments;if(!s)return Vo(t);var h=this.applyRedirectCommands(c,r.redirectTo,f);return r.redirectTo.startsWith("/")?Zo(h):this.lineralizeSegments(r,h).pipe((0,ze.zg)(function(r){return a.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,qe.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,Je.U)(function(e){return n._loadedConfig=e,new _i(r,{})})):(0,qe.of)(new _i(r,{}));var a=No(t,n,r),u=a.matched,s=a.consumedSegments,c=a.lastChild;if(!u)return Vo(t);var l=r.slice(c);return this.getChildConfig(e,n,r).pipe((0,ze.zg)(function(e){var r=e.module,a=e.routes,u=Po(t,s,l,a),c=u.segmentGroup,f=u.slicedSegments,h=new _i(c.segments,c.children);if(0===f.length&&h.hasChildren())return o.expandChildren(r,a,h).pipe((0,Je.U)(function(e){return new _i(s,e)}));if(0===a.length&&0===f.length)return(0,qe.of)(new _i(s,{}));var d=Ao(n)===i;return o.expandSegment(r,h,a,f,d?ri:i,!0).pipe((0,Je.U)(function(e){return new _i(s.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?(0,qe.of)(new ko(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,qe.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,ze.zg)(function(n){return n?r.configLoader.load(e.injector,t).pipe((0,Je.U)(function(e){return t._loadedConfig=e,e})):(i=t,new je.y(function(e){return e.error(ui("Cannot load children because the guard of the route \"path: '".concat(i.path,"'\" returned false")))}));var i})):(0,qe.of)(new ko([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var r=this,i=t.canLoad;if(!i||0===i.length)return(0,qe.of)(!0);var o=i.map(function(r){var i,o,a=e.get(r);if((o=a)&&wo(o.canLoad))i=a.canLoad(t,n);else{if(!wo(a))throw new Error("Invalid CanLoad guard");i=a(t,n)}return pi(i)});return(0,qe.of)(o).pipe(xo(),(0,Hn.b)(function(e){if(bo(e)){var t=ui('Redirecting to "'.concat(r.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),(0,Je.U)(function(e){return!0===e}))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,qe.of)(n);if(r.numberOfChildren>1||!r.children[ri])return qo(e.redirectTo);r=r.children[ri]}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new bi(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return di(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return di(t.children,function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)}),new _i(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map(function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=u(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),t}();function zo(e){for(var t={},n=0,r=Object.keys(e.children);n<r.length;n++){var i=r[n],o=zo(e.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function(e){if(1===e.numberOfChildren&&e.children[ri]){var t=e.children[ri];return new _i(e.segments.concat(t.segments),t.children)}return e}(new _i(e.segments,t))}var Ho=function e(t){h(this,e),this.path=t,this.route=this.path[this.path.length-1]},Bo=function e(t,n){h(this,e),this.component=t,this.route=n};function Go(e,t,n){var r=e._root;return Wo(r,t?t._root:null,n,[r.value])}function Ko(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Wo(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Bi(t);return e.children.forEach(function(e){(function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,a=t?t.value:null,u=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var s=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Ti(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ti(e.url,t.url)||!ci(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!to(e,t)||!ci(e.queryParams,t.queryParams);case"paramsChange":default:return!to(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);s?i.canActivateChecks.push(new Ho(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Wo(e,t,o.component?u?u.children:null:n,r,i),s&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Bo(u.outlet.component,a))}else a&&Jo(t,u,i),i.canActivateChecks.push(new Ho(r)),Wo(e,null,o.component?u?u.children:null:n,r,i)})(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),di(o,function(e,t){return Jo(e,n.getContext(t),i)}),i}function Jo(e,t,n){var r=Bi(e),i=e.value;di(r,function(e,r){Jo(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Bo(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Yo=function e(){h(this,e)};function Qo(e){return new je.y(function(t){return t.error(e)})}var $o=function(){function e(t,n,r,i,o,a){h(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return f(e,[{key:"recognize",value:function(){var e=Po(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ri);if(null===t)return null;var n=new Yi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ri,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Hi(n,t),i=new Qi(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Ji(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var n=[],r=0,i=Object.keys(t.children);r<i.length;r++){var a=i[r],u=t.children[a],s=Ro(e,a),c=this.processSegmentGroup(s,u,a);if(null===c)return null;n.push.apply(n,o(c))}var l=Xo(n);return l.sort(function(e,t){return e.value.outlet===ri?-1:t.value.outlet===ri?1:e.value.outlet.localeCompare(t.value.outlet)}),l}},{key:"processSegment",value:function(e,t,n,r){var i,o=u(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this.processSegmentAgainstRoute(a,t,n,r);if(null!==s)return s}}catch(c){o.e(c)}finally{o.f()}return Mo(t,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo||!Lo(e,t,n,r))return null;var i,o=[],a=[];if("**"===e.path){var u=n.length>0?hi(n).parameters:{};i=new Yi(n,u,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,na(e),Ao(e),e.component,e,ea(t),ta(t)+n.length,ra(e))}else{var s=No(t,e,n);if(!s.matched)return null;o=s.consumedSegments,a=n.slice(s.lastChild),i=new Yi(o,s.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,na(e),Ao(e),e.component,e,ea(t),ta(t)+o.length,ra(e))}var c,l=(c=e).children?c.children:c.loadChildren?c._loadedConfig.routes:[],f=Po(t,o,a,l.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),h=f.segmentGroup,d=f.slicedSegments;if(0===d.length&&h.hasChildren()){var p=this.processChildren(l,h);return null===p?null:[new Hi(i,p)]}if(0===l.length&&0===d.length)return[new Hi(i,[])];var v=Ao(e)===r,g=this.processSegment(l,h,d,v?ri:r);return null===g?null:[new Hi(i,g)]}}]),e}();function Xo(e){var t,n=[],r=new Set,i=u(e);try{var a=function(){var e,i=t.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(i))return n.push(i),"continue";var a=n.find(function(e){return i.value.routeConfig===e.value.routeConfig});void 0!==a?((e=a.children).push.apply(e,o(i.children)),r.add(a)):n.push(i)};for(i.s();!(t=i.n()).done;)a()}catch(h){i.e(h)}finally{i.f()}var s,c=u(r);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=Xo(l.children);n.push(new Hi(l.value,f))}}catch(h){c.e(h)}finally{c.f()}return n.filter(function(e){return!r.has(e)})}function ea(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function ta(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function na(e){return e.data||{}}function ra(e){return e.resolve||{}}function ia(e){return lr(function(t){var n=e(t);return n?(0,Rt.D)(n).pipe((0,Je.U)(function(){return t})):(0,qe.of)(t)})}var oa=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return n}(function(){function e(){h(this,e)}return f(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),aa=new s.OlP("ROUTES"),ua=function(){function e(t,n,r,i){h(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return f(e,[{key:"load",value:function(e,t){var n=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var r=this.loadModuleFactory(t.loadChildren).pipe((0,Je.U)(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new ko(fi(i.injector.get(aa,void 0,s.XFs.Self|s.XFs.Optional)).map(Eo),i)}),br(function(e){throw t._loader$=void 0,e}));return t._loader$=new sr.c(r,function(){return new Bn.xQ}).pipe((0,Mr.x)()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?(0,Rt.D)(this.loader.load(e)):pi(e()).pipe((0,ze.zg)(function(e){return e instanceof s.YKP?(0,qe.of)(e):(0,Rt.D)(t.compiler.compileModuleAsync(e))}))}}]),e}(),sa=function e(){h(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new ca,this.attachRef=null},ca=function(){function e(){h(this,e),this.contexts=new Map}return f(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new sa,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),la=function(){function e(){h(this,e)}return f(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function fa(e){throw e}function ha(e,t,n){return t.parse("/")}function da(e,t){return(0,qe.of)(null)}var pa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},va={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ga=function(){var e=function(){function e(t,n,r,i,o,a,u,c){var l=this;h(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Bn.xQ,this.errorHandler=fa,this.malformedUriErrorHandler=ha,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:da,afterPreactivation:da},this.urlHandlingStrategy=new la,this.routeReuseStrategy=new oa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(s.h0i),this.console=o.get(s.c2e);var f=o.get(s.R0b);this.isNgZoneEnabled=f instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new bi(new _i([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ua(a,u,function(e){return l.triggerEvent(new Yr(e))},function(e){return l.triggerEvent(new Qr(e))}),this.routerState=Ki(this.currentUrlTree,this.rootComponentType),this.transitions=new Kn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return f(e,[{key:"browserPageId",get:function(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}},{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Ge(function(e){return 0!==e.id}),(0,Je.U)(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),lr(function(e){var r=!1,i=!1;return(0,qe.of)(e).pipe((0,Hn.b)(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),lr(function(e){var r=t.browserUrlTree.toString(),o=!t.navigated||e.extractedUrl.toString()!==r||r!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||o)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return ma(e.source)&&(t.browserUrlTree=e.extractedUrl),(0,qe.of)(e).pipe(lr(function(e){var r=t.transitions.getValue();return n.next(new qr(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?ar.E:Promise.resolve(e)}),function(e,t,n,r){return lr(function(i){return function(e,t,n,r,i){return new jo(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe((0,Je.U)(function(e){return Object.assign(Object.assign({},i),{urlAfterRedirects:e})}))})}(t.ngModule.injector,t.configLoader,t.urlSerializer,t.config),(0,Hn.b)(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,r,o,a){return(0,ze.zg)(function(r){return function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var u=new $o(e,t,n,r,o,a).recognize();return null===u?Qo(new Yo):(0,qe.of)(u)}catch(i){return Qo(i)}}(e,n,r.urlAfterRedirects,(u=r.urlAfterRedirects,t.serializeUrl(u)),o,a).pipe((0,Je.U)(function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})}));var u})}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),(0,Hn.b)(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,e),t.browserUrlTree=e.urlAfterRedirects);var r=new Br(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(o&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var a=e.id,u=e.extractedUrl,s=e.source,c=e.restoredState,l=e.extras,f=new qr(a,t.serializeUrl(u),s,c);n.next(f);var h=Ki(u,t.rootComponentType).snapshot;return(0,qe.of)(Object.assign(Object.assign({},e),{targetSnapshot:h,urlAfterRedirects:u,extras:Object.assign(Object.assign({},l),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),ar.E}),ia(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,u=a.skipLocationChange,s=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!u,replaceUrl:!!s})}),(0,Hn.b)(function(e){var n=new Gr(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),(0,Je.U)(function(e){return Object.assign(Object.assign({},e),{guards:Go(e.targetSnapshot,e.currentSnapshot,t.rootContexts)})}),function(e,t){return(0,ze.zg)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,u=o.canDeactivateChecks;return 0===u.length&&0===a.length?(0,qe.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,Rt.D)(e).pipe((0,ze.zg)(function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,qe.of)(!0);var a=o.map(function(o){var a,u=Ko(o,t,i);if(function(e){return e&&wo(e.canDeactivate)}(u))a=pi(u.canDeactivate(e,t,n,r));else{if(!wo(u))throw new Error("Invalid CanDeactivate guard");a=pi(u(e,t,n,r))}return a.pipe(Lr())});return(0,qe.of)(a).pipe(xo())}(e.component,e.route,n,t,r)}),Lr(function(e){return!0!==e},!0))}(u,r,i,e).pipe((0,ze.zg)(function(n){return n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,Rt.D)(t).pipe(He(function(t){return or(function(e,t){return null!==e&&t&&t(new $r(e)),(0,qe.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new ei(e)),(0,qe.of)(!0)}(t.route,r),function(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return ur(function(){var i=t.guards.map(function(i){var o,a=Ko(i,t.node,n);if(function(e){return e&&wo(e.canActivateChild)}(a))o=pi(a.canActivateChild(r,e));else{if(!wo(a))throw new Error("Invalid CanActivateChild guard");o=pi(a(r,e))}return o.pipe(Lr())});return(0,qe.of)(i).pipe(xo())})});return(0,qe.of)(i).pipe(xo())}(e,t.path,n),function(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,qe.of)(!0);var i=r.map(function(r){return ur(function(){var i,o=Ko(r,t,n);if(function(e){return e&&wo(e.canActivate)}(o))i=pi(o.canActivate(t,e));else{if(!wo(o))throw new Error("Invalid CanActivate guard");i=pi(o(t,e))}return i.pipe(Lr())})});return(0,qe.of)(i).pipe(xo())}(e,t.route,n))}),Lr(function(e){return!0!==e},!0))}(r,a,e,t):(0,qe.of)(n)}),(0,Je.U)(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))})}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),(0,Hn.b)(function(e){if(bo(e.guardsResult)){var n=ui('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}var r=new Kr(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(r)}),Ge(function(e){return!!e.guardsResult||(t.restoreHistory(e),t.cancelNavigationTransition(e,""),!1)}),ia(function(e){if(e.guards.canActivateChecks.length)return(0,qe.of)(e).pipe((0,Hn.b)(function(e){var n=new Wr(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),lr(function(e){var n=!1;return(0,qe.of)(e).pipe(function(e,t){return(0,ze.zg)(function(n){var r=n.targetSnapshot,i=n.guards.canActivateChecks;if(!i.length)return(0,qe.of)(n);var o=0;return(0,Rt.D)(i).pipe(He(function(n){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return(0,qe.of)({});var o={};return(0,Rt.D)(i).pipe((0,ze.zg)(function(i){return function(e,t,n,r){var i=Ko(e,t,r);return pi(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,Hn.b)(function(e){o[i]=e}))}),Tr(1),(0,ze.zg)(function(){return Object.keys(o).length===i.length?(0,qe.of)(o):ar.E}))}(e._resolve,e,t,r).pipe((0,Je.U)(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Ji(e,n).resolve),null}))}(n.route,r,e,t)}),(0,Hn.b)(function(){return o++}),Tr(1),(0,ze.zg)(function(e){return o===i.length?(0,qe.of)(n):ar.E}))})}(t.paramsInheritanceStrategy,t.ngModule.injector),(0,Hn.b)({next:function(){return n=!0},complete:function(){n||(t.restoreHistory(e),t.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}))}),(0,Hn.b)(function(e){var n=new Jr(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),ia(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,u=a.skipLocationChange,s=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!u,replaceUrl:!!s})}),(0,Je.U)(function(e){var n=function(e,t,n){var r=no(e,t._root,n?n._root:void 0);return new Gi(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})}),(0,Hn.b)(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(e.urlAfterRedirects,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,e),t.browserUrlTree=e.urlAfterRedirects)}),function(e,t,n){return(0,Je.U)(function(r){return new mo(t,r.targetRouterState,r.currentRouterState,n).activate(e),r})}(t.rootContexts,t.routeReuseStrategy,function(e){return t.triggerEvent(e)}),(0,Hn.b)({next:function(){r=!0},complete:function(){r=!0}}),function(e){return function(t){return t.lift(new Ur(e))}}(function(){if(!r&&!i){var n="Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId);"replace"===t.canceledNavigationResolution?(t.restoreHistory(e),t.cancelNavigationTransition(e,n)):t.cancelNavigationTransition(e,n)}t.currentNavigation=null}),br(function(r){if(i=!0,function(e){return e&&e[ai]}(r)){var o=bo(r.url);o||(t.navigated=!0,t.restoreHistory(e,!0));var a=new zr(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(a),o?setTimeout(function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree),i={skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ma(e.source)};t.scheduleNavigation(n,"imperative",null,i,{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.restoreHistory(e,!0);var u=new Hr(e.id,t.serializeUrl(e.extractedUrl),r);n.next(u);try{e.resolve(t.errorHandler(r))}catch(a){e.reject(a)}}return ar.E}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(o.state=a)}e.scheduleNavigation(i,t,r,o)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return t.transitionId!==e.transitionId||!n||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Io(e),this.config=e.map(Eo),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,a=t.queryParamsHandling,u=t.preserveFragment,s=n||this.routerState.root,c=u?this.currentUrlTree.fragment:i,l=null;switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,i){if(0===n.length)return ao(t.root,t.root,t,r,i);var a=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new so(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return di(r.outlets,function(e,t){a[t]="string"==typeof e?e.split("/"):e}),[].concat(o(e),[{outlets:a}])}if(r.segmentPath)return[].concat(o(e),[r.segmentPath])}return"string"!=typeof r?[].concat(o(e),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[].concat(o(e),[r])},[]);return new so(n,t,r)}(n);if(a.toRoot())return ao(t.root,new _i([],{}),t,r,i);var u=function(e,t,n){if(e.isAbsolute)return new co(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new co(r,r===t.root,0)}var i=io(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new co(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(a,t,e),s=u.processChildren?fo(u.segmentGroup,u.index,a.commands):lo(u.segmentGroup,u.index,a.commands);return ao(u.segmentGroup,s,t,r,i)}(s,this.currentUrlTree,e,l,null!=c?c:null)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=bo(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){var n;if(n=!0===t?Object.assign({},pa):!1===t?Object.assign({},va):t,bo(e))return mi(this.currentUrlTree,e,n);var r=this.parseUrl(e);return mi(this.currentUrlTree,r,n)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.currentPageId=t.targetPageId,e.events.next(new jr(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ".concat(t))})}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a;if(this.disposed)return Promise.resolve(!1);var u,s,c,l=this.getTransition(),f=ma(t)&&l&&!ma(l.source),h=(this.lastSuccessfulId===l.id||this.currentNavigation?l.rawUrl:l.urlAfterRedirects).toString()===e.toString();if(f&&h)return Promise.resolve(!0);i?(u=i.resolve,s=i.reject,c=i.promise):c=new Promise(function(e,t){u=e,s=t});var d,p=++this.navigationId;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),d=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(a=this.browserPageId)&&void 0!==a?a:0)+1):d=0,this.setTransition({id:p,targetPageId:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:s,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t){var n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}},{key:"restoreHistory",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(t=this.currentNavigation)||void 0===t?void 0:t.finalUrl)||0===i?this.currentUrlTree===(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(e,t){var n=new zr(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}},{key:"generateNgRouterState",value:function(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.DyG),s.LFG(Ii),s.LFG(ca),s.LFG(L),s.LFG(s.zs3),s.LFG(s.v3s),s.LFG(s.Sil),s.LFG(void 0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}();function ma(e){return"imperative"!==e}var ya=function(){var e=function(){function e(t,n,r,i,o){h(this,e),this.router=t,this.route=n,this.commands=[],this.onChanges=new Bn.xQ,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return f(e,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"onClick",value:function(){var e={skipLocationChange:wa(this.skipLocationChange),replaceUrl:wa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:wa(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(ga),s.Y36(Wi),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},e.\u0275dir=s.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&s.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[s.TTD]}),e}(),ka=function(){var e=function(){function e(t,n,r){var i=this;h(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new Bn.xQ,this.subscription=t.events.subscribe(function(e){e instanceof jr&&i.updateTargetUrlAndHref()})}return f(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r,i){if(0!==e||t||n||r||i||"string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:wa(this.skipLocationChange),replaceUrl:wa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:wa(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(ga),s.Y36(Wi),s.Y36(R))},e.\u0275dir=s.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&s.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(s.Ikx("href",t.href,s.LSH),s.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[s.TTD]}),e}();function wa(e){return""===e||!!e}var ba=function(){var e=function(){function e(t,n,r,i,o,a){var u=this;h(this,e),this.router=t,this.element=n,this.renderer=r,this.cdr=i,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(function(e){e instanceof jr&&u.update()})}return f(e,[{key:"ngAfterContentInit",value:function(){var e=this;(0,qe.of)(this.links.changes,this.linksWithHrefs.changes,(0,qe.of)(null)).pipe((0,ir.J)()).subscribe(function(t){e.update(),e.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var e,t=this;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();var n=[].concat(o(this.links.toArray()),o(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(e){return!!e}).map(function(e){return e.onChanges});this.linkInputChangesSubscription=(0,Rt.D)(n).pipe((0,ir.J)()).subscribe(function(e){t.isActive!==t.isLinkActive(t.router)(e)&&t.update()})}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(function(e){return!!e})}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}},{key:"update",value:function(){var e=this;!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.cdr.markForCheck(),e.classes.forEach(function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(e){var t=function(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return function(n){return e.isActive(n.urlTree,t)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(ga),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(ya,8),s.Y36(ka,8))},e.\u0275dir=s.lG2({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var r;(1&e&&(s.Suo(n,ya,5),s.Suo(n,ka,5)),2&e)&&(s.iGM(r=s.CRH())&&(t.links=r),s.iGM(r=s.CRH())&&(t.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[s.TTD]}),e}(),_a=function(){var e=function(){function e(t,n,r,i,o){h(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.name=i||ri,t.onChildOutletCreated(this.name,this)}return f(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new xa(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(ca),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},e.\u0275dir=s.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e}(),xa=function(){function e(t,n,r){h(this,e),this.route=t,this.childContexts=n,this.parent=r}return f(e,[{key:"get",value:function(e,t){return e===Wi?this.route:e===ca?this.childContexts:this.parent.get(e,t)}}]),e}(),Ta=function e(){h(this,e)},Ia=function(){function e(){h(this,e)}return f(e,[{key:"preload",value:function(e,t){return(0,qe.of)(null)}}]),e}(),Sa=function(){var e=function(){function e(t,n,r,i,o){h(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new ua(n,r,function(e){return t.triggerEvent(new Yr(e))},function(e){return t.triggerEvent(new Qr(e))})}return f(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Ge(function(e){return e instanceof jr}),He(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=u(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return(0,Rt.D)(r).pipe((0,ir.J)(),(0,Je.U)(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return(t._loadedConfig?(0,qe.of)(t._loadedConfig):n.loader.load(e.injector,t)).pipe((0,ze.zg)(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(ga),s.LFG(s.v3s),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(Ta))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),Ca=function(){var e=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return f(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof qr?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof jr&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof ni&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new ni(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(ga),s.LFG(ue),s.LFG(void 0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),Ea=new s.OlP("ROUTER_CONFIGURATION"),Aa=new s.OlP("ROUTER_FORROOT_GUARD"),Ra=[L,{provide:Ii,useClass:Si},{provide:ga,useFactory:function(e,t,n,r,i,o,a){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},s=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new ga(null,e,t,n,r,i,o,fi(a));return s&&(l.urlHandlingStrategy=s),c&&(l.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(u,l),u.enableTracing&&l.events.subscribe(function(e){var t,n;null===(t=console.group)||void 0===t||t.call(console,"Router Event: ".concat(e.constructor.name)),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Ii,ca,L,s.zs3,s.v3s,s.Sil,aa,Ea,[function(){return function e(){h(this,e)}}(),new s.FiY],[function(){return function e(){h(this,e)}}(),new s.FiY]]},ca,{provide:Wi,useFactory:function(e){return e.routerState.root},deps:[ga]},{provide:s.v3s,useClass:s.EAV},Sa,Ia,function(){function e(){h(this,e)}return f(e,[{key:"preload",value:function(e,t){return t().pipe(br(function(){return(0,qe.of)(null)}))}}]),e}(),{provide:Ea,useValue:{enableTracing:!1}}];function Oa(){return new s.PXZ("Router",ga)}var Na=function(){var e=function(){function e(t,n){h(this,e)}return f(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Ra,Ma(t),{provide:Aa,useFactory:La,deps:[[ga,new s.FiY,new s.tp0]]},{provide:Ea,useValue:n||{}},{provide:R,useFactory:Da,deps:[w,[new s.tBr(N),new s.FiY],Ea]},{provide:Ca,useFactory:Pa,deps:[ga,ue,Ea]},{provide:Ta,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ia},{provide:s.PXZ,multi:!0,useFactory:Oa},[Fa,{provide:s.ip1,multi:!0,useFactory:Ua,deps:[Fa]},{provide:qa,useFactory:Va,deps:[Fa]},{provide:s.tb,multi:!0,useExisting:qa}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Ma(t)]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(Aa,8),s.LFG(ga,8))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e}();function Pa(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Ca(e,t,n)}function Da(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new D(e,t):new P(e,t)}function La(e){return"guarded"}function Ma(e){return[{provide:s.deG,multi:!0,useValue:e},{provide:aa,multi:!0,useValue:e}]}var Fa=function(){var e=function(){function e(t){h(this,e),this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Bn.xQ}return f(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(x,Promise.resolve(null)).then(function(){if(e.destroyed)return Promise.resolve(!0);var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(ga),i=e.injector.get(Ea);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return e.initNavigation?(0,qe.of)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Ea),n=this.injector.get(Sa),r=this.injector.get(Ca),i=this.injector.get(ga),o=this.injector.get(s.z2F);e===o.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.zs3))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}();function Ua(e){return e.appInitializer.bind(e)}function Va(e){return e.bootstrapListener.bind(e)}var Za,qa=new s.OlP("Router Initializer"),ja=function(){var e=function e(){h(this,e),this.apiKey="AIzaSyCPoBazzJYQDR_kUMlfSLFNHTrkSYJK3HI",this.urlLogIn="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key="+this.apiKey,this.url="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCPoBazzJYQDR_kUMlfSLFNHTrkSYJK3HI"};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),za=function(){var e=function(){function e(t,n,r){h(this,e),this.http=t,this.router=n,this.hidden=r,this.apiKey=this.hidden.apiKey,this.urlLogIn=this.hidden.urlLogIn,this.url=this.hidden.url,this.user=new Kn(null)}return f(e,[{key:"signUp",value:function(e,t){var n=this;return this.http.post(this.url,{email:e,password:t,returnSecureToken:!0}).pipe((0,Hn.b)(function(e){n.handleAuthentication(e.email,e.userId,e.idToken,+e.expiresln)}))}},{key:"logIn",value:function(e,t){var n=this;return this.http.post(this.urlLogIn,{email:e,password:t,returnSecureToken:!0}).pipe((0,Hn.b)(function(e){n.handleAuthentication(e.email,e.localid,e.idToken,+e.expiresln)}))}},{key:"autoLogin",value:function(){var e=JSON.parse(localStorage.getItem("user"));if(e){var t=new zn(e.email,e.id="2",e._token,new Date(e._tokenExpirationDate));null==t.token&&this.user.next(t)}}},{key:"handleAuthentication",value:function(e,t,n,r){var i=new Date((new Date).getTime()+1e3*r),o=new zn(e,t,n,i);this.user.next(o),localStorage.setItem("user",JSON.stringify(o))}},{key:"logOut",value:function(){this.user.next(null),localStorage.removeItem("user")}},{key:"isLoggedIn",value:function(){return localStorage.getItem("user")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(gt),s.LFG(ga),s.LFG(ja))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Ha=new Uint8Array(16);function Ba(){if(!Za&&!(Za="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Za(Ha)}for(var Ga=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ka=function(e){return"string"==typeof e&&Ga.test(e)},Wa=[],Ja=0;Ja<256;++Ja)Wa.push((Ja+256).toString(16).substr(1));var Ya=function(e,t,n){var r=(e=e||{}).random||(e.rng||Ba)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Wa[e[t+0]]+Wa[e[t+1]]+Wa[e[t+2]]+Wa[e[t+3]]+"-"+Wa[e[t+4]]+Wa[e[t+5]]+"-"+Wa[e[t+6]]+Wa[e[t+7]]+"-"+Wa[e[t+8]]+Wa[e[t+9]]+"-"+Wa[e[t+10]]+Wa[e[t+11]]+Wa[e[t+12]]+Wa[e[t+13]]+Wa[e[t+14]]+Wa[e[t+15]]).toLowerCase();if(!Ka(n))throw TypeError("Stringified UUID is invalid");return n}(r)},Qa=a(3637),$a=a(6643);function Xa(){return function(e){return e.lift(new tu)}}var eu,tu=function(){function e(){h(this,e)}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new nu(e))}}]),e}(),nu=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).hasPrev=!1,r}return f(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(Be.L),ru=function(){function e(t,n){h(this,e),this.compare=t,this.keySelector=n}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new iu(e,this.compare,this.keySelector))}}]),e}(),iu=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return f(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(n){return this.destination.error(n)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(n){return this.destination.error(n)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(Be.L),ou=a(8939),au=(a(4671),a(4486)),uu=a(8239),su=a(5452),cu=a(6034),lu=a(5601),fu=a(3854),hu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},du={},pu=pu||{},vu=hu||self;function gu(){}function mu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function yu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ku="closure_uid_"+(1e9*Math.random()>>>0),wu=0;function bu(e,t,n){return e.call.apply(e.bind,arguments)}function _u(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function xu(e,t,n){return(xu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bu:_u).apply(null,arguments)}function Tu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Iu(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Su(){this.s=this.s,this.o=this.o}var Cu={};Su.prototype.s=!1,Su.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ku)&&e[ku]||(e[ku]=++wu)}(this);delete Cu[e]}},Su.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Eu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Au=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Ru(e){return Array.prototype.concat.apply([],arguments)}function Ou(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Nu(e){return/^[\s\xa0]*$/.test(e)}var Pu,Du=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Lu(e,t){return-1!=e.indexOf(t)}function Mu(e,t){return e<t?-1:e>t?1:0}e:{var Fu=vu.navigator;if(Fu){var Uu=Fu.userAgent;if(Uu){Pu=Uu;break e}}Pu=""}function Vu(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Zu(e){var t={};for(var n in e)t[n]=e[n];return t}var qu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ju(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<qu.length;o++)n=qu[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zu(e){return zu[" "](e),e}zu[" "]=gu;var Hu,Bu,Gu=Lu(Pu,"Opera"),Ku=Lu(Pu,"Trident")||Lu(Pu,"MSIE"),Wu=Lu(Pu,"Edge"),Ju=Wu||Ku,Yu=Lu(Pu,"Gecko")&&!(Lu(Pu.toLowerCase(),"webkit")&&!Lu(Pu,"Edge"))&&!(Lu(Pu,"Trident")||Lu(Pu,"MSIE"))&&!Lu(Pu,"Edge"),Qu=Lu(Pu.toLowerCase(),"webkit")&&!Lu(Pu,"Edge");function $u(){var e=vu.document;return e?e.documentMode:void 0}e:{var Xu="",es=(Bu=Pu,Yu?/rv:([^\);]+)(\)|;)/.exec(Bu):Wu?/Edge\/([\d\.]+)/.exec(Bu):Ku?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bu):Qu?/WebKit\/(\S+)/.exec(Bu):Gu?/(?:Version)[ \/]?(\S+)/.exec(Bu):void 0);if(es&&(Xu=es?es[1]:""),Ku){var ts=$u();if(null!=ts&&ts>parseFloat(Xu)){Hu=String(ts);break e}}Hu=Xu}var ns={};var rs=vu.document&&Ku&&($u()||parseInt(Hu,10))||void 0,is=function(){if(!vu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{vu.addEventListener("test",gu,t),vu.removeEventListener("test",gu,t)}catch(n){}return e}();function os(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function as(e,t){if(os.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Yu){e:{try{zu(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:us[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&as.Z.h.call(this)}}os.prototype.h=function(){this.defaultPrevented=!0},Iu(as,os);var us={2:"touch",3:"pen",4:"mouse"};as.prototype.h=function(){as.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ss="closure_listenable_"+(1e6*Math.random()|0),cs=0;function ls(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++cs,this.ca=this.fa=!1}function fs(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function hs(e){this.src=e,this.g={},this.h=0}function ds(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Eu(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(fs(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ps(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}hs.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ps(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new ls(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var vs="closure_lm_"+(1e6*Math.random()|0),gs={};function ms(e,t,n,r,i){if(r&&r.once)return ks(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ms(e,t[o],n,r,i);return null}return n=Ss(n),e&&e[ss]?e.N(t,n,yu(r)?!!r.capture:!!r,i):ys(e,t,n,!1,r,i)}function ys(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=yu(i)?!!i.capture:!!i,u=Ts(e);if(u||(e[vs]=u=new hs(e)),(n=u.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=xs;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)is||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_s(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ks(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ks(e,t[o],n,r,i);return null}return n=Ss(n),e&&e[ss]?e.O(t,n,yu(r)?!!r.capture:!!r,i):ys(e,t,n,!0,r,i)}function ws(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ws(e,t[o],n,r,i);else r=yu(r)?!!r.capture:!!r,n=Ss(n),e&&e[ss]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=ps(o=e.g[t],n,r,i))&&(fs(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=Ts(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ps(t,n,r,i)),(n=-1<e?t[e]:null)&&bs(n))}function bs(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ss])ds(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_s(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ts(t))?(ds(n,e),0==n.h&&(n.src=null,t[vs]=null)):fs(e)}}}function _s(e){return e in gs?gs[e]:gs[e]="on"+e}function xs(e,t){if(e.ca)e=!0;else{t=new as(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&bs(e),e=n.call(r,t)}return e}function Ts(e){return(e=e[vs])instanceof hs?e:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ss(e){return"function"==typeof e?e:(e[Is]||(e[Is]=function(t){return e.handleEvent(t)}),e[Is])}function Cs(){Su.call(this),this.i=new hs(this),this.P=this,this.I=null}function Es(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new os(t,e);else if(t instanceof os)t.target=t.target||e;else{var i=t;ju(t=new os(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=As(a,r,!0,t)&&i}if(i=As(a=t.g=e,r,!0,t)&&i,i=As(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=As(a=t.g=n[o],r,!1,t)&&i}function As(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var u=a.listener,s=a.ia||a.src;a.fa&&ds(e.i,a),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Iu(Cs,Su),Cs.prototype[ss]=!0,Cs.prototype.removeEventListener=function(e,t,n,r){ws(this,e,t,n,r)},Cs.prototype.M=function(){if(Cs.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fs(n[r]);delete t.g[e],t.h--}}this.I=null},Cs.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Cs.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Rs=vu.JSON.stringify;function Os(){var e=Us,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ns,Ps=new(function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return f(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())(function(){return new Ds},function(e){return e.reset()}),Ds=function(){function e(){h(this,e),this.next=this.g=this.h=null}return f(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ls(e){vu.setTimeout(function(){throw e},0)}function Ms(e,t){Ns||function(){var e=vu.Promise.resolve(void 0);Ns=function(){e.then(Vs)}}(),Fs||(Ns(),Fs=!0),Us.add(e,t)}var Fs=!1,Us=new(function(){function e(){h(this,e),this.h=this.g=null}return f(e,[{key:"add",value:function(e,t){var n=Ps.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}());function Vs(){for(var e;e=Os();){try{e.h.call(e.g)}catch(n){Ls(n)}var t=Ps;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fs=!1}function Zs(e,t){Cs.call(this),this.h=e||1,this.g=t||vu,this.j=xu(this.kb,this),this.l=Date.now()}function qs(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function js(e,t,n){if("function"==typeof e)n&&(e=xu(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=xu(e.handleEvent,e)}return 2147483647<Number(t)?-1:vu.setTimeout(e,t||0)}function zs(e){e.g=js(function(){e.g=null,e.i&&(e.i=!1,zs(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Iu(Zs,Cs),(eu=Zs.prototype).da=!1,eu.S=null,eu.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Es(this,"tick"),this.da&&(qs(this),this.start()))}},eu.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},eu.M=function(){Zs.Z.M.call(this),qs(this),delete this.g};var Hs=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return f(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:zs(this)}},{key:"M",value:function(){i(b(n.prototype),"M",this).call(this),this.g&&(vu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Su);function Bs(e){Su.call(this),this.h=e,this.g={}}Iu(Bs,Su);var Gs=[];function Ks(e,t,n,r){Array.isArray(n)||(n&&(Gs[0]=n.toString()),n=Gs);for(var i=0;i<n.length;i++){var o=ms(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ws(e){Vu(e.g,function(e,t){this.g.hasOwnProperty(t)&&bs(e)},e),e.g={}}function Js(){this.g=!0}function Ys(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Rs(n)}catch(u){return t}}(e,n)+(r?" "+r:"")})}Bs.prototype.M=function(){Bs.Z.M.call(this),Ws(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Js.prototype.Aa=function(){this.g=!1},Js.prototype.info=function(){};var Qs={},$s=null;function Xs(){return $s=$s||new Cs}function ec(e){os.call(this,Qs.Ma,e)}function tc(e){var t=Xs();Es(t,new ec(t,e))}function nc(e,t){os.call(this,Qs.STAT_EVENT,e),this.stat=t}function rc(e){var t=Xs();Es(t,new nc(t,e))}function ic(e,t){os.call(this,Qs.Na,e),this.size=t}function oc(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return vu.setTimeout(function(){e()},t)}Qs.Ma="serverreachability",Iu(ec,os),Qs.STAT_EVENT="statevent",Iu(nc,os),Qs.Na="timingevent",Iu(ic,os);var ac={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sc(){}function cc(){}sc.prototype.h=null;var lc,fc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function hc(){os.call(this,"d")}function dc(){os.call(this,"c")}function pc(){}function vc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Bs(this),this.P=mc,this.W=new Zs(e=Ju?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gc}function gc(){this.i=null,this.g="",this.h=!1}Iu(hc,os),Iu(dc,os),Iu(pc,sc),pc.prototype.g=function(){return new XMLHttpRequest},pc.prototype.i=function(){return{}},lc=new pc;var mc=45e3,yc={},kc={};function wc(e,t,n){e.K=1,e.v=zc(Fc(t)),e.s=n,e.U=!0,bc(e,null)}function bc(e,t){e.F=Date.now(),Ic(e),e.A=Fc(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),nl(n.h,"t",r),e.C=0,n=e.l.H,e.h=new gc,e.g=nf(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Hs(xu(e.Ia,e,e.g),e.O)),Ks(e.V,e.g,"readystatechange",e.gb),t=e.H?Zu(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),tc(1),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",u=o.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.X,e.s)}function _c(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function xc(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Tc(e,n))==kc){4==t&&(e.o=4,rc(14),i=!1),Ys(e.j,e.m,null,"[Incomplete Response]");break}if(r==yc){e.o=4,rc(15),Ys(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ys(e.j,e.m,r,null),Rc(e,r)}_c(e)&&r!=kc&&r!=yc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,rc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wl(t),t.L=!0,rc(11))):(Ys(e.j,e.m,n,"[Invalid Chunked Response]"),Ac(e),Ec(e))}function Tc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?kc:(n=Number(t.substring(n,r)),isNaN(n)?yc:(r+=1)+n>t.length?kc:(t=t.substr(r,n),e.C=r+n,t))}function Ic(e){e.Y=Date.now()+e.P,Sc(e,e.P)}function Sc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=oc(xu(e.eb,e),t)}function Cc(e){e.B&&(vu.clearTimeout(e.B),e.B=null)}function Ec(e){0==e.l.G||e.I||Ql(e.l,e)}function Ac(e){Cc(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,qs(e.W),Ws(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Rc(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||sl(n.i,e)))if(n.I=e.N,!e.J&&sl(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=oc(xu(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<e.F))break e;Yl(n),Vl(n)}Kl(n),rc(18)}if(1>=ul(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Xl(n,11)}else if((e.J||n.g==e)&&Yl(n),!Nu(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var u=o[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=o[5];null!=s&&"number"==typeof s&&0<s&&(n.K=r=1.5*s,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Lu(l,"spdy")||Lu(l,"quic")||Lu(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(cl(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,jc(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=tf(r,r.H?r.la:null,r.W),d.J){ll(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Cc(p),Ic(p)),r.g=d}else Gl(r);0<n.l.length&&jl(n)}else"stop"!=o[0]&&"close"!=o[0]||Xl(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Xl(n,7):Ul(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}tc(4)}catch(o){}}function Oc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(mu(e)||"string"==typeof e)Au(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(mu(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(mu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Nc(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Nc)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Pc(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Dc(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Dc(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Dc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(eu=vc.prototype).setTimeout=function(e){this.P=e},eu.gb=function(e){e=e.target;var t=this.L;t&&3==Pl(e)?t.l():this.Ia(e)},eu.Ia=function(e){try{if(e==this.g)e:{var t=Pl(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ju||this.g&&(this.h.h||this.g.ga()||Dl(this.g)))){this.I||4!=t||7==n||tc(8==n||0>=r?3:2),Cc(this);var i=this.g.ba();this.N=i;t:if(_c(this)){var o=Dl(this.g);e="";var a=o.length,u=4==Pl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ac(this),Ec(this);var s="";break t}this.h.i=new vu.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:u&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nu(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,rc(12),Ac(this),Ec(this);break e}Ys(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rc(this,i)}this.U?(xc(this,t,s),Ju&&this.i&&3==t&&(Ks(this.V,this.W,"tick",this.fb),this.W.start())):(Ys(this.j,this.m,s,null),Rc(this,s)),4==t&&Ac(this),this.i&&!this.I&&(4==t?Ql(this.l,this):(this.i=!1,Ic(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,rc(12)):(this.o=0,rc(13)),Ac(this),Ec(this)}}}catch(t){}},eu.fb=function(){if(this.g){var e=Pl(this.g),t=this.g.ga();this.C<t.length&&(Cc(this),xc(this,e,t),this.i&&4!=e&&Ic(this))}},eu.cancel=function(){this.I=!0,Ac(this)},eu.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(tc(3),rc(17)),Ac(this),this.o=2,Ec(this)):Sc(this,this.Y-e)},(eu=Nc.prototype).R=function(){Pc(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},eu.T=function(){return Pc(this),this.g.concat()},eu.get=function(e,t){return Dc(this.h,e)?this.h[e]:t},eu.set=function(e,t){Dc(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},eu.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Lc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mc(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Mc){this.g=void 0!==t?t:e.g,Uc(this,e.j),this.s=e.s,Vc(this,e.i),Zc(this,e.m),this.l=e.l,t=e.h;var n=new $c;n.i=t.i,t.g&&(n.g=new Nc(t.g),n.h=t.h),qc(this,n),this.o=e.o}else e&&(n=String(e).match(Lc))?(this.g=!!t,Uc(this,n[1]||"",!0),this.s=Hc(n[2]||""),Vc(this,n[3]||"",!0),Zc(this,n[4]),this.l=Hc(n[5]||"",!0),qc(this,n[6]||"",!0),this.o=Hc(n[7]||"")):(this.g=!!t,this.h=new $c(null,this.g))}function Fc(e){return new Mc(e)}function Uc(e,t,n){e.j=n?Hc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vc(e,t,n){e.i=n?Hc(t,!0):t}function Zc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qc(e,t,n){t instanceof $c?(e.h=t,function(e,t){t&&!e.j&&(Xc(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(el(this,t),nl(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Bc(t,Yc)),e.h=new $c(t,e.g))}function jc(e,t,n){e.h.set(t,n)}function zc(e){return jc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bc(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Gc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bc(t,Kc,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bc(t,Kc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bc(n,"/"==n.charAt(0)?Jc:Wc,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bc(n,Qc)),e.join("")};var Kc=/[#\/\?@]/g,Wc=/[#\?:]/g,Jc=/[#\?]/g,Yc=/[#\?@]/g,Qc=/#/g;function $c(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xc(e){e.g||(e.g=new Nc,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function el(e,t){Xc(e),t=rl(e,t),Dc(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Dc((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Pc(e)))}function tl(e,t){return Xc(e),t=rl(e,t),Dc(e.g.h,t)}function nl(e,t,n){el(e,t),0<n.length&&(e.i=null,e.g.set(rl(e,t),Ou(n)),e.h+=n.length)}function rl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function il(e){this.l=e||ol,e=vu.PerformanceNavigationTiming?0<(e=vu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(vu.g&&vu.g.Ea&&vu.g.Ea()&&vu.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(eu=$c.prototype).add=function(e,t){Xc(this),this.i=null,e=rl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},eu.forEach=function(e,t){Xc(this),this.g.forEach(function(n,r){Au(n,function(n){e.call(t,n,r,this)},this)},this)},eu.T=function(){Xc(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},eu.R=function(e){Xc(this);var t=[];if("string"==typeof e)tl(this,e)&&(t=Ru(t,this.g.get(rl(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ru(t,e[n])}return t},eu.set=function(e,t){return Xc(this),this.i=null,tl(this,e=rl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},eu.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},eu.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var ol=10;function al(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ul(e){return e.h?1:e.g?e.g.size:0}function sl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cl(e,t){e.g?e.g.add(t):e.h=t}function ll(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fl(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=u(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(o){r.e(o)}finally{r.f()}return n}return Ou(e.i)}function hl(){}function dl(){this.g=new hl}function pl(e,t,n){var r=n||"";try{Oc(e,function(e,n){var i=e;yu(e)&&(i=Rs(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function gl(e){this.l=e.$b||null,this.j=e.ib||!1}function ml(e,t){Cs.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=yl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}il.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=u(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},hl.prototype.stringify=function(e){return vu.JSON.stringify(e,void 0)},hl.prototype.parse=function(e){return vu.JSON.parse(e,void 0)},Iu(gl,sc),gl.prototype.g=function(){return new ml(this.l,this.j)},gl.prototype.i=function(e){return function(){return e}}({}),Iu(ml,Cs);var yl=0;function kl(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function wl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,bl(e)}function bl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(eu=ml.prototype).open=function(e,t){if(this.readyState!=yl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,bl(this)},eu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||vu).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},eu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wl(this)),this.readyState=yl},eu.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,bl(this)),this.g&&(this.readyState=3,bl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==vu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kl(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},eu.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?wl(this):bl(this),3==this.readyState&&kl(this)}},eu.Ua=function(e){this.g&&(this.response=this.responseText=e,wl(this))},eu.Ta=function(e){this.g&&(this.response=e,wl(this))},eu.ha=function(){this.g&&wl(this)},eu.setRequestHeader=function(e,t){this.v.append(e,t)},eu.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},eu.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ml.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var _l=vu.JSON.parse;function xl(e){Cs.call(this),this.headers=new Nc,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tl,this.K=this.L=!1}Iu(xl,Cs);var Tl="",Il=/^https?$/i,Sl=["POST","PUT"];function Cl(e){return"content-type"==e.toLowerCase()}function El(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Al(e),Ol(e)}function Al(e){e.D||(e.D=!0,Es(e,"complete"),Es(e,"error"))}function Rl(e){if(e.h&&void 0!==pu&&(!e.C[1]||4!=Pl(e)||2!=e.ba()))if(e.v&&4==Pl(e))js(e.Fa,0,e);else if(Es(e,"readystatechange"),4==Pl(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Lc)[1]||null;if(!o&&vu.self&&vu.self.location){var a=vu.self.location.protocol;o=a.substr(0,a.length-1)}i=!Il.test(o?o.toLowerCase():"")}t=i}if(t)Es(e,"complete"),Es(e,"success");else{e.m=6;try{var u=2<Pl(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Al(e)}}finally{Ol(e)}}}function Ol(e,t){if(e.g){Nl(e);var n=e.g,r=e.C[0]?gu:null;e.g=null,e.C=null,t||Es(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Nl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(vu.clearTimeout(e.A),e.A=null)}function Pl(e){return e.g?e.g.readyState:0}function Dl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Tl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ll(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Vu(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):jc(e,t,n))}function Ml(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fl(e){this.za=0,this.l=[],this.h=new Js,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ml("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ml("baseRetryDelayMs",5e3,e),this.$a=Ml("retryDelaySeedMs",1e4,e),this.Ya=Ml("forwardChannelMaxRetries",2,e),this.ra=Ml("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new il(e&&e.concurrentRequestLimit),this.Ca=new dl,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ul(e){if(Zl(e),3==e.G){var t=e.V++,n=Fc(e.F);jc(n,"SID",e.J),jc(n,"RID",t),jc(n,"TYPE","terminate"),Hl(e,n),(t=new vc(e,e.h,t,void 0)).K=2,t.v=zc(Fc(n)),n=!1,vu.navigator&&vu.navigator.sendBeacon&&(n=vu.navigator.sendBeacon(t.v.toString(),"")),!n&&vu.Image&&((new Image).src=t.v,n=!0),n||(t.g=nf(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ic(t)}ef(e)}function Vl(e){e.g&&(Wl(e),e.g.cancel(),e.g=null)}function Zl(e){Vl(e),e.u&&(vu.clearTimeout(e.u),e.u=null),Yl(e),e.i.cancel(),e.m&&("number"==typeof e.m&&vu.clearTimeout(e.m),e.m=null)}function ql(e,t){e.l.push(new(function(){return function e(t,n){h(this,e),this.h=t,this.g=n}}())(e.Za++,t)),3==e.G&&jl(e)}function jl(e){al(e.i)||e.m||(e.m=!0,Ms(e.Ha,e),e.C=0)}function zl(e,t){var n;n=t?t.m:e.V++;var r=Fc(e.F);jc(r,"SID",e.J),jc(r,"RID",n),jc(r,"AID",e.U),Hl(e,r),e.o&&e.s&&Ll(r,e.o,e.s),n=new vc(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Bl(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),cl(e.i,n),wc(n,r,t)}function Hl(e,t){e.j&&Oc({},function(e,n){jc(t,n,e)})}function Bl(e,t,n){n=Math.min(e.l.length,n);var r=e.j?xu(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=o))o=Math.max(0,i[s].h-100),u=!1;else try{pl(l,a,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Gl(e){e.g||e.u||(e.Y=1,Ms(e.Ga,e),e.A=0)}function Kl(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=oc(xu(e.Ga,e),$l(e,e.A)),e.A++,0))}function Wl(e){null!=e.B&&(vu.clearTimeout(e.B),e.B=null)}function Jl(e){e.g=new vc(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Fc(e.oa);jc(t,"RID","rpc"),jc(t,"SID",e.J),jc(t,"CI",e.N?"0":"1"),jc(t,"AID",e.U),Hl(e,t),jc(t,"TYPE","xmlhttp"),e.o&&e.s&&Ll(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=zc(Fc(t)),n.s=null,n.U=!0,bc(n,e)}function Yl(e){null!=e.v&&(vu.clearTimeout(e.v),e.v=null)}function Ql(e,t){var n=null;if(e.g==t){Yl(e),Wl(e),e.g=null;var r=2}else{if(!sl(e.i,t))return;n=t.D,ll(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Es(r=Xs(),new ic(r,n,t,i)),jl(e)}else Gl(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ul(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=oc(xu(e.Ha,e,t),$l(e,e.C)),e.C++,0)))}(e,t)||2==r&&Kl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Xl(e,5);break;case 4:Xl(e,10);break;case 3:Xl(e,6);break;default:Xl(e,2)}}function $l(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Xl(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=xu(e.jb,e);n||(n=new Mc("//www.google.com/images/cleardot.gif"),vu.location&&"http"==vu.location.protocol||Uc(n,"https"),zc(n)),function(e,t){var n=new Js;if(vu.Image){var r=new Image;r.onload=Tu(vl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Tu(vl,n,r,"TestLoadImage: error",!1,t),r.onabort=Tu(vl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Tu(vl,n,r,"TestLoadImage: timeout",!1,t),vu.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else rc(2);e.G=0,e.j&&e.j.va(t),ef(e),Zl(e)}function ef(e){e.G=0,e.I=-1,e.j&&((0!=fl(e.i).length||0!=e.l.length)&&(e.i.i.length=0,Ou(e.l),e.l.length=0),e.j.ua())}function tf(e,t,n){var r=function(e){return e instanceof Mc?Fc(e):new Mc(e,void 0)}(n);if(""!=r.i)t&&Vc(r,t+"."+r.i),Zc(r,r.m);else{var i=vu.location;r=function(e,t,n,r){var i=new Mc(null,void 0);return e&&Uc(i,e),t&&Vc(i,t),n&&Zc(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Vu(e.aa,function(e,t){jc(r,t,e)}),n=e.sa,(t=e.D)&&n&&jc(r,t,n),jc(r,"VER",e.ma),Hl(e,r),r}function nf(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new xl(n&&e.Ba&&!e.qa?new gl({ib:!0}):e.qa)).L=e.H,t}function rf(){}function of(){if(Ku&&!(10<=Number(rs)))throw Error("Environmental error: no available transport.")}function af(e,t){Cs.call(this),this.g=new Fl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Nu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nu(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new cf(this)}function uf(e){hc.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function sf(){dc.call(this),this.status=1}function cf(e){this.g=e}(eu=xl.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lc.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:lc),this.g.onreadystatechange=xu(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void El(this,o)}e=n||"";var i=new Nc(this.headers);r&&Oc(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=Cl,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=vu.FormData&&e instanceof vu.FormData,!(0<=Eu(Sl,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Nl(this),0<this.B&&((this.K=function(e){return Ku&&function(){return e=ns,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=Du(String(Hu)).split("."),n=Du("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Mu(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Mu(0==o[2].length,0==a[2].length)||Mu(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xu(this.pa,this)):this.A=js(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){El(this,o)}},eu.pa=function(){void 0!==pu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Es(this,"timeout"),this.abort(8))},eu.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Es(this,"complete"),Es(this,"abort"),Ol(this))},eu.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ol(this,!0)),xl.Z.M.call(this)},eu.Fa=function(){this.s||(this.F||this.v||this.l?Rl(this):this.cb())},eu.cb=function(){Rl(this)},eu.ba=function(){try{return 2<Pl(this)?this.g.status:-1}catch(Bu){return-1}},eu.ga=function(){try{return this.g?this.g.responseText:""}catch(Bu){return""}},eu.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_l(t)}},eu.Da=function(){return this.m},eu.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(eu=Fl.prototype).ma=8,eu.G=1,eu.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},eu.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new vc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ju(n=Zu(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Bl(this,t,r),jc(i=Fc(this.F),"RID",e),jc(i,"CVER",22),this.D&&jc(i,"X-HTTP-Session-Id",this.D),Hl(this,i),this.o&&n&&Ll(i,this.o,n),cl(this.i,t),this.Ra&&jc(i,"TYPE","init"),this.ja?(jc(i,"$req",r),jc(i,"SID","null"),t.$=!0,wc(t,i,null)):wc(t,i,r),this.G=2}}else 3==this.G&&(e?zl(this,e):0==this.l.length||al(this.i)||zl(this))},eu.Ga=function(){if(this.u=null,Jl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=oc(xu(this.bb,this),e)}},eu.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rc(10),Vl(this),Jl(this))},eu.ab=function(){null!=this.v&&(this.v=null,Vl(this),Kl(this),rc(19))},eu.jb=function(e){e?(this.h.info("Successfully pinged google.com"),rc(2)):(this.h.info("Failed to ping google.com"),rc(1))},(eu=rf.prototype).xa=function(){},eu.wa=function(){},eu.va=function(){},eu.ua=function(){},eu.Oa=function(){},of.prototype.g=function(e,t){return new af(e,t)},Iu(af,Cs),af.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ms(xu(e.hb,e,t))),rc(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=tf(e,null,e.W),jl(e)},af.prototype.close=function(){Ul(this.g)},af.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,ql(this.g,t)}else this.v?((t={}).__data__=Rs(e),ql(this.g,t)):ql(this.g,e)},af.prototype.M=function(){this.g.j=null,delete this.j,Ul(this.g),delete this.g,af.Z.M.call(this)},Iu(uf,hc),Iu(sf,dc),Iu(cf,rf),cf.prototype.xa=function(){Es(this.g,"a")},cf.prototype.wa=function(e){Es(this.g,new uf(e))},cf.prototype.va=function(e){Es(this.g,new sf(e))},cf.prototype.ua=function(){Es(this.g,"b")},of.prototype.createWebChannel=of.prototype.g,af.prototype.send=af.prototype.u,af.prototype.open=af.prototype.m,af.prototype.close=af.prototype.close,ac.NO_ERROR=0,ac.TIMEOUT=8,ac.HTTP_ERROR=6,uc.COMPLETE="complete",cc.EventType=fc,fc.OPEN="a",fc.CLOSE="b",fc.ERROR="c",fc.MESSAGE="d",Cs.prototype.listen=Cs.prototype.N,xl.prototype.listenOnce=xl.prototype.O,xl.prototype.getLastError=xl.prototype.La,xl.prototype.getLastErrorCode=xl.prototype.Da,xl.prototype.getStatus=xl.prototype.ba,xl.prototype.getResponseJson=xl.prototype.Qa,xl.prototype.getResponseText=xl.prototype.ga,xl.prototype.send=xl.prototype.ea;var lf=du.createWebChannelTransport=function(){return new of},ff=du.getStatEventTarget=function(){return Xs()},hf=du.ErrorCode=ac,df=du.EventType=uc,pf=du.Event=Qs,vf=du.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gf=du.FetchXmlHttpFactory=gl,mf=du.WebChannel=cc,yf=du.XhrIo=xl,kf="@firebase/firestore",wf=function(){function e(t){h(this,e),this.uid=t}return f(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();wf.UNAUTHENTICATED=new wf(null),wf.GOOGLE_CREDENTIALS=new wf("google-credentials-uid"),wf.FIRST_PARTY=new wf("first-party-uid"),wf.MOCK_USER=new wf("mock-user");var bf="9.1.3",_f=new lu.Yd("@firebase/firestore");function xf(){return _f.logLevel}function Tf(e){if(_f.logLevel<=lu.in.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Cf);_f.debug.apply(_f,["Firestore (".concat(bf,"): ").concat(e)].concat(o(i)))}}function If(e){if(_f.logLevel<=lu.in.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Cf);_f.error.apply(_f,["Firestore (".concat(bf,"): ").concat(e)].concat(o(i)))}}function Sf(e){if(_f.logLevel<=lu.in.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Cf);_f.warn.apply(_f,["Firestore (".concat(bf,"): ").concat(e)].concat(o(i)))}}function Cf(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Ef(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(bf,") INTERNAL ASSERTION FAILED: ")+e;throw If(t),new Error(t)}function Af(e,t){e||Ef()}function Rf(e,t){return e}var Of={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Nf=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return n}(m(Error)),Pf=function e(){var t=this;h(this,e),this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Df=function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer ".concat(t)},Lf=function(){function e(){h(this,e)}return f(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(wf.UNAUTHENTICATED)})}},{key:"shutdown",value:function(){}}]),e}(),Mf=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return f(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ff=function(){function e(t){h(this,e),this.t=t,this.currentUser=wf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return f(e,[{key:"start",value:function(e,t){var n=this,r=this,i=this.i,o=function(e){return n.i!==i?(i=n.i,t(e)):Promise.resolve()},a=new Pf;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Pf,e.enqueueRetryable(function(){return o(n.currentUser)})};var u=function(){var t=a;e.enqueueRetryable((0,uu.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,o(r.currentUser);case 4:case"end":return e.stop()}},e)})))},s=function(e){Tf("FirebaseCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit(function(e){return s(e)}),setTimeout(function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Tf("FirebaseCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Pf)}},0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.i!==t?(Tf("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Af("string"==typeof n.accessToken),new Df(n.accessToken,e.currentUser)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Af(null===e||"string"==typeof e),new wf(e)}}]),e}(),Uf=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=wf.FIRST_PARTY}return f(e,[{key:"authHeaders",get:function(){var e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}]),e}(),Vf=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r}return f(e,[{key:"getToken",value:function(){return Promise.resolve(new Uf(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(wf.FIRST_PARTY)})}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Zf=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.g(e)},this.p=function(e){return n.writeSequenceNumber(e)})}return f(e,[{key:"g",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.p&&this.p(e),e}}]),e}();function qf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Zf.T=-1;var jf=function(){function e(){h(this,e)}return f(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=qf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function zf(e,t){return e<t?-1:e>t?1:0}function Hf(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function Bf(e){return e+"\0"}var Gf=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Nf(Of.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Nf(Of.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Nf(Of.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Nf(Of.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return f(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?zf(this.nanoseconds,e.nanoseconds):zf(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Kf=function(){function e(t){h(this,e),this.timestamp=t}return f(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Gf(0,0))}}]),e}();function Wf(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Jf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Yf(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Qf=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&Ef(),void 0===r?r=t.length-n:r>t.length-n&&Ef(),this.segments=t,this.offset=n,this.len=r}return f(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),$f=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,u=r;a<u.length;a++){var s=u[a];if(s.indexOf("//")>=0)throw new Nf(Of.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,o(s.split("/").filter(function(e){return e.length>0})))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Qf),Xf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,eh=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Xf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,o=function(){if(0===r.length)throw new Nf(Of.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},a=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Nf(Of.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Nf(Of.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(a=!a,i++):"."!==u||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new Nf(Of.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Qf),th=function(){function e(t){h(this,e),this.fields=t,t.sort(eh.comparator)}return f(e,[{key:"covers",value:function(e){var t,n=u(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Hf(this.fields,e.fields,function(e,t){return e.isEqual(t)})}}]),e}(),nh=function(){function e(t){h(this,e),this.binaryString=t}return f(e,[{key:"toBase64",value:function(){return btoa(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return zf(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}}]),e}();nh.EMPTY_BYTE_STRING=new nh("");var rh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ih(e){if(Af(!!e),"string"==typeof e){var t=0,n=rh.exec(e);if(Af(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:oh(e.seconds),nanos:oh(e.nanos)}}function oh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ah(e){return"string"==typeof e?nh.fromBase64String(e):nh.fromUint8Array(e)}function uh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sh(e){var t=e.mapValue.fields.__previous_value__;return uh(t)?sh(t):t}function ch(e){var t=ih(e.mapValue.fields.__local_write_time__.timestampValue);return new Gf(t.seconds,t.nanos)}function lh(e){return null==e}function fh(e){return 0===e&&1/e==-1/0}function hh(e){return"number"==typeof e&&Number.isInteger(e)&&!fh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var dh=function(){function e(t){h(this,e),this.path=t}return f(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===$f.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e($f.fromString(t))}},{key:"fromName",value:function(t){return new e($f.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return $f.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new $f(t.slice()))}}]),e}();function ph(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uh(e)?4:10:Ef()}function vh(e,t){var n,r=ph(e);if(r!==ph(t))return!1;switch(r){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ch(e).isEqual(ch(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ih(e.timestampValue),r=ih(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return n=t,ah(e.bytesValue).isEqual(ah(n.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return oh(e.geoPointValue.latitude)===oh(t.geoPointValue.latitude)&&oh(e.geoPointValue.longitude)===oh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return oh(e.integerValue)===oh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=oh(e.doubleValue),r=oh(t.doubleValue);return n===r?fh(n)===fh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Hf(e.arrayValue.values||[],t.arrayValue.values||[],vh);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Wf(n)!==Wf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!vh(n[i],r[i])))return!1;return!0}(e,t);default:return Ef()}}function gh(e,t){return void 0!==(e.values||[]).find(function(e){return vh(e,t)})}function mh(e,t){var n,r,i,o=ph(e),a=ph(t);if(o!==a)return zf(o,a);switch(o){case 0:return 0;case 1:return zf(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=oh(e.integerValue||e.doubleValue),r=oh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return yh(e.timestampValue,t.timestampValue);case 4:return yh(ch(e),ch(t));case 5:return zf(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ah(e),r=ah(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=zf(n[i],r[i]);if(0!==o)return o}return zf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return n=e.geoPointValue,r=t.geoPointValue,0!==(i=zf(oh(n.latitude),oh(r.latitude)))?i:zf(oh(n.longitude),oh(r.longitude));case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=mh(n[i],r[i]);if(o)return o}return zf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var u=zf(r[a],o[a]);if(0!==u)return u;var s=mh(n[r[a]],i[o[a]]);if(0!==s)return s}return zf(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ef()}}function yh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return zf(e,t);var n=ih(e),r=ih(t),i=zf(n.seconds,r.seconds);return 0!==i?i:zf(n.nanos,r.nanos)}function kh(e){return wh(e)}function wh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(t=e.timestampValue,n=ih(t),"time(".concat(n.seconds,",").concat(n.nanos,")")):"stringValue"in e?e.stringValue:"bytesValue"in e?ah(e.bytesValue).toBase64():"referenceValue"in e?dh.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo(".concat((r=e.geoPointValue).latitude,",").concat(r.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=u(e.values||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+=wh(o)}}catch(a){i.e(a)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=u(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+="".concat(o,":").concat(wh(e.fields[o]))}}catch(a){i.e(a)}finally{i.f()}return n+"}"}(e.mapValue):Ef();var t,n,r}function bh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function _h(e){return!!e&&"integerValue"in e}function xh(e){return!!e&&"arrayValue"in e}function Th(e){return!!e&&"nullValue"in e}function Ih(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sh(e){return!!e&&"mapValue"in e}function Ch(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Jf(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=Ch(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ch(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Eh=function(){function e(t){h(this,e),this.value=t}return f(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Sh(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ch(t)}},{key:"setAll",value:function(e){var t=this,n=eh.emptyPath(),r={},i=[];e.forEach(function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Ch(e):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Sh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return vh(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Sh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Jf(t,function(t,n){return e[t]=n});var r,i=u(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;delete e[o]}}catch(a){i.e(a)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ch(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ah(e){var t=[];return Jf(e.fields,function(e,n){var r=new eh([e]);if(Sh(n)){var i=Ah(n.mapValue).fields;if(0===i.length)t.push(r);else{var o,a=u(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;t.push(r.child(s))}}catch(c){a.e(c)}finally{a.f()}}}else t.push(r)}),new th(t)}var Rh=function(){function e(t,n,r,i,o){h(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return f(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Eh.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Eh.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Kf.min(),Eh.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Eh.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Eh.empty(),2)}}]),e}(),Oh=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.A=null};function Nh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Oh(e,t,n,r,i,o,a)}function Ph(e){var t=Rf(e);if(null===t.A){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function(e){return e.field.canonicalString()+e.op.toString()+kh(e.value)}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return(t=e).field.canonicalString()+t.dir;var t}).join(","),lh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Gh(t.startAt)),t.endAt&&(n+="|ub:",n+=Gh(t.endAt)),t.A=n}return t.A}function Dh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Wh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!vh(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Yh(e.startAt,t.startAt)&&Yh(e.endAt,t.endAt)}function Lh(e){return dh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Mh=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this)).field=e,o.op=r,o.value=i,o}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(mh(t,this.value)):null!==t&&ph(this.value)===ph(t)&&this.P(mh(t,this.value))}},{key:"P",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ef()}}},{key:"v",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new Fh(e,t,r):"array-contains"===t?new qh(e,r):"in"===t?new jh(e,r):"not-in"===t?new zh(e,r):"array-contains-any"===t?new Hh(e,r):new n(e,t,r)}},{key:"R",value:function(e,t,n){return"in"===t?new Uh(e,n):new Vh(e,n)}}]),n}(function(){return function e(){h(this,e)}}()),Fh=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,e,r,i)).key=dh.fromName(i.referenceValue),o}return f(n,[{key:"matches",value:function(e){var t=dh.comparator(e.key,this.key);return this.P(t)}}]),n}(Mh),Uh=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=Zh(0,r),i}return f(n,[{key:"matches",value:function(e){return this.keys.some(function(t){return t.isEqual(e.key)})}}]),n}(Mh),Vh=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=Zh(0,r),i}return f(n,[{key:"matches",value:function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})}}]),n}(Mh);function Zh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return dh.fromName(e.referenceValue)})}var qh=function(e){d(n,e);var t=p(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return xh(t)&&gh(t.arrayValue,this.value)}}]),n}(Mh),jh=function(e){d(n,e);var t=p(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&gh(this.value.arrayValue,t)}}]),n}(Mh),zh=function(e){d(n,e);var t=p(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return f(n,[{key:"matches",value:function(e){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!gh(this.value.arrayValue,t)}}]),n}(Mh),Hh=function(e){d(n,e);var t=p(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return f(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!xh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return gh(t.value.arrayValue,e)})}}]),n}(Mh),Bh=function e(t,n){h(this,e),this.position=t,this.before=n};function Gh(e){return"".concat(e.before?"b":"a",":").concat(e.position.map(function(e){return kh(e)}).join(","))}var Kh=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n};function Wh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Jh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?dh.comparator(dh.fromName(a.referenceValue),n.key):mh(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Yh(e,t){if(null===e)return null===t;if(null===t||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!vh(e.position[n],t.position[n]))return!1;return!0}var Qh=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=s,this.V=null,this.S=null};function $h(e,t,n,r,i,o,a,u){return new Qh(e,t,n,r,i,o,a,u)}function Xh(e){return new Qh(e)}function ed(e){return!lh(e.limit)&&"F"===e.limitType}function td(e){return!lh(e.limit)&&"L"===e.limitType}function nd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function rd(e){var t,n=u(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.v())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function id(e){return null!==e.collectionGroup}function od(e){var t=Rf(e);if(null===t.V){t.V=[];var n=rd(t),r=nd(t);if(null!==n&&null===r)n.isKeyField()||t.V.push(new Kh(n)),t.V.push(new Kh(eh.keyField(),"asc"));else{var i,o=!1,a=u(t.explicitOrderBy);try{for(a.s();!(i=a.n()).done;){var s=i.value;t.V.push(s),s.field.isKeyField()&&(o=!0)}}catch(l){a.e(l)}finally{a.f()}if(!o){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Kh(eh.keyField(),c))}}}return t.V}function ad(e){var t=Rf(e);if(!t.S)if("F"===t.limitType)t.S=Nh(t.path,t.collectionGroup,od(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=u(od(t));try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(new Kh(o.field,"desc"===o.dir?"asc":"desc"))}}catch(c){i.e(c)}finally{i.f()}var a=t.endAt?new Bh(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Bh(t.startAt.position,!t.startAt.before):null;t.S=Nh(t.path,t.collectionGroup,r,t.filters,t.limit,a,s)}return t.S}function ud(e,t,n){return new Qh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function sd(e,t){return Dh(ad(e),ad(t))&&e.limitType===t.limitType}function cd(e){return"".concat(Ph(ad(e)),"|lt:").concat(e.limitType)}function ld(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(kh(t.value));var t}).join(", "),"]")),lh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(function(e){return"".concat((t=e).field.canonicalString()," (").concat(t.dir,")");var t}).join(", "),"]")),e.startAt&&(t+=", startAt: "+Gh(e.startAt)),e.endAt&&(t+=", endAt: "+Gh(e.endAt)),"Target(".concat(t,")")}(ad(e)),"; limitType=").concat(e.limitType,")")}function fd(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):dh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=u(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=u(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&(r=t,!((n=e).startAt&&!Jh(n.startAt,od(n),r)||n.endAt&&Jh(n.endAt,od(n),r)));var n,r}function hd(e){return function(t,n){var r,i=!1,o=u(od(e));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=dd(a,t,n);if(0!==s)return s;i=i||a.field.isKeyField()}}catch(c){o.e(c)}finally{o.f()}return 0}}function dd(e,t,n){var r=e.field.isKeyField()?dh.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?mh(r,i):Ef()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ef()}}function pd(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(t)?"-0":t}}function vd(e){return{integerValue:""+e}}function gd(e,t){return hh(t)?vd(t):pd(e,t)}var md=function e(){h(this,e),this._=void 0};function yd(e,t,n){return e instanceof bd?(i=t,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):e instanceof _d?xd(e,t):e instanceof Td?Id(e,t):function(e,t){var n=wd(e,t),r=Cd(n)+Cd(e.C);return _h(n)&&_h(e.C)?vd(r):pd(e.N,r)}(e,t);var r,i,o}function kd(e,t,n){return e instanceof _d?xd(e,t):e instanceof Td?Id(e,t):n}function wd(e,t){return e instanceof Sd?_h(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}var bd=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return n}(md),_d=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return n}(md);function xd(e,t){var n,r=Ed(t),i=u(e.elements);try{var o=function(){var e=n.value;r.some(function(t){return vh(t,e)})||r.push(e)};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var Td=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return n}(md);function Id(e,t){var n,r=Ed(t),i=u(e.elements);try{var o=function(){var e=n.value;r=r.filter(function(t){return!vh(t,e)})};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var Sd=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).N=e,i.C=r,i}return n}(md);function Cd(e){return oh(e.integerValue||e.doubleValue)}function Ed(e){return xh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ad=function e(t,n){h(this,e),this.field=t,this.transform=n},Rd=function e(t,n){h(this,e),this.version=t,this.transformResults=n},Od=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return f(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Nd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Pd=function e(){h(this,e)};function Dd(e,t,n){e instanceof Vd?function(e,t,n){var r=e.value.clone(),i=jd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Zd?function(e,t,n){if(Nd(e.precondition,t)){var r=jd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(qd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}function Ld(e,t,n){var r;e instanceof Vd?function(e,t,n){if(Nd(e.precondition,t)){var r=e.value.clone(),i=zd(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ud(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Zd?function(e,t,n){if(Nd(e.precondition,t)){var r=zd(e.fieldTransforms,n,t),i=t.data;i.setAll(qd(e)),i.setAll(r),t.convertToFoundDocument(Ud(t),i).setHasLocalMutations()}}(e,t,n):Nd(e.precondition,r=t)&&r.convertToNoDocument(Kf.min())}function Md(e,t){var n,r=null,i=u(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.field),s=wd(o.transform,a||null);null!=s&&(null==r&&(r=Eh.empty()),r.set(o.field,s))}}catch(c){i.e(c)}finally{i.f()}return r||null}function Fd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(n=e.fieldTransforms)&&void 0===r||n&&r&&Hf(n,r,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&(r=t.transform,(n=e.transform)instanceof _d&&r instanceof _d||n instanceof Td&&r instanceof Td?Hf(n.elements,r.elements,vh):n instanceof Sd&&r instanceof Sd?vh(n.C,r.C):n instanceof bd&&r instanceof bd);var n,r}(e,t)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function Ud(e){return e.isFoundDocument()?e.version:Kf.min()}var Vd=function(e){d(n,e);var t=p(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(o=t.call(this)).key=e,o.value=r,o.precondition=i,o.fieldTransforms=a,o.type=0,o}return n}(Pd),Zd=function(e){d(n,e);var t=p(n);function n(e,r,i,o){var a,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(a=t.call(this)).key=e,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=u,a.type=1,a}return n}(Pd);function qd(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function jd(e,t,n){var r=new Map;Af(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,u=t.data.field(o.field);r.set(o.field,kd(a,u,n[i]))}return r}function zd(e,t,n){var r,i=new Map,o=u(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.transform,c=n.data.field(a.field);i.set(a.field,yd(s,c,t))}}catch(l){o.e(l)}finally{o.f()}return i}var Hd,Bd,Gd=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return n}(Pd),Kd=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return n}(Pd),Wd=function e(t){h(this,e),this.count=t};function Jd(e){switch(e){default:return Ef();case Of.CANCELLED:case Of.UNKNOWN:case Of.DEADLINE_EXCEEDED:case Of.RESOURCE_EXHAUSTED:case Of.INTERNAL:case Of.UNAVAILABLE:case Of.UNAUTHENTICATED:return!1;case Of.INVALID_ARGUMENT:case Of.NOT_FOUND:case Of.ALREADY_EXISTS:case Of.PERMISSION_DENIED:case Of.FAILED_PRECONDITION:case Of.ABORTED:case Of.OUT_OF_RANGE:case Of.UNIMPLEMENTED:case Of.DATA_LOSS:return!0}}function Yd(e){if(void 0===e)return If("GRPC error has no .code"),Of.UNKNOWN;switch(e){case Hd.OK:return Of.OK;case Hd.CANCELLED:return Of.CANCELLED;case Hd.UNKNOWN:return Of.UNKNOWN;case Hd.DEADLINE_EXCEEDED:return Of.DEADLINE_EXCEEDED;case Hd.RESOURCE_EXHAUSTED:return Of.RESOURCE_EXHAUSTED;case Hd.INTERNAL:return Of.INTERNAL;case Hd.UNAVAILABLE:return Of.UNAVAILABLE;case Hd.UNAUTHENTICATED:return Of.UNAUTHENTICATED;case Hd.INVALID_ARGUMENT:return Of.INVALID_ARGUMENT;case Hd.NOT_FOUND:return Of.NOT_FOUND;case Hd.ALREADY_EXISTS:return Of.ALREADY_EXISTS;case Hd.PERMISSION_DENIED:return Of.PERMISSION_DENIED;case Hd.FAILED_PRECONDITION:return Of.FAILED_PRECONDITION;case Hd.ABORTED:return Of.ABORTED;case Hd.OUT_OF_RANGE:return Of.OUT_OF_RANGE;case Hd.UNIMPLEMENTED:return Of.UNIMPLEMENTED;case Hd.DATA_LOSS:return Of.DATA_LOSS;default:return Ef()}}(Bd=Hd||(Hd={}))[Bd.OK=0]="OK",Bd[Bd.CANCELLED=1]="CANCELLED",Bd[Bd.UNKNOWN=2]="UNKNOWN",Bd[Bd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bd[Bd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bd[Bd.NOT_FOUND=5]="NOT_FOUND",Bd[Bd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bd[Bd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bd[Bd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bd[Bd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bd[Bd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bd[Bd.ABORTED=10]="ABORTED",Bd[Bd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bd[Bd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bd[Bd.INTERNAL=13]="INTERNAL",Bd[Bd.UNAVAILABLE=14]="UNAVAILABLE",Bd[Bd.DATA_LOSS=15]="DATA_LOSS";var Qd=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||Xd.EMPTY}return f(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xd.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xd.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})}},{key:"toString",value:function(){var e=[];return this.inorderTraversal(function(t,n){return e.push("".concat(t,":").concat(n)),!1}),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new $d(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new $d(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new $d(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new $d(this.root,e,this.comparator,!0)}}]),e}(),$d=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return f(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Xd=function(){function e(t,n,r,i,o){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return f(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ef();var e=this.left.check();if(e!==this.right.check())throw Ef();return e+(this.isRed()?0:1)}}]),e}();Xd.EMPTY=null,Xd.RED=!0,Xd.BLACK=!1,Xd.EMPTY=new(function(){function e(){h(this,e),this.size=0}return f(e,[{key:"key",get:function(){throw Ef()}},{key:"value",get:function(){throw Ef()}},{key:"color",get:function(){throw Ef()}},{key:"left",get:function(){throw Ef()}},{key:"right",get:function(){throw Ef()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Xd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ep=function(){function e(t){h(this,e),this.comparator=t,this.data=new Qd(this.comparator)}return f(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new tp(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new tp(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t}},{key:"isEqual",value:function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),tp=function(){function e(t){h(this,e),this.iter=t}return f(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),np=new Qd(dh.comparator);function rp(){return np}var ip=new Qd(dh.comparator);function op(){return ip}var ap=new Qd(dh.comparator);function up(){return ap}var sp=new ep(dh.comparator);function cp(){for(var e=sp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.add(a)}return e}var lp=new ep(zf);function fp(){return lp}var hp=function(){function e(t,n,r,i,o){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return f(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,dp.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Kf.min(),r,fp(),rp(),cp())}}]),e}(),dp=function(){function e(t,n,r,i,o){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return f(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(nh.EMPTY_BYTE_STRING,n,cp(),cp(),cp())}}]),e}(),pp=function e(t,n,r,i){h(this,e),this.k=t,this.removedTargetIds=n,this.key=r,this.$=i},vp=function e(t,n){h(this,e),this.targetId=t,this.O=n},gp=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nh.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i},mp=function(){function e(){h(this,e),this.F=0,this.M=wp(),this.L=nh.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}return f(e,[{key:"current",get:function(){return this.B}},{key:"resumeToken",get:function(){return this.L}},{key:"q",get:function(){return 0!==this.F}},{key:"K",get:function(){return this.U}},{key:"j",value:function(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}},{key:"W",value:function(){var e=cp(),t=cp(),n=cp();return this.M.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ef()}}),new dp(this.L,this.B,e,t,n)}},{key:"G",value:function(){this.U=!1,this.M=wp()}},{key:"H",value:function(e,t){this.U=!0,this.M=this.M.insert(e,t)}},{key:"J",value:function(e){this.U=!0,this.M=this.M.remove(e)}},{key:"Y",value:function(){this.F+=1}},{key:"X",value:function(){this.F-=1}},{key:"Z",value:function(){this.U=!0,this.B=!0}}]),e}(),yp=function(){function e(t){h(this,e),this.tt=t,this.et=new Map,this.nt=rp(),this.st=kp(),this.it=new ep(zf)}return f(e,[{key:"rt",value:function(e){var t,n=u(e.k);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ot(r,e.$):this.at(r,e.key,e.$)}}catch(s){n.e(s)}finally{n.f()}var i,o=u(e.removedTargetIds);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.at(a,e.key,e.$)}}catch(s){o.e(s)}finally{o.f()}}},{key:"ct",value:function(e){var t=this;this.forEachTarget(e,function(n){var r=t.ut(n);switch(e.state){case 0:t.ht(n)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||t.removeTarget(n);break;case 3:t.ht(n)&&(r.Z(),r.j(e.resumeToken));break;case 4:t.ht(n)&&(t.lt(n),r.j(e.resumeToken));break;default:Ef()}})}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach(function(e,r){n.ht(r)&&t(r)})}},{key:"ft",value:function(e){var t=e.targetId,n=e.O.count,r=this.dt(t);if(r){var i=r.target;if(Lh(i))if(0===n){var o=new dh(i.path);this.at(t,o,Rh.newNoDocument(o,Kf.min()))}else Af(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}},{key:"_t",value:function(e){var t=this,n=new Map;this.et.forEach(function(r,i){var o=t.dt(i);if(o){if(r.current&&Lh(o.target)){var a=new dh(o.target.path);null!==t.nt.get(a)||t.gt(i,a)||t.at(i,a,Rh.newNoDocument(a,e))}r.K&&(n.set(i,r.W()),r.G())}});var r=cp();this.st.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.dt(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))});var i=new hp(e,n,this.it,this.nt,r);return this.nt=rp(),this.st=kp(),this.it=new ep(zf),i}},{key:"ot",value:function(e,t){if(this.ht(e)){var n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ht(e)){var r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.et.delete(e)}},{key:"wt",value:function(e){var t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Y",value:function(e){this.ut(e).Y()}},{key:"ut",value:function(e){var t=this.et.get(e);return t||(t=new mp,this.et.set(e,t)),t}},{key:"yt",value:function(e){var t=this.st.get(e);return t||(t=new ep(zf),this.st=this.st.insert(e,t)),t}},{key:"ht",value:function(e){var t=null!==this.dt(e);return t||Tf("WatchChangeAggregator","Detected inactive target",e),t}},{key:"dt",value:function(e){var t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}},{key:"lt",value:function(e){var t=this;this.et.set(e,new mp),this.tt.getRemoteKeysForTarget(e).forEach(function(n){t.at(e,n,null)})}},{key:"gt",value:function(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}]),e}();function kp(){return new Qd(dh.comparator)}function wp(){return new Qd(dh.comparator)}var bp={asc:"ASCENDING",desc:"DESCENDING"},_p={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xp=function e(t,n){h(this,e),this.databaseId=t,this.D=n};function Tp(e,t){return e.D?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ip(e,t){return e.D?t.toBase64():t.toUint8Array()}function Sp(e,t){return Tp(e,t.toTimestamp())}function Cp(e){return Af(!!e),Kf.fromTimestamp((t=ih(e),new Gf(t.seconds,t.nanos)));var t}function Ep(e,t){return(n=e,new $f(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function Ap(e){var t=$f.fromString(e);return Af(Xp(t)),t}function Rp(e,t){return Ep(e.databaseId,t.path)}function Op(e,t){var n=Ap(t);if(n.get(1)!==e.databaseId.projectId)throw new Nf(Of.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nf(Of.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dh(Lp(n))}function Np(e,t){return Ep(e.databaseId,t)}function Pp(e){var t=Ap(e);return 4===t.length?$f.emptyPath():Lp(t)}function Dp(e){return new $f(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lp(e){return Af(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Mp(e,t,n){return{name:Rp(e,t),fields:n.value.mapValue.fields}}function Fp(e,t,n){var r=Op(e,t.name),i=Cp(t.updateTime),o=new Eh({mapValue:{fields:t.fields}}),a=Rh.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Up(e,t){var n,r;if(t instanceof Vd)n={update:Mp(e,t.key,t.value)};else if(t instanceof Gd)n={delete:Rp(e,t.key)};else if(t instanceof Zd)n={update:Mp(e,t.key,t.data),updateMask:$p(t.fieldMask)};else{if(!(t instanceof Kd))return Ef();n={verify:Rp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof bd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _d)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Td)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sd)return{fieldPath:t.field.canonicalString(),increment:n.C};throw Ef()}(0,e)})),t.precondition.isNone||(n.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:Sp(e,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Ef()),n}function Vp(e,t){var n,r=t.currentDocument?void 0!==(n=t.currentDocument).updateTime?Od.updateTime(Cp(n.updateTime)):void 0!==n.exists?Od.exists(n.exists):Od.none():Od.none(),i=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;"setToServerValue"in t?(Af("REQUEST_TIME"===t.setToServerValue),n=new bd):"appendMissingElements"in t?n=new _d(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Td(t.removeAllFromArray.values||[]):"increment"in t?n=new Sd(e,t.increment):Ef();var r=eh.fromServerFormat(t.fieldPath);return new Ad(r,n)}(e,t)}):[];if(t.update){var o=Op(e,t.update.name),a=new Eh({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=new th((t.updateMask.fieldPaths||[]).map(function(e){return eh.fromServerFormat(e)}));return new Zd(o,a,u,r,i)}return new Vd(o,a,r,i)}if(t.delete){var s=Op(e,t.delete);return new Gd(s,r)}if(t.verify){var c=Op(e,t.verify);return new Kd(c,r)}return Ef()}function Zp(e,t){return{documents:[Np(e,t.path)]}}function qp(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Np(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Np(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(Ih(e.value))return{unaryFilter:{field:Wp(e.field),op:"IS_NAN"}};if(Th(e.value))return{unaryFilter:{field:Wp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ih(e.value))return{unaryFilter:{field:Wp(e.field),op:"IS_NOT_NAN"}};if(Th(e.value))return{unaryFilter:{field:Wp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wp(e.field),op:Kp(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map(function(e){return{field:Wp((t=e).field),direction:Gp(t.dir)};var t})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a,u=(a=t.limit,e.D||lh(a)?a:{value:a});return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=Hp(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Hp(t.endAt)),n}function jp(e){var t=Pp(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Af(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=zp(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(e){return new Kh(Jp((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));var s=null;n.limit&&(s=function(e){var t;return lh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Bp(n.startAt));var l=null;return n.endAt&&(l=Bp(n.endAt)),$h(t,i,u,a,s,"F",c,l)}function zp(e){return e?void 0!==e.unaryFilter?[Qp(e)]:void 0!==e.fieldFilter?[Yp(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return zp(e)}).reduce(function(e,t){return e.concat(t)}):Ef():[]}function Hp(e){return{before:e.before,values:e.position}}function Bp(e){return new Bh(e.values||[],!!e.before)}function Gp(e){return bp[e]}function Kp(e){return _p[e]}function Wp(e){return{fieldPath:e.canonicalString()}}function Jp(e){return eh.fromServerFormat(e.fieldPath)}function Yp(e){return Mh.create(Jp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ef()}}(e.fieldFilter.op),e.fieldFilter.value)}function Qp(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Jp(e.unaryFilter.field);return Mh.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Jp(e.unaryFilter.field);return Mh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Jp(e.unaryFilter.field);return Mh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Jp(e.unaryFilter.field);return Mh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ef()}}function $p(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function Xp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ev(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=nv(t)),t=tv(e.get(n),t);return nv(t)}function tv(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function nv(e){return e+"\x01\x01"}function rv(e){var t=e.length;if(Af(t>=2),2===t)return Af("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),$f.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Ef(),e.charAt(a+1)){case"\x01":var u=e.substring(o,a),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Ef()}o=a+2}return new $f(r)}var iv=function e(t,n){h(this,e),this.seconds=t,this.nanoseconds=n},ov=function e(t,n,r){h(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r};ov.store="owner",ov.key="owner";var av=function e(t,n,r){h(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r};av.store="mutationQueues",av.keyPath="userId";var uv=function e(t,n,r,i,o){h(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=o};uv.store="mutations",uv.keyPath="batchId",uv.userMutationsIndex="userMutationsIndex",uv.userMutationsKeyPath=["userId","batchId"];var sv=function(){function e(){h(this,e)}return f(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,ev(t)]}},{key:"key",value:function(e,t,n){return[e,ev(t),n]}}]),e}();sv.store="documentMutations",sv.PLACEHOLDER=new sv;var cv=function e(t,n){h(this,e),this.path=t,this.readTime=n},lv=function e(t,n){h(this,e),this.path=t,this.version=n},fv=function e(t,n,r,i,o,a){h(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=a};fv.store="remoteDocuments",fv.readTimeIndex="readTimeIndex",fv.readTimeIndexPath="readTime",fv.collectionReadTimeIndex="collectionReadTimeIndex",fv.collectionReadTimeIndexPath=["parentPath","readTime"];var hv=function e(t){h(this,e),this.byteSize=t};hv.store="remoteDocumentGlobal",hv.key="remoteDocumentGlobalKey";var dv=function e(t,n,r,i,o,a,u){h(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=a,this.query=u};dv.store="targets",dv.keyPath="targetId",dv.queryTargetsIndexName="queryTargetsIndex",dv.queryTargetsKeyPath=["canonicalId","targetId"];var pv=function e(t,n,r){h(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r};pv.store="targetDocuments",pv.keyPath=["targetId","path"],pv.documentTargetsIndex="documentTargetsIndex",pv.documentTargetsKeyPath=["path","targetId"];var vv=function e(t,n,r,i){h(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i};vv.key="targetGlobalKey",vv.store="targetGlobal";var gv=function e(t,n){h(this,e),this.collectionId=t,this.parent=n};gv.store="collectionParents",gv.keyPath=["collectionId","parent"];var mv=function e(t,n,r,i){h(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i};mv.store="clientMetadata",mv.keyPath="clientId";var yv=function e(t,n,r){h(this,e),this.bundleId=t,this.createTime=n,this.version=r};yv.store="bundles",yv.keyPath="bundleId";var kv=function e(t,n,r){h(this,e),this.name=t,this.readTime=n,this.bundledQuery=r};kv.store="namedQueries",kv.keyPath="name";var wv=[av.store,uv.store,sv.store,fv.store,dv.store,ov.store,vv.store,pv.store,mv.store,hv.store,gv.store,yv.store,kv.store],bv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_v=function(){function e(){h(this,e),this.onCommittedListeners=[]}return f(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach(function(e){return e()})}}]),e}(),xv=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)},function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)})}return f(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ef(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})}},{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.next(t,n)})}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(n){return e.reject(n)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)}}],[{key:"resolve",value:function(t){return new e(function(e,n){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"waitFor",value:function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=u(t);try{var o=function(){var t=n.value;r=r.next(function(n){return n?e.resolve(n):t()})};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)}}]),e}(),Tv=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.Et=new Pf,this.transaction.oncomplete=function(){r.Et.resolve()},this.transaction.onabort=function(){n.error?r.Et.reject(new Cv(t,n.error)):r.Et.resolve()},this.transaction.onerror=function(e){var n=Nv(e.target.error);r.Et.reject(new Cv(t,n))}}return f(e,[{key:"It",get:function(){return this.Et.promise}},{key:"abort",value:function(e){e&&this.Et.reject(e),this.aborted||(Tf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Av(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new Cv(n,o)}}}]),e}(),Iv=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.At=r,12.2===e.Rt((0,fu.z$)())&&If("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return f(e,[{key:"Dt",value:function(e){var t=this;return(0,uu.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=t.db,n.t0){n.next=6;break}return Tf("SimpleDb","Opening database:",t.name),n.next=5,new Promise(function(n,r){var i=indexedDB.open(t.name,t.version);i.onsuccess=function(e){n(e.target.result)},i.onblocked=function(){r(new Cv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new Nf(Of.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new Nf(Of.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new Cv(e,n))},i.onupgradeneeded=function(e){Tf("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.At.Ct(e.target.result,i.transaction,e.oldVersion,t.version).next(function(){Tf("SimpleDb","Database upgrade to version "+t.version+" complete")})}});case 5:t.db=n.sent;case 6:return t.Nt&&(t.db.onversionchange=function(e){return t.Nt(e)}),n.abrupt("return",t.db);case 8:case"end":return n.stop()}},n)}))()}},{key:"xt",value:function(e){this.Nt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(e,t,n,r){var i=this;return(0,uu.Z)(regeneratorRuntime.mark(function o(){var a,u,s,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:a="readonly"===t,u=0;case 2:return++u,o.prev=3,o.delegateYield(regeneratorRuntime.mark(function t(){var o,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Dt(e);case 2:return i.db=t.sent,o=Tv.open(i.db,e,a?"readonly":"readwrite",n),(u=r(o).catch(function(e){return o.abort(e),xv.reject(e)}).toPromise()).catch(function(){}),t.next=7,o.It;case 7:return t.t0=u,t.abrupt("return",{v:t.t0});case 9:case"end":return t.stop()}},t)})(),"t0",5);case 5:if("object"!=typeof(s=o.t0)){o.next=8;break}return o.abrupt("return",s.v);case 8:o.next=15;break;case 10:if(o.prev=10,o.t1=o.catch(3),c="FirebaseError"!==o.t1.name&&u<3,Tf("SimpleDb","Transaction failed with error:",o.t1.message,"Retrying:",c),i.close(),c){o.next=15;break}return o.abrupt("return",Promise.reject(o.t1));case 15:o.next=2;break;case 17:case"end":return o.stop()}},o,null,[[3,10]])}))()}},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Tf("SimpleDb","Removing database:",e),Rv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!(0,fu.hl)())return!1;if(e.Pt())return!0;var t=(0,fu.z$)(),n=e.Rt(t),r=0<n&&n<10,i=e.vt(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)}},{key:"Pt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}},{key:"St",value:function(e,t){return e.store(t)}},{key:"Rt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Sv=function(){function e(t){h(this,e),this.kt=t,this.$t=!1,this.Ot=null}return f(e,[{key:"isDone",get:function(){return this.$t}},{key:"Ft",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.kt=e}},{key:"done",value:function(){this.$t=!0}},{key:"Mt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return Rv(this.kt.delete())}}]),e}(),Cv=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,Of.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return n}(Nf);function Ev(e){return"IndexedDbTransactionError"===e.name}var Av=function(){function e(t){h(this,e),this.store=t}return f(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Tf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Tf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Rv(n)}},{key:"add",value:function(e){return Tf("SimpleDb","ADD",this.store.name,e,e),Rv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Rv(this.store.get(e)).next(function(n){return void 0===n&&(n=null),Tf("SimpleDb","GET",t.store.name,e,n),n})}},{key:"delete",value:function(e){return Tf("SimpleDb","DELETE",this.store.name,e),Rv(this.store.delete(e))}},{key:"count",value:function(){return Tf("SimpleDb","COUNT",this.store.name),Rv(this.store.count())}},{key:"Lt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,function(e,t){r.push(t)}).next(function(){return r})}},{key:"Ut",value:function(e,t){Tf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.qt=!1;var r=this.cursor(n);return this.Bt(r,function(e,t,n){return n.delete()})}},{key:"Kt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Bt(r,t)}},{key:"jt",value:function(e){var t=this.cursor({});return new xv(function(n,r){t.onerror=function(e){var t=Nv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})}},{key:"Bt",value:function(e,t){var n=[];return new xv(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Sv(i),a=t(i.primaryKey,i.value,o);if(a instanceof xv){var u=a.catch(function(e){return o.done(),xv.reject(e)});n.push(u)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}}).next(function(){return xv.waitFor(n)})}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Rv(e){return new xv(function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=Nv(e.target.error);n(t)}})}var Ov=!1;function Nv(e){var t=Iv.Rt((0,fu.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Nf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ov||(Ov=!0,setTimeout(function(){throw r},0)),r}}return e}var Pv=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).Qt=e,i.currentSequenceNumber=r,i}return n}(_v);function Dv(e,t){var n=Rf(e);return Iv.St(n.Qt,t)}var Lv=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return f(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Dd(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=u(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Ld(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,o=u(this.mutations);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.key.isEqual(e.key)&&Ld(a,e,this.localWriteTime)}}catch(s){o.e(s)}finally{o.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Kf.min())})}},{key:"keys",value:function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},cp())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Hf(this.mutations,e.mutations,function(e,t){return Fd(e,t)})&&Hf(this.baseMutations,e.baseMutations,function(e,t){return Fd(e,t)})}}]),e}(),Mv=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return f(e,null,[{key:"from",value:function(t,n,r){Af(t.mutations.length===r.length);for(var i=up(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)}}]),e}(),Fv=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kf.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kf.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:nh.EMPTY_BYTE_STRING;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}return f(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Uv=function e(t){h(this,e),this.Wt=t};function Vv(e,t){if(t.document)return Fp(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=dh.fromSegments(t.noDocument.path),r=Hv(t.noDocument.readTime),i=Rh.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=dh.fromSegments(t.unknownDocument.path),a=Hv(t.unknownDocument.version);return Rh.newUnknownDocument(o,a)}return Ef()}function Zv(e,t,n){var r,i,o=qv(n),a=t.key.path.popLast().toArray();if(t.isFoundDocument()){var u={name:Rp(r=e.Wt,(i=t).key),fields:i.data.value.mapValue.fields,updateTime:Tp(r,i.version.toTimestamp())};return new fv(null,null,u,t.hasCommittedMutations,o,a)}if(t.isNoDocument()){var s=t.key.path.toArray(),c=zv(t.version),l=t.hasCommittedMutations;return new fv(null,new cv(s,c),null,l,o,a)}if(t.isUnknownDocument()){var f=t.key.path.toArray(),h=zv(t.version);return new fv(new lv(f,h),null,null,!0,o,a)}return Ef()}function qv(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function jv(e){var t=new Gf(e[0],e[1]);return Kf.fromTimestamp(t)}function zv(e){var t=e.toTimestamp();return new iv(t.seconds,t.nanoseconds)}function Hv(e){var t=new Gf(e.seconds,e.nanoseconds);return Kf.fromTimestamp(t)}function Bv(e,t){for(var n=(t.baseMutations||[]).map(function(t){return Vp(e.Wt,t)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(i.updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r)}var o=t.mutations.map(function(t){return Vp(e.Wt,t)}),a=Gf.fromMillis(t.localWriteTimeMs);return new Lv(t.batchId,a,n,o)}function Gv(e){var t,n,r=Hv(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Hv(e.lastLimboFreeSnapshotVersion):Kf.min();return void 0!==e.query.documents?(Af(1===(n=e.query).documents.length),t=ad(Xh(Pp(n.documents[0])))):t=ad(jp(e.query)),new Fv(t,e.targetId,0,e.lastListenSequenceNumber,r,i,nh.fromBase64String(e.resumeToken))}function Kv(e,t){var n,r=zv(t.snapshotVersion),i=zv(t.lastLimboFreeSnapshotVersion);n=Lh(t.target)?Zp(e.Wt,t.target):qp(e.Wt,t.target);var o=t.resumeToken.toBase64();return new dv(t.targetId,Ph(t.target),r,o,t.sequenceNumber,i,n)}function Wv(e){var t=jp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ud(t,t.limit,"L"):t}var Jv=function(){function e(){h(this,e)}return f(e,[{key:"getBundleMetadata",value:function(e,t){return Yv(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:Hv(t.createTime),version:t.version};var t})}},{key:"saveBundleMetadata",value:function(e,t){return Yv(e).put({bundleId:(n=t).id,createTime:zv(Cp(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Qv(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:Wv(t.bundledQuery),readTime:Hv(t.readTime)};var t})}},{key:"saveNamedQuery",value:function(e,t){return Qv(e).put({name:(n=t).name,readTime:zv(Cp(n.readTime)),bundledQuery:n.bundledQuery});var n}}]),e}();function Yv(e){return Dv(e,yv.store)}function Qv(e){return Dv(e,kv.store)}var $v=function(){function e(){h(this,e),this.Gt=new Xv}return f(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Gt.add(t),xv.resolve()}},{key:"getCollectionParents",value:function(e,t){return xv.resolve(this.Gt.getEntries(t))}}]),e}(),Xv=function(){function e(){h(this,e),this.index={}}return f(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ep($f.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ep($f.comparator)).toArray()}}]),e}(),eg=function(){function e(){h(this,e),this.zt=new Xv}return f(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.zt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.zt.add(t)});var o={collectionId:r,parent:ev(i)};return tg(e).put(o)}return xv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Bf(t),""],!1,!0);return tg(e).Lt(r).next(function(e){var r,i=u(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.collectionId!==t)break;n.push(rv(o.parent))}}catch(a){i.e(a)}finally{i.f()}return n})}}]),e}();function tg(e){return Dv(e,gv.store)}var ng={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rg=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return f(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function ig(e,t,n){var r=e.store(uv.store),i=e.store(sv.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,c=r.Kt({range:a},function(e,t,n){return s++,n.delete()});o.push(c.next(function(){Af(1===s)}));var l,f=[],h=u(n.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=sv.key(t,d.key.path,n.batchId);o.push(i.delete(p)),f.push(d.key)}}catch(v){h.e(v)}finally{h.f()}return xv.waitFor(o).next(function(){return f})}function og(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ef();t=e.noDocument}return JSON.stringify(t).length}rg.DEFAULT_COLLECTION_PERCENTILE=10,rg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rg.DEFAULT=new rg(41943040,rg.DEFAULT_COLLECTION_PERCENTILE,rg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rg.DISABLED=new rg(-1,0,0);var ag=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.N=n,this.Ht=r,this.referenceDelegate=i,this.Jt={}}return f(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sg(e).Kt({index:uv.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,o=cg(e),a=sg(e);return a.add({}).next(function(s){Af("number"==typeof s);var c,l=new Lv(s,t,n,r),f=function(e,t,n){var r=n.baseMutations.map(function(t){return Up(e.Wt,t)}),i=n.mutations.map(function(t){return Up(e.Wt,t)});return new uv(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.N,i.userId,l),h=[],d=new ep(function(e,t){return zf(e.canonicalString(),t.canonicalString())}),p=u(r);try{for(p.s();!(c=p.n()).done;){var v=c.value,g=sv.key(i.userId,v.key.path,s);d=d.add(v.key.path.popLast()),h.push(a.put(f)),h.push(o.put(g,sv.PLACEHOLDER))}}catch(m){p.e(m)}finally{p.f()}return d.forEach(function(t){h.push(i.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.Jt[s]=l.keys()}),xv.waitFor(h).next(function(){return l})})}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return sg(e).get(t).next(function(e){return e?(Af(e.userId===n.userId),Bv(n.N,e)):null})}},{key:"Xt",value:function(e,t){var n=this;return this.Jt[t]?xv.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.Jt[t]=r,r}return null})}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return sg(e).Kt({index:uv.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(Af(t.batchId>=r),o=Bv(n.N,t)),i.done()}).next(function(){return o})}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sg(e).Kt({index:uv.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sg(e).Lt(uv.userMutationsIndex,n).next(function(e){return e.map(function(e){return Bv(t.N,e)})})}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,n){var r=this,i=sv.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),a=[];return cg(e).Kt({range:o},function(i,o,u){var s=t(i,3),c=s[0],l=s[1],f=s[2],h=rv(l);if(c===r.userId&&n.path.isEqual(h))return sg(e).get(f).next(function(e){if(!e)throw Ef();Af(e.userId===r.userId),a.push(Bv(r.N,e))});u.done()}).next(function(){return a})}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,n){var r=this,i=new ep(zf),o=[];return n.forEach(function(n){var a=sv.prefixForPath(r.userId,n.path),u=IDBKeyRange.lowerBound(a),s=cg(e).Kt({range:u},function(e,o,a){var u=t(e,3),s=u[0],c=u[1],l=u[2],f=rv(c);s===r.userId&&n.path.isEqual(f)?i=i.add(l):a.done()});o.push(s)}),xv.waitFor(o).next(function(){return r.Zt(e,i)})}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,n){var r=this,i=n.path,o=i.length+1,a=sv.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(a),s=new ep(zf);return cg(e).Kt({range:u},function(e,n,a){var u=t(e,3),c=u[0],l=u[1],f=u[2],h=rv(l);c===r.userId&&i.isPrefixOf(h)?h.length===o&&(s=s.add(f)):a.done()}).next(function(){return r.Zt(e,s)})}},{key:"Zt",value:function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(sg(e).get(t).next(function(e){if(null===e)throw Ef();Af(e.userId===n.userId),r.push(Bv(n.N,e))}))}),xv.waitFor(i).next(function(){return r})}},{key:"removeMutationBatch",value:function(e,t){var n=this;return ig(e.Qt,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.te(t.batchId)}),xv.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})}},{key:"te",value:function(e){delete this.Jt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return xv.resolve();var r=IDBKeyRange.lowerBound(sv.prefixForUser(t.userId)),i=[];return cg(e).Kt({range:r},function(e,n,r){if(e[0]===t.userId){var o=rv(e[1]);i.push(o)}else r.done()}).next(function(){Af(0===i.length)})})}},{key:"containsKey",value:function(e,t){return ug(e,this.userId,t)}},{key:"ee",value:function(e){var t=this;return lg(e).get(this.userId).next(function(e){return e||new av(t.userId,-1,"")})}}],[{key:"Yt",value:function(t,n,r,i){return Af(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function ug(e,n,r){var i=sv.prefixForPath(n,r.path),o=i[1],a=IDBKeyRange.lowerBound(i),u=!1;return cg(e).Kt({range:a,qt:!0},function(e,r,i){var a=t(e,3),s=a[0],c=a[1];a[2];s===n&&c===o&&(u=!0),i.done()}).next(function(){return u})}function sg(e){return Dv(e,uv.store)}function cg(e){return Dv(e,sv.store)}function lg(e){return Dv(e,av.store)}var fg=function(){function e(t){h(this,e),this.ne=t}return f(e,[{key:"next",value:function(){return this.ne+=2,this.ne}}],[{key:"se",value:function(){return new e(0)}},{key:"ie",value:function(){return new e(-1)}}]),e}(),hg=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.N=n}return f(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.re(e).next(function(n){var r=new fg(n.highestTargetId);return n.highestTargetId=r.next(),t.oe(e,n).next(function(){return n.highestTargetId})})}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.re(e).next(function(e){return Kf.fromTimestamp(new Gf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})}},{key:"getHighestSequenceNumber",value:function(e){return this.re(e).next(function(e){return e.highestListenSequenceNumber})}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.re(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.oe(e,i)})}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next(function(){return n.re(e).next(function(r){return r.targetCount+=1,n.ce(t,r),n.oe(e,r)})})}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return dg(e).delete(t.targetId)}).next(function(){return n.re(e)}).next(function(t){return Af(t.targetCount>0),t.targetCount-=1,n.oe(e,t)})}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return dg(e).Kt(function(a,u){var s=Gv(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))}).next(function(){return xv.waitFor(o)}).next(function(){return i})}},{key:"forEachTarget",value:function(e,t){return dg(e).Kt(function(e,n){var r=Gv(n);t(r)})}},{key:"re",value:function(e){return pg(e).get(vv.key).next(function(e){return Af(null!==e),e})}},{key:"oe",value:function(e,t){return pg(e).put(vv.key,t)}},{key:"ae",value:function(e,t){return dg(e).put(Kv(this.N,t))}},{key:"ce",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.re(e).next(function(e){return e.targetCount})}},{key:"getTargetData",value:function(e,t){var n=Ph(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return dg(e).Kt({range:r,index:dv.queryTargetsIndexName},function(e,n,r){var o=Gv(n);Dh(t,o.target)&&(i=o,r.done())}).next(function(){return i})}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],o=vg(e);return t.forEach(function(t){var a=ev(t.path);i.push(o.put(new pv(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))}),xv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=vg(e);return xv.forEach(t,function(t){var o=ev(t.path);return xv.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])})}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=vg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=vg(e),i=cp();return r.Kt({range:n,qt:!0},function(e,t,n){var r=rv(e[1]),o=new dh(r);i=i.add(o)}).next(function(){return i})}},{key:"containsKey",value:function(e,n){var r=ev(n.path),i=IDBKeyRange.bound([r],[Bf(r)],!1,!0),o=0;return vg(e).Kt({index:pv.documentTargetsIndex,qt:!0,range:i},function(e,n,r){var i=t(e,2),a=i[0];i[1];0!==a&&(o++,r.done())}).next(function(){return o>0})}},{key:"Tt",value:function(e,t){return dg(e).get(t).next(function(e){return e?Gv(e):null})}}]),e}();function dg(e){return Dv(e,dv.store)}function pg(e){return Dv(e,vv.store)}function vg(e){return Dv(e,pv.store)}function gg(e){return mg.apply(this,arguments)}function mg(){return(mg=(0,uu.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Of.FAILED_PRECONDITION&&t.message===bv){e.next=2;break}throw t;case 2:Tf("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yg(e,n){var r=t(e,2),i=r[0],o=r[1],a=t(n,2),u=a[0],s=a[1],c=zf(i,u);return 0===c?zf(o,s):c}var kg=function(){function e(t){h(this,e),this.ue=t,this.buffer=new ep(yg),this.he=0}return f(e,[{key:"le",value:function(){return++this.he}},{key:"fe",value:function(e){var t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();yg(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),wg=function(){function e(t,n){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.de=!1,this.we=null}return f(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}},{key:"stop",value:function(){this.we&&(this.we.cancel(),this.we=null)}},{key:"started",get:function(){return null!==this.we}},{key:"_e",value:function(e){var t=this,n=this.de?3e5:6e4;Tf("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,uu.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.we=null,t.de=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Ev(n.t0)){n.next=12;break}Tf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,gg(n.t0);case 14:return n.next=16,t._e(e);case 16:case"end":return n.stop()}},n,null,[[1,6]])})))}}]),e}(),bg=function(){function e(t,n){h(this,e),this.me=t,this.params=n}return f(e,[{key:"calculateTargetCount",value:function(e,t){return this.me.ge(e).next(function(e){return Math.floor(t/100*e)})}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return xv.resolve(Zf.T);var r=new kg(t);return this.me.forEachTarget(e,function(e){return r.fe(e.sequenceNumber)}).next(function(){return n.me.ye(e,function(e){return r.fe(e)})}).next(function(){return r.maxValue})}},{key:"removeTargets",value:function(e,t,n){return this.me.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.me.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Tf("LruGarbageCollector","Garbage collection skipped; disabled"),xv.resolve(ng)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Tf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ng):n.pe(e,t)})}},{key:"getCacheSize",value:function(e){return this.me.getCacheSize(e)}},{key:"pe",value:function(e,t){var n,r,i,o,a,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(Tf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return s=Date.now(),xf()<=lu.in.DEBUG&&Tf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n\tRemoved ".concat(i," targets in ")+(u-a)+"ms\n\tRemoved ".concat(e," documents in ")+(s-u)+"ms\nTotal Duration: ".concat(s-l,"ms")),xv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})}}]),e}(),_g=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=new bg(this,n)}return f(e,[{key:"ge",value:function(e){var t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})}},{key:"Te",value:function(e){var t=0;return this.ye(e,function(e){t++}).next(function(){return t})}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ye",value:function(e,t){return this.Ee(e,function(e,n){return t(n)})}},{key:"addReference",value:function(e,t,n){return xg(e,n)}},{key:"removeReference",value:function(e,t,n){return xg(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return xg(e,t)}},{key:"Ie",value:function(e,t){return r=t,i=!1,lg(n=e).jt(function(e){return ug(n,e,r).next(function(e){return e&&(i=!0),xv.resolve(!e)})}).next(function(){return i});var n,r,i}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Ee(e,function(a,u){if(u<=t){var s=n.Ie(e,a).next(function(t){if(!t)return o++,r.getEntry(e,a).next(function(){return r.removeEntry(a),vg(e).delete([0,ev(a.path)])})});i.push(s)}}).next(function(){return xv.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return o})}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return xg(e,t)}},{key:"Ee",value:function(e,n){var r,i=vg(e),o=Zf.T;return i.Kt({index:pv.documentTargetsIndex},function(e,i){var a=t(e,2),u=a[0],s=(a[1],i.path),c=i.sequenceNumber;0===u?(o!==Zf.T&&n(new dh(rv(r)),o),o=c,r=s):o=Zf.T}).next(function(){o!==Zf.T&&n(new dh(rv(r)),o)})}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function xg(e,t){return vg(e).put((n=e.currentSequenceNumber,new pv(0,ev(t.path),n)));var n}var Tg=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return f(e,[{key:"get",value:function(e){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){var i,o=u(r);try{for(o.s();!(i=o.n()).done;){var a=t(i.value,2),s=a[0],c=a[1];if(this.equalsFn(s,e))return c}}catch(l){o.e(l)}finally{o.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Jf(this.inner,function(n,r){var i,o=u(r);try{for(o.s();!(i=o.n()).done;){var a=t(i.value,2),s=a[0],c=a[1];e(s,c)}}catch(l){o.e(l)}finally{o.f()}})}},{key:"isEmpty",value:function(){return Yf(this.inner)}}]),e}(),Ig=function(){function e(){h(this,e),this.changes=new Tg(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return f(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Kf.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Rh.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?xv.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Sg=function(){function e(t,n){h(this,e),this.N=t,this.Ht=n}return f(e,[{key:"addEntry",value:function(e,t,n){return Ag(e).put(Rg(t),n)}},{key:"removeEntry",value:function(e,t){var n=Ag(e),r=Rg(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.Ae(e,r)})}},{key:"getEntry",value:function(e,t){var n=this;return Ag(e).get(Rg(t)).next(function(e){return n.Re(t,e)})}},{key:"be",value:function(e,t){var n=this;return Ag(e).get(Rg(t)).next(function(e){return{document:n.Re(t,e),size:og(e)}})}},{key:"getEntries",value:function(e,t){var n=this,r=rp();return this.Pe(e,t,function(e,t){var i=n.Re(e,t);r=r.insert(e,i)}).next(function(){return r})}},{key:"ve",value:function(e,t){var n=this,r=rp(),i=new Qd(dh.comparator);return this.Pe(e,t,function(e,t){var o=n.Re(e,t);r=r.insert(e,o),i=i.insert(e,og(t))}).next(function(){return{documents:r,Ve:i}})}},{key:"Pe",value:function(e,t,n){if(t.isEmpty())return xv.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Ag(e).Kt({range:r},function(e,t,r){for(var a=dh.fromSegments(e);o&&dh.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Mt(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=rp(),o=t.path.length+1,a={};if(n.isEqual(Kf.min())){var u=t.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=qv(n);a.range=IDBKeyRange.lowerBound([s,c],!0),a.index=fv.collectionReadTimeIndex}return Ag(e).Kt(a,function(e,n,a){if(e.length===o){var u=Vv(r.N,n);t.path.isPrefixOf(u.key.path)?fd(t,u)&&(i=i.insert(u.key,u)):a.done()}}).next(function(){return i})}},{key:"newChangeBuffer",value:function(e){return new Cg(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next(function(e){return e.byteSize})}},{key:"getMetadata",value:function(e){return Eg(e).get(hv.key).next(function(e){return Af(!!e),e})}},{key:"Ae",value:function(e,t){return Eg(e).put(hv.key,t)}},{key:"Re",value:function(e,t){if(t){var n=Vv(this.N,t);if(!n.isNoDocument()||!n.version.isEqual(Kf.min()))return n}return Rh.newInvalidDocument(e)}}]),e}(),Cg=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).Se=e,i.trackRemovals=r,i.De=new Tg(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),i}return f(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ep(function(e,t){return zf(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(o,a){var u=t.De.get(o);if(a.document.isValidDocument()){var s=Zv(t.Se.N,a.document,t.getReadTime(o));i=i.add(o.path.popLast()),r+=og(s)-u,n.push(t.Se.addEntry(e,o,s))}else if(r-=u,t.trackRemovals){var c=Zv(t.Se.N,Rh.newNoDocument(o,Kf.min()),t.getReadTime(o));n.push(t.Se.addEntry(e,o,c))}else n.push(t.Se.removeEntry(e,o))}),i.forEach(function(r){n.push(t.Se.Ht.addToCollectionParentIndex(e,r))}),n.push(this.Se.updateMetadata(e,r)),xv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Se.be(e,t).next(function(e){return n.De.set(t,e.size),e.document})}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Se.ve(e,t).next(function(e){var t=e.documents;return e.Ve.forEach(function(e,t){n.De.set(e,t)}),t})}}]),n}(Ig);function Eg(e){return Dv(e,hv.store)}function Ag(e){return Dv(e,fv.store)}function Rg(e){return e.path.toArray()}var Og=function(){function e(t){h(this,e),this.N=t}return f(e,[{key:"Ct",value:function(e,t,n,r){var i=this;Af(n<r&&n>=0&&r<=11);var o,a=new Tv("createOrUpgrade",t);n<1&&r>=1&&(e.createObjectStore(ov.store),(o=e).createObjectStore(av.store,{keyPath:av.keyPath}),o.createObjectStore(uv.store,{keyPath:uv.keyPath,autoIncrement:!0}).createIndex(uv.userMutationsIndex,uv.userMutationsKeyPath,{unique:!0}),o.createObjectStore(sv.store),Ng(e),function(e){e.createObjectStore(fv.store)}(e));var u=xv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(pv.store),e.deleteObjectStore(dv.store),e.deleteObjectStore(vv.store)}(e),Ng(e)),u=u.next(function(){return function(e){var t=e.store(vv.store),n=new vv(0,0,Kf.min().toTimestamp(),0);return t.put(vv.key,n)}(a)})),n<4&&r>=4&&(0!==n&&(u=u.next(function(){return function(e,t){return t.store(uv.store).Lt().next(function(n){e.deleteObjectStore(uv.store),e.createObjectStore(uv.store,{keyPath:uv.keyPath,autoIncrement:!0}).createIndex(uv.userMutationsIndex,uv.userMutationsKeyPath,{unique:!0});var r=t.store(uv.store),i=n.map(function(e){return r.put(e)});return xv.waitFor(i)})}(e,a)})),u=u.next(function(){!function(e){e.createObjectStore(mv.store,{keyPath:mv.keyPath})}(e)})),n<5&&r>=5&&(u=u.next(function(){return i.Ce(a)})),n<6&&r>=6&&(u=u.next(function(){return function(e){e.createObjectStore(hv.store)}(e),i.Ne(a)})),n<7&&r>=7&&(u=u.next(function(){return i.xe(a)})),n<8&&r>=8&&(u=u.next(function(){return i.ke(e,a)})),n<9&&r>=9&&(u=u.next(function(){(function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")})(e),function(e){var t=e.objectStore(fv.store);t.createIndex(fv.readTimeIndex,fv.readTimeIndexPath,{unique:!1}),t.createIndex(fv.collectionReadTimeIndex,fv.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(u=u.next(function(){return i.$e(a)})),n<11&&r>=11&&(u=u.next(function(){(function(e){e.createObjectStore(yv.store,{keyPath:yv.keyPath})})(e),function(e){e.createObjectStore(kv.store,{keyPath:kv.keyPath})}(e)})),u}},{key:"Ne",value:function(e){var t=0;return e.store(fv.store).Kt(function(e,n){t+=og(n)}).next(function(){var n=new hv(t);return e.store(hv.store).put(hv.key,n)})}},{key:"Ce",value:function(e){var t=this,n=e.store(av.store),r=e.store(uv.store);return n.Lt().next(function(n){return xv.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Lt(uv.userMutationsIndex,i).next(function(r){return xv.forEach(r,function(r){Af(r.userId===n.userId);var i=Bv(t.N,r);return ig(e,n.userId,i).next(function(){})})})})})}},{key:"xe",value:function(e){var t=e.store(pv.store),n=e.store(fv.store);return e.store(vv.store).get(vv.key).next(function(e){var r=[];return n.Kt(function(n,i){var o=new $f(n),a=[0,ev(o)];r.push(t.get(a).next(function(n){return n?xv.resolve():t.put(new pv(0,ev(o),e.highestListenSequenceNumber))}))}).next(function(){return xv.waitFor(r)})})}},{key:"ke",value:function(e,n){e.createObjectStore(gv.store,{keyPath:gv.keyPath});var r=n.store(gv.store),i=new Xv,o=function(e){if(i.add(e)){var t=e.lastSegment(),n=e.popLast();return r.put({collectionId:t,parent:ev(n)})}};return n.store(fv.store).Kt({qt:!0},function(e,t){var n=new $f(e);return o(n.popLast())}).next(function(){return n.store(sv.store).Kt({qt:!0},function(e,n){var r=t(e,3),i=(r[0],r[1]),a=(r[2],rv(i));return o(a.popLast())})})}},{key:"$e",value:function(e){var t=this,n=e.store(dv.store);return n.Kt(function(e,r){var i=Gv(r),o=Kv(t.N,i);return n.put(o)})}}]),e}();function Ng(e){e.createObjectStore(pv.store,{keyPath:pv.keyPath}).createIndex(pv.documentTargetsIndex,pv.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(dv.store,{keyPath:dv.keyPath}).createIndex(dv.queryTargetsIndexName,dv.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(vv.store)}var Pg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Dg=function(){function e(t,n,r,i,o,a,u,s,c,l){if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=o,this.window=a,this.document=u,this.Fe=c,this.Me=l,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=function(e){return Promise.resolve()},!e.bt())throw new Nf(Of.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _g(this,i),this.We=n+"main",this.N=new Uv(s),this.Ge=new Iv(this.We,11,new Og(this.N)),this.ze=new hg(this.referenceDelegate,this.N),this.Ht=new eg,this.He=new Sg(this.N,this.Ht),this.Je=new Jv,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===l&&If("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return f(e,[{key:"start",value:function(){var e=this;return this.Xe().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Nf(Of.FAILED_PRECONDITION,Pg);return e.Ze(),e.tn(),e.en(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.ze.getHighestSequenceNumber(t)})}).then(function(t){e.Le=new Zf(t,e.Fe)}).then(function(){e.Be=!0}).catch(function(t){return e.Ge&&e.Ge.close(),Promise.reject(t)})}},{key:"nn",value:function(e){var t,n=this;return this.Qe=(t=(0,uu.Z)(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.started){t.next=2;break}return t.abrupt("return",e(r));case 2:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){var t;this.Ge.xt((t=(0,uu.Z)(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}))}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,uu.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Xe();case 4:case"end":return e.stop()}},e)}))))}},{key:"Xe",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return Mg(t).put(new mv(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.sn(t).next(function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable(function(){return e.Qe(!1)}))})}).next(function(){return e.rn(t)}).next(function(n){return e.isPrimary&&!n?e.on(t).next(function(){return!1}):!!n&&e.an(t).next(function(){return!0})})}).catch(function(t){if(Ev(t))return Tf("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Tf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable(function(){return e.Qe(t)}),e.isPrimary=t})}},{key:"sn",value:function(e){var t=this;return Lg(e).get(ov.key).next(function(e){return xv.resolve(t.cn(e))})}},{key:"un",value:function(e){return Mg(e).delete(this.clientId)}},{key:"hn",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){var n,r,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isPrimary||e.ln(e.je,18e5)){t.next=6;break}return e.je=Date.now(),t.next=4,e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var n=Dv(t,mv.store);return n.Lt().next(function(t){var r=e.fn(t,18e5),i=t.filter(function(e){return-1===r.indexOf(e)});return xv.forEach(i,function(e){return n.delete(e.clientId)}).next(function(){return i})})}).catch(function(){return[]});case 4:if(n=t.sent,e.Ye){r=u(n);try{for(r.s();!(i=r.n()).done;)o=i.value,e.Ye.removeItem(e.dn(o.clientId))}catch(a){r.e(a)}finally{r.f()}}case 6:case"end":return t.stop()}},t)}))()}},{key:"en",value:function(){var e=this;this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.Xe().then(function(){return e.hn()}).then(function(){return e.en()})})}},{key:"cn",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"rn",value:function(e){var t=this;return this.Me?xv.resolve(!0):Lg(e).get(ov.key).next(function(n){if(null!==n&&t.ln(n.leaseTimestampMs,5e3)&&!t.wn(n.ownerId)){if(t.cn(n)&&t.networkEnabled)return!0;if(!t.cn(n)){if(!n.allowTabSynchronization)throw new Nf(Of.FAILED_PRECONDITION,Pg);return!1}}return!(!t.networkEnabled||!t.inForeground)||Mg(e).Lt().next(function(e){return void 0===t.fn(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.inForeground&&e.inForeground,r=t.networkEnabled===e.networkEnabled;if(!t.networkEnabled&&e.networkEnabled||n&&r)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&Tf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e})}},{key:"shutdown",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),t.next=7,e.Ge.runTransaction("shutdown","readwrite",[ov.store,mv.store],function(t){var n=new Pv(t,Zf.T);return e.on(n).next(function(){return e.un(n)})});case 7:e.Ge.close(),e.yn();case 9:case"end":return t.stop()}},t)}))()}},{key:"fn",value:function(e,t){var n=this;return e.filter(function(e){return n.ln(e.updateTimeMs,t)&&!n.wn(e.clientId)})}},{key:"pn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return Mg(t).Lt().next(function(t){return e.fn(t,18e5).map(function(e){return e.clientId})})})}},{key:"started",get:function(){return this.Be}},{key:"getMutationQueue",value:function(e){return ag.Yt(e,this.N,this.Ht,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ze}},{key:"getRemoteDocumentCache",value:function(){return this.He}},{key:"getIndexManager",value:function(){return this.Ht}},{key:"getBundleCache",value:function(){return this.Je}},{key:"runTransaction",value:function(e,t,n){var r,i=this;return Tf("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",wv,function(o){return r=new Pv(o,i.Le?i.Le.next():Zf.T),"readwrite-primary"===t?i.sn(r).next(function(e){return!!e||i.rn(r)}).next(function(t){if(!t)throw If("Failed to obtain primary lease for action '".concat(e,"'.")),i.isPrimary=!1,i.Oe.enqueueRetryable(function(){return i.Qe(!1)}),new Nf(Of.FAILED_PRECONDITION,bv);return n(r)}).next(function(e){return i.an(r).next(function(){return e})}):i.Tn(r).next(function(){return n(r)})}).then(function(e){return r.raiseOnCommittedEvent(),e})}},{key:"Tn",value:function(e){var t=this;return Lg(e).get(ov.key).next(function(e){if(null!==e&&t.ln(e.leaseTimestampMs,5e3)&&!t.wn(e.ownerId)&&!t.cn(e)&&!(t.Me||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Nf(Of.FAILED_PRECONDITION,Pg)})}},{key:"an",value:function(e){var t=new ov(this.clientId,this.allowTabSynchronization,Date.now());return Lg(e).put(ov.key,t)}},{key:"on",value:function(e){var t=this,n=Lg(e);return n.get(ov.key).next(function(e){return t.cn(e)?(Tf("IndexedDbPersistence","Releasing primary lease."),n.delete(ov.key)):xv.resolve()})}},{key:"ln",value:function(e,t){var n=Date.now();return!(e<n-t||e>n&&(If("Detected an update time that is in the future: ".concat(e," > ").concat(n)),1))}},{key:"Ze",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){e.Oe.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.Xe()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}},{key:"mn",value:function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}},{key:"tn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=function(){t._n(),(0,fu.G6)()&&navigator.appVersion.match("Version/14")&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.Ue))}},{key:"gn",value:function(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}},{key:"wn",value:function(e){var t;try{var n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Tf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(n){return If("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}},{key:"_n",value:function(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){If("Failed to set zombie client id.",e)}}},{key:"yn",value:function(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}},{key:"dn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return Iv.bt()}}]),e}();function Lg(e){return Dv(e,ov.store)}function Mg(e){return Dv(e,mv.store)}function Fg(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ug=function e(t,n){h(this,e),this.progress=t,this.En=n},Vg=function(){function e(t,n,r){h(this,e),this.He=t,this.In=n,this.Ht=r}return f(e,[{key:"An",value:function(e,t){var n=this;return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.Rn(e,t,r)})}},{key:"Rn",value:function(e,t,n){return this.He.getEntry(e,t).next(function(e){var t,r=u(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e})}},{key:"bn",value:function(e,t){e.forEach(function(e,n){var r,i=u(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(o){i.e(o)}finally{i.f()}})}},{key:"Pn",value:function(e,t){var n=this;return this.He.getEntries(e,t).next(function(t){return n.vn(e,t).next(function(){return t})})}},{key:"vn",value:function(e,t){var n=this;return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.bn(t,e)})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return dh.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Vn(e,t.path):id(t)?this.Sn(e,t,n):this.Dn(e,t,n);var r}},{key:"Vn",value:function(e,t){return this.An(e,new dh(t)).next(function(e){var t=op();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}},{key:"Sn",value:function(e,t,n){var r=this,i=t.collectionGroup,o=op();return this.Ht.getCollectionParents(e,i).next(function(a){return xv.forEach(a,function(a){var u,s,c=(u=t,s=a.child(i),new Qh(s,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));return r.Dn(e,c,n).next(function(e){e.forEach(function(e,t){o=o.insert(e,t)})})}).next(function(){return o})})}},{key:"Dn",value:function(e,t,n){var r,i,o=this;return this.He.getDocumentsMatchingQuery(e,t,n).next(function(n){return r=n,o.In.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return i=t,o.Cn(e,i,r).next(function(e){r=e;var t,n=u(i);try{for(n.s();!(t=n.n()).done;){var o,a=t.value,s=u(a.mutations);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=c.key,f=r.get(l);null==f&&(f=Rh.newInvalidDocument(l),r=r.insert(l,f)),Ld(c,f,a.localWriteTime),f.isFoundDocument()||(r=r.remove(l))}}catch(h){s.e(h)}finally{s.f()}}}catch(h){n.e(h)}finally{n.f()}})}).next(function(){return r.forEach(function(e,n){fd(t,n)||(r=r.remove(e))}),r})}},{key:"Cn",value:function(e,t,n){var r,i=cp(),o=u(t);try{for(o.s();!(r=o.n()).done;){var a,s=u(r.value.mutations);try{for(s.s();!(a=s.n()).done;){var c=a.value;c instanceof Zd&&null===n.get(c.key)&&(i=i.add(c.key))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){o.e(f)}finally{o.f()}var l=n;return this.He.getEntries(e,i).next(function(e){return e.forEach(function(e,t){t.isFoundDocument()&&(l=l.insert(e,t))}),l})}}]),e}(),Zg=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.Nn=r,this.xn=i}return f(e,null,[{key:"kn",value:function(t,n){var r,i=cp(),o=cp(),a=u(n.docChanges);try{for(a.s();!(r=a.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}}}catch(c){a.e(c)}finally{a.f()}return new e(t,n.fromCache,i,o)}}]),e}(),qg=function(){function e(){h(this,e)}return f(e,[{key:"$n",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i,o=this;return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Kf.min())?this.Fn(e,t):this.On.Pn(e,r).next(function(i){var a=o.Mn(t,i);return(ed(t)||td(t))&&o.Ln(t.limitType,a,r,n)?o.Fn(e,t):(xf()<=lu.in.DEBUG&&Tf("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ld(t)),o.On.getDocumentsMatchingQuery(e,t,n).next(function(e){return a.forEach(function(t){e=e.insert(t.key,t)}),e}))})}},{key:"Mn",value:function(e,t){var n=new ep(hd(e));return t.forEach(function(t,r){fd(e,r)&&(n=n.add(r))}),n}},{key:"Ln",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return xf()<=lu.in.DEBUG&&Tf("QueryEngine","Using full collection scan to execute query:",ld(t)),this.On.getDocumentsMatchingQuery(e,t,Kf.min())}}]),e}(),jg=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Bn=n,this.N=i,this.Un=new Qd(zf),this.qn=new Tg(function(e){return Ph(e)},Dh),this.Kn=Kf.min(),this.In=t.getMutationQueue(r),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new Vg(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}return f(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.Un)})}}]),e}();function zg(e,t,n,r){return new jg(e,t,n,r)}function Hg(e,t){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rf(t),i=r.In,o=r.Qn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",function(e){var t;return r.In.getAllMutationBatches(e).next(function(a){return t=a,i=r.persistence.getMutationQueue(n),o=new Vg(r.jn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)}).next(function(n){var r,i=[],a=[],s=cp(),c=u(t);try{for(c.s();!(r=c.n()).done;){var l=r.value;i.push(l.batchId);var f,h=u(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;s=s.add(d.key)}}catch(w){h.e(w)}finally{h.f()}}}catch(w){c.e(w)}finally{c.f()}var p,v=u(n);try{for(v.s();!(p=v.n()).done;){var g=p.value;a.push(g.batchId);var m,y=u(g.mutations);try{for(y.s();!(m=y.n()).done;){var k=m.value;s=s.add(k.key)}}catch(w){y.e(w)}finally{y.f()}}}catch(w){v.e(w)}finally{v.f()}return o.Pn(e,s).next(function(e){return{Wn:e,removedBatchIds:i,addedBatchIds:a}})})});case 4:return a=e.sent,e.abrupt("return",(r.In=i,r.Qn=o,r.Bn.$n(r.Qn),a));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gg(e,t){var n=Rf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=xv.resolve();return o.forEach(function(e){a=a.next(function(){return r.getEntry(t,e)}).next(function(t){var o=n.docVersions.get(e);Af(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),a.next(function(){return e.In.removeMutationBatch(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n.In.performConsistencyCheck(e)}).next(function(){return n.Qn.Pn(e,r)})})}function Kg(e){var t=Rf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.ze.getLastRemoteSnapshotVersion(e)})}function Wg(e,t){var n=Rf(e),r=t.snapshotVersion,i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var o=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;var a=[];t.targetChanges.forEach(function(t,o){var u=i.get(o);if(u){a.push(n.ze.removeMatchingKeys(e,t.removedDocuments,o).next(function(){return n.ze.addMatchingKeys(e,t.addedDocuments,o)}));var s,c,l,f=t.resumeToken;if(f.approximateByteSize()>0){var h=u.withResumeToken(f,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,h),s=u,l=t,Af((c=h).resumeToken.approximateByteSize()>0),(0===s.resumeToken.approximateByteSize()||c.snapshotVersion.toMicroseconds()-s.snapshotVersion.toMicroseconds()>=3e8||l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size>0)&&a.push(n.ze.updateTargetData(e,h))}}});var u=rp();if(t.documentUpdates.forEach(function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Jg(e,o,t.documentUpdates,r,void 0).next(function(e){u=e})),!r.isEqual(Kf.min())){var s=n.ze.getLastRemoteSnapshotVersion(e).next(function(t){return n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)});a.push(s)}return xv.waitFor(a).next(function(){return o.apply(e)}).next(function(){return n.Qn.vn(e,u)}).next(function(){return u})}).then(function(e){return n.Un=i,e})}function Jg(e,t,n,r,i){var o=cp();return n.forEach(function(e){return o=o.add(e)}),t.getEntries(e,o).next(function(e){var o=rp();return n.forEach(function(n,a){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Kf.min())?(t.removeEntry(n,s),o=o.insert(n,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(a,s),o=o.insert(n,a)):Tf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",a.version)}),o})}function Yg(e,t){var n=Rf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)})}function Qg(e,t){var n=Rf(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.ze.getTargetData(e,t).next(function(i){return i?(r=i,xv.resolve(r)):n.ze.allocateTargetId(e).next(function(i){return r=new Fv(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}function $g(e,t,n){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rf(t),o=i.Un.get(n),a=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",a,function(e){return i.persistence.referenceDelegate.removeTarget(e,o)});case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ev(e.t1)){e.next=12;break}throw e.t1;case 12:Tf("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Un=i.Un.remove(n),i.qn.delete(o.target);case 14:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function em(e,t,n){var r=Rf(e),i=Kf.min(),o=cp();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=Rf(e),i=r.qn.get(n);return void 0!==i?xv.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,ad(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(function(e){o=e})}).next(function(){return r.Bn.getDocumentsMatchingQuery(e,t,n?i:Kf.min(),n?o:cp())}).next(function(e){return{documents:e,Gn:o}})})}function tm(e,t){var n=Rf(e),r=Rf(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.Tt(e,t).next(function(e){return e?e.target:null})})}function nm(e){var t=Rf(e);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return function(e,t,n){var r=Rf(e),i=rp(),o=qv(n),a=Ag(t),u=IDBKeyRange.lowerBound(o,!0);return a.Kt({index:fv.readTimeIndex,range:u},function(e,t){var n=Vv(r.N,t);i=i.insert(n.key,n),o=t.readTime}).next(function(){return{En:i,readTime:jv(o)}})}(t.jn,e,t.Kn)}).then(function(e){var n=e.En,r=e.readTime;return t.Kn=r,n})}function rm(){return(rm=(0,uu.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rf(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",function(e){return t=Ag(e),n=Kf.min(),t.Kt({index:fv.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=jv(t.readTime)),r.done()}).next(function(){return n});var t,n}).then(function(e){n.Kn=e}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function im(){return(im=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var o,a,s,c,l,f,h,d,p,v,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=Rf(t),a=cp(),s=rp(),c=up(),l=u(r);try{for(l.s();!(f=l.n()).done;)h=f.value,d=n.zn(h.metadata.name),h.document&&(a=a.add(d)),s=s.insert(d,n.Hn(h)),c=c.insert(d,n.Jn(h.metadata.readTime))}catch(m){l.e(m)}finally{l.f()}return p=o.jn.newChangeBuffer({trackRemovals:!0}),e.next=7,Qg(o,(g=i,ad(Xh($f.fromString("__bundle__/docs/".concat(g))))));case 7:return v=e.sent,e.abrupt("return",o.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return Jg(e,p,s,Kf.min(),c).next(function(t){return p.apply(e),t}).next(function(t){return o.ze.removeMatchingKeysForTargetId(e,v.targetId).next(function(){return o.ze.addMatchingKeys(e,a,v.targetId)}).next(function(){return o.Qn.vn(e,t)}).next(function(){return t})})}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function om(e,t){return am.apply(this,arguments)}function am(){return(am=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:cp(),e.next=3,Qg(t,ad(Wv(n.bundledQuery)));case 3:return i=e.sent,o=Rf(t),e.abrupt("return",o.persistence.runTransaction("Save named query","readwrite",function(e){var t=Cp(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return o.Je.saveNamedQuery(e,n);var a=i.withResumeToken(nh.EMPTY_BYTE_STRING,t);return o.Un=o.Un.insert(a.targetId,a),o.ze.updateTargetData(e,a).next(function(){return o.ze.removeMatchingKeysForTargetId(e,i.targetId)}).next(function(){return o.ze.addMatchingKeys(e,r,i.targetId)}).next(function(){return o.Je.saveNamedQuery(e,n)})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var um=function(){function e(t){h(this,e),this.N=t,this.Yn=new Map,this.Xn=new Map}return f(e,[{key:"getBundleMetadata",value:function(e,t){return xv.resolve(this.Yn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Cp(n.createTime)}),xv.resolve()}},{key:"getNamedQuery",value:function(e,t){return xv.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,{name:(n=t).name,query:Wv(n.bundledQuery),readTime:Cp(n.readTime)}),xv.resolve();var n}}]),e}(),sm=function(){function e(){h(this,e),this.Zn=new ep(cm.ts),this.es=new ep(cm.ns)}return f(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new cm(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})}},{key:"removeReference",value:function(e,t){this.rs(new cm(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})}},{key:"cs",value:function(e){var t=this,n=new dh(new $f([])),r=new cm(n,e),i=new cm(n,e+1),o=[];return this.es.forEachInRange([r,i],function(e){t.rs(e),o.push(e.key)}),o}},{key:"us",value:function(){var e=this;this.Zn.forEach(function(t){return e.rs(t)})}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new dh(new $f([])),n=new cm(t,e),r=new cm(t,e+1),i=cp();return this.es.forEachInRange([n,r],function(e){i=i.add(e.key)}),i}},{key:"containsKey",value:function(e){var t=new cm(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),cm=function(){function e(t,n){h(this,e),this.key=t,this.ls=n}return f(e,null,[{key:"ts",value:function(e,t){return dh.comparator(e.key,t.key)||zf(e.ls,t.ls)}},{key:"ns",value:function(e,t){return zf(e.ls,t.ls)||dh.comparator(e.key,t.key)}}]),e}(),lm=function(){function e(t,n){h(this,e),this.Ht=t,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new ep(cm.ts)}return f(e,[{key:"checkEmpty",value:function(e){return xv.resolve(0===this.In.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++;var o=new Lv(i,t,n,r);this.In.push(o);var a,s=u(r);try{for(s.s();!(a=s.n()).done;){var c=a.value;this.ds=this.ds.add(new cm(c.key,i)),this.Ht.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return xv.resolve(o)}},{key:"lookupMutationBatch",value:function(e,t){return xv.resolve(this.ws(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this._s(t+1),r=n<0?0:n;return xv.resolve(this.In.length>r?this.In[r]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return xv.resolve(0===this.In.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return xv.resolve(this.In.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new cm(t,0),i=new cm(t,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([r,i],function(e){var t=n.ws(e.ls);o.push(t)}),xv.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ep(zf);return t.forEach(function(e){var t=new cm(e,0),i=new cm(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],function(e){r=r.add(e.ls)})}),xv.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;dh.isDocumentKey(i)||(i=i.child(""));var o=new cm(new dh(i),0),a=new ep(zf);return this.ds.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ls)),!0)},o),xv.resolve(this.gs(a))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach(function(e){var r=t.ws(e);null!==r&&n.push(r)}),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Af(0===this.ys(t.batchId,"removed")),this.In.shift();var r=this.ds;return xv.forEach(t.mutations,function(i){var o=new cm(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.ds=r})}},{key:"te",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new cm(t,0),r=this.ds.firstAfterOrEqual(n);return xv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return xv.resolve()}},{key:"ys",value:function(e,t){return this._s(e)}},{key:"_s",value:function(e){return 0===this.In.length?0:e-this.In[0].batchId}},{key:"ws",value:function(e){var t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}]),e}(),fm=function(){function e(t,n){h(this,e),this.Ht=t,this.ps=n,this.docs=new Qd(dh.comparator),this.size=0}return f(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return xv.resolve(n?n.document.clone():Rh.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=rp();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Rh.newInvalidDocument(e))}),xv.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=rp(),i=new dh(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),u=a.key,s=a.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||fd(t,c)&&(r=r.insert(c.key,c.clone()))}return xv.resolve(r)}},{key:"Ts",value:function(e,t){return xv.forEach(this.docs,function(e){return t(e)})}},{key:"newChangeBuffer",value:function(e){return new hm(this)}},{key:"getSize",value:function(e){return xv.resolve(this.size)}}]),e}(),hm=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this)).Se=e,r}return f(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(t.Se.addEntry(e,i.document,t.getReadTime(r))):t.Se.removeEntry(r)}),xv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Se.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Se.getEntries(e,t)}}]),n}(Ig),dm=function(){function e(t){h(this,e),this.persistence=t,this.Es=new Tg(function(e){return Ph(e)},Dh),this.lastRemoteSnapshotVersion=Kf.min(),this.highestTargetId=0,this.Is=0,this.As=new sm,this.targetCount=0,this.Rs=fg.se()}return f(e,[{key:"forEachTarget",value:function(e,t){return this.Es.forEach(function(e,n){return t(n)}),xv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return xv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return xv.resolve(this.Is)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),xv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),xv.resolve()}},{key:"ae",value:function(e){this.Es.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new fg(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,xv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),xv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,xv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return this.Es.forEach(function(a,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Es.delete(a),o.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),xv.waitFor(o).next(function(){return i})}},{key:"getTargetCount",value:function(e){return xv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Es.get(t)||null;return xv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),xv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),xv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.cs(t),xv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return xv.resolve(n)}},{key:"containsKey",value:function(e,t){return xv.resolve(this.As.containsKey(t))}}]),e}(),pm=function(){function e(t,n){var r=this;h(this,e),this.bs={},this.Le=new Zf(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new dm(this),this.Ht=new $v,this.He=new fm(this.Ht,function(e){return r.referenceDelegate.Ps(e)}),this.N=new Uv(n),this.Je=new um(this.N)}return f(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Be=!1,Promise.resolve()}},{key:"started",get:function(){return this.Be}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Ht}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new lm(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.ze}},{key:"getRemoteDocumentCache",value:function(){return this.He}},{key:"getBundleCache",value:function(){return this.Je}},{key:"runTransaction",value:function(e,t,n){var r=this;Tf("MemoryPersistence","Starting transaction:",e);var i=new vm(this.Le.next());return this.referenceDelegate.vs(),n(i).next(function(e){return r.referenceDelegate.Vs(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})}},{key:"Ss",value:function(e,t){return xv.or(Object.values(this.bs).map(function(n){return function(){return n.containsKey(e,t)}}))}}]),e}(),vm=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return n}(_v),gm=function(){function e(t){h(this,e),this.persistence=t,this.Ds=new sm,this.Cs=null}return f(e,[{key:"xs",get:function(){if(this.Cs)return this.Cs;throw Ef()}},{key:"addReference",value:function(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),xv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),xv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),xv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ds.cs(t.targetId).forEach(function(e){return n.xs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.xs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})}},{key:"vs",value:function(){this.Cs=new Set}},{key:"Vs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xv.forEach(this.xs,function(r){var i=dh.fromPath(r);return t.ks(e,i).next(function(e){e||n.removeEntry(i)})}).next(function(){return t.Cs=null,n.apply(e)})}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.ks(e,t).next(function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())})}},{key:"Ps",value:function(e){return 0}},{key:"ks",value:function(e,t){var n=this;return xv.or([function(){return xv.resolve(n.Ds.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ss(e,t)}])}}],[{key:"Ns",value:function(t){return new e(t)}}]),e}();function mm(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ym(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function km(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var wm=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return f(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"$s",value:function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&((a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Nf(o.error.code,o.error.message))),a?new e(t,n,o.state,i):(If("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),bm=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return f(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"$s",value:function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&((o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Nf(i.error.code,i.error.message))),o?new e(t,i.state,r):(If("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),_m=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return f(e,null,[{key:"$s",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=fp(),a=0;i&&a<r.activeTargetIds.length;++a)i=hh(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(If("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),xm=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return f(e,null,[{key:"$s",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(If("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Tm=function(){function e(){h(this,e),this.activeTargetIds=fp()}return f(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Im=function(){function e(t,n,r,i,o){h(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Ls=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Qd(zf),this.started=!1,this.Ks=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.js=mm(this.persistenceKey,this.Ls),this.Qs="firestore_sequence_number_".concat(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Tm),this.Ws=new RegExp("^firestore_clients_".concat(a,"_([^_]*)$")),this.Gs=new RegExp("^firestore_mutations_".concat(a,"_(\\d+)(?:_(.*))?$")),this.zs=new RegExp("^firestore_targets_".concat(a,"_(\\d+)$")),this.Hs="firestore_online_state_".concat(this.persistenceKey),this.Js=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}return f(e,[{key:"start",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){var n,r,i,o,a,s,c,l,f,h,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.syncEngine.pn();case 2:n=t.sent,r=u(n),t.prev=4,r.s();case 6:if((i=r.n()).done){t.next=14;break}if((o=i.value)!==e.Ls){t.next=10;break}return t.abrupt("continue",12);case 10:(a=e.getItem(mm(e.persistenceKey,o)))&&(s=_m.$s(o,a))&&(e.qs=e.qs.insert(s.clientId,s));case 12:t.next=6;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),r.e(t.t0);case 19:return t.prev=19,r.f(),t.finish(19);case 22:e.Ys(),(c=e.storage.getItem(e.Hs))&&(l=e.Xs(c))&&e.Zs(l),f=u(e.Ks);try{for(f.s();!(h=f.n()).done;)d=h.value,e.Us(d)}catch(p){f.e(p)}finally{f.f()}e.Ks=[],e.window.addEventListener("pagehide",function(){return e.shutdown()}),e.started=!0;case 28:case"end":return t.stop()}},t,null,[[4,16,19,22]])}))()}},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Qs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ti(this.qs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t}},{key:"addPendingMutation",value:function(e){this.ei(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ei(e,t,n),this.ni(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(km(this.persistenceKey,e));if(n){var r=bm.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}},{key:"removeLocalQueryTarget",value:function(e){this.si.Ms(e),this.Ys()}},{key:"isLocalQueryTarget",value:function(e){return this.si.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(km(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ii(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach(function(e){r.ni(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})}},{key:"setOnlineState",value:function(e){this.ri(e)}},{key:"notifyBundleLoaded",value:function(){this.oi()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Tf("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Tf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Tf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Us",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Tf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void If("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,uu.Z)(regeneratorRuntime.mark(function e(){var r,i,o,a,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Ws.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ci(r,null));case 6:if(!(i=t.ui(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ci(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Gs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(o=t.hi(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.li(o));case 16:e.next=39;break;case 18:if(!t.zs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(a=t.fi(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.di(a));case 23:e.next=39;break;case 25:if(n.key!==t.Hs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Xs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Zs(u));case 30:e.next=39;break;case 32:if(n.key!==t.Qs){e.next=37;break}(s=function(e){var t=Zf.T;if(null!=e)try{var n=JSON.parse(e);Af("number"==typeof n),t=n}catch(n){If("SharedClientState","Failed to read sequence number from WebStorage",n)}return t}(n.newValue))!==Zf.T&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Js){e.next=39;break}return e.abrupt("return",t.syncEngine.wi());case 39:e.next=42;break;case 41:t.Ks.push(n);case 42:case"end":return e.stop()}},e)})))}}},{key:"si",get:function(){return this.qs.get(this.Ls)}},{key:"Ys",value:function(){this.setItem(this.js,this.si.Os())}},{key:"ei",value:function(e,t,n){var r=new wm(this.currentUser,e,t,n),i=ym(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"ni",value:function(e){var t=ym(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"ri",value:function(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}},{key:"ii",value:function(e,t,n){var r=km(this.persistenceKey,e),i=new bm(e,t,n);this.setItem(r,i.Os())}},{key:"oi",value:function(){this.setItem(this.Js,"value-not-used")}},{key:"ai",value:function(e){var t=this.Ws.exec(e);return t?t[1]:null}},{key:"ui",value:function(e,t){var n=this.ai(e);return _m.$s(n,t)}},{key:"hi",value:function(e,t){var n=this.Gs.exec(e),r=Number(n[1]);return wm.$s(new wf(void 0!==n[2]?n[2]:null),r,t)}},{key:"fi",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]);return bm.$s(r,t)}},{key:"Xs",value:function(e){return xm.$s(e)}},{key:"li",value:function(e){var t=this;return(0,uu.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.user.uid!==t.currentUser.uid){n.next=2;break}return n.abrupt("return",t.syncEngine._i(e.batchId,e.state,e.error));case 2:Tf("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid));case 3:case"end":return n.stop()}},n)}))()}},{key:"di",value:function(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}},{key:"ci",value:function(e,t){var n=this,r=t?this.qs.insert(e,t):this.qs.remove(e),i=this.ti(this.qs),o=this.ti(r),a=[],u=[];return o.forEach(function(e){i.has(e)||a.push(e)}),i.forEach(function(e){o.has(e)||u.push(e)}),this.syncEngine.gi(a,u).then(function(){n.qs=r})}},{key:"Zs",value:function(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ti",value:function(e){var t=fp();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Sm=function(){function e(){h(this,e),this.yi=new Tm,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return f(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.yi.Fs(e),this.pi[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.pi[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.yi.Ms(e)}},{key:"isLocalQueryTarget",value:function(e){return this.yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.pi[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.yi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.yi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.yi=new Tm,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Cm=function(){function e(){h(this,e)}return f(e,[{key:"Ti",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Em=function(){function e(){var t=this;h(this,e),this.Ei=function(){return t.Ii()},this.Ai=function(){return t.Ri()},this.bi=[],this.Pi()}return f(e,[{key:"Ti",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}},{key:"Pi",value:function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}},{key:"Ii",value:function(){Tf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=u(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ri",value:function(){Tf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=u(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Am={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Rm=function(){function e(t){h(this,e),this.vi=t.vi,this.Vi=t.Vi}return f(e,[{key:"Si",value:function(e){this.Di=e}},{key:"Ci",value:function(e){this.Ni=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Vi()}},{key:"send",value:function(e){this.vi(e)}},{key:"ki",value:function(){this.Di()}},{key:"$i",value:function(e){this.Ni(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Om=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return f(n,[{key:"qi",value:function(e,t,n,r){return new Promise(function(i,o){var a=new yf;a.listenOnce(df.COMPLETE,function(){try{switch(a.getLastErrorCode()){case hf.NO_ERROR:var t=a.getResponseJson();Tf("Connection","XHR received:",JSON.stringify(t)),i(t);break;case hf.TIMEOUT:Tf("Connection",'RPC "'+e+'" timed out'),o(new Nf(Of.DEADLINE_EXCEEDED,"Request time out"));break;case hf.HTTP_ERROR:var n=a.getStatus();if(Tf("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=(s=r.status,c=s.toLowerCase().replace(/_/g,"-"),Object.values(Of).indexOf(c)>=0?c:Of.UNKNOWN);o(new Nf(u,r.message))}else o(new Nf(Of.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Nf(Of.UNAVAILABLE,"Connection failed."));break;default:Ef()}}finally{Tf("Connection",'RPC "'+e+'" completed.')}var s,c});var u=JSON.stringify(r);a.send(t,"POST",u,n,15)})}},{key:"ji",value:function(e,t){var n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=lf(),i=ff(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new gf({})),this.Ui(o.initMessageHeaders,t),(0,fu.uI)()||(0,fu.b$)()||(0,fu.d)()||(0,fu.w1)()||(0,fu.Mn)()||(0,fu.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Tf("Connection","Creating WebChannel: "+a,o);var u=r.createWebChannel(a,o),s=!1,c=!1,l=new Rm({vi:function(e){c?Tf("Connection","Not sending because WebChannel is closed:",e):(s||(Tf("Connection","Opening WebChannel transport."),u.open(),s=!0),Tf("Connection","WebChannel sending:",e),u.send(e))},Vi:function(){return u.close()}}),f=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(t){setTimeout(function(){throw t},0)}})};return f(u,mf.EventType.OPEN,function(){c||Tf("Connection","WebChannel transport opened.")}),f(u,mf.EventType.CLOSE,function(){c||(c=!0,Tf("Connection","WebChannel transport closed"),l.$i())}),f(u,mf.EventType.ERROR,function(e){c||(c=!0,Sf("Connection","WebChannel transport errored:",e),l.$i(new Nf(Of.UNAVAILABLE,"The operation could not be completed")))}),f(u,mf.EventType.MESSAGE,function(e){var t;if(!c){var n=e.data[0];Af(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Tf("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Hd[e];if(void 0!==t)return Yd(t)}(o),s=i.message;void 0===a&&(a=Of.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),c=!0,l.$i(new Nf(a,s)),u.close()}else Tf("Connection","WebChannel received:",n),l.Oi(n)}}),f(i,pf.STAT_EVENT,function(e){e.stat===vf.PROXY?Tf("Connection","Detected buffering proxy"):e.stat===vf.NOPROXY&&Tf("Connection","Detected no buffering proxy")}),setTimeout(function(){l.ki()},0),l}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return f(e,[{key:"Li",value:function(e,t,n,r){var i=this.Bi(e,t);Tf("RestConnection","Sending: ",i,n);var o={};return this.Ui(o,r),this.qi(e,i,o,n).then(function(e){return Tf("RestConnection","Received: ",e),e},function(t){throw Sf("RestConnection","".concat(e," failed with error: "),t,"url: ",i,"request:",n),t})}},{key:"Ki",value:function(e,t,n,r){return this.Li(e,t,n,r)}},{key:"Ui",value:function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+bf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}},{key:"Bi",value:function(e,t){return"".concat(this.Fi,"/v1/").concat(t,":").concat(Am[e])}}]),e}());function Nm(){return"undefined"!=typeof window?window:null}function Pm(){return"undefined"!=typeof document?document:null}function Dm(e){return new xp(e,!0)}var Lm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.Oe=t,this.timerId=n,this.Qi=r,this.Wi=i,this.Gi=o,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}return f(e,[{key:"reset",value:function(){this.zi=0}},{key:"Yi",value:function(){this.zi=this.Gi}},{key:"Xi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,n-r);i>0&&Tf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.zi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,function(){return t.Ji=Date.now(),e()}),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}},{key:"tr",value:function(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}},{key:"cancel",value:function(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}},{key:"Zi",value:function(){return(Math.random()-.5)*this.zi}}]),e}(),Mm=function(){function e(t,n,r,i,o,a){h(this,e),this.Oe=t,this.er=r,this.nr=i,this.credentialsProvider=o,this.listener=a,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Lm(t,n)}return f(e,[{key:"ar",value:function(){return 1===this.state||2===this.state||4===this.state}},{key:"cr",value:function(){return 2===this.state}},{key:"start",value:function(){3!==this.state?this.auth():this.ur()}},{key:"stop",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.ar(),!t.t0){t.next=4;break}return t.next=4,e.close(0);case 4:case"end":return t.stop()}},t)}))()}},{key:"hr",value:function(){this.state=0,this.rr.reset()}},{key:"lr",value:function(){var e=this;this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,function(){return e.dr()}))}},{key:"wr",value:function(e){this._r(),this.stream.send(e)}},{key:"dr",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.cr()){t.next=2;break}return t.abrupt("return",e.close(0));case 2:case"end":return t.stop()}},t)}))()}},{key:"_r",value:function(){this.ir&&(this.ir.cancel(),this.ir=null)}},{key:"close",value:function(e,t){var n=this;return(0,uu.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n._r(),n.rr.cancel(),n.sr++,3!==e?n.rr.reset():t&&t.code===Of.RESOURCE_EXHAUSTED?(If(t.toString()),If("Using maximum backoff delay to prevent overloading the backend."),n.rr.Yi()):t&&t.code===Of.UNAUTHENTICATED&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.mr(),n.stream.close(),n.stream=null),n.state=e,r.next=8,n.listener.Ci(t);case 8:case"end":return r.stop()}},r)}))()}},{key:"mr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then(function(t){e.sr===n&&e.yr(t)},function(n){t(function(){var t=new Nf(Of.UNKNOWN,"Fetching auth token failed: "+n.message);return e.pr(t)})})}},{key:"yr",value:function(e){var t=this,n=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(function(){n(function(){return t.state=2,t.listener.Si()})}),this.stream.Ci(function(e){n(function(){return t.pr(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})}},{key:"ur",value:function(){var e=this;this.state=4,this.rr.Xi((0,uu.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}},t)})))}},{key:"pr",value:function(e){return Tf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(3,e)}},{key:"gr",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget(function(){return t.sr===e?n():(Tf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}}}]),e}(),Fm=function(e){d(n,e);var t=p(n);function n(e,r,i,o,a){var u;return h(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)).N=o,u}return f(n,[{key:"Tr",value:function(e){return this.nr.ji("Listen",e)}},{key:"onMessage",value:function(e){this.rr.reset();var t=function(e,t){var n,r;if("targetChange"in t){var i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:Ef(),o=t.targetChange.targetIds||[],a=function(e,t){return e.D?(Af(void 0===t||"string"==typeof t),nh.fromBase64String(t||"")):(Af(void 0===t||t instanceof Uint8Array),nh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),u=t.targetChange.cause,s=u&&function(e){var t=void 0===e.code?Of.UNKNOWN:Yd(e.code);return new Nf(t,e.message||"")}(u);n=new gp(i,o,a,s||null)}else if("documentChange"in t){var c=t.documentChange,l=Op(e,c.document.name),f=Cp(c.document.updateTime),h=new Eh({mapValue:{fields:c.document.fields}}),d=Rh.newFoundDocument(l,f,h);n=new pp(c.targetIds||[],c.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){var p=t.documentDelete,v=Op(e,p.document),g=p.readTime?Cp(p.readTime):Kf.min(),m=Rh.newNoDocument(v,g);n=new pp([],p.removedTargetIds||[],m.key,m)}else if("documentRemove"in t){var y=t.documentRemove,k=Op(e,y.document);n=new pp([],y.removedTargetIds||[],k,null)}else{if(!("filter"in t))return Ef();var w=t.filter,b=new Wd(w.count||0);n=new vp(w.targetId,b)}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return Kf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Kf.min():t.readTime?Cp(t.readTime):Kf.min()}(e);return this.listener.Er(t,n)}},{key:"Ir",value:function(e){var t={};t.database=Dp(this.N),t.addTarget=function(e,t){var n,r=t.target;return(n=Lh(r)?{documents:Zp(e,r)}:{query:qp(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ip(e,t.resumeToken):t.snapshotVersion.compareTo(Kf.min())>0&&(n.readTime=Tp(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ef()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.wr(t)}},{key:"Ar",value:function(e){var t={};t.database=Dp(this.N),t.removeTarget=e,this.wr(t)}}]),n}(Mm),Um=function(e){d(n,e);var t=p(n);function n(e,r,i,o,a){var u;return h(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",r,i,a)).N=o,u.Rr=!1,u}return f(n,[{key:"br",get:function(){return this.Rr}},{key:"start",value:function(){this.Rr=!1,this.lastStreamToken=void 0,i(b(n.prototype),"start",this).call(this)}},{key:"mr",value:function(){this.Rr&&this.Pr([])}},{key:"Tr",value:function(e){return this.nr.ji("Write",e)}},{key:"onMessage",value:function(e){if(Af(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();var t=function(e,t){return e&&e.length>0?(Af(void 0!==t),e.map(function(e){return function(e,t){var n=Cp(e.updateTime?e.updateTime:t);return n.isEqual(Kf.min())&&(n=Cp(t)),new Rd(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=Cp(e.commitTime);return this.listener.vr(n,t)}return Af(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}},{key:"Sr",value:function(){var e={};e.database=Dp(this.N),this.wr(e)}},{key:"Pr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return Up(t.N,e)})};this.wr(n)}}]),n}(Mm),Vm=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this)).credentials=e,o.nr=r,o.N=i,o.Dr=!1,o}return f(n,[{key:"Cr",value:function(){if(this.Dr)throw new Nf(Of.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Li",value:function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.nr.Li(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===Of.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Nf(Of.UNKNOWN,e.toString())})}},{key:"Ki",value:function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.nr.Ki(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===Of.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Nf(Of.UNKNOWN,e.toString())})}},{key:"terminate",value:function(){this.Dr=!0}}]),n}(function(){return function e(){h(this,e)}}()),Zm=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}return f(e,[{key:"Or",value:function(){var e=this;0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.kr=null,e.Mr("Backend didn't respond within 10 seconds."),e.Fr("Offline"),Promise.resolve()}))}},{key:"Lr",value:function(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Fr("Offline")))}},{key:"set",value:function(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}},{key:"Fr",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Mr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.$r?(If(t),this.$r=!1):Tf("OnlineStateTracker",t)}},{key:"Br",value:function(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}]),e}(),qm=function e(t,n,r,i,o){h(this,e);var a=this;this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=o,this.Qr.Ti(function(e){r.enqueueAndForget((0,uu.Z)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=$m(a),!e.t0){e.next=5;break}return Tf("RemoteStore","Restarting streams for network reachability change."),e.next=5,(t=(0,uu.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rf(t)).Kr.add(4),e.next=4,Hm(n);case 4:return n.Wr.set("Unknown"),n.Kr.delete(4),e.next=8,jm(n);case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})(a);case 5:case"end":return e.stop()}},e)})))}),this.Wr=new Zm(r,i)};function jm(e){return zm.apply(this,arguments)}function zm(){return(zm=(0,uu.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!$m(t)){e.next=18;break}n=u(t.jr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}))).apply(this,arguments)}function Hm(e){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,uu.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=u(t.jr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}))).apply(this,arguments)}function Gm(e,t){var n=Rf(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),Qm(n)?Ym(n):Iy(n).cr()&&Wm(n,t))}function Km(e,t){var n=Rf(e),r=Iy(n);n.qr.delete(t),r.cr()&&Jm(n,t),0===n.qr.size&&(r.cr()?r.lr():$m(n)&&n.Wr.set("Unknown"))}function Wm(e,t){e.Gr.Y(t.targetId),Iy(e).Ir(t)}function Jm(e,t){e.Gr.Y(t),Iy(e).Ar(t)}function Ym(e){e.Gr=new yp({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qr.get(t)||null}}),Iy(e).start(),e.Wr.Or()}function Qm(e){return $m(e)&&!Iy(e).ar()&&e.qr.size>0}function $m(e){return 0===Rf(e).Kr.size}function Xm(e){e.Gr=void 0}function ey(e){return ty.apply(this,arguments)}function ty(){return(ty=(0,uu.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.qr.forEach(function(e,n){Wm(t,e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ny(e,t){return ry.apply(this,arguments)}function ry(){return(ry=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Xm(t),Qm(t)?(t.Wr.Lr(n),Ym(t)):t.Wr.set("Unknown");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function iy(e,t,n){return oy.apply(this,arguments)}function oy(){return(oy=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Wr.set("Online"),!(n instanceof gp&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,(o=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=u(n.targetIds),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=14;break}if(a=o.value,e.t0=t.qr.has(a),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(a,r);case 10:t.qr.delete(a),t.Gr.removeTarget(a);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[2,16,19,22]])})),function(e,t){return o.apply(this,arguments)})(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Tf("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,ay(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof pp?t.Gr.rt(n):n instanceof vp?t.Gr.ft(n):t.Gr.ct(n),r.isEqual(Kf.min())){e.next=29;break}return e.prev=14,e.next=17,Kg(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Gr._t(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.qr.get(t);if(n){e.qr.set(t,n.withResumeToken(nh.EMPTY_BYTE_STRING,n.snapshotVersion)),Jm(e,t);var r=new Fv(n.target,t,1,n.sequenceNumber);Wm(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),Tf("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,ay(t,e.t2);case 29:case"end":return e.stop()}},e,null,[[1,6],[14,24]])}))).apply(this,arguments)}function ay(e,t,n){return uy.apply(this,arguments)}function uy(){return(uy=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Ev(n)){e.next=2;break}throw n;case 2:return t.Kr.add(1),e.next=5,Hm(t);case 5:t.Wr.set("Offline"),r||(r=function(){return Kg(t.localStore)}),t.asyncQueue.enqueueRetryable((0,uu.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Tf("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Kr.delete(1),e.next=6,jm(t);case 6:case"end":return e.stop()}},e)})));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function sy(e,t){return t().catch(function(n){return ay(e,n,t)})}function cy(e){return ly.apply(this,arguments)}function ly(){return(ly=(0,uu.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Rf(t),r=Sy(n),i=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;case 2:if(!fy(n)){e.next=19;break}return e.prev=3,e.next=6,Yg(n.localStore,i);case 6:if(null!==(o=e.sent)){e.next=10;break}return 0===n.Ur.length&&r.lr(),e.abrupt("break",19);case 10:i=o.batchId,hy(n,o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,ay(n,e.t0);case 17:e.next=2;break;case 19:dy(n)&&py(n);case 20:case"end":return e.stop()}},e,null,[[3,13]])}))).apply(this,arguments)}function fy(e){return $m(e)&&e.Ur.length<10}function hy(e,t){e.Ur.push(t);var n=Sy(e);n.cr()&&n.br&&n.Pr(t.mutations)}function dy(e){return $m(e)&&!Sy(e).ar()&&e.Ur.length>0}function py(e){Sy(e).start()}function vy(e){return gy.apply(this,arguments)}function gy(){return(gy=(0,uu.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Sy(t).Sr();case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function my(e){return yy.apply(this,arguments)}function yy(){return(yy=(0,uu.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Sy(t),r=u(t.Ur);try{for(r.s();!(i=r.n()).done;)o=i.value,n.Pr(o.mutations)}catch(a){r.e(a)}finally{r.f()}case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ky(e,t,n){return wy.apply(this,arguments)}function wy(){return(wy=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Ur.shift(),o=Mv.from(i,n,r),e.next=3,sy(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)});case 3:return e.next=5,cy(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function by(e,t){return _y.apply(this,arguments)}function _y(){return(_y=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Sy(t).br,!e.t0){e.next=4;break}return e.next=4,(r=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jd(i=n.code)||i===Of.ABORTED){e.next=7;break}return r=t.Ur.shift(),Sy(t).hr(),e.next=5,sy(t,function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)});case 5:return e.next=7,cy(t);case 7:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})(t,n);case 4:dy(t)&&py(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xy(e,t){return Ty.apply(this,arguments)}function Ty(){return(Ty=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rf(t),!n){e.next=7;break}return r.Kr.delete(2),e.next=5,jm(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Kr.add(2),e.next=12,Hm(r);case 12:r.Wr.set("Unknown");case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Iy(e){return e.zr||(e.zr=(t=e.datastore,n=e.asyncQueue,r={Si:ey.bind(null,e),Ci:ny.bind(null,e),Er:iy.bind(null,e)},(i=Rf(t)).Cr(),new Fm(n,i.nr,i.credentials,i.N,r)),e.jr.push(function(){var t=(0,uu.Z)(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zr.hr(),Qm(e)?Ym(e):e.Wr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zr.stop();case 6:Xm(e);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.zr;var t,n,r,i}function Sy(e){return e.Hr||(e.Hr=(t=e.datastore,n=e.asyncQueue,r={Si:vy.bind(null,e),Ci:by.bind(null,e),Vr:my.bind(null,e),vr:ky.bind(null,e)},(i=Rf(t)).Cr(),new Um(n,i.nr,i.credentials,i.N,r)),e.jr.push(function(){var t=(0,uu.Z)(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Hr.hr(),t.next=4,cy(e);case 4:t.next=9;break;case 6:return t.next=8,e.Hr.stop();case 8:e.Ur.length>0&&(Tf("RemoteStore","Stopping write stream with ".concat(e.Ur.length," pending writes")),e.Ur=[]);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.Hr;var t,n,r,i}var Cy=function(){function e(t,n,r,i,o){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Pf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return f(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nf(Of.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)})}],[{key:"createAndSchedule",value:function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a}}]),e}();function Ey(e,t){if(If("AsyncQueue","".concat(t,": ").concat(e)),Ev(e))return new Nf(Of.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Ay=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||dh.comparator(e.key,n.key)}:function(e,t){return dh.comparator(e.key,t.key)},this.keyedMap=op(),this.sortedSet=new Qd(this.comparator)}return f(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Ry=function(){function e(){h(this,e),this.Jr=new Qd(dh.comparator)}return f(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):Ef():this.Jr=this.Jr.insert(t,e)}},{key:"Yr",value:function(){var e=[];return this.Jr.inorderTraversal(function(t,n){e.push(n)}),e}}]),e}(),Oy=function(){function e(t,n,r,i,o,a,u,s){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=s}return f(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:0,doc:e})}),new e(t,n,Ay.emptySet(n),o,r,i,!0,!1)}}]),e}(),Ny=function e(){h(this,e),this.Xr=void 0,this.listeners=[]},Py=function e(){h(this,e),this.queries=new Tg(function(e){return cd(e)},sd),this.onlineState="Unknown",this.Zr=new Set};function Dy(e,t){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rf(t),i=n.query,o=!1,(a=r.queries.get(i))||(o=!0,a=new Ny),!o){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:a.Xr=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Ey(e.t0,"Initialization of query '".concat(ld(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,a),a.listeners.push(n),n.eo(r.onlineState),a.Xr&&n.no(a.Xr)&&Zy(r);case 14:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function My(e,t){return Fy.apply(this,arguments)}function Fy(){return(Fy=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rf(t),i=n.query,o=!1,(a=r.queries.get(i))&&(u=a.listeners.indexOf(n))>=0&&(a.listeners.splice(u,1),o=0===a.listeners.length),!o){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Uy(e,t){var n,r=Rf(e),i=!1,o=u(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=r.queries.get(a.query);if(s){var c,l=u(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.no(a)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Xr=a}}}catch(f){o.e(f)}finally{o.f()}i&&Zy(r)}function Vy(e,t,n){var r=Rf(e),i=r.queries.get(t);if(i){var o,a=u(i.listeners);try{for(a.s();!(o=a.n()).done;){o.value.onError(n)}}catch(s){a.e(s)}finally{a.f()}}r.queries.delete(t)}function Zy(e){e.Zr.forEach(function(e){e.next()})}var qy=function(){function e(t,n,r){h(this,e),this.query=t,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=r||{}}return f(e,[{key:"no",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=u(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}e=new Oy(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.io?this.oo(e)&&(this.so.next(e),o=!0):this.ao(e,this.onlineState)&&(this.co(e),o=!0),this.ro=e,o}},{key:"onError",value:function(e){this.so.error(e)}},{key:"eo",value:function(e){this.onlineState=e;var t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}},{key:"ao",value:function(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}},{key:"oo",value:function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}},{key:"co",value:function(e){e=Oy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}]),e}(),jy=function(){function e(t,n){h(this,e),this.payload=t,this.byteLength=n}return f(e,[{key:"ho",value:function(){return"metadata"in this.payload}}]),e}(),zy=function(){function e(t){h(this,e),this.N=t}return f(e,[{key:"zn",value:function(e){return Op(this.N,e)}},{key:"Hn",value:function(e){return e.metadata.exists?Fp(this.N,e.document,!1):Rh.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}},{key:"Jn",value:function(e){return Cp(e)}}]),e}(),Hy=function(){function e(t,n,r){h(this,e),this.lo=t,this.localStore=n,this.N=r,this.queries=[],this.documents=[],this.progress=By(t)}return f(e,[{key:"fo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"wo",value:function(e){var t,n=new Map,r=new zy(this.N),i=u(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.metadata.queries){var a,s=r.zn(o.metadata.name),c=u(o.metadata.queries);try{for(c.s();!(a=c.n()).done;){var l=a.value,f=(n.get(l)||cp()).add(s);n.set(l,f)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){var n,r,i,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(e,t,n,r){return im.apply(this,arguments)}(e.localStore,new zy(e.N),e.documents,e.lo.id);case 2:n=t.sent,r=e.wo(e.documents),i=u(e.queries),t.prev=5,i.s();case 7:if((o=i.n()).done){t.next=13;break}return a=o.value,t.next=11,om(e.localStore,a,r.get(a.name));case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),i.e(t.t0);case 18:return t.prev=18,i.f(),t.finish(18);case 21:return t.abrupt("return",(e.progress.taskState="Success",new Ug(Object.assign({},e.progress),n)));case 22:case"end":return t.stop()}},t,null,[[5,15,18,21]])}))()}}]),e}();function By(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Gy=function e(t){h(this,e),this.key=t},Ky=function e(t){h(this,e),this.key=t},Wy=function(){function e(t,n){h(this,e),this.query=t,this._o=n,this.mo=null,this.current=!1,this.yo=cp(),this.mutatedKeys=cp(),this.po=hd(t),this.To=new Ay(this.po)}return f(e,[{key:"Eo",get:function(){return this._o}},{key:"Io",value:function(e,t){var n=this,r=t?t.Ao:new Ry,i=t?t.To:this.To,o=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1,s=ed(this.query)&&i.size===this.query.limit?i.last():null,c=td(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),f=fd(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ro(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.po(f,s)>0||c&&n.po(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))}),ed(this.query)||td(this.query))for(;a.size>this.query.limit;){var l=ed(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{To:a,Ao:r,Ln:u,mutatedKeys:o}}},{key:"Ro",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;var o=e.Ao.Yr();o.sort(function(e,t){return n=e.type,i=t.type,(o=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ef()}})(n)-o(i)||r.po(e.doc,t.doc);var n,i,o}),this.bo(n);var a=t?this.Po():[],u=0===this.yo.size&&this.current?1:0,s=u!==this.mo;return this.mo=u,0!==o.length||s?{snapshot:new Oy(this.query,e.To,i,o,e.mutatedKeys,0===u,s,!1),vo:a}:{vo:a}}},{key:"eo",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new Ry,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}},{key:"Vo",value:function(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}},{key:"bo",value:function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t._o=t._o.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t._o=t._o.delete(e)}),this.current=e.current)}},{key:"Po",value:function(){var e=this;if(!this.current)return[];var t=this.yo;this.yo=cp(),this.To.forEach(function(t){e.Vo(t.key)&&(e.yo=e.yo.add(t.key))});var n=[];return t.forEach(function(t){e.yo.has(t)||n.push(new Ky(t))}),this.yo.forEach(function(e){t.has(e)||n.push(new Gy(e))}),n}},{key:"So",value:function(e){this._o=e.Gn,this.yo=cp();var t=this.Io(e.documents);return this.applyChanges(t,!0)}},{key:"Do",value:function(){return Oy.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}]),e}(),Jy=function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r},Yy=function e(t){h(this,e),this.key=t,this.Co=!1},Qy=function(){function e(t,n,r,i,o,a){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.No={},this.xo=new Tg(function(e){return cd(e)},sd),this.ko=new Map,this.$o=new Set,this.Oo=new Qd(dh.comparator),this.Fo=new Map,this.Mo=new sm,this.Lo={},this.Bo=new Map,this.Uo=fg.ie(),this.onlineState="Unknown",this.qo=void 0}return f(e,[{key:"isPrimaryClient",get:function(){return!0===this.qo}}]),e}();function $y(e,t){return Xy.apply(this,arguments)}function Xy(){return(Xy=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jk(t),!(a=r.xo.get(n))){e.next=6;break}i=a.targetId,r.sharedClientState.addLocalQueryTarget(i),o=a.view.Do(),e.next=15;break;case 6:return e.next=8,Qg(r.localStore,ad(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,ek(r,n,i,"current"===s);case 13:o=e.sent,r.isPrimaryClient&&Gm(r.remoteStore,u);case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ek(e,t,n,r){return tk.apply(this,arguments)}function tk(){return(tk=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var o,a,u,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ko=function(e,n,r){return(i=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var o,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.view.Io(r),e.t0=o.Ln,!e.t0){e.next=6;break}return e.next=5,em(t.localStore,n.query,!1).then(function(e){var t=e.documents;return n.view.Io(t,o)});case 5:o=e.sent;case 6:return a=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(o,t.isPrimaryClient,a),e.abrupt("return",(kk(t,n.targetId,u.vo),u.snapshot));case 8:case"end":return e.stop()}},e)})),function(e,t,n,r){return i.apply(this,arguments)})(t,e,n,r);var i},e.next=3,em(t.localStore,n,!0);case 3:return o=e.sent,a=new Wy(n,o.Gn),u=a.Io(o.documents),s=dp.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=a.applyChanges(u,t.isPrimaryClient,s),kk(t,r,c.vo),l=new Jy(n,r,a),e.abrupt("return",(t.xo.set(n,l),t.ko.has(r)?t.ko.get(r).push(n):t.ko.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function nk(e,t){return rk.apply(this,arguments)}function rk(){return(rk=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rf(t),i=r.xo.get(n),!((o=r.ko.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ko.set(i.targetId,o.filter(function(e){return!sd(e,n)})),void r.xo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,$g(r.localStore,i.targetId,!1).then(function(){r.sharedClientState.clearQueryState(i.targetId),Km(r.remoteStore,i.targetId),mk(r,i.targetId)}).catch(gg);case 9:e.next=14;break;case 11:return mk(r,i.targetId),e.next=14,$g(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ik(){return(ik=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=zk(t),e.prev=1,e.next=4,function(e,t){var n,r=Rf(e),i=Gf.now(),o=t.reduce(function(e,t){return e.add(t.key)},cp());return r.persistence.runTransaction("Locally write mutations","readwrite",function(e){return r.Qn.Pn(e,o).next(function(o){n=o;var a,s=[],c=u(t);try{for(c.s();!(a=c.n()).done;){var l=a.value,f=Md(l,n.get(l.key));null!=f&&s.push(new Zd(l.key,f,Ah(f.value.mapValue),Od.exists(!0)))}}catch(h){c.e(h)}finally{c.f()}return r.In.addMutationBatch(e,i,s,t)})}).then(function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}})}(i.localStore,n);case 4:return o=e.sent,i.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.Lo[e.currentUser.toKey()];r||(r=new Qd(zf)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(i,o.batchId,r),e.next=9,_k(i,o.changes);case 9:return e.next=11,cy(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a=Ey(e.t0,"Failed to persist write"),r.reject(a);case 17:case"end":return e.stop()}},e,null,[[1,13]])}))).apply(this,arguments)}function ok(e,t){return ak.apply(this,arguments)}function ak(){return(ak=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rf(t),e.prev=1,e.next=4,Wg(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach(function(e,t){var n=r.Fo.get(t);n&&(Af(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Co=!0:e.modifiedDocuments.size>0?Af(n.Co):e.removedDocuments.size>0&&(Af(n.Co),n.Co=!1))}),e.next=8,_k(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,gg(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function uk(e,t,n){var r=Rf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.xo.forEach(function(e,n){var r=n.view.eo(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=Rf(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){var i,o=u(n.listeners);try{for(o.s();!(i=o.n()).done;){i.value.eo(t)&&(r=!0)}}catch(a){o.e(a)}finally{o.f()}}),r&&Zy(n)}(r.eventManager,t),i.length&&r.No.Er(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function sk(e,t,n){return ck.apply(this,arguments)}function ck(){return(ck=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Rf(t)).sharedClientState.updateQueryState(n,"rejected",r),o=i.Fo.get(n),!(a=o&&o.key)){e.next=14;break}return u=(u=new Qd(dh.comparator)).insert(a,Rh.newNoDocument(a,Kf.min())),s=cp().add(a),c=new hp(Kf.min(),new Map,new ep(zf),u,s),e.next=9,ok(i,c);case 9:i.Oo=i.Oo.remove(a),i.Fo.delete(n),bk(i),e.next=16;break;case 14:return e.next=16,$g(i.localStore,n,!1).then(function(){return mk(i,n,r)}).catch(gg);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lk(e,t){return fk.apply(this,arguments)}function fk(){return(fk=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rf(t),i=n.batch.batchId,e.prev=1,e.next=4,Gg(r.localStore,n);case 4:return o=e.sent,gk(r,i,null),vk(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,_k(r,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,gg(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function hk(e,t,n){return dk.apply(this,arguments)}function dk(){return(dk=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rf(t),e.prev=1,e.next=4,function(e,t){var n=Rf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n.In.lookupMutationBatch(e,t).next(function(t){return Af(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)}).next(function(){return n.In.performConsistencyCheck(e)}).next(function(){return n.Qn.Pn(e,r)})})}(i.localStore,n);case 4:return o=e.sent,gk(i,n,r),vk(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,_k(i,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,gg(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function pk(){return(pk=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $m((r=Rf(t)).remoteStore)||Tf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Rf(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.In.getHighestUnacknowledgedBatchId(e)})}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(o=r.Bo.get(i)||[]).push(n),r.Bo.set(i,o),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),a=Ey(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(a);case 16:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function vk(e,t){(e.Bo.get(t)||[]).forEach(function(e){e.resolve()}),e.Bo.delete(t)}function gk(e,t,n){var r=Rf(e),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function mk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=u(e.ko.get(t));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.xo.delete(o),n&&e.No.jo(o,n)}}catch(a){i.e(a)}finally{i.f()}e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach(function(t){e.Mo.containsKey(t)||yk(e,t)})}function yk(e,t){e.$o.delete(t.path.canonicalString());var n=e.Oo.get(t);null!==n&&(Km(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),bk(e))}function kk(e,t,n){var r,i=u(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o instanceof Gy?(e.Mo.addReference(o.key,t),wk(e,o)):o instanceof Ky?(Tf("SyncEngine","Document no longer in limbo: "+o.key),e.Mo.removeReference(o.key,t),e.Mo.containsKey(o.key)||yk(e,o.key)):Ef()}}catch(a){i.e(a)}finally{i.f()}}function wk(e,t){var n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(Tf("SyncEngine","New document in limbo: "+n),e.$o.add(r),bk(e))}function bk(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){var t=e.$o.values().next().value;e.$o.delete(t);var n=new dh($f.fromString(t)),r=e.Uo.next();e.Fo.set(r,new Yy(n)),e.Oo=e.Oo.insert(n,r),Gm(e.remoteStore,new Fv(ad(Xh(n.path)),r,2,Zf.T))}}function _k(e,t,n){return xk.apply(this,arguments)}function xk(){return(xk=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rf(t),o=[],a=[],s=[],e.t0=i.xo.isEmpty(),e.t0){e.next=9;break}return i.xo.forEach(function(e,t){s.push(i.Ko(t,n,r).then(function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),o.push(e);var n=Zg.kn(t.targetId,e);a.push(n)}}))}),e.next=6,Promise.all(s);case 6:return i.No.Er(o),e.next=9,(c=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rf(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return xv.forEach(n,function(t){return xv.forEach(t.Nn,function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)}).next(function(){return xv.forEach(t.xn,function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)})})})});case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ev(e.t0)){e.next=10;break}throw e.t0;case 10:Tf("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=u(n);try{for(i.s();!(o=i.n()).done;)a=o.value,s=a.targetId,a.fromCache||(c=r.Un.get(s),l=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),r.Un=r.Un.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}},e,null,[[1,6]])})),function(e,t){return c.apply(this,arguments)})(i.localStore,a);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tk(e,t){return Ik.apply(this,arguments)}function Ik(){return(Ik=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Rf(t)).currentUser.isEqual(n)){e.next=12;break}return Tf("SyncEngine","User change. New user:",n.toKey()),e.next=5,Hg(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,(o=r).Bo.forEach(function(e){e.forEach(function(e){e.reject(new Nf(Of.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Bo.clear(),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=12,_k(r,i.Wn);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Sk(e,t){var n=Rf(e),r=n.Fo.get(t);if(r&&r.Co)return cp().add(r.key);var i=cp(),o=n.ko.get(t);if(!o)return i;var a,s=u(o);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=n.xo.get(c);i=i.unionWith(l.view.Eo)}}catch(f){s.e(f)}finally{s.f()}return i}function Ck(e,t){return Ek.apply(this,arguments)}function Ek(){return(Ek=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rf(t),e.next=3,em(r.localStore,n.query,!0);case 3:return i=e.sent,o=n.view.So(i),e.abrupt("return",(r.isPrimaryClient&&kk(r,n.targetId,o.vo),o));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ak(e){return Rk.apply(this,arguments)}function Rk(){return(Rk=(0,uu.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rf(t),e.abrupt("return",nm(n.localStore).then(function(e){return _k(n,e)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ok(e,t,n,r){return Nk.apply(this,arguments)}function Nk(){return(Nk=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var o,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Rf(t),e.next=3,function(e,t){var n=Rf(e),r=Rf(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.Xt(e,t).next(function(t){return t?n.Qn.Pn(e,t):xv.resolve(null)})})}(o.localStore,n);case 3:if(null===(a=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,cy(o.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(gk(o,n,i||null),vk(o,n),u=n,Rf(Rf(o.localStore).In).te(u)):Ef();case 11:return e.next=13,_k(o,a);case 13:e.next=16;break;case 15:Tf("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pk(){return(Pk=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,s,c,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(jk(r=Rf(t)),zk(r),!0!==n||!0===r.qo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Dk(r,i.toArray());case 5:return o=e.sent,r.qo=!0,e.next=9,xy(r.remoteStore,!0);case 9:a=u(o);try{for(a.s();!(s=a.n()).done;)c=s.value,Gm(r.remoteStore,c)}catch(h){a.e(h)}finally{a.f()}e.next=25;break;case 13:if(!1!==n||!1===r.qo){e.next=25;break}return l=[],f=Promise.resolve(),r.ko.forEach(function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then(function(){return mk(r,t),$g(r.localStore,t,!0)}),Km(r.remoteStore,t)}),e.next=19,f;case 19:return e.next=21,Dk(r,l);case 21:return function(e){var t=Rf(e);t.Fo.forEach(function(e,n){Km(t.remoteStore,n)}),t.Mo.us(),t.Fo=new Map,t.Oo=new Qd(dh.comparator)}(r),r.qo=!1,e.next=25,xy(r.remoteStore,!1);case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Dk(e,t,n){return Lk.apply(this,arguments)}function Lk(){return(Lk=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,s,c,l,f,h,d,p,v,g,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=Rf(t),o=[],a=[],s=u(n),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=45;break}if(l=c.value,f=void 0,!(h=i.ko.get(l))||0===h.length){e.next=34;break}return e.next=11,Qg(i.localStore,ad(h[0]));case 11:f=e.sent,d=u(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,g=i.xo.get(v),e.next=20,Ck(i,g);case 20:(m=e.sent).snapshot&&a.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,tm(i.localStore,l);case 36:return y=e.sent,e.next=39,Qg(i.localStore,y);case 39:return f=e.sent,e.next=42,ek(i,Mk(y),l,!1);case 42:o.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.No.Er(a),o));case 54:case"end":return e.stop()}},e,null,[[2,47,50,53],[13,26,29,32]])}))).apply(this,arguments)}function Mk(e){return $h(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Fk(e){var t=Rf(e);return Rf(Rf(t.localStore).persistence).pn()}function Uk(e,t,n,r){return Vk.apply(this,arguments)}function Vk(){return(Vk=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var o,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=Rf(t)).qo){e.next=5;break}Tf("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!o.ko.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,nm(o.localStore);case 11:return a=e.sent,u=hp.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,_k(o,a,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,$g(o.localStore,n,!0);case 18:return mk(o,n,i),e.abrupt("break",21);case 20:Ef();case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zk(e,t,n){return qk.apply(this,arguments)}function qk(){return(qk=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,s,c,l,f,h,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=jk(t)).qo){e.next=45;break}o=u(n),e.prev=3,o.s();case 5:if((a=o.n()).done){e.next=21;break}if(s=a.value,!i.ko.has(s)){e.next=10;break}return Tf("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,tm(i.localStore,s);case 12:return c=e.sent,e.next=15,Qg(i.localStore,c);case 15:return l=e.sent,e.next=18,ek(i,Mk(c),l.targetId,!1);case 18:Gm(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),o.e(e.t0);case 26:return e.prev=26,o.f(),e.finish(26);case 29:f=u(r),e.prev=30,d=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.ko.has(t),!e.t0){e.next=5;break}return e.next=5,$g(i.localStore,t,!1).then(function(){Km(i.remoteStore,t),mk(i,t)}).catch(gg);case 5:case"end":return e.stop()}},e)}),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}},e,null,[[3,23,26,29],[30,39,42,45]])}))).apply(this,arguments)}function jk(e){var t=Rf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ok.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sk.bind(null,t),t.No.Er=Uy.bind(null,t.eventManager),t.No.jo=Vy.bind(null,t.eventManager),t}function zk(e){var t=Rf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hk.bind(null,t),t}var Hk=function(){function e(){h(this,e),this.synchronizeTabs=!1}return f(e,[{key:"initialize",value:function(e){var t=this;return(0,uu.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.N=Dm(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),n.next=5,t.persistence.start();case 5:t.gcScheduler=t.zo(e),t.localStore=t.Ho(e);case 7:case"end":return n.stop()}},n)}))()}},{key:"zo",value:function(e){return null}},{key:"Ho",value:function(e){return zg(this.persistence,new qg,e.initialUser,this.N)}},{key:"Go",value:function(e){return new pm(gm.Ns,this.N)}},{key:"Wo",value:function(e){return new Sm}},{key:"terminate",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.gcScheduler&&e.gcScheduler.stop(),t.next=3,e.sharedClientState.shutdown();case 3:return t.next=5,e.persistence.shutdown();case 5:case"end":return t.stop()}},t)}))()}}]),e}(),Bk=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this)).Jo=e,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return f(n,[{key:"initialize",value:function(e){var t=this,r=this;return(0,uu.Z)(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i(b(n.prototype),"initialize",t).call(r,e);case 2:return o.next=4,function(e){return rm.apply(this,arguments)}(r.localStore);case 4:return o.next=6,r.Jo.initialize(r,e);case 6:return o.next=8,zk(r.Jo.syncEngine);case 8:return o.next=10,cy(r.Jo.remoteStore);case 10:return o.next=12,r.persistence.nn(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()});case 12:case"end":return o.stop()}},o)}))()}},{key:"Ho",value:function(e){return zg(this.persistence,new qg,e.initialUser,this.N)}},{key:"zo",value:function(e){return new wg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}},{key:"Go",value:function(e){var t=Fg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?rg.withCacheSize(this.cacheSizeBytes):rg.DEFAULT;return new Dg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Nm(),Pm(),this.N,this.sharedClientState,!!this.forceOwnership)}},{key:"Wo",value:function(e){return new Sm}}]),n}(Hk),Gk=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).Jo=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return f(n,[{key:"initialize",value:function(e){var t=this,r=this;return(0,uu.Z)(regeneratorRuntime.mark(function o(){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i(b(n.prototype),"initialize",t).call(r,e);case 2:if(a=r.Jo.syncEngine,o.t0=r.sharedClientState instanceof Im,!o.t0){o.next=8;break}return r.sharedClientState.syncEngine={_i:Ok.bind(null,a),mi:Uk.bind(null,a),gi:Zk.bind(null,a),pn:Fk.bind(null,a),wi:Ak.bind(null,a)},o.next=8,r.sharedClientState.start();case 8:return o.next=10,r.persistence.nn(function(){var e=(0,uu.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e,t){return Pk.apply(this,arguments)}(r.Jo.syncEngine,t);case 2:r.gcScheduler&&(t&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):t||r.gcScheduler.stop());case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return o.stop()}},o)}))()}},{key:"Wo",value:function(e){var t=Nm();if(!Im.bt(t))throw new Nf(Of.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Fg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Im(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Bk),Kk=function(){function e(){h(this,e)}return f(e,[{key:"initialize",value:function(e,t){var n=this;return(0,uu.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=n.localStore,r.t0){r.next=12;break}return n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=function(e){return uk(n.syncEngine,e,1)},n.remoteStore.remoteSyncer.handleCredentialChange=Tk.bind(null,n.syncEngine),r.next=12,xy(n.remoteStore,n.syncEngine.isPrimaryClient);case 12:case"end":return r.stop()}},r)}))()}},{key:"createEventManager",value:function(e){return new Py}},{key:"createDatastore",value:function(e){var t=Dm(e.databaseInfo.databaseId),n=new Om(e.databaseInfo);return new Vm(e.credentials,n,t)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return uk(a.syncEngine,e,0)},o=Em.bt()?new Em:new Cm,new qm(t,n,r,i,o)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,o,a){var u=new Qy(e,t,n,r,i,o);return a&&(u.qo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return(e=(0,uu.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rf(t),Tf("RemoteStore","RemoteStore shutting down."),n.Kr.add(5),e.next=5,Hm(n);case 5:n.Qr.shutdown(),n.Wr.set("Unknown");case 7:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}]),e}();function Wk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return(0,uu.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}},r)}))()},cancel:function(){return(0,uu.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Jk=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return f(e,[{key:"next",value:function(e){this.observer.next&&this.Yo(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Xo",value:function(){this.muted=!0}},{key:"Yo",value:function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)}}]),e}(),Yk=function(){function e(t,n){var r=this;h(this,e),this.Zo=t,this.N=n,this.metadata=new Pf,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(function(e){e&&e.ho()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))},function(e){return r.metadata.reject(e)})}return f(e,[{key:"close",value:function(){return this.Zo.cancel()}},{key:"getMetadata",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.metadata.promise);case 1:case"end":return t.stop()}},t)}))()}},{key:"Qo",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getMetadata();case 2:return t.abrupt("return",e.ea());case 3:case"end":return t.stop()}},t)}))()}},{key:"ea",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){var n,r,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.na();case 2:if(null!==(n=t.sent)){t.next=5;break}return t.abrupt("return",null);case 5:return r=e.ta.decode(n),i=Number(r),isNaN(i)&&e.sa("length string (".concat(r,") is not valid number")),t.next=9,e.ia(i);case 9:return o=t.sent,t.abrupt("return",new jy(JSON.parse(o),n.length+i));case 11:case"end":return t.stop()}},t)}))()}},{key:"ra",value:function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})}},{key:"na",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.ra()<0,!t.t0){t.next=5;break}return t.next=4,e.oa();case 4:t.t0=!t.sent;case 5:if(!t.t0){t.next=9;break}case 7:t.next=0;break;case 9:if(0!==e.buffer.length){t.next=11;break}return t.abrupt("return",null);case 11:return(n=e.ra())<0&&e.sa("Reached the end of bundle when a length string is expected."),r=e.buffer.slice(0,n),t.abrupt("return",(e.buffer=e.buffer.slice(n),r));case 15:case"end":return t.stop()}},t)}))()}},{key:"ia",value:function(e){var t=this;return(0,uu.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.buffer.length<e)){n.next=8;break}return n.next=3,t.oa();case 3:if(n.t0=n.sent,!n.t0){n.next=6;break}t.sa("Reached the end of bundle when more is expected.");case 6:n.next=0;break;case 8:return r=t.ta.decode(t.buffer.slice(0,e)),n.abrupt("return",(t.buffer=t.buffer.slice(e),r));case 10:case"end":return n.stop()}},n)}))()}},{key:"sa",value:function(e){throw this.Zo.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"oa",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.Zo.read();case 2:return(n=t.sent).done||((r=new Uint8Array(e.buffer.length+n.value.length)).set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r),t.abrupt("return",n.done);case 5:case"end":return t.stop()}},t)}))()}}]),e}(),Qk=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return f(e,[{key:"lookup",value:function(e){var t=this;return(0,uu.Z)(regeneratorRuntime.mark(function n(){var r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.ensureCommitNotCalled(),!(t.mutations.length>0)){n.next=2;break}throw new Nf(Of.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return n.next=4,(i=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rf(t),i=Dp(r.N)+"/documents",o={documents:n.map(function(e){return Rp(r.N,e)})},e.next=5,r.Ki("BatchGetDocuments",i,o);case 5:return a=e.sent,u=new Map,a.forEach(function(e){var t=function(e,t){return"found"in t?function(e,t){Af(!!t.found);var n=Op(e,t.found.name),r=Cp(t.found.updateTime),i=new Eh({mapValue:{fields:t.found.fields}});return Rh.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Af(!!t.missing),Af(!!t.readTime);var n=Op(e,t.missing),r=Cp(t.readTime);return Rh.newNoDocument(n,r)}(e,t):Ef()}(r.N,e);u.set(t.key.toString(),t)}),s=[],e.abrupt("return",(n.forEach(function(e){var t=u.get(e.toString());Af(!!t),s.push(t)}),s));case 10:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})(t.datastore,e);case 4:return r=n.sent,n.abrupt("return",(r.forEach(function(e){return t.recordVersion(e)}),r));case 6:case"end":return n.stop()}},n)}))()}},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Gd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ensureCommitNotCalled(),!e.lastWriteError){t.next=2;break}throw e.lastWriteError;case 2:return n=e.readVersions,e.mutations.forEach(function(e){n.delete(e.key.toString())}),n.forEach(function(t,n){var r=dh.fromPath(n);e.mutations.push(new Kd(r,e.precondition(r)))}),t.next=7,(r=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rf(t),i=Dp(r.N)+"/documents",o={writes:n.map(function(e){return Up(r.N,e)})},e.next=3,r.Li("Commit",i,o);case 3:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})(e.datastore,e.mutations);case 7:e.committed=!0;case 8:case"end":return t.stop()}},t)}))()}},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ef();t=Kf.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Nf(Of.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Od.updateTime(t):Od.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Kf.min()))throw new Nf(Of.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Od.updateTime(t)}return Od.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),$k=function(){function e(t,n,r,i){h(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.aa=5,this.rr=new Lm(this.asyncQueue,"transaction_retry")}return f(e,[{key:"run",value:function(){this.aa-=1,this.ca()}},{key:"ca",value:function(){var e=this;this.rr.Xi((0,uu.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=new Qk(e.datastore),(r=e.ua(n))&&r.then(function(t){e.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){e.deferred.resolve(t)}).catch(function(t){e.ha(t)})})}).catch(function(t){e.ha(t)});case 2:case"end":return t.stop()}},t)})))}},{key:"ua",value:function(e){try{var t=this.updateFunction(e);return!lh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}},{key:"ha",value:function(e){var t=this;this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(function(){return t.ca(),Promise.resolve()})):this.deferred.reject(e)}},{key:"la",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Jd(t)}return!1}}]),e}(),Xk=function(){function e(t,n,r){h(this,e);var i,o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=wf.UNAUTHENTICATED,this.clientId=jf.I(),this.credentialListener=function(){return Promise.resolve()},this.credentials.start(n,(i=(0,uu.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Tf("FirestoreClient","Received user=",t.uid),e.next=3,o.credentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}))}return f(e,[{key:"getConfiguration",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100});case 1:case"end":return t.stop()}},t)}))()}},{key:"setCredentialChangeListener",value:function(e){this.credentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Nf(Of.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Pf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,uu.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.credentials.shutdown(),t.resolve(),n.next=17;break;case 13:n.prev=13,n.t2=n.catch(0),r=Ey(n.t2,"Failed to shutdown persistence"),t.reject(r);case 17:case"end":return n.stop()}},n,null,[[0,13]])}))),t.promise}}]),e}();function ew(e,t){return tw.apply(this,arguments)}function tw(){return(tw=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Tf("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=(0,uu.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Hg(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=n;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function nw(e,t){return rw.apply(this,arguments)}function rw(){return(rw=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,iw(t);case 3:return r=e.sent,Tf("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener(function(e){return(t=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Rf(t)).asyncQueue.verifyOperationInProgress(),Tf("RemoteStore","RemoteStore received new credentials"),i=$m(r),r.Kr.add(3),e.next=6,Hm(r);case 6:return i&&r.Wr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Kr.delete(3),e.next=12,jm(r);case 12:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)})(n.remoteStore,e);var t}),t.onlineComponents=n;case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function iw(e){return ow.apply(this,arguments)}function ow(){return(ow=(0,uu.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Tf("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ew(t,new Hk);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function aw(e){return uw.apply(this,arguments)}function uw(){return(uw=(0,uu.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Tf("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,nw(t,new Kk);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function sw(e){return iw(e).then(function(e){return e.persistence})}function cw(e){return iw(e).then(function(e){return e.localStore})}function lw(e){return aw(e).then(function(e){return e.remoteStore})}function fw(e){return aw(e).then(function(e){return e.syncEngine})}function hw(e){return dw.apply(this,arguments)}function dw(){return(dw=(0,uu.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aw(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=$y.bind(null,n.syncEngine),r.onUnlisten=nk.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Pf;return e.asyncQueue.enqueueAndForget((0,uu.Z)(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var o=new Jk({next:function(o){t.enqueueAndForget(function(){return My(e,a)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new Nf(Of.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new Nf(Of.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new qy(Xh(n.path),o,{includeMetadataChanges:!0,uo:!0});return Dy(e,a)},i.next=3,hw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}function vw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Pf;return e.asyncQueue.enqueueAndForget((0,uu.Z)(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var o=new Jk({next:function(n){t.enqueueAndForget(function(){return My(e,a)}),n.fromCache&&"server"===r.source?i.reject(new Nf(Of.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new qy(n,o,{includeMetadataChanges:!0,uo:!0});return Dy(e,a)},i.next=3,hw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}var gw=function e(t,n,r,i,o,a,u,s){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=s},mw=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return f(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),yw=new Map;function kw(e,t,n){if(!n)throw new Nf(Of.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ww(e,t,n,r){if(!0===t&&!0===r)throw new Nf(Of.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function bw(e){if(!dh.isDocumentKey(e))throw new Nf(Of.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _w(e){if(dh.isDocumentKey(e))throw new Nf(Of.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function xw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=(n=e).constructor?n.constructor.name:null;return t?"a custom ".concat(t," object"):"an object"}var n;return"function"==typeof e?"a function":Ef()}function Tw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nf(Of.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xw(e);throw new Nf(Of.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Iw(e,t){if(t<=0)throw new Nf(Of.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Sw=function(){function e(t){var n;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Nf(Of.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Nf(Of.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ww("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return f(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Cw=function(){function e(t,n){h(this,e),this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sw({}),this._settingsFrozen=!1,t instanceof mw?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nf(Of.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mw(e.options.projectId)}(t))}return f(e,[{key:"app",get:function(){if(!this._app)throw new Nf(Of.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Nf(Of.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sw(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Lf;switch(e.type){case"gapi":var t=e.client;return Af(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Vf(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Nf(Of.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return e=this,(t=yw.get(e))&&(Tf("ComponentProvider","Removing Datastore"),yw.delete(e),t.terminate()),Promise.resolve();var e,t}}]),e}(),Ew=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return f(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Rw(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Aw=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return f(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Rw=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,e,r,Xh(i)))._path=i,o.type="collection",o}return f(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ew(this.firestore,null,new dh(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Aw);function Ow(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,fu.m9)(e),kw("collection","path",t),e instanceof Cw){var o=$f.fromString.apply($f,[t].concat(r));return _w(o),new Rw(e,null,o)}if(!(e instanceof Ew||e instanceof Rw))throw new Nf(Of.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child($f.fromString.apply($f,[t].concat(r)));return _w(a),new Rw(e.firestore,null,a)}function Nw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,fu.m9)(e),1===arguments.length&&(t=jf.I()),kw("doc","path",t),e instanceof Cw){var o=$f.fromString.apply($f,[t].concat(r));return bw(o),new Ew(e,null,new dh(o))}if(!(e instanceof Ew||e instanceof Rw))throw new Nf(Of.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child($f.fromString.apply($f,[t].concat(r)));return bw(a),new Ew(e.firestore,e instanceof Rw?e.converter:null,new dh(a))}function Pw(e,t){return e=(0,fu.m9)(e),t=(0,fu.m9)(t),(e instanceof Ew||e instanceof Rw)&&(t instanceof Ew||t instanceof Rw)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Dw(e,t){return e=(0,fu.m9)(e),t=(0,fu.m9)(t),e instanceof Aw&&t instanceof Aw&&e.firestore===t.firestore&&sd(e._query,t._query)&&e.converter===t.converter}var Lw=function(){function e(){var t=this;h(this,e),this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Lm(this,"async_queue_retry"),this.Ta=function(){var e=Pm();e&&Tf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.tr()};var n=Pm();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ta)}return f(e,[{key:"isShuttingDown",get:function(){return this.wa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ea(),this.Ia(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.wa){this.wa=!0,this.ya=e||!1;var t=Pm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ea(),this.wa)return new Promise(function(){});var n=new Pf;return this.Ia(function(){return t.wa&&t.ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget(function(){return t.da.push(e),t.Aa()})}},{key:"Aa",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.da.length){t.next=14;break}return t.prev=1,t.next=4,e.da[0]();case 4:e.da.shift(),e.rr.reset(),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(1),Ev(t.t0)){t.next=12;break}throw t.t0;case 12:Tf("AsyncQueue","Operation failed with retryable error: "+t.t0);case 13:e.da.length>0&&e.rr.Xi(function(){return e.Aa()});case 14:case"end":return t.stop()}},t,null,[[1,8]])}))()}},{key:"Ia",value:function(e){var t=this,n=this.fa.then(function(){return t.ga=!0,e().catch(function(e){throw t.ma=e,t.ga=!1,If("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),e;var n,r}).then(function(e){return t.ga=!1,e})});return this.fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ea(),this.pa.indexOf(e)>-1&&(t=0);var i=Cy.createAndSchedule(this,e,t,n,function(e){return r.Ra(e)});return this._a.push(i),i}},{key:"Ea",value:function(){this.ma&&Ef()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ba",value:function(){var e=this;return(0,uu.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.fa,t.next=3,n;case 3:if(n!==e.fa){t.next=0;break}case 4:case"end":return t.stop()}},t)}))()}},{key:"Pa",value:function(e){var t,n=u(this._a);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"va",value:function(e){var t=this;return this.ba().then(function(){t._a.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});var n,r=u(t._a);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(o){r.e(o)}finally{r.f()}return t.ba()})}},{key:"Va",value:function(e){this.pa.push(e)}},{key:"Ra",value:function(e){var t=this._a.indexOf(e);this._a.splice(t,1)}}]),e}();function Mw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Fw=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new Pf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return f(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Uw=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).type="firestore",i._queue=new Lw,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return f(n,[{key:"_terminate",value:function(){return this._firestoreClient||Zw(this),this._firestoreClient.terminate()}}]),n}(Cw);function Vw(e){return e._firestoreClient||Zw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Zw(e){var t,n,r,i=e._freezeSettings(),o=(n=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",new gw(e._databaseId,n,e._persistenceKey,(r=i).host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams));e._firestoreClient=new Xk(e._credentials,e._queue,o)}function qw(e,t,n){var r=new Pf;return e.asyncQueue.enqueue((0,uu.Z)(regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ew(e,n);case 3:return i.next=5,nw(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),"FirebaseError"===(o=i.t0).name?o.code===Of.FAILED_PRECONDITION||o.code===Of.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}},i,null,[[0,8]])}))).then(function(){return r.promise})}function jw(e){if(e._initialized||e._terminated)throw new Nf(Of.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var zw=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Nf(Of.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new eh(n)}return f(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}(),Hw=function(){function e(t){h(this,e),this._byteString=t}return f(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(nh.fromBase64String(t))}catch(n){throw new Nf(Of.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}},{key:"fromUint8Array",value:function(t){return new e(nh.fromUint8Array(t))}}]),e}(),Bw=function e(t){h(this,e),this._methodName=t},Gw=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new Nf(Of.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Nf(Of.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return f(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return zf(this._lat,e._lat)||zf(this._long,e._long)}}]),e}(),Kw=/^__.*__$/,Ww=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return f(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Zd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vd(e,this.data,t,this.fieldTransforms)}}]),e}(),Jw=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return f(e,[{key:"toMutation",value:function(e,t){return new Zd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Yw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ef()}}var Qw=function(){function e(t,n,r,i,o,a){h(this,e),this.settings=t,this.databaseId=n,this.N=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Sa(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return f(e,[{key:"path",get:function(){return this.settings.path}},{key:"Da",get:function(){return this.settings.Da}},{key:"Ca",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}},{key:"$a",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}},{key:"Oa",value:function(e){return this.Ca({path:void 0,xa:!0})}},{key:"Fa",value:function(e){return mb(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})}},{key:"Sa",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ka(this.path.get(e))}},{key:"ka",value:function(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(Yw(this.Da)&&Kw.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}]),e}(),$w=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.N=r||Dm(t)}return f(e,[{key:"Ba",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Qw({Da:e,methodName:t,La:n,path:eh.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}]),e}();function Xw(e){var t=e._freezeSettings(),n=Dm(e._databaseId);return new $w(e._databaseId,!!t.ignoreUndefinedProperties,n)}function eb(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=e.Ba(o.merge||o.mergeFields?2:0,t,n,i);db("Data must be an object, but it was:",a,r);var s,c,l=fb(r,a);if(o.merge)s=new th(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){var f,h=[],d=u(o.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=f.value,v=pb(t,p,n);if(!a.contains(v))throw new Nf(Of.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));yb(h,v)||h.push(v)}}catch(g){d.e(g)}finally{d.f()}s=new th(h),c=a.fieldTransforms.filter(function(e){return s.covers(e.field)})}else s=null,c=a.fieldTransforms;return new Ww(new Eh(l),s,c)}var tb=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Da)throw e.Fa(1===e.Da?"".concat(this._methodName,"() can only appear at the top level of your update data"):"".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Bw);function nb(e,t,n){return new Qw({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}var rb=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"_toFieldTransform",value:function(e){return new Ad(e.path,new bd)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Bw),ib=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).Ua=r,i}return f(n,[{key:"_toFieldTransform",value:function(e){var t=nb(this,e,!0),n=this.Ua.map(function(e){return lb(e,t)}),r=new _d(n);return new Ad(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Bw),ob=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).Ua=r,i}return f(n,[{key:"_toFieldTransform",value:function(e){var t=nb(this,e,!0),n=this.Ua.map(function(e){return lb(e,t)}),r=new Td(n);return new Ad(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Bw),ab=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).qa=r,i}return f(n,[{key:"_toFieldTransform",value:function(e){var t=new Sd(e.N,gd(e.N,this.qa));return new Ad(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Bw);function ub(e,t,n,r){var i=e.Ba(1,t,n);db("Data must be an object, but it was:",i,r);var o=[],a=Eh.empty();Jf(r,function(e,r){var u=gb(t,e,n);r=(0,fu.m9)(r);var s=i.$a(u);if(r instanceof tb)o.push(u);else{var c=lb(r,s);null!=c&&(o.push(u),a.set(u,c))}});var u=new th(o);return new Jw(a,u,i.fieldTransforms)}function sb(e,t,n,r,i,o){var a=e.Ba(1,t,n),u=[pb(t,r,n)],s=[i];if(o.length%2!=0)throw new Nf(Of.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<o.length;c+=2)u.push(pb(t,o[c])),s.push(o[c+1]);for(var l=[],f=Eh.empty(),h=u.length-1;h>=0;--h)if(!yb(l,u[h])){var d=u[h],p=s[h];p=(0,fu.m9)(p);var v=a.$a(d);if(p instanceof tb)l.push(d);else{var g=lb(p,v);null!=g&&(l.push(d),f.set(d,g))}}var m=new th(l);return new Jw(f,m,a.fieldTransforms)}function cb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return lb(n,e.Ba(r?4:3,t))}function lb(e,t){if(hb(e=(0,fu.m9)(e)))return db("Unsupported field value:",t,e),fb(e,t);if(e instanceof Bw)return function(e,t){if(!Yw(t.Da))throw t.Fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,o=u(e);try{for(o.s();!(n=o.n()).done;){var a=lb(n.value,t.Oa(i));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}}catch(s){o.e(s)}finally{o.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=(0,fu.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gd(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Gf.fromDate(e);return{timestampValue:Tp(t.N,n)}}if(e instanceof Gf){var r=new Gf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tp(t.N,r)}}if(e instanceof Gw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hw)return{bytesValue:Ip(t.N,e._byteString)};if(e instanceof Ew){var i=t.databaseId,o=e.firestore._databaseId;if(!o.isEqual(i))throw t.Fa("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Ep(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa("Unsupported field value: ".concat(xw(e)))}(e,t)}function fb(e,t){var n={};return Yf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Jf(e,function(e,r){var i=lb(r,t.Na(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function hb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Gf||e instanceof Gw||e instanceof Hw||e instanceof Ew||e instanceof Bw)}function db(e,t,n){if(!hb(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){var r=xw(n);throw t.Fa("an object"===r?e+" a custom object":e+" "+r)}var i}function pb(e,t,n){if((t=(0,fu.m9)(t))instanceof zw)return t._internalPath;if("string"==typeof t)return gb(e,t);throw mb("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var vb=new RegExp("[~\\*/\\[\\]]");function gb(e,t,n){if(t.search(vb)>=0)throw mb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return y(zw,o(t.split(".")))._internalPath}catch(r){throw mb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function mb(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(o||a)&&(s+=" (found",o&&(s+=" in field ".concat(r)),a&&(s+=" in document ".concat(i)),s+=")"),new Nf(Of.INVALID_ARGUMENT,u+e+s)}function yb(e,t){return e.some(function(e){return e.isEqual(t)})}var kb=function(){function e(t,n,r,i,o){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return f(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ew(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new wb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(bb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),wb=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(){return i(b(n.prototype),"data",this).call(this)}}]),n}(kb);function bb(e,t){return"string"==typeof t?gb(e,t):t instanceof zw?t._internalPath:t._delegate._internalPath}var _b=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return f(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),xb=function(e){d(n,e);var t=p(n);function n(e,r,i,o,a,u){var s;return h(this,n),(s=t.call(this,e,r,i,o,u))._firestore=e,s._firestoreImpl=e,s.metadata=a,s}return f(n,[{key:"exists",value:function(){return i(b(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Tb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(bb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(kb),Tb=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(b(n.prototype),"data",this).call(this,e)}}]),n}(xb),Ib=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new _b(i.hasPendingWrites,i.fromCache),this.query=r}return f(e,[{key:"docs",get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new Tb(n._firestore,n._userDataWriter,r.key,r,new _b(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nf(Of.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new Tb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _b(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new Tb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _b(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Sb(t.type),doc:n,oldIndex:i,newIndex:o}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Sb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ef()}}function Cb(e,t){return e instanceof xb&&t instanceof xb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ib&&t instanceof Ib&&e._firestore===t._firestore&&Dw(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Eb(e){if(td(e)&&0===e.explicitOrderBy.length)throw new Nf(Of.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ab=function e(){h(this,e)};function Rb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=a._apply(e)}return e}var Ob=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this)).Ka=e,o.ja=r,o.Qa=i,o.type="where",o}return f(n,[{key:"_apply",value:function(e){var t,n,r,i=Xw(e.firestore),o=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Nf(Of.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on FieldPath.documentId()."));if("in"===o||"not-in"===o){Ub(a,o);var c,l=[],f=u(a);try{for(f.s();!(c=f.n()).done;){var h=c.value;l.push(Fb(r,e,h))}}catch(p){f.e(p)}finally{f.f()}s={arrayValue:{values:l}}}else s=Fb(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ub(a,o),s=cb(n,"where",a,"in"===o||"not-in"===o);var d=Mh.create(i,o,s);return function(e,t){if(t.v()){var n=rd(e);if(null!==n&&!n.isEqual(t.field))throw new Nf(Of.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=nd(e);null!==r&&Vb(0,t.field,r)}var i=function(e,t){var n,r=u(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new Nf(Of.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter."):"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,i,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Aw(e.firestore,e.converter,(t=e._query,n=o,r=t.filters.concat([n]),new Qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)))}}]),n}(Ab),Nb=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).Ka=e,i.Wa=r,i.type="orderBy",i}return f(n,[{key:"_apply",value:function(e){var t,n,r,i=function(e,t,n){if(null!==e.startAt)throw new Nf(Of.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Nf(Of.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Kh(t,n);return function(e,t){if(null===nd(e)){var n=rd(e);null!==n&&Vb(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new Aw(e.firestore,e.converter,(t=e._query,n=i,r=t.explicitOrderBy.concat([n]),new Qh(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))}}]),n}(Ab),Pb=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this)).type=e,o.Ga=r,o.za=i,o}return f(n,[{key:"_apply",value:function(e){return new Aw(e.firestore,e.converter,ud(e._query,this.Ga,this.za))}}]),n}(Ab),Db=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this)).type=e,o.Ha=r,o.Ja=i,o}return f(n,[{key:"_apply",value:function(e){var t,n,r=Mb(e,this.type,this.Ha,this.Ja);return new Aw(e.firestore,e.converter,(n=r,new Qh((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,n,t.endAt)))}}]),n}(Ab),Lb=function(e){d(n,e);var t=p(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this)).type=e,o.Ha=r,o.Ja=i,o}return f(n,[{key:"_apply",value:function(e){var t,n,r=Mb(e,this.type,this.Ha,this.Ja);return new Aw(e.firestore,e.converter,(n=r,new Qh((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,n)))}}]),n}(Ab);function Mb(e,t,n,r){if(n[0]=(0,fu.m9)(n[0]),n[0]instanceof kb)return function(e,t,n,r,i){if(!r)throw new Nf(Of.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var o,a=[],s=u(od(e));try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c.field.isKeyField())a.push(bh(t,r.key));else{var l=r.data.field(c.field);if(uh(l))throw new Nf(Of.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=c.field.canonicalString();throw new Nf(Of.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}a.push(l)}}}catch(h){s.e(h)}finally{s.f()}return new Bh(a,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Xw(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Nf(Of.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(a[s].field.isKeyField()){if("string"!=typeof c)throw new Nf(Of.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!id(e)&&-1!==c.indexOf("/"))throw new Nf(Of.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child($f.fromString(c));if(!dh.isDocumentKey(l))throw new Nf(Of.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new dh(l);u.push(bh(t,f))}else{var h=cb(n,r,c);u.push(h)}}return new Bh(u,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Fb(e,t,n){if("string"==typeof(n=(0,fu.m9)(n))){if(""===n)throw new Nf(Of.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!id(t)&&-1!==n.indexOf("/"))throw new Nf(Of.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child($f.fromString(n));if(!dh.isDocumentKey(r))throw new Nf(Of.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return bh(e,new dh(r))}if(n instanceof Ew)return bh(e,n._key);throw new Nf(Of.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(xw(n),"."))}function Ub(e,t){if(!Array.isArray(e)||0===e.length)throw new Nf(Of.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Nf(Of.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Vb(e,t,n){if(!n.isEqual(t))throw new Nf(Of.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Zb=function(){function e(){h(this,e)}return f(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ph(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ah(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ef()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Jf(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r}},{key:"convertGeoPoint",value:function(e){return new Gw(oh(e.latitude),oh(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=sh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ch(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ih(e);return new Gf(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=$f.fromString(e);Af(Xp(n));var r=new mw(n.get(1),n.get(3)),i=new dh(n.popFirst(5));return r.isEqual(t)||If("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function qb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var jb=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return f(n,[{key:"convertBytes",value:function(e){return new Hw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ew(this.firestore,null,t)}}]),n}(Zb),zb=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xw(t)}return f(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Hb(e,this._firestore),i=qb(r.converter,t,n),o=eb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Od.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Hb(e,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),u=3;u<o;u++)a[u-3]=arguments[u];return r="string"==typeof(t=(0,fu.m9)(t))||t instanceof zw?sb(this._dataReader,"WriteBatch.update",i._key,t,n,a):ub(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Od.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Hb(e,this._firestore);return this._mutations=this._mutations.concat(new Gd(t._key,Od.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Nf(Of.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Hb(e,t){if((e=(0,fu.m9)(e)).firestore!==t)throw new Nf(Of.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Bb=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return f(n,[{key:"convertBytes",value:function(e){return new Hw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ew(this.firestore,null,t)}}]),n}(Zb);function Gb(e,t,n){e=Tw(e,Ew);var r=Tw(e.firestore,Uw),i=qb(e.converter,t,n);return Jb(r,[eb(Xw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Od.none())])}function Kb(e,t,n){e=Tw(e,Ew);for(var r=Tw(e.firestore,Uw),i=Xw(r),o=arguments.length,a=new Array(o>3?o-3:0),u=3;u<o;u++)a[u-3]=arguments[u];return Jb(r,[("string"==typeof(t=(0,fu.m9)(t))||t instanceof zw?sb(i,"updateDoc",e._key,t,n,a):ub(i,"updateDoc",e._key,t)).toMutation(e._key,Od.exists(!0))])}function Wb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=(0,fu.m9)(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Mw(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Mw(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(o=d.error)||void 0===o?void 0:o.bind(d),n[s+2]=null===(a=d.complete)||void 0===a?void 0:a.bind(d)}if(e instanceof Ew)l=Tw(e.firestore,Uw),f=Xh(e._key.path),c={next:function(t){n[s]&&n[s](Yb(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Tw(e,Aw);l=Tw(p.firestore,Uw),f=p._query;var v=new Bb(l);c={next:function(e){n[s]&&n[s](new Ib(l,v,p,e))},error:n[s+1],complete:n[s+2]},Eb(e._query)}return function(e,t,n,r){var i=new Jk(r),o=new qy(t,i,n);return e.asyncQueue.enqueueAndForget((0,uu.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Dy,t.next=3,hw(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)}))),function(){i.Xo(),e.asyncQueue.enqueueAndForget((0,uu.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=My,t.next=3,hw(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)})))}}(Vw(l),f,h,c)}function Jb(e,t){return n=Vw(e),r=t,i=new Pf,n.asyncQueue.enqueueAndForget((0,uu.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(e,t,n){return ik.apply(this,arguments)},e.next=3,fw(n);case 3:return e.t1=e.sent,e.t2=r,e.t3=i,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}},e)}))),i.promise;var n,r,i}function Yb(e,t,n){var r=n.docs.get(t._key),i=new Bb(e);return new xb(e,i,t._key,r,new _b(n.hasPendingWrites,n.fromCache),t.converter)}var Qb=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return f(n,[{key:"get",value:function(e){var t=this,r=Hb(e,this._firestore),o=new Bb(this._firestore);return i(b(n.prototype),"get",this).call(this,e).then(function(e){return new xb(t._firestore,o,r._key,e._document,new _b(!1,!1),r.converter)})}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=Xw(t)}return f(e,[{key:"get",value:function(e){var t=this,n=Hb(e,this._firestore),r=new jb(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return Ef();var i=e[0];if(i.isFoundDocument())return new kb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new kb(t._firestore,r,n._key,null,n.converter);throw Ef()})}},{key:"set",value:function(e,t,n){var r=Hb(e,this._firestore),i=qb(r.converter,t,n),o=eb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}},{key:"update",value:function(e,t,n){for(var r,i=Hb(e,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),u=3;u<o;u++)a[u-3]=arguments[u];return r="string"==typeof(t=(0,fu.m9)(t))||t instanceof zw?sb(this._dataReader,"Transaction.update",i._key,t,n,a):ub(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Hb(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function $b(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Nf("invalid-argument","Invalid options passed to function ".concat(e,'(): You cannot specify both "merge" and "mergeFields".'));return t}function Xb(){if("undefined"==typeof Uint8Array)throw new Nf("unimplemented","Uint8Arrays are not available in this environment.")}function e_(){if("undefined"==typeof atob)throw new Nf("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(e){bf=e})(su.SDK_VERSION),(0,su._registerComponent)(new cu.wA("firestore",function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=new Uw(r,new Ff(e.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),i._setSettings(n),i},"PUBLIC")),(0,su.registerVersion)(kf,"3.1.1",void 0),(0,su.registerVersion)(kf,"3.1.1","esm2017");var t_=function(){function e(t){h(this,e),this._delegate=t}return f(e,[{key:"toBase64",value:function(){return e_(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Xb(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return e_(),new e(Hw.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Xb(),new e(Hw.fromUint8Array(t))}}]),e}();function n_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var r_=function(){function e(){h(this,e)}return f(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){jw(e=Tw(e,Uw));var n=Vw(e),r=e._freezeSettings(),i=new Kk;return qw(n,i,new Bk(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){jw(e=Tw(e,Uw));var t=Vw(e),n=e._freezeSettings(),r=new Kk;return qw(t,r,new Gk(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Nf(Of.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Pf;return e._queue.enqueueAndForgetEvenWhileRestricted((0,uu.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(r=(0,uu.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Iv.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Iv.delete(n);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})(Fg(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}},n,null,[[0,6]])}))),t.promise}(e._delegate)}}]),e}(),i_=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof mw||(this._appCompat=t)}return f(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Sf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(e=Tw(e,Cw))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Sf("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var a,u;if("string"==typeof i.mockUserToken)a=i.mockUserToken,u=wf.MOCK_USER;else{a=(0,fu.Sg)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Nf(Of.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wf(s)}e._credentials=new Mf(new Df(a,u))}}(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return function(e){return function(e){return e.asyncQueue.enqueue((0,uu.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sw(e);case 2:return n=t.sent,t.next=5,lw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),i=void 0,(i=Rf(r)).Kr.delete(0),jm(i)));case 7:case"end":return t.stop()}var i},t)})))}(Vw(e=Tw(e,Uw)))}(this._delegate)}},{key:"disableNetwork",value:function(){return function(e){return function(e){return e.asyncQueue.enqueue((0,uu.Z)(regeneratorRuntime.mark(function t(){var n,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sw(e);case 2:return n=t.sent,t.next=5,lw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),(i=(0,uu.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rf(t)).Kr.add(0),e.next=4,Hm(n);case 4:n.Wr.set("Offline");case 5:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})(r)));case 7:case"end":return t.stop()}},t)})))}(Vw(e=Tw(e,Uw)))}(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&ww("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return t=Vw(e=Tw(e,Uw)),n=new Pf,t.asyncQueue.enqueueAndForget((0,uu.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(e,t){return pk.apply(this,arguments)},e.next=3,fw(t);case 3:return e.t1=e.sent,e.t2=n,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}},e)}))),n.promise;var t,n}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return function(e,t){return function(e,t){var n=new Jk(t);return e.asyncQueue.enqueueAndForget((0,uu.Z)(regeneratorRuntime.mark(function t(){var r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hw(e);case 2:return r=t.sent,i=n,Rf(r).Zr.add(i),t.abrupt("return",void i.next());case 6:case"end":return t.stop()}},t)}))),function(){n.Xo(),e.asyncQueue.enqueueAndForget((0,uu.Z)(regeneratorRuntime.mark(function t(){var r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hw(e);case 2:return r=t.sent,i=n,t.abrupt("return",void Rf(r).Zr.delete(i));case 5:case"end":return t.stop()}},t)})))}}(Vw(e=Tw(e,Uw)),Mw(t)?t:{next:t})}(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Nf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new y_(this,Ow(this._delegate,e))}catch(t){throw l_(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new c_(this,Nw(this._delegate,e))}catch(t){throw l_(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new v_(this,function(e,t){if(e=Tw(e,Cw),kw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Nf(Of.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Aw(e,null,(n=t,new Qh($f.emptyPath(),n)));var n}(this._delegate,e))}catch(t){throw l_(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t){return function(e,t){var n=new Pf;return e.asyncQueue.enqueueAndForget((0,uu.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,aw(e).then(function(e){return e.datastore});case 2:i=r.sent,new $k(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}},r)}))),n.promise}(Vw(e),function(n){return t(new Qb(e,n))})}(this._delegate,function(n){return e(new a_(t,n))})}},{key:"batch",value:function(){var e=this;return Vw(this._delegate),new u_(new zb(this._delegate,function(t){return Jb(e._delegate,t)}))}},{key:"loadBundle",value:function(e){return function(e,t){var n=Vw(e=Tw(e,Uw)),r=new Fw;return function(e,t,n,r){var i,o,a,u=(i=n,o=Dm(t),a=function(e,t){if(e instanceof Uint8Array)return Wk(e,t);if(e instanceof ArrayBuffer)return Wk(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new Yk(a,o));e.asyncQueue.enqueueAndForget((0,uu.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t,n){var r,i=Rf(e);(r=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Rf(e),r=Cp(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(e){return n.Je.getBundleMetadata(e,t.id)}).then(function(e){return!!e&&e.createTime.compareTo(r)>=0})}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith((c=i,{taskState:"Success",documentsLoaded:c.totalDocuments,bytesLoaded:c.totalBytes,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes})));case 10:return r._updateProgress(By(i)),o=new Hy(i,t.localStore,n.N),e.next=14,n.Qo();case 14:a=e.sent;case 15:if(!a){e.next=25;break}return e.next=18,o.fo(a);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Qo();case 22:a=e.sent;case 23:e.next=15;break;case 25:return e.next=27,o.complete();case 27:return s=e.sent,e.next=30,_k(t,s.En,void 0);case 30:return e.next=32,function(e,t){var n=Rf(e);return n.persistence.runTransaction("Save bundle","readwrite",function(e){return n.Je.saveBundleMetadata(e,t)})}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Sf("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}},e,null,[[0,35]])})),function(e,t,n){return r.apply(this,arguments)})(i,t,n).then(function(){i.sharedClientState.notifyBundleLoaded()})},t.next=3,fw(e);case 3:t.t1=t.sent,t.t2=u,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}},t)})))}(n,e._databaseId,t,r),r}(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,uu.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Rf(e);return n.persistence.runTransaction("Get named query","readonly",function(e){return n.Je.getNamedQuery(e,t)})},n.next=3,cw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n)})))}(Vw(e=Tw(e,Uw)),t).then(function(t){return t?new Aw(e,null,t.query):null})}(this._delegate,e).then(function(e){return e?new v_(t,e):null})}}]),e}(),o_=function(e){d(n,e);var t=p(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return f(n,[{key:"convertBytes",value:function(e){return new t_(new Hw(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return c_.forKey(t,this.firestore,null)}}]),n}(Zb),a_=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new o_(t)}return f(e,[{key:"get",value:function(e){var t=this,n=k_(e);return this._delegate.get(n).then(function(e){return new d_(t._firestore,new xb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})}},{key:"set",value:function(e,t,n){var r=k_(e);return n?($b("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];var u=k_(e);return 2===arguments.length?this._delegate.update(u,t):(r=this._delegate).update.apply(r,[u,t,n].concat(o)),this}},{key:"delete",value:function(e){var t=k_(e);return this._delegate.delete(t),this}}]),e}(),u_=function(){function e(t){h(this,e),this._delegate=t}return f(e,[{key:"set",value:function(e,t,n){var r=k_(e);return n?($b("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];var u=k_(e);return 2===arguments.length?this._delegate.update(u,t):(r=this._delegate).update.apply(r,[u,t,n].concat(o)),this}},{key:"delete",value:function(e){var t=k_(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),s_=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return f(e,[{key:"fromFirestore",value:function(e,t){var n=new Tb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new p_(this._firestore,n),null!=t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new o_(t),n),i.set(n,o)),o}}]),e}();s_.INSTANCES=new WeakMap;var c_=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new o_(t)}return f(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new y_(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new y_(this.firestore,Ow(this._delegate,e))}catch(t){throw l_(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=(0,fu.m9)(e))instanceof Ew&&Pw(this._delegate,e)}},{key:"set",value:function(e,t){t=$b("DocumentReference.set",t);try{return t?Gb(this._delegate,e,t):Gb(this._delegate,e)}catch(n){throw l_(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Kb(this._delegate,e):Kb.apply(void 0,[this._delegate,e,t].concat(r))}catch(o){throw l_(o,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Jb(Tw(e.firestore,Uw),[new Gd(e._key,Od.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=f_(n),o=h_(n,function(t){return new d_(e.firestore,new xb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return Wb(this._delegate,i,o)}},{key:"get",value:function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Tw(e,Ew);var t=Tw(e.firestore,Uw),n=Vw(t),r=new Bb(t);return function(e,t){var n=new Pf;return e.asyncQueue.enqueueAndForget((0,uu.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=(i=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Rf(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.Qn.An(e,t)})}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Nf(Of.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o=Ey(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(o);case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,t,n){return i.apply(this,arguments)}),r.next=3,cw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._key).then(function(n){return new xb(t,r,e._key,n,new _b(null!==n&&n.hasLocalMutations,!0),e.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Tw(e,Ew);var t=Tw(e.firestore,Uw);return pw(Vw(t),e._key,{source:"server"}).then(function(n){return Yb(t,e,n)})}(this._delegate):function(e){e=Tw(e,Ew);var t=Tw(e.firestore,Uw);return pw(Vw(t),e._key).then(function(n){return Yb(t,e,n)})}(this._delegate)).then(function(e){return new d_(t.firestore,new xb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})}},{key:"withConverter",value:function(t){return new e(this.firestore,this._delegate.withConverter(t?s_.getInstance(this.firestore,t):null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!=0)throw new Nf("invalid-argument","Invalid document reference. Document references must have an even number of segments, but ".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Ew(n._delegate,r,new dh(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Ew(n._delegate,r,t))}}]),e}();function l_(e,t,n){return e.message=e.message.replace(t,n),e}function f_(e){var t,n=u(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"==typeof r&&!n_(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function h_(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=n_(e[0])?e[0]:n_(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var d_=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return f(e,[{key:"ref",get:function(){return new c_(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Cb(this._delegate,e._delegate)}}]),e}(),p_=function(e){d(n,e);var t=p(n);function n(){return h(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ef()}(void 0!==t),t}}]),n}(d_),v_=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new o_(t)}return f(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Rb(this._delegate,function(e,t,n){var r=t,i=bb("where",e);return new Ob(i,r,n)}(t,n,r)))}catch(i){throw l_(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Rb(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=bb("orderBy",e);return new Nb(r,n)}(t,n)))}catch(r){throw l_(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Rb(this._delegate,function(e){return Iw("limit",e),new Pb("limit",e,"F")}(t)))}catch(n){throw l_(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Rb(this._delegate,function(e){return Iw("limitToLast",e),new Pb("limitToLast",e,"L")}(t)))}catch(n){throw l_(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Rb(this._delegate,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Db("startAt",t,!0)}).apply(void 0,arguments)))}catch(t){throw l_(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Rb(this._delegate,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Db("startAfter",t,!1)}).apply(void 0,arguments)))}catch(t){throw l_(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Rb(this._delegate,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Lb("endBefore",t,!0)}).apply(void 0,arguments)))}catch(t){throw l_(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Rb(this._delegate,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Lb("endAt",t,!1)}).apply(void 0,arguments)))}catch(t){throw l_(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Dw(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Tw(e,Aw);var t=Tw(e.firestore,Uw),n=Vw(t),r=new Bb(t);return function(e,t){var n=new Pf;return e.asyncQueue.enqueueAndForget((0,uu.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=(i=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,a,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,em(t,n,!0);case 3:i=e.sent,o=new Wy(n,i.Gn),a=o.Io(i.documents),u=o.applyChanges(a,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Ey(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}},e,null,[[0,10]])})),function(e,t,n){return i.apply(this,arguments)}),r.next=3,cw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._query).then(function(n){return new Ib(t,r,e,n)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Tw(e,Aw);var t=Tw(e.firestore,Uw),n=Vw(t),r=new Bb(t);return vw(n,e._query,{source:"server"}).then(function(n){return new Ib(t,r,e,n)})}(this._delegate):function(e){e=Tw(e,Aw);var t=Tw(e.firestore,Uw),n=Vw(t),r=new Bb(t);return Eb(e._query),vw(n,e._query).then(function(n){return new Ib(t,r,e,n)})}(this._delegate)).then(function(e){return new m_(t.firestore,new Ib(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=f_(n),o=h_(n,function(t){return new m_(e.firestore,new Ib(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return Wb(this._delegate,i,o)}},{key:"withConverter",value:function(t){return new e(this.firestore,this._delegate.withConverter(t?s_.getInstance(this.firestore,t):null))}}]),e}(),g_=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return f(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new p_(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),m_=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return f(e,[{key:"query",get:function(){return new v_(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map(function(t){return new p_(e._firestore,t)})}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new g_(t._firestore,e)})}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new p_(n._firestore,r))})}},{key:"isEqual",value:function(e){return Cb(this._delegate,e._delegate)}}]),e}(),y_=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return f(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new c_(this.firestore,e):null}},{key:"doc",value:function(e){try{return new c_(this.firestore,void 0===e?Nw(this._delegate):Nw(this._delegate,e))}catch(t){throw l_(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Tw(e.firestore,Uw),r=Nw(e),i=qb(e.converter,t);return Jb(n,[eb(Xw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Od.exists(!1))]).then(function(){return r})}(this._delegate,e).then(function(e){return new c_(t.firestore,e)})}},{key:"isEqual",value:function(e){return Pw(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,this._delegate.withConverter(e?s_.getInstance(this.firestore,e):null))}}]),n}(v_);function k_(e){return Tw(e,Ew)}var w_={Firestore:i_,GeoPoint:Gw,Timestamp:Gf,Blob:t_,Transaction:a_,WriteBatch:u_,DocumentReference:c_,DocumentSnapshot:d_,Query:v_,QueryDocumentSnapshot:p_,QuerySnapshot:m_,CollectionReference:y_,FieldPath:function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=y(zw,n)}return f(e,[{key:"isEqual",value:function(e){return(e=(0,fu.m9)(e))instanceof zw&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(eh.keyField().canonicalString())}}]),e}(),FieldValue:function(){function e(t){h(this,e),this._delegate=t}return f(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new rb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new tb("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ib("arrayUnion",t)}).apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ob("arrayRemove",t)}).apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new ab("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),setLogLevel:function(e){!function(e){_f.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){(function(e,t){e.INTERNAL.registerComponent(new cu.wA("firestore-compat",function(e){return function(e,t){return new i_(e,t,new r_)}(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())},"PUBLIC").setServiceProps(Object.assign({},w_)))})(e),e.registerVersion("@firebase/firestore-compat","0.1.4")}(au.Z);var b_=a(6682),__=a(309),x_=a(7771),T_=a(8858),I_=function(e){d(n,e);var t=p(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return h(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return f(n,[{key:"nextInfiniteTimeWindow",value:function(e){if(!this.isStopped){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}i(b(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this.isStopped||(this._events.push(new S_(this._getNow(),e)),this._trimBufferThenGetEvents()),i(b(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Gn.N;if(this.isStopped||this.hasError?t=Fr.w.EMPTY:(this.observers.push(e),t=new T_.W(this,e)),i&&e.add(e=new __.ht(e,i)),n)for(var a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(var u=0;u<o&&!e.closed;u++)e.next(r[u].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||x_.c).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(Bn.xQ),S_=function e(t,n){h(this,e),this.time=t,this.value=n};function C_(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,u=e.refCount,s=e.scheduler,c=0,l=!1,f=!1;return function(e){var r;c++,!t||l?(l=!1,t=new I_(i,a,s),r=t.subscribe(this),n=e.subscribe({next:function(e){t.next(e)},error:function(e){l=!0,t.error(e)},complete:function(){f=!0,n=void 0,t.complete()}}),f&&(n=void 0)):r=t.subscribe(this),this.add(function(){c--,r.unsubscribe(),r=void 0,n&&!f&&u&&0===c&&(n.unsubscribe(),n=void 0,t=void 0)})}}(r))}}function E_(e,t){return t?lr(function(){return e},t):lr(function(){return e})}var A_=a(3101);a(2329);var R_=new Map,O_={activated:!1,tokenObservers:[]},N_={initialized:!1,enabled:!1};function P_(e){return R_.get(e)||O_}function D_(e,t){R_.set(e,t)}function L_(){return N_}var M_=function(){function e(t,n,r,i,o){if(h(this,e),this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return f(e,[{key:"start",value:function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})}},{key:"stop",value:function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}},{key:"isRunning",value:function(){return!!this.pending}},{key:"process",value:function(e){var t=this;return(0,uu.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.stop(),n.prev=1,t.pending=new fu.BH,n.next=5,function(e){return new Promise(function(t){setTimeout(t,e)})}(t.getNextRun(e));case 5:return t.pending.resolve(),n.next=8,t.pending.promise;case 8:return t.pending=new fu.BH,n.next=11,t.operation();case 11:return t.pending.resolve(),n.next=14,t.pending.promise;case 14:t.process(!0).catch(function(){}),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(1),t.retryPolicy(n.t0)?t.process(!1).catch(function(){}):t.stop();case 20:case"end":return n.stop()}},n,null,[[1,17]])}))()}},{key:"getNextRun",value:function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}]),e}(),F_=new fu.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function U_(e){if(!P_(e).activated)throw F_.create("use-before-activation",{appName:e.name})}function V_(e,t){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u,s,c,l,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,i=t.body,o={"Content-Type":"application/json"},(a=n.getImmediate({optional:!0}))&&(o["X-Firebase-Client"]=a.getPlatformInfoString()),u={method:"POST",body:JSON.stringify(i),headers:o},e.prev=4,e.next=7,fetch(r,u);case 7:s=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),F_.create("fetch-network-error",{originalErrorMessage:e.t0.message});case 13:if(200===s.status){e.next=15;break}throw F_.create("fetch-status-error",{httpStatus:s.status});case 15:return e.prev=15,e.next=18,s.json();case 18:c=e.sent,e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(15),F_.create("fetch-parse-error",{originalErrorMessage:e.t1.message});case 24:if((l=c.ttl.match(/^([\d.]+)(s)$/))&&l[2]&&!isNaN(Number(l[1]))){e.next=27;break}throw F_.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: ".concat(c.ttl)});case 27:return f=1e3*Number(l[1]),h=Date.now(),e.abrupt("return",{token:c.attestationToken,expireTimeMillis:h+f,issuedAtTimeMillis:h});case 29:case"end":return e.stop()}},e,null,[[4,10],[15,21]])}))).apply(this,arguments)}function q_(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:"https://content-firebaseappcheck.googleapis.com/v1beta/projects/".concat(r,"/apps/").concat(i,":exchangeDebugToken?key=").concat(o),body:{debug_token:t}}}var j_="firebase-app-check-store",z_=null;function H_(){return z_||(z_=new Promise(function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(F_.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(j_,{keyPath:"compositeKey"})}}}catch(n){t(F_.create("storage-open",{originalErrorMessage:n.message}))}}))}function B_(){return(B_=(0,uu.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H_();case 2:return r=e.sent.transaction(j_,"readwrite"),i=r.objectStore(j_).put({compositeKey:t,value:n}),e.abrupt("return",new Promise(function(e,t){i.onsuccess=function(t){e()},r.onerror=function(e){var n;t(F_.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var G_=new lu.Yd("@firebase/app-check");function K_(e,t){return(0,fu.hl)()?function(e,t){return function(e,t){return B_.apply(this,arguments)}(function(e){return"".concat(e.options.appId,"-").concat(e.name)}(e),t)}(e,t).catch(function(e){G_.warn("Failed to write token to IndexedDB. Error: ".concat(e))}):Promise.resolve()}function W_(){return L_().enabled}function J_(){return Y_.apply(this,arguments)}function Y_(){return(Y_=(0,uu.Z)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=L_()).enabled||!t.token){e.next=3;break}return e.abrupt("return",t.token.promise);case 3:throw Error("\n            Can't get debug token in production mode.\n        ");case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Q_={error:"UNKNOWN_ERROR"};function $_(e){return fu.US.encodeString(JSON.stringify(e),!1)}function X_(e){return ex.apply(this,arguments)}function ex(){return(ex=(0,uu.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,u,s,c,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]&&l[1],U_(r=t.app),i=P_(r),u=i.token){e.next=10;break}return e.next=8,i.cachedTokenPromise;case 8:(s=e.sent)&&rx(s)&&(u=s,D_(r,Object.assign(Object.assign({},i),{token:u})),nx(r,{token:u.token}));case 10:if(n||!u||!rx(u)){e.next=12;break}return e.abrupt("return",{token:u.token});case 12:if(!W_()){e.next=28;break}return e.t0=V_,e.t1=q_,e.t2=r,e.next=18,J_();case 18:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5=t.platformLoggerProvider,e.next=23,(0,e.t0)(e.t4,e.t5);case 23:return c=e.sent,e.next=26,K_(r,c);case 26:return D_(r,Object.assign(Object.assign({},i),{token:c})),e.abrupt("return",{token:c.token});case 28:return e.prev=28,e.next=31,i.provider.getToken();case 31:u=e.sent,e.next=37;break;case 34:e.prev=34,e.t6=e.catch(28),G_.error(e.t6),o=e.t6;case 37:if(!u){e.next=44;break}return a={token:u.token},D_(r,Object.assign(Object.assign({},i),{token:u})),e.next=42,K_(r,u);case 42:e.next=45;break;case 44:a=ix(o);case 45:return nx(r,a),e.abrupt("return",a);case 47:case"end":return e.stop()}},e,null,[[28,34]])}))).apply(this,arguments)}function tx(e,t){var n=P_(e),r=n.tokenObservers.filter(function(e){return e.next!==t});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),D_(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function nx(e,t){var n,r=u(P_(e).tokenObservers);try{for(r.s();!(n=r.n()).done;){var i=n.value;try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}catch(a){r.e(a)}finally{r.f()}}function rx(e){return e.expireTimeMillis-Date.now()>0}function ix(e){return{token:$_(Q_),error:e}}var ox=function(){function e(t,n){h(this,e),this.app=t,this.platformLoggerProvider=n}return f(e,[{key:"_delete",value:function(){var e,t=u(P_(this.app).tokenObservers);try{for(t.s();!(e=t.n()).done;){var n=e.value;tx(this.app,n.next)}}catch(r){t.e(r)}finally{t.f()}return Promise.resolve()}}]),e}(),ax="app-check-internal";(0,su._registerComponent)(new cu.wA("app-check",function(e){return function(e,t){return new ox(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider(ax).initialize()})),(0,su._registerComponent)(new cu.wA(ax,function(e){return function(e){return{getToken:function(t){return X_(e,t)},addTokenListener:function(t){return function(e,t,n,r){var i=e.app,a=P_(i),u={next:n,error:void 0,type:"INTERNAL"},s=Object.assign(Object.assign({},a),{tokenObservers:[].concat(o(a.tokenObservers),[u])});if(!s.tokenRefresher){var c=function(e){var t=e.app;return new M_((0,uu.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!P_(t).token){n.next=6;break}return n.next=3,X_(e,!0);case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,X_(e);case 8:n.t0=n.sent;case 9:if(!(r=n.t0).error){n.next=12;break}throw r.error;case 12:case"end":return n.stop()}},n)})),function(){return!0},function(){var e=P_(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},3e4,96e4)}(e);s.tokenRefresher=c}if(!s.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&s.tokenRefresher.start(),a.token&&rx(a.token)){var l=a.token;Promise.resolve().then(function(){return n({token:l.token})}).catch(function(){})}else null==a.token&&a.cachedTokenPromise.then(function(e){e&&rx(e)&&n({token:e.token})}).catch(function(){});D_(i,s)}(e,0,t)},removeTokenListener:function(t){return tx(e.app,t)}}}(e.getProvider("app-check").getImmediate())},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,su.registerVersion)("@firebase/app-check","0.4.2");var ux=function e(){return h(this,e),(0,$a.vb)("app-check")};"undefined"!=typeof window&&window;var sx=a(7841),cx=new s.OlP("angularfire2.auth.use-emulator"),lx=new s.OlP("angularfire2.auth.settings"),fx=new s.OlP("angularfire2.auth.tenant-id"),hx=new s.OlP("angularfire2.auth.langugage-code"),dx=new s.OlP("angularfire2.auth.use-device-language"),px=new s.OlP("angularfire.auth.persistence"),vx=function(e,n,r,i,a,u,s,c){return(0,ou.cc)("".concat(e.name,".auth"),"AngularFireAuth",e.name,function(){var l=n.runOutsideAngular(function(){return e.auth()});if(r&&l.useEmulator.apply(l,o(r)),i&&(l.tenantId=i),l.languageCode=a,u&&l.useDeviceLanguage(),s)for(var f=0,h=Object.entries(s);f<h.length;f++){var d=t(h[f],2),p=d[0],v=d[1];l.settings[p]=v}return c&&l.setPersistence(c),l},[r,i,a,u,s,c])},gx=function(){var e=function e(t,n,r,i,o,u,s,c,l,f,d,p){h(this,e);var v=new Bn.xQ,g=(0,qe.of)(void 0).pipe((0,__.QV)(o.outsideAngular),lr(function(){return i.runOutsideAngular(function(){return Promise.resolve().then(a.bind(a,4671))})}),(0,Je.U)(function(){return(0,ou.on)(t,i,n)}),(0,Je.U)(function(e){return vx(e,i,u,c,l,f,s,d)}),C_({bufferSize:1,refCount:!1}));if(ae(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qe.of)(null);else{g.pipe(Lr()).subscribe();var m=g.pipe(lr(function(e){return e.getRedirectResult().then(function(e){return e},function(){return null})}),$a.iC,C_({bufferSize:1,refCount:!1})),y=g.pipe(lr(function(e){return new je.y(function(t){return{unsubscribe:i.runOutsideAngular(function(){return e.onAuthStateChanged(function(e){return t.next(e)},function(e){return t.error(e)},function(){return t.complete()})})}})})),k=g.pipe(lr(function(e){return new je.y(function(t){return{unsubscribe:i.runOutsideAngular(function(){return e.onIdTokenChanged(function(e){return t.next(e)},function(e){return t.error(e)},function(){return t.complete()})})}})}));this.authState=m.pipe(E_(y),(0,A_.R)(o.outsideAngular),(0,__.QV)(o.insideAngular)),this.user=m.pipe(E_(k),(0,A_.R)(o.outsideAngular),(0,__.QV)(o.insideAngular)),this.idToken=this.user.pipe(lr(function(e){return e?(0,Rt.D)(e.getIdToken()):(0,qe.of)(null)})),this.idTokenResult=this.user.pipe(lr(function(e){return e?(0,Rt.D)(e.getIdTokenResult()):(0,qe.of)(null)})),this.credential=(0,b_.T)(m,v,this.authState.pipe(Ge(function(e){return!e}))).pipe((0,Je.U)(function(e){return(null==e?void 0:e.user)?e:null}),(0,A_.R)(o.outsideAngular),(0,__.QV)(o.insideAngular))}return(0,ou.pX)(this,g,i,{spy:{apply:function(e,t,n){(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(function(e){return v.next(e)})}}})};return e.\u0275fac=function(t){return new(t||e)(s.LFG(ou.Dh),s.LFG(ou.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG($a.HU),s.LFG(cx,8),s.LFG(lx,8),s.LFG(fx,8),s.LFG(hx,8),s.LFG(dx,8),s.LFG(px,8),s.LFG(ux,8))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e}();function mx(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qa.z;return new je.y(function(n){var r;return null!=t?t.schedule(function(){r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(e,t)}function yx(e,t){return mx(e,t).pipe((0,Je.U)(function(e){return{payload:e,type:"query"}}))}function kx(e,n){return yx(e,n).pipe(mr(void 0),Xa(),(0,Je.U)(function(e){var n=t(e,2),r=n[0],i=n[1],o=i.payload.docChanges(),a=o.map(function(e){return{type:e.type,payload:e}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(e,t){var n=o.find(function(t){return t.doc.ref.isEqual(e.ref)}),i=null==r?void 0:r.payload.docs.find(function(t){return t.ref.isEqual(e.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(e.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(e.metadata)||a.push({type:"modified",payload:{oldIndex:t,newIndex:t,type:"modified",doc:e}})}),a}))}function wx(e,t,n){return kx(e,n).pipe(yr(function(e,n){return function(e,t,n){return t.forEach(function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return bx(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){var n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return bx(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return bx(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(function(e){return e.payload}),t)},[]),function(e){return e.lift(new ru(void 0,void 0))},(0,Je.U)(function(e){return e.map(function(e){return{type:e.type,payload:e}})}))}function bx(e,t,n){for(var r=e.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[t,n].concat(o)),r}function _x(e){return(!e||0===e.length)&&(e=["added","removed","modified"]),e}var xx=function(){function n(e,t,r){h(this,n),this.ref=e,this.query=t,this.afs=r}return f(n,[{key:"stateChanges",value:function(e){var n=kx(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,Je.U)(function(t){return t.filter(function(t){return e.indexOf(t.type)>-1})}))),n.pipe(mr(void 0),Xa(),Ge(function(e){var n=t(e,2),r=n[0];return n[1].length>0||!r}),(0,Je.U)(function(e){var n=t(e,2);n[0];return n[1]}),$a.iC)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(yr(function(e,t){return[].concat(o(e),o(t))},[]))}},{key:"snapshotChanges",value:function(e){var t=_x(e);return wx(this.query,t,this.afs.schedulers.outsideAngular).pipe($a.iC)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(function(n){return n.payload.docs.map(function(n){return t.idField?Object.assign(Object.assign({},n.data()),e({},t.idField,n.id)):n.data()})}),$a.iC)}},{key:"get",value:function(e){return(0,Rt.D)(this.query.get(e)).pipe($a.iC)}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new Tx(this.ref.doc(e),this.afs)}}]),n}(),Tx=function(){function n(e,t){h(this,n),this.ref=e,this.afs=t}return f(n,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=Rx(this.ref.collection(e),t),r=n.ref,i=n.query;return new xx(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return function(e,n){return mx(e,n).pipe(mr(void 0),Xa(),(0,Je.U)(function(e){var n=t(e,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($a.iC)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe((0,Je.U)(function(n){var r=n.payload;return t.idField?Object.assign(Object.assign({},r.data()),e({},t.idField,r.id)):r.data()}))}},{key:"get",value:function(e){return(0,Rt.D)(this.ref.get(e)).pipe($a.iC)}}]),n}(),Ix=function(){function t(e,n){h(this,t),this.query=e,this.afs=n}return f(t,[{key:"stateChanges",value:function(e){return e&&0!==e.length?kx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(function(t){return t.filter(function(t){return e.indexOf(t.type)>-1})}),Ge(function(e){return e.length>0}),$a.iC):kx(this.query,this.afs.schedulers.outsideAngular).pipe($a.iC)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(yr(function(e,t){return[].concat(o(e),o(t))},[]))}},{key:"snapshotChanges",value:function(e){var t=_x(e);return wx(this.query,t,this.afs.schedulers.outsideAngular).pipe($a.iC)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(function(n){return n.payload.docs.map(function(n){return t.idField?Object.assign(e({},t.idField,n.id),n.data()):n.data()})}),$a.iC)}},{key:"get",value:function(e){return(0,Rt.D)(this.query.get(e)).pipe($a.iC)}}]),t}(),Sx=new s.OlP("angularfire2.enableFirestorePersistence"),Cx=new s.OlP("angularfire2.firestore.persistenceSettings"),Ex=new s.OlP("angularfire2.firestore.settings"),Ax=new s.OlP("angularfire2.firestore.use-emulator");function Rx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var Ox=function(){var e=function(){function e(n,r,i,a,u,s,c,l,f,d,p,v,g,m,y,k,w){var b;h(this,e),this.schedulers=c;var _=(0,ou.on)(n,s,r),x=f;d&&vx(_,s,p,g,m,y,v,k),b=t((0,ou.cc)("".concat(_.name,".firestore"),"AngularFirestore",_.name,function(){var e=s.runOutsideAngular(function(){return _.firestore()});if(a&&e.settings(a),x&&e.useEmulator.apply(e,o(x)),i&&!ae(u)){return[e,s.runOutsideAngular(function(){try{return(0,Rt.D)(e.enablePersistence(l||void 0).then(function(){return!0},function(){return!1}))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,qe.of)(!1)}})]}return[e,(0,qe.of)(!1)]},[a,x,i]),2),this.firestore=b[0],this.persistenceEnabled$=b[1]}return f(e,[{key:"collection",value:function(e,t){var n=Rx("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new xx(o,i,this)}},{key:"collectionGroup",value:function(e,t){var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new Ix(n(r),this)}},{key:"doc",value:function(e){var t;t="string"==typeof e?this.firestore.doc(e):e;var n=this.schedulers.ngZone.run(function(){return t});return new Tx(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(ou.Dh),s.LFG(ou.xv,8),s.LFG(Sx,8),s.LFG(Ex,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG($a.HU),s.LFG(Cx,8),s.LFG(Ax,8),s.LFG(gx,8),s.LFG(cx,8),s.LFG(lx,8),s.LFG(fx,8),s.LFG(hx,8),s.LFG(dx,8),s.LFG(px,8),s.LFG(ux,8))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e}(),Nx=function(){var e=function(){function e(){h(this,e),sx.Z.registerVersion("angularfire",$a.q4.full,"fst-compat")}return f(e,null,[{key:"enablePersistence",value:function(t){return{ngModule:e,providers:[{provide:Sx,useValue:!0},{provide:Cx,useValue:t}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[Ox]}),e}(),Px=function(){var e=function(){function e(t,n){h(this,e),this.afs=t,this.http=n,this.itemsColletionForBicycle=this.afs.collection("bicycles"),this.itemsColletionForParts=this.afs.collection("parts"),this.itemsColletionForAccessories=this.afs.collection("accessories"),this.itemsColletionForClothing=this.afs.collection("clothing"),this.bicycles=[],this.accessoriesData=[],this.partsData=[],this.clothingData=[],this.bikeImgsPage1=[],this.bikeImgsPage2=[],this.bikeImgs=[],this.parts=[],this.accessories=[],this.clothing=[]}return f(e,[{key:"getBicyclesPage1",value:function(){return this.http.get("https://api.unsplash.com/collections/iuAONw1hf3k/photos/?query=''&per_page=20&client_id=uSqHNuvq55SqP0cICoLzjGSpxCCEz9sZ92JKI9yvsrE&page=1").pipe((0,Je.U)(function(e){return e.map(function(e){return e.urls.small})}))}},{key:"getBicyclesPage2",value:function(){return this.http.get("https://api.unsplash.com/collections/iuAONw1hf3k/photos/?query=''&per_page=20&client_id=uSqHNuvq55SqP0cICoLzjGSpxCCEz9sZ92JKI9yvsrE&page=2").pipe((0,Je.U)(function(e){return e.map(function(e){return e.urls.small})}))}},{key:"getParts",value:function(){return this.http.get("https://api.unsplash.com/collections/MkltW8eSTkQ/photos/?query=''&per_page=20&client_id=uSqHNuvq55SqP0cICoLzjGSpxCCEz9sZ92JKI9yvsrE").pipe((0,Je.U)(function(e){return e.map(function(e){return e.urls.small})}))}},{key:"getAccessories",value:function(){return this.http.get("https://api.unsplash.com/collections/-_X6rVMs3UA/photos/?query=''&per_page=20&client_id=uSqHNuvq55SqP0cICoLzjGSpxCCEz9sZ92JKI9yvsrE").pipe((0,Je.U)(function(e){return e.map(function(e){return e.urls.small})}))}},{key:"getClothing",value:function(){return this.http.get("https://api.unsplash.com/collections/VzcUWJHRjgA/photos/?query=''&per_page=20&client_id=uSqHNuvq55SqP0cICoLzjGSpxCCEz9sZ92JKI9yvsrE").pipe((0,Je.U)(function(e){return e.map(function(e){return e.urls.small})}))}},{key:"makeBrand",value:function(e){for(var t="",n=["Hannondale","Kube","Katch","Marinu","Zona","Harley","Biancho"],r=n.length,i=0;i<e;i++)t+=n[Math.floor(Math.random()*r)];return t}},{key:"makeid",value:function(e){for(var t="",n="ABCDEFG",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t}},{key:"getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}},{key:"makeDesc",value:function(e){for(var t="",n=["The Lifestyle comes with a simple Shimano 7-speed drivetrain. The gearing is perfect for moderate hills and long distances on flat surfaces. Alloy linear-pull brakes offer excellent stopping power on the pavement. With the double-wall alloy rims paired with 27.5 x 1.95 inches tires, you'll have a sturdy set up with some extra cushion underneath you.","This model comes with the new Shimano Deore M6100 12-Speed drivetrain with a single chainring setup which can be usually seen on significantly more expensive bikes. There are a few benefits of this system - it makes shifting much simpler because handlebars occupy only one shifter and the overall weight is significantly lower compared with double or triple chainrings setup. The crankset comes with 32 teeth narrow-wide chainring for firm chain retention. The new 12-speed cassette uses Beam Spider construction to keep the weight down while increasing gearing range. Using new Micro Spline freehub body and HyperGlide+ tooth profile, the 10-51T cassette delivers advanced shifting performance. Lastly, the ride is significantly quieter, with a clutch equipped derailleur which perfectly secures the chain and eliminates any bouncing.","The bike comes equipped with a 120mm travel SR Suntour XCR 32 air suspension fork with thru-axle to give the bike greater control while descending rough terrain at high speeds. With the increased travel in the fork, the head tube and stem length have been shortened to preserve the neutral riding position that Polygons are known for. There has been no compromise on the popular handling characteristics of the bike, yet the additional travel ensures the bike is more forgiving in more technical environments. The Shimano M201 hydraulic disc brakes offer excellent modulation, fierce stopping power and yet are simple to service.",'All too often, corners are cut to meet price-points in the entry-level road bike market, but the Allez redefines what it means to be "entry level." Focusing on weight, refinement, and reliability like nothing else in its class, the Allez is the first to make these technologies accessible to everyone. Whether you\'re just getting into road cycling, commuting, or looking for a new bike, the Allez is just as performance-packed as it is versatile.',"Entry-level road bikes often times feature either alloy or cheap carbon fiber forks that greatly detract from the overall ride quality. But with a full FACT carbon fiber fork, the Allez is better handling, smoother riding, and lower in weight, floating over rough chip-seal and carving through corners like a slalom skier.","This Allez also features integrated rack and fender mounts, allowing you to get weight of your backpack off you and onto a lightweight rack. This not only makes for a good road bike, but it also enables you to transform it into a fast commuter.","Boasting contemporary race geometry, English-threaded bottom bracket shell, shortened chainstay, replaceable derailleur hanger, and substantial mud clearance, the Nature Cross now features a Columbus Futura carbon fork with adjustable rake, tapered head and steerer tubes, and clearance for 700c x 42mm tires."],r=n.length,i=0;i<e;i++)t+=n[Math.floor(Math.random()*r)];return t}},{key:"createBicycles",value:function(){var e=this;this.getBicyclesPage1().subscribe(function(t){e.bikeImgsPage1=t}),this.getBicyclesPage2().subscribe(function(t){e.bikeImgsPage2=t}),setTimeout(function(){e.bikeImgs=[].concat(o(e.bikeImgsPage1),o(e.bikeImgsPage2));for(var t=0;t<40;t++)e.bicycles.push({img:e.bikeImgs[t]}),t%3==0&&(e.bicycles[t].categorie="Road Bike"),t%3==1&&(e.bicycles[t].categorie="City Bike"),t%3==2&&(e.bicycles[t].categorie="Mountain Bike"),e.bicycles[t].id=Ya(),e.bicycles[t].title=e.makeBrand(1)+" "+e.makeid(1)+e.getRandomInt(1e3,9999),e.bicycles[t].price=e.getRandomInt(500,900),e.bicycles[t].description=e.makeDesc(1),e.itemsColletionForBicycle.add(e.bicycles[t])},3e3)}},{key:"createParts",value:function(){var e=this;this.getParts().subscribe(function(t){e.parts=t}),setTimeout(function(){for(var t=0;t<20;t++)e.partsData.push({img:e.parts[t]}),e.partsData[t].id=Ya(),e.partsData[t].title="Model "+e.makeid(1)+e.getRandomInt(1e3,9999),e.partsData[t].price=e.getRandomInt(30,300),e.partsData[t].description=e.makeDesc(1),e.itemsColletionForParts.add(e.partsData[t])},3e3)}},{key:"createAccessories",value:function(){var e=this;this.getAccessories().subscribe(function(t){e.accessories=t}),setTimeout(function(){for(var t=0;t<20;t++)e.accessoriesData.push({img:e.accessories[t]}),e.accessoriesData[t].id=Ya(),e.accessoriesData[t].title="Model "+e.makeid(1)+e.getRandomInt(1e3,9999),e.accessoriesData[t].price=e.getRandomInt(30,300),e.accessoriesData[t].description=e.makeDesc(1),e.itemsColletionForAccessories.add(e.accessoriesData[t])},3e3)}},{key:"createClothing",value:function(){var e=this;this.getClothing().subscribe(function(t){e.clothing=t}),setTimeout(function(){for(var t=0;t<20;t++)e.clothingData.push({img:e.clothing[t]}),e.clothingData[t].id=Ya(),e.clothingData[t].title="Model "+e.makeid(1)+e.getRandomInt(1e3,9999),e.clothingData[t].price=e.getRandomInt(30,300),e.clothingData[t].description=e.makeDesc(1),e.itemsColletionForClothing.add(e.clothingData[t])},3e3)}},{key:"postData",value:function(){this.createBicycles(),this.createParts(),this.createAccessories(),this.createClothing()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(Ox),s.LFG(gt))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Dx=function(){var e=function(){function e(t,n){h(this,e),this.authService=t,this.databaseService=n,this.test=[]}return f(e,[{key:"ngOnInit",value:function(){this.authService.autoLogin()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(za),s.Y36(Px))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&s._UZ(0,"router-outlet")},directives:[_a],styles:[""]}),e}(),Lx=function(){return["/home"]},Mx=function(){var e=function(){function e(t,n){h(this,e),this.authService=t,this.router=n}return f(e,[{key:"ngOnInit",value:function(){}},{key:"onLogin",value:function(e){var t=this;if(e.invalid)return console.log("input is invalid");console.log(e.value),this.authService.logIn(e.value.email,e.value.password).subscribe(function(e){t.router.navigate(["/shopfor"])},function(e){console.log(e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(za),s.Y36(ga))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-login"]],decls:14,vars:2,consts:[[1,"main-main"],[1,"main"],[3,"ngSubmit"],["loginForm","ngForm"],["ngModel","","type","email","name","email","required","","email","","placeholder","Email"],["ngModel","","type","password","name","password","required","","minlenght","4","placeholder","Password"],[1,"btn"],["routerLinkActive","router-link-active",3,"routerLink"]],template:function(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div"),s._uU(3,"LOGIN"),s.qZA(),s.TgZ(4,"form",2,3),s.NdJ("ngSubmit",function(){s.CHM(n);var e=s.MAs(5);return t.onLogin(e)}),s._UZ(6,"input",4),s._UZ(7,"input",5),s.TgZ(8,"button",6),s._uU(9,"LOG IN"),s.qZA(),s.TgZ(10,"div"),s._uU(11,"or "),s.TgZ(12,"a",7),s._uU(13,"Return to Store"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}2&e&&(s.xp6(12),s.Q6J("routerLink",s.DdM(1,Lx)))},directives:[Pn,sn,An,Vt,un,Nn,Un,Zn,ka,ba],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main[_ngcontent-%COMP%]{width:30%;padding:30px 0}.main-main[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}input[_ngcontent-%COMP%]{border:none;padding:10px;margin:10px 0}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}"]}),e}(),Fx=function(){return["/home"]},Ux=function(){var e=function(){function e(t,n){h(this,e),this.authService=t,this.router=n}return f(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(e){var t=this;if(e.invalid)return console.log("input is invalid");this.authService.signUp(e.value.email,e.value.password).subscribe(function(e){t.router.navigate(["/shopfor"])},function(e){console.log(e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(za),s.Y36(ga))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-createaccount"]],decls:14,vars:2,consts:[[1,"main-main"],[1,"main"],[3,"ngSubmit"],["authForm","ngForm"],["ngModel","","type","email","name","email","required","","email","","placeholder","Email"],["ngModel","","type","password","name","password","required","","minlenght","4","placeholder","Password"],[1,"btn"],["routerLinkActive","router-link-active",3,"routerLink"]],template:function(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div"),s._uU(3,"CREATE ACCOUNT"),s.qZA(),s.TgZ(4,"form",2,3),s.NdJ("ngSubmit",function(){s.CHM(n);var e=s.MAs(5);return t.onSubmit(e)}),s._UZ(6,"input",4),s._UZ(7,"input",5),s.TgZ(8,"button",6),s._uU(9,"SIGN UP"),s.qZA(),s.TgZ(10,"div"),s._uU(11,"or "),s.TgZ(12,"a",7),s._uU(13,"Return to Store"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}2&e&&(s.xp6(12),s.Q6J("routerLink",s.DdM(1,Fx)))},directives:[Pn,sn,An,Vt,un,Nn,Un,Zn,ka,ba],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main[_ngcontent-%COMP%]{width:30%;padding:30px 0}.main-main[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}input[_ngcontent-%COMP%]{border:none;padding:10px;margin:10px 0}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}"]}),e}(),Vx=function(){var e=function(){function e(t,n){var r=this;h(this,e),this.afs=t,this.http=n,this.items=["Bikes","Parts","Accessories","Clothing"],this.biketypes=["Road Bike","Mountain Bike","City Bike"],this.mainImages=[],this.bikePage1=[],this.bikePage2=[],this.parts=[],this.accessories=[],this.clothing=[],this.homeProducts=[],this.afs.collection("bicycles").valueChanges().subscribe(function(e){e.slice(0,20).map(function(e){r.bikePage1.push(e)}),r.homeProducts[0]=r.bikePage1[2]}),this.afs.collection("bicycles").valueChanges().subscribe(function(e){e.slice(21,41).map(function(e){r.bikePage2.push(e)})}),this.afs.collection("parts").valueChanges().subscribe(function(e){e.slice(0,20).map(function(e){r.parts.push(e)}),r.homeProducts[1]=r.parts[2]}),this.afs.collection("clothing").valueChanges().subscribe(function(e){e.slice(0,20).map(function(e){r.clothing.push(e)}),r.homeProducts[3]=r.clothing[1]}),this.afs.collection("accessories").valueChanges().subscribe(function(e){e.slice(0,20).map(function(e){r.accessories.push(e)}),r.homeProducts[2]=r.accessories[1]}),this.afs.collection("mainimages").valueChanges().subscribe(function(e){e.map(function(e){r.mainImages.push(e)})})}return f(e,[{key:"getDataFromCate",value:function(e){this.getData=e}},{key:"getToDetail",value:function(e,t){this.toDetailData=e,this.toCategorieName=t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(Ox),s.LFG(gt))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Zx=["el"],qx=["first"],jx=["second"],zx=["carousel_nav"],Hx=function(){var e=function(){function e(t){h(this,e),this.itemService=t}return f(e,[{key:"next",value:function(){var e=this.map.nativeElement,t=e.querySelectorAll(".current_slide")[0],n=t.nextElementSibling;if(null!==n){e.style.transform="translateX(-"+n.style.left+")",t.classList.remove("current_slide"),n.classList.add("current_slide");var r=this.nav.nativeElement.querySelectorAll(".current")[0],i=r.nextElementSibling;r.classList.remove("current"),i.classList.add("current")}}},{key:"previous",value:function(){var e=this.map.nativeElement,t=e.querySelectorAll(".current_slide")[0],n=t.previousElementSibling;if(null!==n){e.style.transform="translateX("+n.style.left+")",t.classList.remove("current_slide"),n.classList.add("current_slide");var r=this.nav.nativeElement.querySelectorAll(".current")[0],i=r.previousElementSibling;r.classList.remove("current"),i.classList.add("current")}}},{key:"ngOnInit",value:function(){this.mainImages=this.itemService.mainImages}},{key:"ngAfterViewInit",value:function(){var e=this.first.nativeElement.getBoundingClientRect().width;Array.from(this.map.nativeElement.children).forEach(function(t,n){t.style.left=e*n+"px"})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(Vx))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-slide"]],viewQuery:function(e,t){var n;(1&e&&(s.Gf(Zx,5),s.Gf(qx,5),s.Gf(jx,5),s.Gf(zx,5)),2&e)&&(s.iGM(n=s.CRH())&&(t.map=n.first),s.iGM(n=s.CRH())&&(t.first=n.first),s.iGM(n=s.CRH())&&(t.second=n.first),s.iGM(n=s.CRH())&&(t.nav=n.first))},decls:19,vars:2,consts:[[1,"carousel"],[1,"top_section"],[1,"carousel_button","car-left",3,"click"],[1,"fas","fa-chevron-left"],[1,"carousel_track_container"],[1,"carousel_track"],["el",""],[1,"carousel_slide","current_slide"],["first",""],["alt","Slides",1,"carousel_image",3,"src"],[1,"carousel_slide","test"],["second",""],[1,"carousel_button","car-right",3,"click"],[1,"fas","fa-chevron-right"],[1,"carousel_nav","bottom_section"],["carousel_nav",""],[1,"carousel_indicator","current"],[1,"carousel_indicator"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"button",2),s.NdJ("click",function(){return t.previous()}),s._UZ(3,"i",3),s.qZA(),s.TgZ(4,"div",4),s.TgZ(5,"ul",5,6),s.TgZ(7,"li",7,8),s._UZ(9,"img",9),s.qZA(),s.TgZ(10,"li",10,11),s._UZ(12,"img",9),s.qZA(),s.qZA(),s.qZA(),s.TgZ(13,"button",12),s.NdJ("click",function(){return t.next()}),s._UZ(14,"i",13),s.qZA(),s.qZA(),s.TgZ(15,"div",14,15),s._UZ(17,"button",16),s._UZ(18,"button",17),s.qZA(),s.qZA()),2&e&&(s.xp6(9),s.s9C("src",t.mainImages[0].img,s.LSH),s.xp6(3),s.s9C("src",t.mainImages[1].img,s.LSH))},styles:[".carousel[_ngcontent-%COMP%]{height:45vh;width:80%;margin:0 auto;z-index:-1}@media (max-width: 760px){.carousel[_ngcontent-%COMP%]{width:100%!important;height:35vh!important}.carousel_track_container[_ngcontent-%COMP%]{height:30vh!important}.top_section[_ngcontent-%COMP%]{padding:30 20px!important}}@media (max-width: 360px){.carousel[_ngcontent-%COMP%]{height:25vh!important}.carousel_track_container[_ngcontent-%COMP%]{height:20vh!important}.top_section[_ngcontent-%COMP%]{padding:20 50px!important}}.top_section[_ngcontent-%COMP%]{padding:30px}.carousel_track_container[_ngcontent-%COMP%]{position:relative;width:100%;height:40vh;overflow:hidden;border-radius:10px}.carousel_track[_ngcontent-%COMP%]{list-style:none;height:100%;padding:0;margin:0;position:relative;transition:all ease-in-out 1s}.carousel_slide[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:100%}.carousel_image[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.carousel_button[_ngcontent-%COMP%]{background:transparent;border:0;cursor:pointer;margin:0 10px;transition:all ease-in-out .3s}.carousel_button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;opacity:.5;transition:all ease-in-out .3s}.carousel_button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{font-size:2.5em;opacity:.2}.top_section[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center}.bottom_section[_ngcontent-%COMP%]{display:flex;justify-content:center}.carousel_indicator[_ngcontent-%COMP%]{border:none;border-radius:50%;width:10px;height:10px;background:black;opacity:.5;margin:5px}.current[_ngcontent-%COMP%]{opacity:.7}.hide[_ngcontent-%COMP%]{display:none}"]}),e}();function Bx(e,t){if(1&e&&(s.TgZ(0,"div",9),s._UZ(1,"img",10),s.TgZ(2,"div"),s._uU(3),s.qZA(),s.qZA()),2&e){var n=t.index,r=s.oxw();s.MGl("routerLink","/",r.routerpath[n],""),s.xp6(1),s.s9C("src",r.homeProducts[n].img,s.LSH),s.xp6(2),s.Oqu(r.categories[n])}}var Gx=function(){return["/details"]};function Kx(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",12),s.NdJ("click",function(){s.CHM(n);var e=s.oxw().index;return s.oxw().toDetail(e,"bikePage1")}),s._UZ(1,"img",13),s.TgZ(2,"div"),s._uU(3),s.qZA(),s.TgZ(4,"div"),s._uU(5),s.ALo(6,"currency"),s.qZA(),s.qZA()}if(2&e){var r=s.oxw().index,i=s.oxw();s.Q6J("routerLink",s.DdM(7,Gx)),s.xp6(1),s.s9C("src",i.bikePage1[r].img,s.LSH),s.xp6(2),s.Oqu(i.bikePage1[r].title),s.xp6(2),s.Oqu(s.xi3(6,4,i.bikePage1[r].price,"EUR"))}}function Wx(e,t){if(1&e&&s.YNc(0,Kx,7,8,"div",11),2&e){var n=t.index,r=s.oxw();s.Q6J("ngIf",n<5&&!r.isMobile||n<3&&r.isMobile)}}function Jx(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",12),s.NdJ("click",function(){s.CHM(n);var e=s.oxw().index;return s.oxw().toDetail(e,"parts")}),s._UZ(1,"img",13),s.TgZ(2,"div"),s._uU(3),s.qZA(),s.TgZ(4,"div"),s._uU(5),s.ALo(6,"currency"),s.qZA(),s.qZA()}if(2&e){var r=s.oxw().index,i=s.oxw();s.Q6J("routerLink",s.DdM(7,Gx)),s.xp6(1),s.s9C("src",i.parts[r].img,s.LSH),s.xp6(2),s.Oqu(i.parts[r].title),s.xp6(2),s.Oqu(s.xi3(6,4,i.parts[r].price,"EUR"))}}function Yx(e,t){if(1&e&&s.YNc(0,Jx,7,8,"div",11),2&e){var n=t.index,r=s.oxw();s.Q6J("ngIf",n<5&&!r.isMobile||n<3&&r.isMobile)}}function Qx(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",12),s.NdJ("click",function(){s.CHM(n);var e=s.oxw().index;return s.oxw().toDetail(e,"accessories")}),s._UZ(1,"img",13),s.TgZ(2,"div"),s._uU(3),s.qZA(),s.TgZ(4,"div"),s._uU(5),s.ALo(6,"currency"),s.qZA(),s.qZA()}if(2&e){var r=s.oxw().index,i=s.oxw();s.Q6J("routerLink",s.DdM(7,Gx)),s.xp6(1),s.s9C("src",i.accessories[r].img,s.LSH),s.xp6(2),s.Oqu(i.accessories[r].title),s.xp6(2),s.Oqu(s.xi3(6,4,i.accessories[r].price,"EUR"))}}function $x(e,t){if(1&e&&s.YNc(0,Qx,7,8,"div",11),2&e){var n=t.index,r=s.oxw();s.Q6J("ngIf",n<5&&!r.isMobile||n<3&&r.isMobile)}}var Xx=function(){return["/categories"]},eT=function(){return["/parts"]},tT=function(){return["/accessories"]},nT=function(){var e=function(){function e(t,n){h(this,e),this.http=t,this.itemService=n,this.isMobile=!1,this.routerpath=["categories","parts","accessories","clothing"],this.categories=[],this.homeProducts=this.itemService.homeProducts,this.categories=this.itemService.items,this.bikePage1=this.itemService.bikePage1,this.parts=this.itemService.parts,this.accessories=this.itemService.accessories}return f(e,[{key:"ngOnInit",value:function(){var e=this;window.onresize=function(){return e.isMobile=window.innerWidth<=400},document.documentElement.clientWidth<400&&(this.isMobile=!0)}},{key:"toDetail",value:function(e,t){return"bikePage1"==t?this.itemService.getToDetail(this.bikePage1[e].id,t):"parts"==t?this.itemService.getToDetail(this.parts[e].id,t):"accessories"==t?this.itemService.getToDetail(this.accessories[e].id,t):void 0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(gt),s.Y36(Vx))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-shopfor"]],decls:39,vars:16,consts:[[1,"main"],[1,"body"],[1,"line"],[1,"title"],[1,"left"],[1,"categories"],["ngFor","",3,"ngForOf"],[1,"right"],["routerLinkActive","router-link-active",3,"routerLink"],["routerLinkActive","router-link-active",1,"card",3,"routerLink"],["alt","lens",1,"shopforimg",3,"src"],["class","card-two","routerLinkActive","router-link-active",3,"routerLink","click",4,"ngIf"],["routerLinkActive","router-link-active",1,"card-two",3,"routerLink","click"],["alt","lens",1,"bikesimg",3,"src"]],template:function(e,t){1&e&&(s._UZ(0,"app-slide"),s.TgZ(1,"div",0),s.TgZ(2,"div",1),s._UZ(3,"div",2),s.qZA(),s.TgZ(4,"div",3),s.TgZ(5,"div",4),s._uU(6,"SHOP FOR"),s.qZA(),s.qZA(),s.TgZ(7,"div",5),s.YNc(8,Bx,4,3,"ng-template",6),s.qZA(),s.TgZ(9,"div",1),s._UZ(10,"div",2),s.qZA(),s.TgZ(11,"div",3),s.TgZ(12,"div",4),s._uU(13),s.qZA(),s.TgZ(14,"div",7),s.TgZ(15,"a",8),s._uU(16),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"div",5),s.YNc(18,Wx,1,1,"ng-template",6),s.qZA(),s.TgZ(19,"div",1),s._UZ(20,"div",2),s.qZA(),s.TgZ(21,"div",3),s.TgZ(22,"div",4),s._uU(23),s.qZA(),s.TgZ(24,"div",7),s.TgZ(25,"a",8),s._uU(26),s.qZA(),s.qZA(),s.qZA(),s.TgZ(27,"div",5),s.YNc(28,Yx,1,1,"ng-template",6),s.qZA(),s.TgZ(29,"div",1),s._UZ(30,"div",2),s.qZA(),s.TgZ(31,"div",3),s.TgZ(32,"div",4),s._uU(33),s.qZA(),s.TgZ(34,"div",7),s.TgZ(35,"a",8),s._uU(36),s.qZA(),s.qZA(),s.qZA(),s.TgZ(37,"div",5),s.YNc(38,$x,1,1,"ng-template",6),s.qZA(),s.qZA()),2&e&&(s.xp6(8),s.Q6J("ngForOf",t.homeProducts),s.xp6(5),s.Oqu(t.categories[0]),s.xp6(2),s.Q6J("routerLink",s.DdM(13,Xx)),s.xp6(1),s.hij("More ",t.categories[0]," >"),s.xp6(2),s.Q6J("ngForOf",t.bikePage1),s.xp6(5),s.Oqu(t.categories[1]),s.xp6(2),s.Q6J("routerLink",s.DdM(14,eT)),s.xp6(1),s.hij("More ",t.categories[1],">"),s.xp6(2),s.Q6J("ngForOf",t.parts),s.xp6(5),s.Oqu(t.categories[2]),s.xp6(2),s.Q6J("routerLink",s.DdM(15,tT)),s.xp6(1),s.hij("More ",t.categories[2],">"),s.xp6(2),s.Q6J("ngForOf",t.accessories))},directives:[Hx,Q,ka,ba,ya,X],pipes:[ie],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:column}.body[_ngcontent-%COMP%]{padding-top:40px;display:flex;flex-direction:row;justify-content:center}.line[_ngcontent-%COMP%]{width:95%;border-top:solid;border-width:1px;border-color:#cccbcb}.title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.categories[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.card[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:center;flex-direction:column;align-items:center;background-color:#ededed;cursor:pointer;width:22%}@media (max-width: 760px){.categories[_ngcontent-%COMP%]{flex-wrap:wrap}.card[_ngcontent-%COMP%]{margin:5%;width:40%}.shopforimg[_ngcontent-%COMP%]{height:50%}}@media (max-width: 400px){.categories[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.card-two[_ngcontent-%COMP%]{width:30%!important;font-size:small}}.card-two[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:center;flex-direction:column;align-items:center;background-color:#ededed;cursor:pointer;width:18%}.shopforimg[_ngcontent-%COMP%]{height:70%;width:100%;-o-object-fit:cover;object-fit:cover}.bikesimg[_ngcontent-%COMP%]{width:100%;height:70%;-o-object-fit:cover;object-fit:cover}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#000}"]}),e}(),rT=function(){var e=function(){function e(){h(this,e),this.items=[],this.cartCount=0,this.total=0}return f(e,[{key:"addToCart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.items.find(function(t){return t.product.id==e.id});null!=n?n.quantity+=t:this.items.push(new iT(e,t)),this.calculate()}},{key:"calculate",value:function(){var e=this;this.cartCount=0,this.total=0,this.items.forEach(function(t){e.cartCount+=t.quantity,e.total+=t.quantity*t.product.price}),localStorage.setItem("items",JSON.stringify(this.items)),localStorage.setItem("total",JSON.stringify(this.total)),localStorage.setItem("cartCount",JSON.stringify(this.cartCount))}},{key:"autoGetLocalStorage",value:function(){var e=JSON.parse(localStorage.getItem("items"));e&&(this.items=e,this.total=JSON.parse(localStorage.getItem("total")),this.cartCount=JSON.parse(localStorage.getItem("cartCount")))}},{key:"removeItem",value:function(e){var t=this.items.findIndex(function(t){return t.product.id==e});this.items.splice(t,1),this.calculate()}},{key:"updateQuantity",value:function(e,t){var n=this.items.find(function(t){return t.product.id==e.id});null!=n&&(n.quantity=t),this.calculate()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),iT=function e(t,n){h(this,e),this.product=t,this.quantity=n},oT=function(){var e=function(){function e(){h(this,e)}return f(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-horizontalline"]],decls:2,vars:0,consts:[[1,"body"],[1,"line"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"div",1),s.qZA())},styles:[".body[_ngcontent-%COMP%]{padding-top:40px;display:flex;flex-direction:row;justify-content:center}.line[_ngcontent-%COMP%]{width:95%;border-top:solid;border-width:1px;border-color:#cccbcb}"]}),e}(),aT=function(){var e=function(){function e(t,n){h(this,e),this.itemService=t,this.cart=n}return f(e,[{key:"ngOnInit",value:function(){var e=this;if(this.selectedId=this.itemService.toDetailData,"bikePage1"==this.itemService.toCategorieName){var t=this.itemService.bikePage1.findIndex(function(t){return t.id===e.selectedId});this.data=this.itemService.bikePage1[t]}"parts"==this.itemService.toCategorieName&&(t=this.itemService.parts.findIndex(function(t){return t.id===e.selectedId}),this.data=this.itemService.parts[t]),"accessories"==this.itemService.toCategorieName&&(t=this.itemService.accessories.findIndex(function(t){return t.id===e.selectedId}),this.data=this.itemService.accessories[t]),"clothing"==this.itemService.toCategorieName&&(t=this.itemService.clothing.findIndex(function(t){return t.id===e.selectedId}),this.data=this.itemService.clothing[t])}},{key:"addToCart",value:function(e){return this.cart.addToCart(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(Vx),s.Y36(rT))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-details"]],decls:15,vars:7,consts:[[1,"main"],[1,"main-row"],["alt","lens",3,"src"],[1,"mr-right"],[1,"title"],[1,"price"],[1,"btn",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"app-horizontalline"),s.TgZ(2,"div",1),s._UZ(3,"img",2),s.TgZ(4,"div",3),s.TgZ(5,"div",4),s._uU(6),s.qZA(),s.TgZ(7,"div",5),s._uU(8),s.ALo(9,"currency"),s.qZA(),s.TgZ(10,"button",6),s.NdJ("click",function(){return t.addToCart(t.data)}),s._uU(11,"ADD TO CART"),s.qZA(),s._UZ(12,"app-horizontalline"),s.TgZ(13,"div"),s._uU(14),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.s9C("src",t.data.img,s.LSH),s.xp6(3),s.Oqu(t.data.title),s.xp6(2),s.Oqu(s.xi3(9,4,t.data.price,"EUR")),s.xp6(6),s.Oqu(t.data.description))},directives:[oT],pipes:[ie],styles:[".main-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.main-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:15px}img[_ngcontent-%COMP%]{width:40%;height:60%;margin-right:30px;-o-object-fit:cover;object-fit:cover;border-radius:5px}.mr-right[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn[_ngcontent-%COMP%]{width:150px;background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}@media only screen and (max-width: 400px){.main-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}img[_ngcontent-%COMP%]{margin-top:10px;width:80%!important;height:auto}}"]}),e}(),uT=["navm"],sT=["body"],cT=["cartHTML"],lT=function(){return["/login"]};function fT(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",34),s.NdJ("click",function(){return s.CHM(n),s.oxw().onClose()}),s.TgZ(1,"a",9),s._uU(2,"Sign in"),s.qZA(),s.qZA()}2&e&&(s.xp6(1),s.Q6J("routerLink",s.DdM(1,lT)))}var hT=function(){return["/signup"]};function dT(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",34),s.NdJ("click",function(){return s.CHM(n),s.oxw().onClose()}),s.TgZ(1,"a",9),s._uU(2,"Create an Account"),s.qZA(),s.qZA()}2&e&&(s.xp6(1),s.Q6J("routerLink",s.DdM(1,hT)))}var pT=function(){return["/shopfor"]};function vT(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",34),s.NdJ("click",function(){return s.CHM(n),s.oxw().onClose()}),s.TgZ(1,"a",35),s.NdJ("click",function(){return s.CHM(n),s.oxw().logOut()}),s._uU(2,"Logout"),s.qZA(),s.qZA()}2&e&&(s.xp6(1),s.Q6J("routerLink",s.DdM(1,pT)))}function gT(e,t){1&e&&(s.TgZ(0,"div",36),s.TgZ(1,"a",9),s._uU(2,"Sign in"),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("routerLink",s.DdM(1,lT)))}function mT(e,t){1&e&&(s.TgZ(0,"div",37),s._uU(1,"or"),s.qZA())}function yT(e,t){1&e&&(s.TgZ(0,"div",38),s.TgZ(1,"a",9),s._uU(2,"Create an Account"),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("routerLink",s.DdM(1,hT)))}function kT(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",38),s.TgZ(1,"a",35),s.NdJ("click",function(){return s.CHM(n),s.oxw().logOut()}),s._uU(2,"Logout"),s.qZA(),s.qZA()}2&e&&(s.xp6(1),s.Q6J("routerLink",s.DdM(1,pT)))}function wT(e,t){if(1&e&&(s.TgZ(0,"div",39),s._uU(1),s.qZA()),2&e){var n=s.oxw();s.xp6(1),s.Oqu(n.cart.cartCount)}}var bT=function(){return["/"]},_T=function(){return["/categories"]},xT=function(){return["/parts"]},TT=function(){return["/accessories"]},IT=function(){return["/clothing"]},ST=function(){return["/cart"]},CT=function(){var e=function(){function e(t,n,r){h(this,e),this.itemservice=t,this.cart=n,this.authService=r,this.validCartCount=!0,this.isAuthenticated=!0}return f(e,[{key:"ngOnInit",value:function(){var e=this;this.cart.autoGetLocalStorage(),this.items=this.itemservice.items,this.biketypes=this.itemservice.biketypes,this.authService.user.subscribe(function(t){t||(e.isAuthenticated=!1),t&&(e.isAuthenticated=!0)})}},{key:"ngOnChanges",value:function(){}},{key:"logOut",value:function(){this.authService.logOut()}},{key:"openNavm",value:function(){this.navm.nativeElement.classList.add("show"),this.body.nativeElement.classList.add("show"),this.cartHTML.nativeElement.classList.add("show")}},{key:"onClose",value:function(){this.navm.nativeElement.classList.remove("show"),this.body.nativeElement.classList.remove("show"),this.cartHTML.nativeElement.classList.remove("show")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(Vx),s.Y36(rT),s.Y36(za))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-navbar"]],viewQuery:function(e,t){var n;(1&e&&(s.Gf(uT,5),s.Gf(sT,5),s.Gf(cT,5)),2&e)&&(s.iGM(n=s.CRH())&&(t.navm=n.first),s.iGM(n=s.CRH())&&(t.body=n.first),s.iGM(n=s.CRH())&&(t.cartHTML=n.first))},features:[s.TTD],decls:70,vars:54,consts:[[1,"body"],["body",""],[1,"main"],[1,"navbar"],["navbar",""],[1,"navm"],["navm",""],[1,"navm-first"],[1,"icon",3,"click"],["routerLinkActive","router-link-active",3,"routerLink"],[3,"click"],[1,"fas","fa-times"],[1,"navm-list"],[1,"navm-items",3,"click"],["class","",3,"click",4,"ngIf"],[1,"hamburger",3,"click"],[1,"fas","fa-bars"],[1,"icon"],[1,"right"],[1,"right-search","right-search2"],["class","right-text bold",4,"ngIf"],["class","right-middle right-text",4,"ngIf"],[1,"right-cart","right-search"],["class","right-right-text bold",4,"ngIf"],["routerLinkActive","router-link-active",1,"cart",3,"routerLink"],["cartHTML",""],[1,"fas","fa-shopping-basket"],["class","cart-circle",4,"ngIf"],[1,"categories2"],[1,"categories"],[1,"all"],[1,"cameras"],[1,"camerasc"],[1,"cameras2"],[1,"",3,"click"],["routerLinkActive","router-link-active",3,"routerLink","click"],[1,"right-text","bold"],[1,"right-middle","right-text"],[1,"right-right-text","bold"],[1,"cart-circle"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0,1),s.TgZ(2,"div",2),s.TgZ(3,"div",3,4),s.TgZ(5,"div",5,6),s.TgZ(7,"div",7),s.TgZ(8,"div",8),s.NdJ("click",function(){return t.onClose()}),s.TgZ(9,"a",9),s._uU(10,"Bike SHOP"),s.qZA(),s.qZA(),s.TgZ(11,"div",10),s.NdJ("click",function(){return t.onClose()}),s._UZ(12,"i",11),s.qZA(),s.qZA(),s.TgZ(13,"ul",12),s.TgZ(14,"div",13),s.NdJ("click",function(){return t.onClose()}),s.TgZ(15,"a",9),s._uU(16),s.ALo(17,"uppercase"),s.qZA(),s.qZA(),s.TgZ(18,"div",13),s.NdJ("click",function(){return t.onClose()}),s.TgZ(19,"a",9),s._uU(20),s.ALo(21,"uppercase"),s.qZA(),s.qZA(),s.TgZ(22,"div",13),s.NdJ("click",function(){return t.onClose()}),s.TgZ(23,"a",9),s._uU(24),s.ALo(25,"uppercase"),s.qZA(),s.qZA(),s.TgZ(26,"div",13),s.NdJ("click",function(){return t.onClose()}),s.TgZ(27,"a",9),s._uU(28),s.ALo(29,"uppercase"),s.qZA(),s.qZA(),s.YNc(30,fT,3,2,"div",14),s.YNc(31,dT,3,2,"div",14),s.YNc(32,vT,3,2,"div",14),s.qZA(),s.qZA(),s.TgZ(33,"div",15),s.NdJ("click",function(){return t.openNavm()}),s._UZ(34,"i",16),s.qZA(),s.TgZ(35,"div",17),s.TgZ(36,"a",9),s._uU(37,"Bike SHOP"),s.qZA(),s.qZA(),s.TgZ(38,"div",18),s.TgZ(39,"div",19),s.YNc(40,gT,3,2,"div",20),s.qZA(),s.YNc(41,mT,2,0,"div",21),s.TgZ(42,"div",22),s.YNc(43,yT,3,2,"div",23),s.YNc(44,kT,3,2,"div",23),s.TgZ(45,"div",24,25),s._UZ(47,"i",26),s._uU(48,"CART"),s.YNc(49,wT,2,1,"div",27),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(50,"div",28),s.TgZ(51,"div",29),s.TgZ(52,"div",30),s.TgZ(53,"div",31),s.TgZ(54,"a",9),s._uU(55),s.ALo(56,"uppercase"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(57,"div"),s.TgZ(58,"div",32),s.TgZ(59,"a",9),s._uU(60),s.ALo(61,"uppercase"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(62,"div",33),s.TgZ(63,"a",9),s._uU(64),s.ALo(65,"uppercase"),s.qZA(),s.qZA(),s.TgZ(66,"div"),s.TgZ(67,"a",9),s._uU(68),s.ALo(69,"uppercase"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(9),s.Q6J("routerLink",s.DdM(43,bT)),s.xp6(6),s.Q6J("routerLink",s.DdM(44,_T)),s.xp6(1),s.Oqu(s.lcZ(17,27,t.items[0])),s.xp6(3),s.Q6J("routerLink",s.DdM(45,xT)),s.xp6(1),s.Oqu(s.lcZ(21,29,t.items[1])),s.xp6(3),s.Q6J("routerLink",s.DdM(46,TT)),s.xp6(1),s.Oqu(s.lcZ(25,31,t.items[2])),s.xp6(3),s.Q6J("routerLink",s.DdM(47,IT)),s.xp6(1),s.Oqu(s.lcZ(29,33,t.items[3])),s.xp6(2),s.Q6J("ngIf",!t.isAuthenticated),s.xp6(1),s.Q6J("ngIf",!t.isAuthenticated),s.xp6(1),s.Q6J("ngIf",t.isAuthenticated),s.xp6(4),s.Q6J("routerLink",s.DdM(48,bT)),s.xp6(4),s.Q6J("ngIf",!t.isAuthenticated),s.xp6(1),s.Q6J("ngIf",!t.isAuthenticated),s.xp6(2),s.Q6J("ngIf",!t.isAuthenticated),s.xp6(1),s.Q6J("ngIf",t.isAuthenticated),s.xp6(1),s.Q6J("routerLink",s.DdM(49,ST)),s.xp6(4),s.Q6J("ngIf",t.validCartCount),s.xp6(5),s.Q6J("routerLink",s.DdM(50,_T)),s.xp6(1),s.Oqu(s.lcZ(56,35,t.items[0])),s.xp6(4),s.Q6J("routerLink",s.DdM(51,xT)),s.xp6(1),s.Oqu(s.lcZ(61,37,t.items[1])),s.xp6(3),s.Q6J("routerLink",s.DdM(52,TT)),s.xp6(1),s.Oqu(s.lcZ(65,39,t.items[2])),s.xp6(3),s.Q6J("routerLink",s.DdM(53,IT)),s.xp6(1),s.Oqu(s.lcZ(69,41,t.items[3])))},directives:[ka,ba,X,ya],pipes:[re],styles:['@import"https://fonts.googleapis.com/css2?family=Pacifico&display=swap";.bold[_ngcontent-%COMP%]{font-weight:bold}.body[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.main[_ngcontent-%COMP%]{width:1000px}#cart-mobile[_ngcontent-%COMP%]{display:none}.navbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:5% 0;color:#fbf4e9;position:relative}a[_ngcontent-%COMP%]{text-decoration:none;color:#fbf4e9}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fbf4e9}.icon[_ngcontent-%COMP%]{font-size:30px;font-family:"Pacifico",cursive}.right[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;width:60%}input[type=search][_ngcontent-%COMP%]::-webkit-search-decoration, input[type=search][_ngcontent-%COMP%]::-webkit-search-cancel-button, input[type=search][_ngcontent-%COMP%]::-webkit-search-results-button, input[type=search][_ngcontent-%COMP%]::-webkit-search-results-decoration{display:none}.cart[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:10px 15px;background-color:#021320;border-radius:30px;font-size:15px;cursor:pointer;position:relative}.fa-shopping-basket[_ngcontent-%COMP%]{margin-right:7px}.right-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column}.right-text[_ngcontent-%COMP%]{margin-bottom:10px;font-size:10px;margin-right:10px}.right-right-text[_ngcontent-%COMP%]{margin-bottom:10px;font-size:10px;margin-left:10px}.right-middle[_ngcontent-%COMP%]{margin:0 10px}.right-search[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.cart-circle[_ngcontent-%COMP%]{border-radius:50%;width:25px;height:25px;line-height:27px;text-align:center;background-color:#c23e3e;position:absolute;right:-10px;top:-10px;color:#0b283d}.categories2[_ngcontent-%COMP%]{position:relative}.categories[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:80%;font-size:13px;color:#f3f1f5;padding-bottom:15px;font-weight:200}.fa-chevron-down[_ngcontent-%COMP%]{margin-left:5px}.all[_ngcontent-%COMP%]:hover   .dropdown[_ngcontent-%COMP%], .cameras[_ngcontent-%COMP%]:hover   .dropdown[_ngcontent-%COMP%]:hover{display:block;height:auto}.dropdown[_ngcontent-%COMP%]{position:absolute;top:20px;display:none;background-color:#fff;width:15%;padding:20px;transform:all .1s ease-in-out}.dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;font-size:13px;color:#7b7bb4;font-weight:500;margin-bottom:20px;cursor:pointer}.categories[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer}.toggle-menu[_ngcontent-%COMP%]{display:none}.navm[_ngcontent-%COMP%]{background-color:#0b283d;width:80%;height:100vh;z-index:9990;position:fixed;top:0;left:-100%;padding:5px 15px;transition:all .5s linear}.navm-first[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.navm-first[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:30px!important}.navm-first[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{margin:0 15px;font-size:20px}.navm-list[_ngcontent-%COMP%]{margin-top:20px;height:40vh;display:flex;flex-direction:column;justify-content:space-between}.hamburger[_ngcontent-%COMP%]{display:none}.fas[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 1050px){.main[_ngcontent-%COMP%]{width:90%}}@media only screen and (max-width: 768px){.hamburger[_ngcontent-%COMP%]{display:block;font-size:20px;cursor:pointer}.navm.show[_ngcontent-%COMP%]{left:0}.body.show[_ngcontent-%COMP%]{background-color:#87aaaa}.cart.show[_ngcontent-%COMP%]{background-color:#0b283d}.right-search2[_ngcontent-%COMP%]{display:none}.right-middle[_ngcontent-%COMP%]{display:none}.categories2[_ngcontent-%COMP%]{display:none}.right-right-text[_ngcontent-%COMP%]{display:none}.right[_ngcontent-%COMP%]{width:auto}@media (max-width: 398px){.icon[_ngcontent-%COMP%]{font-size:medium}}}']}),e}();function ET(e,t){1&e&&(s.TgZ(0,"div",15),s._uU(1,"Subscription is successfull!"),s.qZA())}function AT(e,t){1&e&&(s.TgZ(0,"div",15),s._uU(1,"Subscription is successfull!"),s.qZA())}var RT=function(){var e=function(){function e(t){h(this,e),this.afs=t,this.successSub=!1,this.emailList=[]}return f(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(e){var t={email:e.value.email};this.afs.collection("subscriptions").add(t),this.successSub=!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(Ox))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-footer"]],decls:39,vars:2,consts:[[1,"main"],[1,"top"],[1,"first"],[1,"second"],[1,"third"],[1,"middle"],[1,"newsletter-form",3,"ngSubmit"],["subsForm","ngForm"],["ngModel","","type","email","name","email","placeholder","Email Adress"],[1,"btn"],["class","subText",4,"ngIf"],[1,"mobile-layout","flex-center"],[1,"first-mobile","flex-center"],[1,"second-mobile","flex-center"],[1,"third-mobile"],[1,"subText"]],template:function(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s._uU(3,"QUICK LINKS"),s.qZA(),s.TgZ(4,"div",3),s._uU(5,"GET IN TOUCH"),s.qZA(),s.TgZ(6,"div",4),s._uU(7,"NEWSLETTER"),s.qZA(),s.qZA(),s.TgZ(8,"div",5),s.TgZ(9,"div",2),s.TgZ(10,"div"),s._uU(11,"Contact"),s.qZA(),s.qZA(),s.TgZ(12,"div",3),s._uU(13," Sign up to stay in the loop. Receive updates, access to exclusive deals, and more. "),s.qZA(),s.TgZ(14,"div",4),s.TgZ(15,"form",6,7),s.NdJ("ngSubmit",function(){s.CHM(n);var e=s.MAs(16);return t.onSubmit(e)}),s._UZ(17,"input",8),s.TgZ(18,"button",9),s._uU(19,"SIGN UP"),s.qZA(),s.qZA(),s.YNc(20,ET,2,0,"div",10),s.qZA(),s.qZA(),s.TgZ(21,"div",11),s.TgZ(22,"div",12),s.TgZ(23,"div"),s._uU(24,"QUICK LINKS"),s.qZA(),s.TgZ(25,"div"),s._uU(26,"Contact"),s.qZA(),s.qZA(),s.TgZ(27,"div",13),s.TgZ(28,"div"),s._uU(29,"GET IN TOUCH"),s.qZA(),s.TgZ(30,"div"),s._uU(31,"Sign up to stay in the loop. Receive updates, access to exclusive deals, and more."),s.qZA(),s.qZA(),s.TgZ(32,"div",14),s.TgZ(33,"form",6,7),s.NdJ("ngSubmit",function(){s.CHM(n);var e=s.MAs(16);return t.onSubmit(e)}),s._UZ(35,"input",8),s.TgZ(36,"button",9),s._uU(37,"SIGN UP"),s.qZA(),s.YNc(38,AT,2,0,"div",10),s.qZA(),s.qZA(),s.qZA(),s.qZA()}2&e&&(s.xp6(20),s.Q6J("ngIf",t.successSub),s.xp6(18),s.Q6J("ngIf",t.successSub))},directives:[Pn,sn,An,Vt,un,Nn,X],styles:[".main[_ngcontent-%COMP%]{padding:30px 0}.top[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.middle[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-direction:row;justify-content:space-between}.first[_ngcontent-%COMP%]{width:15%}.second[_ngcontent-%COMP%]{width:50%;padding-left:20px}.third[_ngcontent-%COMP%]{width:30%;float:inline-end}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}input[_ngcontent-%COMP%]{padding:10px 5px;background-color:#747474;border:none;outline-style:none;color:#fff;border-radius:5px}input[_ngcontent-%COMP%]::-moz-placeholder{color:#fbf4e9;opacity:.9}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#fbf4e9;opacity:.9}input[_ngcontent-%COMP%]::placeholder{color:#fbf4e9;opacity:.9}.body[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.line[_ngcontent-%COMP%]{width:95%;border-top:solid;border-width:1px;border-color:#cccbcb}.newsletter-form[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.mobile-layout[_ngcontent-%COMP%]{display:none}.subText[_ngcontent-%COMP%]{color:#a9333a}@media (max-width: 768px){.top[_ngcontent-%COMP%]{display:none}.middle[_ngcontent-%COMP%]{display:none}.flex-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.newsletter-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.newsletter-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:5px}.newsletter-form[_ngcontent-%COMP%]   subText[_ngcontent-%COMP%]{margin-top:5px}}"]}),e}(),OT=["page1"],NT=["page2"],PT=function(){return["/details"]};function DT(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",11,12),s.NdJ("click",function(){var e=s.CHM(n).index;return s.oxw(2).toDetail(e,"bikePage1")}),s._UZ(2,"img",13),s.TgZ(3,"div",14),s._uU(4),s.qZA(),s.TgZ(5,"div",15),s._uU(6),s.ALo(7,"currency"),s.qZA(),s.qZA()}if(2&e){var r=t.index,i=s.oxw(2);s.Q6J("routerLink",s.DdM(7,PT)),s.xp6(2),s.s9C("src",i.itemservice.bikePage1[r].img,s.LSH),s.xp6(2),s.Oqu(i.itemservice.bikePage1[r].title),s.xp6(2),s.Oqu(s.xi3(7,4,i.itemservice.bikePage1[r].price,"EUR"))}}function LT(e,t){if(1&e&&s.YNc(0,DT,8,8,"ng-template",10),2&e){var n=s.oxw();s.Q6J("ngForOf",n.bikePage1)}}function MT(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",16,17),s.NdJ("click",function(){var e=s.CHM(n).index;return s.oxw(2).toDetail(e,"bikePage1")}),s._UZ(2,"img",13),s.TgZ(3,"div",14),s._uU(4),s.qZA(),s.TgZ(5,"div",15),s._uU(6),s.ALo(7,"currency"),s.qZA(),s.qZA()}if(2&e){var r=t.index,i=s.oxw(2);s.Q6J("routerLink",s.DdM(7,PT)),s.xp6(2),s.s9C("src",i.itemservice.bikePage2[r].img,s.LSH),s.xp6(2),s.Oqu(i.itemservice.bikePage2[r].title),s.xp6(2),s.Oqu(s.xi3(7,4,i.itemservice.bikePage2[r].price,"EUR"))}}function FT(e,t){if(1&e&&s.YNc(0,MT,8,8,"ng-template",10),2&e){var n=s.oxw();s.Q6J("ngForOf",n.bikePage2)}}var UT=function(){return[" "]},VT=function(){return["/details"]};function ZT(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",6,7),s.NdJ("click",function(){var e=s.CHM(n).index;return s.oxw().toDetail(e,"clothing")}),s._UZ(2,"img",8),s.TgZ(3,"div",9),s._uU(4),s.qZA(),s.TgZ(5,"div",10),s._uU(6),s.ALo(7,"currency"),s.qZA(),s.qZA()}if(2&e){var r=t.index,i=s.oxw();s.Q6J("routerLink",s.DdM(7,VT)),s.xp6(2),s.s9C("src",i.itemservice.clothing[r].img,s.LSH),s.xp6(2),s.Oqu(i.itemservice.clothing[r].title),s.xp6(2),s.Oqu(s.xi3(7,4,i.itemservice.clothing[r].price,"EUR"))}}var qT=function(){return[" "]},jT=function(){return["/details"]};function zT(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",6,7),s.NdJ("click",function(){var e=s.CHM(n).index;return s.oxw().toDetail(e,"parts")}),s._UZ(2,"img",8),s.TgZ(3,"div",9),s._uU(4),s.qZA(),s.TgZ(5,"div",10),s._uU(6),s.ALo(7,"currency"),s.qZA(),s.qZA()}if(2&e){var r=t.index,i=s.oxw();s.Q6J("routerLink",s.DdM(7,jT)),s.xp6(2),s.s9C("src",i.itemservice.parts[r].img,s.LSH),s.xp6(2),s.Oqu(i.itemservice.parts[r].title),s.xp6(2),s.Oqu(s.xi3(7,4,i.itemservice.parts[r].price,"EUR"))}}var HT=function(){return[" "]},BT=function(){return["/details"]};function GT(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",6,7),s.NdJ("click",function(){var e=s.CHM(n).index;return s.oxw().toDetail(e,"accessories")}),s._UZ(2,"img",8),s.TgZ(3,"div",9),s._uU(4),s.qZA(),s.TgZ(5,"div",10),s._uU(6),s.ALo(7,"currency"),s.qZA(),s.qZA()}if(2&e){var r=t.index,i=s.oxw();s.Q6J("routerLink",s.DdM(7,BT)),s.xp6(2),s.s9C("src",i.itemservice.accessories[r].img,s.LSH),s.xp6(2),s.Oqu(i.itemservice.accessories[r].title),s.xp6(2),s.Oqu(s.xi3(7,4,i.itemservice.accessories[r].price,"EUR"))}}var KT=function(){return[" "]};function WT(e,t){if(1&e&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&e){var n=s.oxw();s.xp6(1),s.hij("You have ",n.cart.cartCount," product in your cart.")}}function JT(e,t){if(1&e&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&e){var n=s.oxw();s.xp6(1),s.hij("You have ",n.cart.cartCount," products in your cart.")}}function YT(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",11),s._UZ(1,"img",12),s.TgZ(2,"div",13),s._uU(3),s.qZA(),s.TgZ(4,"div",14),s._uU(5),s.qZA(),s.TgZ(6,"div",15),s._uU(7),s.ALo(8,"currency"),s.qZA(),s.TgZ(9,"form",16,17),s.NdJ("ngSubmit",function(){var e=s.CHM(n).index,t=s.MAs(10),r=s.oxw(2);return r.updateQuantity(t,r.cart.items[e].product)}),s._UZ(11,"input",18,19),s.TgZ(13,"button",20),s._uU(14,"Change"),s.qZA(),s.qZA(),s.TgZ(15,"i",21),s.NdJ("click",function(){var e=s.CHM(n).index,t=s.oxw(2);return t.removeItem(t.cart.items[e].product.id)}),s.qZA(),s.qZA()}if(2&e){var r=t.index,i=s.oxw(2);s.xp6(1),s.s9C("src",i.cart.items[r].product.img,s.LSH),s.xp6(2),s.Oqu(i.cart.items[r].product.title),s.xp6(2),s.hij("x",i.cart.items[r].quantity,""),s.xp6(2),s.Oqu(s.xi3(8,4,i.cart.items[r].product.price,"EUR"))}}function QT(e,t){if(1&e&&s.YNc(0,YT,16,7,"ng-template",10),2&e){var n=s.oxw();s.Q6J("ngForOf",n.cart.items)}}function $T(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",22),s.TgZ(1,"div",11),s._UZ(2,"img",12),s.TgZ(3,"div",15),s._uU(4),s.ALo(5,"currency"),s.qZA(),s.TgZ(6,"form",16,17),s.NdJ("ngSubmit",function(){var e=s.CHM(n).index,t=s.MAs(7),r=s.oxw(2);return r.updateQuantity(t,r.cart.items[e].product)}),s._UZ(8,"input",18,19),s.TgZ(10,"button",20),s._uU(11,"Change"),s.qZA(),s.qZA(),s.TgZ(12,"i",21),s.NdJ("click",function(){var e=s.CHM(n).index,t=s.oxw(2);return t.removeItem(t.cart.items[e].product.id)}),s.qZA(),s.qZA(),s.TgZ(13,"div",23),s.TgZ(14,"div",13),s._uU(15),s.qZA(),s.TgZ(16,"div",14),s._uU(17),s.qZA(),s.qZA(),s.qZA()}if(2&e){var r=t.index,i=s.oxw(2);s.xp6(2),s.s9C("src",i.cart.items[r].product.img,s.LSH),s.xp6(2),s.Oqu(s.xi3(5,4,i.cart.items[r].product.price,"EUR")),s.xp6(11),s.Oqu(i.cart.items[r].product.title),s.xp6(2),s.hij("x",i.cart.items[r].quantity,"")}}function XT(e,t){if(1&e&&s.YNc(0,$T,18,7,"ng-template",10),2&e){var n=s.oxw();s.Q6J("ngForOf",n.cart.items)}}var eI=function(){return["/payment"]};function tI(e,t){1&e&&(s.TgZ(0,"button",24),s._UZ(1,"i",25),s._uU(2," CHECKOUT"),s.qZA()),2&e&&s.Q6J("routerLink",s.DdM(1,eI))}var nI=function(){return["/login"]};function rI(e,t){1&e&&(s.TgZ(0,"button",24),s._UZ(1,"i",25),s._uU(2," CHECKOUT"),s.qZA()),2&e&&s.Q6J("routerLink",s.DdM(1,nI))}var iI=["saveAdress"],oI=[{path:"",component:function(){var e=function(){function e(t){h(this,e),this.authService=t}return f(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(za))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-layout"]],decls:7,vars:0,consts:[[1,"body"],[1,"navbar"],[1,"outlet"],[1,"outlet2"],[1,"footer"],[1,"footer2"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"app-navbar",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s._UZ(4,"router-outlet"),s.qZA(),s.qZA(),s.TgZ(5,"div",4),s._UZ(6,"app-footer",5),s.qZA(),s.qZA())},directives:[CT,_a,RT],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;700&display=swap";.body[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;display:flex;flex-direction:column}.navbar[_ngcontent-%COMP%]{background-color:#0b283d;position:sticky;top:0;display:flex;flex-direction:column;justify-content:space-between;align-items:center;z-index:990}.outlet[_ngcontent-%COMP%]{background-color:#f6f6f6;display:flex;flex-direction:column;align-items:center;z-index:9!important}.outlet2[_ngcontent-%COMP%]{width:1000px}.footer[_ngcontent-%COMP%]{background-color:#eee;display:flex;flex-direction:column;align-items:center;margin-top:20px}.footer2[_ngcontent-%COMP%]{width:1000px}@media (max-width: 1050px){.footer2[_ngcontent-%COMP%]{width:90%}.outlet2[_ngcontent-%COMP%]{width:90%}}']}),e}(),children:[{path:"",component:nT},{path:"login",component:Mx},{path:"signup",component:Ux},{path:"categories",component:function(){var e=function(){function e(t){h(this,e),this.itemservice=t,this.isMobile=!1}return f(e,[{key:"ChoosePage2",value:function(){this.page2.nativeElement.classList.add("active-card"),this.page1.nativeElement.classList.remove("active-card")}},{key:"ChoosePage1",value:function(){this.page1.nativeElement.classList.add("active-card"),this.page2.nativeElement.classList.remove("active-card")}},{key:"Adddata",value:function(){return this.itemservice.getDataFromCate("Ben gelen datayim")}},{key:"ngOnInit",value:function(){this.bikePage1=this.itemservice.bikePage1,this.bikePage2=this.itemservice.bikePage2}},{key:"ngAfterViewInit",value:function(){}},{key:"toDetail",value:function(e,t){return this.itemservice.getToDetail(this.itemservice.bikePage1[e].id,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(Vx))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-categories"]],viewQuery:function(e,t){var n;(1&e&&(s.Gf(OT,5),s.Gf(NT,5)),2&e)&&(s.iGM(n=s.CRH())&&(t.page1=n.first),s.iGM(n=s.CRH())&&(t.page2=n.first))},decls:22,vars:5,consts:[[1,"main"],[1,"first-row"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"second-row-cat"],[1,"main-row-cat"],[4,"ngIf"],[1,"third-row-cat"],[1,"fas","fa-long-arrow-alt-left","pageNumber","i-cat",3,"click"],[1,"pageNumber",3,"click"],[1,"fas","fa-long-arrow-alt-right","pageNumber","i-cat",3,"click"],["ngFor","",3,"ngForOf"],["routerLinkActive","router-link-active",1,"card-cat","active-card","card-mobile",3,"routerLink","click"],["page1",""],["alt","card",3,"src"],[1,"title"],[1,"price"],["routerLinkActive","router-link-active",1,"card-cat","card-mobile",3,"routerLink","click"],["page2",""]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div"),s.TgZ(3,"a",2),s._uU(4," Home "),s.qZA(),s._uU(5),s.qZA(),s._UZ(6,"app-horizontalline"),s.TgZ(7,"div",3),s._UZ(8,"div"),s.qZA(),s.TgZ(9,"div",4),s.YNc(10,LT,1,1,void 0,5),s.YNc(11,FT,1,1,void 0,5),s.qZA(),s._UZ(12,"app-horizontalline"),s.TgZ(13,"div",6),s.TgZ(14,"div"),s.TgZ(15,"i",7),s.NdJ("click",function(){return t.ChoosePage1()}),s.qZA(),s.qZA(),s.TgZ(16,"div",8),s.NdJ("click",function(){return t.ChoosePage1()}),s._uU(17,"1"),s.qZA(),s.TgZ(18,"div",8),s.NdJ("click",function(e){return t.ChoosePage2(),e.preventDefault()}),s._uU(19,"2"),s.qZA(),s.TgZ(20,"div"),s.TgZ(21,"i",9),s.NdJ("click",function(){return t.ChoosePage2()}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("routerLink",s.DdM(4,UT)),s.xp6(2),s.hij(" > ",t.itemservice.items[0]," "),s.xp6(5),s.Q6J("ngIf",!t.isMobile),s.xp6(1),s.Q6J("ngIf",!t.isMobile))},directives:[ka,ba,oT,X,Q,ya],pipes:[ie],styles:[""]}),e}()},{path:"details",component:aT},{path:"clothing",component:function(){var e=function(){function e(t){h(this,e),this.itemservice=t}return f(e,[{key:"ngOnInit",value:function(){this.clothing=this.itemservice.clothing}},{key:"toDetail",value:function(e,t){return this.itemservice.getToDetail(this.clothing[e].id,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(Vx))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-clothing"]],decls:12,vars:4,consts:[[1,"main"],[1,"first-row"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"second-row-cat"],[1,"main-row-cat"],["ngFor","",3,"ngForOf"],["routerLinkActive","router-link-active",1,"card-cat","active-card","card-mobile",3,"routerLink","click"],["page1",""],["alt","card",3,"src"],[1,"title"],[1,"price"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div"),s.TgZ(3,"a",2),s._uU(4," Home "),s.qZA(),s._uU(5),s.qZA(),s._UZ(6,"app-horizontalline"),s.TgZ(7,"div",3),s._UZ(8,"div"),s.qZA(),s.TgZ(9,"div",4),s.YNc(10,ZT,8,8,"ng-template",5),s.qZA(),s._UZ(11,"app-horizontalline"),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("routerLink",s.DdM(3,qT)),s.xp6(2),s.hij(" > ",t.itemservice.items[3]," "),s.xp6(5),s.Q6J("ngForOf",t.clothing))},directives:[ka,ba,oT,Q,ya],pipes:[ie],styles:[".sorting[_ngcontent-%COMP%]{position:relative;padding:0 10px}.featured[_ngcontent-%COMP%]:hover + .dropdown[_ngcontent-%COMP%]{display:block;height:auto}.dropdown[_ngcontent-%COMP%]{position:absolute;top:30px;display:none;height:0;background-color:#fff;padding:20px;transform:all .1s ease-in-out}.dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;font-size:13px;color:#7b7bb4;font-weight:500;margin-bottom:20px;cursor:pointer}.second-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.sr-right[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}i[_ngcontent-%COMP%]{margin:0 10px}.card[_ngcontent-%COMP%]{width:25vh;padding:20px;flex-direction:column;justify-content:center;display:none}.active[_ngcontent-%COMP%]{display:flex}.pageNumber2[_ngcontent-%COMP%]{cursor:pointer}.main-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap}.third-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}"]}),e}()},{path:"parts",component:function(){var e=function(){function e(t){h(this,e),this.itemservice=t}return f(e,[{key:"ngOnInit",value:function(){this.parts=this.itemservice.parts}},{key:"toDetail",value:function(e,t){return this.itemservice.getToDetail(this.parts[e].id,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(Vx))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-parts"]],decls:12,vars:4,consts:[[1,"main"],[1,"first-row"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"second-row-cat"],[1,"main-row-cat"],["ngFor","",3,"ngForOf"],["routerLinkActive","router-link-active",1,"card-cat","active-card","card-mobile",3,"routerLink","click"],["page1",""],["alt","card",3,"src"],[1,"title"],[1,"price"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div"),s.TgZ(3,"a",2),s._uU(4," Home "),s.qZA(),s._uU(5),s.qZA(),s._UZ(6,"app-horizontalline"),s.TgZ(7,"div",3),s._UZ(8,"div"),s.qZA(),s.TgZ(9,"div",4),s.YNc(10,zT,8,8,"ng-template",5),s.qZA(),s._UZ(11,"app-horizontalline"),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("routerLink",s.DdM(3,HT)),s.xp6(2),s.hij(" > ",t.itemservice.items[1]," "),s.xp6(5),s.Q6J("ngForOf",t.parts))},directives:[ka,ba,oT,Q,ya],pipes:[ie],styles:[""]}),e}()},{path:"accessories",component:function(){var e=function(){function e(t){h(this,e),this.itemservice=t}return f(e,[{key:"ngOnInit",value:function(){this.accessories=this.itemservice.accessories}},{key:"toDetail",value:function(e,t){return this.itemservice.getToDetail(this.accessories[e].id,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(Vx))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-accessories"]],decls:12,vars:4,consts:[[1,"main"],[1,"first-row"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"second-row-cat"],[1,"main-row-cat"],["ngFor","",3,"ngForOf"],["routerLinkActive","router-link-active",1,"card-cat","active-card","card-mobile",3,"routerLink","click"],["page1",""],["alt","card",3,"src"],[1,"title"],[1,"price"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div"),s.TgZ(3,"a",2),s._uU(4," Home "),s.qZA(),s._uU(5),s.qZA(),s._UZ(6,"app-horizontalline"),s.TgZ(7,"div",3),s._UZ(8,"div"),s.qZA(),s.TgZ(9,"div",4),s.YNc(10,GT,8,8,"ng-template",5),s.qZA(),s._UZ(11,"app-horizontalline"),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("routerLink",s.DdM(3,KT)),s.xp6(2),s.hij(" > ",t.itemservice.items[2]," "),s.xp6(5),s.Q6J("ngForOf",t.accessories))},directives:[ka,ba,oT,Q,ya],pipes:[ie],styles:[""]}),e}()},{path:"cart",component:function(){var e=function(){function e(t,n){h(this,e),this.cart=t,this.authService=n,this.isMobile=!1}return f(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.user.subscribe(function(t){t||(e.isAuthenticated=!1),t&&(e.isAuthenticated=!0)}),window.onresize=function(){return e.isMobile=window.innerWidth<=400},document.documentElement.clientWidth<400&&(this.isMobile=!0)}},{key:"removeItem",value:function(e){return this.cart.removeItem(e)}},{key:"updateQuantity",value:function(e,t){if(!e.invalid)return this.cart.updateQuantity(t,e.value.number)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(rT),s.Y36(za))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-cart"]],decls:24,vars:10,consts:[[1,"main"],[1,"first-row"],[1,"body"],[1,"line"],[4,"ngIf"],[1,"second-row2"],[1,"third-row"],[1,"fourth-row"],[1,"fif"],["class","btn","routerLinkActive","router-link-active",3,"routerLink",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"second-row"],["alt","lens",3,"src"],[1,"product-name"],[1,"amount"],[1,"preise"],[3,"ngSubmit"],["quantityForm","ngForm"],["ngModel","","type","number","name","number","placeholder","Amount",1,"input-change"],["inputQuantity",""],[1,"btn"],[1,"fas","fa-times","cancel-product",3,"click"],[1,"information"],[1,"sec-col"],["routerLinkActive","router-link-active",1,"btn",3,"routerLink"],[1,"fas","fa-shopping-basket"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div"),s._uU(3,"SHOPPING CART"),s.qZA(),s.qZA(),s.TgZ(4,"div",2),s._UZ(5,"div",3),s.qZA(),s.YNc(6,WT,2,1,"div",4),s.YNc(7,JT,2,1,"div",4),s.TgZ(8,"div",2),s._UZ(9,"div",3),s.qZA(),s.TgZ(10,"div",5),s.YNc(11,QT,1,1,void 0,4),s.YNc(12,XT,1,1,void 0,4),s.qZA(),s.TgZ(13,"div",2),s._UZ(14,"div",3),s.qZA(),s.TgZ(15,"div",6),s.TgZ(16,"div"),s._uU(17),s.ALo(18,"currency"),s.qZA(),s.qZA(),s.TgZ(19,"div",7),s._uU(20,"Shipping, taxes, and discounts will be calculated at checkout."),s.qZA(),s.TgZ(21,"div",8),s.YNc(22,tI,3,2,"button",9),s.YNc(23,rI,3,2,"button",9),s.qZA(),s.qZA()),2&e&&(s.xp6(6),s.Q6J("ngIf",0==t.cart.cartCount||1==t.cart.cartCount),s.xp6(1),s.Q6J("ngIf",t.cart.cartCount>1),s.xp6(4),s.Q6J("ngIf",!t.isMobile),s.xp6(1),s.Q6J("ngIf",t.isMobile),s.xp6(5),s.hij("Subtotal ",s.xi3(18,7,t.cart.total,"EUR"),""),s.xp6(5),s.Q6J("ngIf",t.isAuthenticated),s.xp6(1),s.Q6J("ngIf",!t.isAuthenticated))},directives:[X,Q,Pn,sn,An,Vt,Ln,un,Nn,ba,ya],pipes:[ie],styles:[".main[_ngcontent-%COMP%]{margin:100px;padding:20px}.body[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-direction:row;justify-content:center}.line[_ngcontent-%COMP%]{width:95%;border-top:solid;border-width:1px;border-color:#cccbcb}input[_ngcontent-%COMP%]{padding:10px 2px;background-color:#747474;border:none;outline-style:none;color:#fff;border-radius:5px;width:90px;margin-bottom:5px}input[_ngcontent-%COMP%]::-moz-placeholder{color:#fbf4e9;opacity:.9}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#fbf4e9;opacity:.9}input[_ngcontent-%COMP%]::placeholder{color:#fbf4e9;opacity:.9}.first-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.product-name[_ngcontent-%COMP%]{display:inline-block}.sec-col[_ngcontent-%COMP%]{display:flex;flex-direction:row}.sec-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px}.second-row[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.second-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .second-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .second-row[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], .second-row[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.second-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%}.second-row2[_ngcontent-%COMP%]{display:flex;flex-direction:column}.product-name[_ngcontent-%COMP%]{width:40%}.cancel-product[_ngcontent-%COMP%]{opacity:.6}.third-row[_ngcontent-%COMP%], .fourth-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.fif[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{margin:5px}.input[_ngcontent-%COMP%]{padding:3px 2px}.btn[_ngcontent-%COMP%]{margin-top:4px;padding:5px}}"]}),e}()},{path:"payment",component:function(){var e=function(){function e(t,n){h(this,e),this.afs=t,this.cart=n}return f(e,[{key:"ngOnInit",value:function(){this.invokeStripe()}},{key:"invokeStripe",value:function(){if(!window.document.getElementById("stripe-script")){var e=window.document.createElement("script");e.id="stripe-script",e.type="text/javascript",e.src="https://checkout.stripe.com/checkout.js",window.document.body.appendChild(e)}}},{key:"onSubmit",value:function(e){var t=this.saveAdress.nativeElement,n=JSON.parse(localStorage.getItem("user"));if(t.checked){var r={firstName:e.value.firstName,lastName:e.value.lastName,adress:e.value.street,zusatzAdress:e.value.additionalAdress,postalCode:e.value.postalCode,city:e.value.city,country:e.value.country,phone:e.value.phone};this.afs.collection(n._token).add(r)}window.StripeCheckout.configure({key:"pk_test_51JmaTwIkQljihorcvcufd45zLOmjpJevAyuak9S7xpb3ryFnRx530IRSiIEbogleBQMIvjkf8ueT3UpLNjhdIC3h00Vm3NVp4B",locale:"auto",token:function(e){alert("Stripe token generated!")}}).open({name:n.email,description:+this.cart.cartCount+" Products Added",amount:100*this.cart.total})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(Ox),s.Y36(rT))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-payment"]],viewQuery:function(e,t){var n;(1&e&&s.Gf(iI,5),2&e)&&(s.iGM(n=s.CRH())&&(t.saveAdress=n.first))},decls:24,vars:0,consts:[[1,"body"],[1,"main"],[3,"ngSubmit"],["adressForm","ngForm"],[1,"names"],["ngModel","","type","text","name","firstName","required","","first-name","","placeholder","First Name"],["ngModel","","type","text","name","lastName","required","","last-name","","placeholder","Last Name"],["ngModel","","type","text","name","street","required","","street","","placeholder","Street and house number"],["ngModel","","type","text","name","additionalAdress","placeholder","Additional address (optional)"],["ngModel","","type","text","name","postalCode","required","","postal-code","","placeholder","Postal code"],["ngModel","","type","text","name","city","required","","city","","placeholder","City"],["ngModel","","type","text","name","country","required","","city","","placeholder","Country"],["ngModel","","type","text","name","phone","placeholder","Phone (optional)"],["type","checkbox"],["saveAdress",""],["for","checkbox"],[1,"btn"]],template:function(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div"),s._uU(3,"ADRESS AND PAYMENT INFORMATION"),s.qZA(),s.TgZ(4,"form",2,3),s.NdJ("ngSubmit",function(){s.CHM(n);var e=s.MAs(5);return t.onSubmit(e)}),s.TgZ(6,"div"),s._uU(7,"Shipping Adress"),s.qZA(),s.TgZ(8,"div",4),s._UZ(9,"input",5),s._UZ(10,"input",6),s.qZA(),s._UZ(11,"input",7),s._UZ(12,"input",8),s.TgZ(13,"div",4),s._UZ(14,"input",9),s._UZ(15,"input",10),s.qZA(),s._UZ(16,"input",11),s._UZ(17,"input",12),s._UZ(18,"input",13,14),s.TgZ(20,"label",15),s._uU(21,"Save this information for next time"),s.qZA(),s.TgZ(22,"button",16),s._uU(23,"Pay"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}},directives:[Pn,sn,An,Vt,un,Nn,Un],styles:[".body[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.main[_ngcontent-%COMP%]{width:30%;padding:30px 0}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.names[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.names[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}input[_ngcontent-%COMP%]{border:none;padding:10px;margin:10px 0}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}"]}),e}(),canActivate:[function(){var e=function(){function e(t,n){h(this,e),this.auth=t,this.router=n}return f(e,[{key:"canActivate",value:function(){return!!this.auth.isLoggedIn()||(this.router.navigate(["login"]),!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(za),s.LFG(ga))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()]}]},{path:"**",redirectTo:""}],aI=function(){var e=function e(){h(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[oe,Na.forRoot(oI)],Na]}),e}(),uI={apiKey:"AIzaSyCPoBazzJYQDR_kUMlfSLFNHTrkSYJK3HI",authDomain:"e-commerce-ad30b.firebaseapp.com",projectId:"e-commerce-ad30b",storageBucket:"e-commerce-ad30b.appspot.com",messagingSenderId:"387390102055",appId:"1:387390102055:web:c227788ad5b4aa60b2cc02"};function sI(e,t){return t?function(n){return n.pipe(sI(function(n,r){return(0,Rt.D)(e(n,r)).pipe((0,Je.U)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new cI(e))}}var cI=function(){function e(t){h(this,e),this.project=t}return f(e,[{key:"call",value:function(e,t){return t.subscribe(new lI(e,this.project))}}]),e}(),lI=function(e){d(n,e);var t=p(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return f(n,[{key:"_next",value:function(e){this.hasSubscription||this.tryNext(e)}},{key:"tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new cr.IY(this),n=this.destination;n.add(t);var r=(0,cr.ft)(e,t);r!==t&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),n}(cr.Ds),fI=function(){var e=function(){function e(t){h(this,e),this.authService=t}return f(e,[{key:"intercept",value:function(e,t){return this.authService.user.pipe(pr(1),sI(function(n){if(!n)return t.handle(e);var r=e.clone({params:(new it).set("auth",n.token)});return t.handle(r)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(za))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e}(),hI=function(){var e=function e(){h(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e,bootstrap:[Dx]}),e.\u0275inj=s.cJS({providers:[Vx,za,rT,Px,fI],imports:[[Ze,At,aI,ou.hO.initializeApp(uI,"angularfs"),Nx,jn,Na]]}),e}();(0,s.G48)(),Ue().bootstrapModule(hI).catch(function(e){return console.error(e)})},4762:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function u(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,u)}s((r=r.apply(e,t||[])).next())})}function o(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}n.d(t,{_T:function(){return r},mG:function(){return i},Jh:function(){return o},XA:function(){return a},CR:function(){return u},ev:function(){return s}})},8239:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)})}}n.d(t,{Z:function(){return i}})}},function(e){e(e.s=8950)}])}();