(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},3018:function(e,t,n){"use strict";n.d(t,{deG:function(){return en},tb:function(){return pc},AFp:function(){return uc},ip1:function(){return ac},CZH:function(){return cc},hGG:function(){return au},z2F:function(){return Yc},sBO:function(){return oa},Sil:function(){return Cc},_Vd:function(){return Oo},EJc:function(){return yc},SBq:function(){return Ro},qLn:function(){return vr},vpe:function(){return ja},gxx:function(){return ns},tBr:function(){return Sn},XFs:function(){return P},OlP:function(){return Xt},zs3:function(){return ys},ZZ4:function(){return Xo},aQg:function(){return ta},soG:function(){return mc},YKP:function(){return ma},v3s:function(){return Xc},h0i:function(){return ga},PXZ:function(){return $c},R0b:function(){return Ac},FiY:function(){return Cn},Lbi:function(){return fc},g9A:function(){return dc},Qsj:function(){return Fo},FYo:function(){return Mo},JOm:function(){return _r},Tiy:function(){return Vo},q3G:function(){return hr},tp0:function(){return En},EAV:function(){return nu},Rgc:function(){return ha},dDg:function(){return Lc},DyG:function(){return tn},q4F:function(){return qo},GfV:function(){return Zo},s_b:function(){return va},ifc:function(){return U},eFA:function(){return Gc},G48:function(){return zc},Gpc:function(){return g},X6Q:function(){return jc},_c5:function(){return su},VLi:function(){return Uc},c2e:function(){return gc},zSh:function(){return is},wAp:function(){return go},vHH:function(){return v},EiD:function(){return ur},mCW:function(){return Gn},qzn:function(){return Mn},JVY:function(){return Un},pB0:function(){return jn},eBb:function(){return Zn},L6k:function(){return Vn},LAX:function(){return qn},cg1:function(){return ho},Tjo:function(){return iu},kL8:function(){return fo},yhl:function(){return Fn},dqk:function(){return j},sIi:function(){return ks},CqO:function(){return Bs},QGY:function(){return js},F4k:function(){return zs},RDi:function(){return Ee},AaK:function(){return d},z3N:function(){return Ln},qOj:function(){return ws},TTD:function(){return we},_Bn:function(){return Eo},xp6:function(){return oi},uIk:function(){return Ns},ekj:function(){return Xs},Suo:function(){return nc},Xpm:function(){return X},lG2:function(){return oe},Yz7:function(){return I},cJS:function(){return S},oAB:function(){return re},Yjl:function(){return ae},Y36:function(){return Ls},_UZ:function(){return Zs},qZA:function(){return Vs},TgZ:function(){return Us},EpF:function(){return qs},n5z:function(){return Kt},Ikx:function(){return ao},LFG:function(){return wn},$8M:function(){return Jt},NdJ:function(){return Hs},CRH:function(){return rc},oxw:function(){return Ks},ALo:function(){return Ma},lcZ:function(){return Fa},xi3:function(){return Ua},Q6J:function(){return Ms},s9C:function(){return Ws},MGl:function(){return Js},DdM:function(){return Da},iGM:function(){return ec},MAs:function(){return Rs},CHM:function(){return Be},LSH:function(){return dr},kYT:function(){return ie},YNc:function(){return Ds},_uU:function(){return io},Oqu:function(){return so},hij:function(){return oo},Gf:function(){return tc}});var r=n(9765),i=n(5319),s=n(7574),o=n(6682),a=n(2441);var c=n(1307);function u(){return new r.xQ}function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function h(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function d(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(d).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function f(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const p=l({__forward_ref__:l});function g(e){return e.__forward_ref__=g,e.toString=function(){return d(this())},e}function m(e){return y(e)?e():e}function y(e){return"function"==typeof e&&e.hasOwnProperty(p)&&e.__forward_ref__===g}class v extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function w(e){return"string"==typeof e?e:null==e?"":String(e)}function b(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():w(e)}function _(e,t){const n=t?` in ${t}`:"";throw new v("201",`No provider for ${b(e)} found${n}`)}function T(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function S(e){return{providers:e.providers||[],imports:e.imports||[]}}function C(e){return E(e,A)||E(e,O)}function E(e,t){return e.hasOwnProperty(t)?e[t]:null}function k(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(N))?e[x]:null}const A=l({"\u0275prov":l}),x=l({"\u0275inj":l}),O=l({ngInjectableDef:l}),N=l({ngInjectorDef:l});var P=(()=>((P=P||{})[P.Default=0]="Default",P[P.Host=1]="Host",P[P.Self=2]="Self",P[P.SkipSelf=4]="SkipSelf",P[P.Optional=8]="Optional",P))();let D;function R(e){const t=D;return D=e,t}function L(e,t,n){const r=C(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&P.Optional?null:void 0!==t?t:void _(d(e),"Injector")}function M(e){return{toString:e}.toString()}var F=(()=>((F=F||{})[F.OnPush=0]="OnPush",F[F.Default=1]="Default",F))(),U=(()=>((U=U||{})[U.Emulated=0]="Emulated",U[U.None=2]="None",U[U.ShadowDom=3]="ShadowDom",U))();const V="undefined"!=typeof globalThis&&globalThis,Z="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=V||"undefined"!=typeof global&&global||Z||q,z={},B=[],H=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),G=l({"\u0275pipe":l}),K=l({"\u0275mod":l}),W=l({"\u0275loc":l}),J=l({"\u0275fac":l}),Y=l({__NG_ELEMENT_ID__:l});let Q=0;function X(e){return M(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||B,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||U.Emulated,id:"c",styles:e.styles||B,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=Q++,n.inputs=se(e.inputs,t),n.outputs=se(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ee):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(te):null,n})}function ee(e){return ce(e)||function(e){return e[$]||null}(e)}function te(e){return function(e){return e[G]||null}(e)}const ne={};function re(e){return M(()=>{const t={type:e.type,bootstrap:e.bootstrap||B,declarations:e.declarations||B,imports:e.imports||B,exports:e.exports||B,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ne[e.id]=e.type),t})}function ie(e,t){return M(()=>{const n=ue(e,!0);n.declarations=t.declarations||B,n.imports=t.imports||B,n.exports=t.exports||B})}function se(e,t){if(null==e)return z;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const oe=X;function ae(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ce(e){return e[H]||null}function ue(e,t){const n=e[K]||null;if(!n&&!0===t)throw new Error(`Type ${d(e)} does not have '\u0275mod' property.`);return n}function le(e){return Array.isArray(e)&&"object"==typeof e[1]}function he(e){return Array.isArray(e)&&!0===e[1]}function de(e){return 0!=(8&e.flags)}function fe(e){return 2==(2&e.flags)}function pe(e){return 1==(1&e.flags)}function ge(e){return null!==e.template}function me(e){return 0!=(512&e[2])}function ye(e,t){return e.hasOwnProperty(J)?e[J]:null}class ve{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function we(){return be}function be(e){return e.type.prototype.ngOnChanges&&(e.setInput=Te),_e}function _e(){const e=Se(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===z)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Te(e,t,n,r){const i=Se(e)||function(e,t){return e[Ie]=t}(e,{previous:z,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new ve(c&&c.currentValue,t,o===z),e[r]=t}we.ngInherit=!0;const Ie="__ngSimpleChanges__";function Se(e){return e[Ie]||null}let Ce;function Ee(e){Ce=e}function ke(e){return!!e.listen}const Ae={createRenderer:(e,t)=>void 0!==Ce?Ce:"undefined"!=typeof document?document:void 0};function xe(e){for(;Array.isArray(e);)e=e[0];return e}function Oe(e,t){return xe(t[e])}function Ne(e,t){return xe(t[e.index])}function Pe(e,t){return e.data[t]}function De(e,t){return e[t]}function Re(e,t){const n=t[e];return le(n)?n:n[0]}function Le(e){return 4==(4&e[2])}function Me(e){return 128==(128&e[2])}function Fe(e,t){return null==t?null:e[t]}function Ue(e){e[18]=0}function Ve(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ze={lFrame:at(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qe(){return Ze.bindingsEnabled}function je(){return Ze.lFrame.lView}function ze(){return Ze.lFrame.tView}function Be(e){return Ze.lFrame.contextLView=e,e[8]}function He(){let e=$e();for(;null!==e&&64===e.type;)e=e.parent;return e}function $e(){return Ze.lFrame.currentTNode}function Ge(e,t){const n=Ze.lFrame;n.currentTNode=e,n.isParent=t}function Ke(){return Ze.lFrame.isParent}function We(){return Ze.isInCheckNoChangesMode}function Je(e){Ze.isInCheckNoChangesMode=e}function Ye(){const e=Ze.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Qe(){return Ze.lFrame.bindingIndex++}function Xe(e,t){const n=Ze.lFrame;n.bindingIndex=n.bindingRootIndex=e,et(t)}function et(e){Ze.lFrame.currentDirectiveIndex=e}function tt(){return Ze.lFrame.currentQueryIndex}function nt(e){Ze.lFrame.currentQueryIndex=e}function rt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function it(e,t,n){if(n&P.SkipSelf){let r=t,i=e;for(;!(r=r.parent,null!==r||n&P.Host||(r=rt(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;t=r,e=i}const r=Ze.lFrame=ot();return r.currentTNode=t,r.lView=e,!0}function st(e){const t=ot(),n=e[1];Ze.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ot(){const e=Ze.lFrame,t=null===e?null:e.child;return null===t?at(e):t}function at(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ct(){const e=Ze.lFrame;return Ze.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ut=ct;function lt(){const e=ct();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ht(){return Ze.lFrame.selectedIndex}function dt(e){Ze.lFrame.selectedIndex=e}function ft(){const e=Ze.lFrame;return Pe(e.tView,e.selectedIndex)}function pt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function gt(e,t,n){vt(e,t,3,n)}function mt(e,t,n,r){(3&e[2])===n&&vt(e,t,n,r)}function yt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function vt(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(wt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function wt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class bt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function _t(e,t,n){const r=ke(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?e.setAttribute(t,a,c,o):t.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];It(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function Tt(e){return 3===e||4===e||6===e}function It(e){return 64===e.charCodeAt(0)}function St(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Ct(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Ct(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Et(e){return-1!==e}function kt(e){return 32767&e}function At(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let xt=!0;function Ot(e){const t=xt;return xt=e,t}let Nt=0;function Pt(e,t){const n=Rt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Dt(r.data,e),Dt(t,null),Dt(r.blueprint,null));const i=Lt(e,t),s=e.injectorIndex;if(Et(i)){const e=kt(i),n=At(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Dt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Rt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Lt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Mt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Nt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Ft(e,t,n){if(n&P.Optional)return e;_(t,"NodeInjector")}function Ut(e,t,n,r){if(n&P.Optional&&void 0===r&&(r=null),0==(n&(P.Self|P.Host))){const i=e[9],s=R(void 0);try{return i?i.get(t,r,n&P.Optional):L(t,r,n&P.Optional)}finally{R(s)}}return Ft(r,t,n)}function Vt(e,t,n,r=P.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Y)?e[Y]:void 0;return"number"==typeof t?t>=0?255&t:qt:t}(n);if("function"==typeof s){if(!it(t,e,r))return r&P.Host?Ft(i,n,r):Ut(t,n,r,i);try{const e=s(r);if(null!=e||r&P.Optional)return e;_(n)}finally{ut()}}else if("number"==typeof s){let i=null,o=Rt(e,t),a=-1,c=r&P.Host?t[16][6]:null;for((-1===o||r&P.SkipSelf)&&(a=-1===o?Lt(e,t):t[o+8],-1!==a&&$t(r,!1)?(i=t[1],o=kt(a),t=At(a,t)):o=-1);-1!==o;){const e=t[1];if(Ht(s,o,e.data)){const e=jt(o,t,n,i,r,c);if(e!==Zt)return e}a=t[o+8],-1!==a&&$t(r,t[1].data[o+8]===c)&&Ht(s,o,t)?(i=e,o=kt(a),t=At(a,t)):o=-1}}}return Ut(t,n,r,i)}const Zt={};function qt(){return new Gt(He(),je())}function jt(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],c=zt(a,o,n,null==r?fe(a)&&xt:r!=o&&0!=(3&a.type),i&P.Host&&s===a);return null!==c?Bt(t,o,c,a):Zt}function zt(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,c=e.directiveStart,u=s>>20,l=i?a+u:e.directiveEnd;for(let h=r?a:a+u;h<l;h++){const e=o[h];if(h<c&&n===e||h>=c&&e.type===n)return h}if(i){const e=o[c];if(e&&ge(e)&&e.type===n)return c}return null}function Bt(e,t,n,r){let i=e[n];const s=t.data;if(function(e){return e instanceof bt}(i)){const o=i;o.resolving&&function(e,t){throw new v("200",`Circular dependency in DI detected for ${e}`)}(b(s[n]));const a=Ot(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?R(o.injectImpl):null;it(e,r,P.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=be(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==c&&R(c),Ot(a),o.resolving=!1,ut()}}return i}function Ht(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function $t(e,t){return!(e&P.Self||e&P.Host&&t)}class Gt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Vt(this._tNode,this._lView,e,void 0,t)}}function Kt(e){return M(()=>{const t=e.prototype.constructor,n=t[J]||Wt(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[J]||Wt(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function Wt(e){return y(e)?()=>{const t=Wt(m(e));return t&&t()}:ye(e)}function Jt(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(Tt(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(He(),e)}const Yt="__parameters__";function Qt(e,t,n){return M(()=>{const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(Yt)?e[Yt]:Object.defineProperty(e,Yt,{value:[]})[Yt];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Xt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const en=new Xt("AnalyzeForEntryComponents"),tn=Function;function nn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),nn(r,t)):t!==e&&t.push(r)}return t}function rn(e,t){e.forEach(e=>Array.isArray(e)?rn(e,t):t(e))}function sn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function on(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function an(e,t,n){let r=un(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function cn(e,t){const n=un(e,t);if(n>=0)return e[1|n]}function un(e,t){return function(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const ln={},hn="__NG_DI_FLAG__",dn="ngTempTokenPath",fn=/\n/gm,pn="__source",gn=l({provide:String,useValue:l});let mn;function yn(e){const t=mn;return mn=e,t}function vn(e,t=P.Default){if(void 0===mn)throw new Error("inject() must be called from an injection context");return null===mn?L(e,void 0,t):mn.get(e,t&P.Optional?null:void 0,t)}function wn(e,t=P.Default){return(D||vn)(m(e),t)}function bn(e){const t=[];for(let n=0;n<e.length;n++){const r=m(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=P.Default;for(let t=0;t<r.length;t++){const i=r[t],s=Tn(i);"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(wn(e,n))}else t.push(wn(r))}return t}function _n(e,t){return e[hn]=t,e.prototype[hn]=t,e}function Tn(e){return e[hn]}function In(e,t,n,r){const i=e[dn];throw t[pn]&&i.unshift(t[pn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=d(t);if(Array.isArray(t))i=t.map(d).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(fn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[dn]=null,e}const Sn=_n(Qt("Inject",e=>({token:e})),-1),Cn=_n(Qt("Optional"),8),En=_n(Qt("SkipSelf"),4);let kn;function An(e){var t;return(null===(t=function(){if(void 0===kn&&(kn=null,j.trustedTypes))try{kn=j.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return kn}())||void 0===t?void 0:t.createHTML(e))||e}class xn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class On extends xn{getTypeName(){return"HTML"}}class Nn extends xn{getTypeName(){return"Style"}}class Pn extends xn{getTypeName(){return"Script"}}class Dn extends xn{getTypeName(){return"URL"}}class Rn extends xn{getTypeName(){return"ResourceURL"}}function Ln(e){return e instanceof xn?e.changingThisBreaksApplicationSecurity:e}function Mn(e,t){const n=Fn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Fn(e){return e instanceof xn&&e.getTypeName()||null}function Un(e){return new On(e)}function Vn(e){return new Nn(e)}function Zn(e){return new Pn(e)}function qn(e){return new Dn(e)}function jn(e){return new Rn(e)}class zn{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(An(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Bn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=An(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=An(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;("xmlns:ns1"===n||0===n.indexOf("ns1:"))&&e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Hn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$n=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gn(e){return(e=String(e)).match(Hn)||e.match($n)?e:"unsafe:"+e}function Kn(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Wn(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Jn=Kn("area,br,col,hr,img,wbr"),Yn=Kn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qn=Kn("rp,rt"),Xn=Wn(Jn,Wn(Yn,Kn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wn(Qn,Kn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wn(Qn,Yn)),er=Kn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tr=Kn("srcset"),nr=Wn(er,tr,Kn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rr=Kn("script,style,template");class ir{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Xn.hasOwnProperty(t))return this.sanitizedSomething=!0,!rr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,s=t.toLowerCase();if(!nr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;er[s]&&(o=Gn(o)),tr[s]&&(r=o,o=(r=String(r)).split(",").map(e=>Gn(e.trim())).join(", ")),this.buf.push(" ",t,'="',ar(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Xn.hasOwnProperty(t)&&!Jn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ar(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const sr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function ar(e){return e.replace(/&/g,"&amp;").replace(sr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(or,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cr;function ur(e,t){let n=null;try{cr=cr||function(e){const t=new Bn(e);return function(){try{return!!(new window.DOMParser).parseFromString(An(""),"text/html")}catch(e){return!1}}()?new zn(t):t}(e);let r=t?String(t):"";n=cr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=cr.getInertBodyElement(r)}while(r!==s);return An((new ir).sanitizeChildren(lr(n)||n))}finally{if(n){const e=lr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function lr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var hr=(()=>((hr=hr||{})[hr.NONE=0]="NONE",hr[hr.HTML=1]="HTML",hr[hr.STYLE=2]="STYLE",hr[hr.SCRIPT=3]="SCRIPT",hr[hr.URL=4]="URL",hr[hr.RESOURCE_URL=5]="RESOURCE_URL",hr))();function dr(e){const t=function(){const e=je();return e&&e[12]}();return t?t.sanitize(hr.URL,e)||"":Mn(e,"URL")?Ln(e):Gn(w(e))}const fr="__ngContext__";function pr(e,t){e[fr]=t}function gr(e){const t=function(e){return e[fr]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function mr(e){return e.ngOriginalError}function yr(e,...t){e.error(...t)}class vr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=(i=e)&&i.ngErrorLogger||yr;var i;r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?e.ngDebugContext||this._findContext(mr(e)):null}_findOriginalError(e){let t=e&&mr(e);for(;t&&mr(t);)t=mr(t);return t||null}}const wr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function br(e){return e instanceof Function?e():e}var _r=(()=>((_r=_r||{})[_r.Important=1]="Important",_r[_r.DashCase=2]="DashCase",_r))();function Tr(e,t){return undefined(e,t)}function Ir(e){const t=e[3];return he(t)?t[3]:t}function Sr(e){return Er(e[13])}function Cr(e){return Er(e[4])}function Er(e){for(;null!==e&&!he(e);)e=e[4];return e}function kr(e,t,n,r,i){if(null!=r){let s,o=!1;he(r)?s=r:le(r)&&(o=!0,r=r[0]);const a=xe(r);0===e&&null!==n?null==i?Lr(t,n,a):Rr(t,n,a,i||null,!0):1===e&&null!==n?Rr(t,n,a,i||null,!0):2===e?function(e,t,n){const r=Fr(e,t);r&&function(e,t,n,r){ke(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==xe(n)&&kr(t,e,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Br(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Ar(e,t,n){return ke(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function xr(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Ve(i,-1)),n.splice(r,1)}function Or(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&xr(i,r),t>0&&(e[n-1][4]=r[4]);const s=on(e,10+t);!function(e,t){Br(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Nr(e,t){if(!(256&t[2])){const n=t[11];ke(n)&&n.destroyNode&&Br(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Pr(e[1],e);for(;t;){let n=null;if(le(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)le(t)&&Pr(t[1],t),t=t[3];null===t&&(t=e),le(t)&&Pr(t[1],t),n=t&&t[4]}t=n}}(t)}}function Pr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof bt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):xe(t[e]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)r[e]();t[7]=null}}(e,t),1===t[1].type&&ke(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&he(t[3])){n!==t[3]&&xr(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Dr(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===U.None||t===U.Emulated)return null}return Ne(r,n)}(e,t.parent,n)}function Rr(e,t,n,r,i){ke(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Lr(e,t,n){ke(e)?e.appendChild(t,n):t.appendChild(n)}function Mr(e,t,n,r,i){null!==r?Rr(e,t,n,r,i):Lr(e,t,n)}function Fr(e,t){return ke(e)?e.parentNode(t):t.parentNode}let Ur=function(e,t,n){return 40&e.type?Ne(e,n):null};function Vr(e,t,n,r){const i=Dr(e,r,t),s=t[11],o=function(e,t,n){return Ur(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Mr(s,i,n[a],o,!1);else Mr(s,i,n,o,!1)}function Zr(e,t){if(null!==t){const n=t.type;if(3&n)return Ne(t,e);if(4&n)return jr(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Zr(e,n);{const n=e[t.index];return he(n)?jr(-1,n):xe(n)}}if(32&n)return Tr(t,e)()||xe(e[t.index]);{const n=qr(e,t);return null!==n?Array.isArray(n)?n[0]:Zr(Ir(e[16]),n):Zr(e,t.next)}}return null}function qr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function jr(e,t){const n=10+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Zr(e,r)}return t[7]}function zr(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===t&&(a&&pr(xe(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)zr(e,t,n.child,r,i,s,!1),kr(t,e,i,a,s);else if(32&c){const o=Tr(n,r);let c;for(;c=o();)kr(t,e,i,c,s);kr(t,e,i,a,s)}else 16&c?Hr(e,t,r,n,i,s):kr(t,e,i,a,s);n=o?n.projectionNext:n.next}}function Br(e,t,n,r,i,s){zr(n,r,e.firstChild,t,i,s,!1)}function Hr(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)kr(t,e,i,a[c],s);else zr(e,t,a,o[3],i,s,!0)}function $r(e,t,n){ke(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Gr(e,t,n){ke(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Kr(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const Wr="ng-template";function Jr(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Kr(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Yr(e){return 4===e.type&&e.value!==Wr}function Qr(e,t,n){return t===(4!==e.type||n?e.value:Wr)}function Xr(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Tt(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Qr(e,c,n)||""===c&&1===t.length){if(ei(r))return!1;o=!0}}else{const u=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!Jr(e.attrs,u,n)){if(ei(r))return!1;o=!0}continue}const l=ti(8&r?"class":c,i,Yr(e),n);if(-1===l){if(ei(r))return!1;o=!0;continue}if(""!==u){let e;e=l>s?"":i[l+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==Kr(t,u,0)||2&r&&u!==e){if(ei(r))return!1;o=!0}}}}else{if(!o&&!ei(r)&&!ei(c))return!1;if(o&&ei(c))continue;o=!1,r=c|1&r}}return ei(r)||o}function ei(e){return 0==(1&e)}function ti(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ni(e,t,n=!1){for(let r=0;r<t.length;r++)if(Xr(e,t[r],n))return!0;return!1}function ri(e,t){return e?":not("+t.trim()+")":t}function ii(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ei(o)&&(t+=ri(s,i),i=""),r=o,s=s||!ei(r);n++}return""!==i&&(t+=ri(s,i)),t}const si={};function oi(e){ai(ze(),je(),ht()+e,We())}function ai(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&gt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&mt(t,r,0,n)}dt(n)}function ci(e,t){return e<<17|t<<2}function ui(e){return e>>17&32767}function li(e){return 2|e}function hi(e){return(131068&e)>>2}function di(e,t){return-131069&e|t<<2}function fi(e){return 1|e}function pi(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];nt(i),n.contentQueries(2,t[s],s)}}}function gi(e,t,n,r,i,s,o,a,c,u){const l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Ue(l),l[3]=l[15]=e,l[8]=n,l[10]=o||e&&e[10],l[11]=a||e&&e[11],l[12]=c||e&&e[12]||null,l[9]=u||e&&e[9]||null,l[6]=s,l[16]=2==t.type?e[16]:l,l}function mi(e,t,n,r,i){let s=e.data[t];if(null===s)s=function(e,t,n,r,i){const s=$e(),o=Ke(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(e,t,n,r,i),Ze.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=function(){const e=Ze.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return Ge(s,!0),s}function yi(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function vi(e,t,n){st(t);try{const r=e.viewQuery;null!==r&&Ki(1,r,n);const i=e.template;null!==i&&_i(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&pi(e,t),e.staticViewQueries&&Ki(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)zi(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,lt()}}function wi(e,t,n,r){const i=t[2];if(256==(256&i))return;st(t);const s=We();try{Ue(t),function(e){Ze.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&_i(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&gt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&mt(t,n,0,null),yt(t,0)}if(function(e){for(let t=Sr(e);null!==t;t=Cr(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Ve(r,1),n[2]|=1024}}}(t),function(e){for(let t=Sr(e);null!==t;t=Cr(t))for(let e=10;e<t.length;e++){const n=t[e],r=n[1];Me(n)&&wi(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&pi(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&gt(t,n)}else{const n=e.contentHooks;null!==n&&mt(t,n,1),yt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)dt(~r);else{const i=r,s=n[++e],o=n[++e];Xe(s,i),o(2,t[i])}}}finally{dt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)qi(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&Ki(2,c,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&gt(t,n)}else{const n=e.viewHooks;null!==n&&mt(t,n,2),yt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ve(t[3],-1))}finally{lt()}}function bi(e,t,n,r){const i=t[10],s=!We(),o=Le(t);try{s&&!o&&i.begin&&i.begin(),o&&vi(e,t,r),wi(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function _i(e,t,n,r,i){const s=ht(),o=2&r;try{dt(-1),o&&t.length>20&&ai(e,t,20,We()),n(r,i)}finally{dt(s)}}function Ti(e,t,n){!qe()||(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Pt(n,t),pr(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=ge(r);s&&Mi(t,n,r);const c=Bt(t,e,a,n);pr(c,t),null!==o&&Ui(0,a-i,c,r,0,o),s&&(Re(n.index,t)[8]=c)}}(e,t,n,Ne(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ze.lFrame.currentDirectiveIndex;try{dt(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];et(n),(null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs)&&Ni(r,i)}}finally{dt(-1),et(o)}}(e,t,n))}function Ii(e,t,n=Ne){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Si(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ci(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ci(e,t,n,r,i,s,o,a,c,u){const l=20+r,h=l+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:si);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Ei(e,t,n,r){const i=Ji(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Yi(e).push(r,i.length-1))}function ki(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Ai(e,t,n,r,i,s,o,a){const c=Ne(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(Xi(e,n,u,r,i),fe(t)&&function(e,t){const n=Re(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,ke(s)?s.setProperty(c,r,i):It(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function xi(e,t,n,r){let i=!1;if(qe()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ni(n,o.selectors,!1)&&(i||(i=[]),Mt(Pt(n,t),e,o.type),ge(o)?(Pi(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ri(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,c=yi(e,t,s.length,null);for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=St(n.mergedAttrs,u.hostAttrs),Li(e,n,t,c,u),Di(c,u,o),null!==u.contentQueries&&(n.flags|=8),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),!a&&(l.ngOnChanges||l.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let c=t.directiveStart;c<n;c++){const e=r[c],n=e.inputs,u=null===i||Yr(t)?null:Vi(n,i);s.push(u),o=ki(n,c,o),a=ki(e.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new v("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=St(n.mergedAttrs,n.attrs),i}function Oi(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Ni(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Pi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Di(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ge(t)&&(n[""]=e)}}function Ri(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Li(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ye(i.type)),o=new bt(s,ge(i),null);e.blueprint[r]=o,n[r]=o,Oi(e,t,0,r,yi(e,n,i.hostVars,si),i)}function Mi(e,t,n){const r=Ne(t,e),i=Si(n),s=e[10],o=Bi(e,gi(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function Fi(e,t,n,r,i,s){const o=Ne(e,t);!function(e,t,n,r,i,s,o){if(null==s)ke(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?w(s):o(s,r||"",i);ke(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],o,s,e.value,n,r,i)}function Ui(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function Vi(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Zi(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function qi(e,t){const n=Re(t,e);if(Me(n)){const e=n[1];80&n[2]?wi(e,n,e.template,n[8]):n[5]>0&&ji(n)}}function ji(e){for(let n=Sr(e);null!==n;n=Cr(n))for(let e=10;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];wi(e,t,e.template,t[8])}else t[5]>0&&ji(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Re(t[n],e);Me(r)&&r[5]>0&&ji(r)}}function zi(e,t){const n=Re(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),vi(r,n,n[8])}function Bi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Hi(e){for(;e;){e[2]|=64;const t=Ir(e);if(me(e)&&!t)return e;e=t}return null}function $i(e,t,n){const r=t[10];r.begin&&r.begin();try{wi(e,t,e.template,n)}catch(i){throw Qi(t,i),i}finally{r.end&&r.end()}}function Gi(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=gr(n),i=r[1];bi(i,r,i.template,n)}}(e[8])}function Ki(e,t,n){nt(0),t(e,n)}const Wi=(()=>Promise.resolve(null))();function Ji(e){return e[7]||(e[7]=[])}function Yi(e){return e.cleanup||(e.cleanup=[])}function Qi(e,t){const n=e[9],r=n?n.get(vr,null):null;r&&r.handleError(t)}function Xi(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=t[o],u=e.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function es(e,t,n){const r=Oe(t,e);!function(e,t,n){ke(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function ts(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=f(i,e):2==s&&(r=f(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const ns=new Xt("INJECTOR",-1);class rs{get(e,t=ln){if(t===ln){const t=new Error(`NullInjectorError: No provider for ${d(e)}!`);throw t.name="NullInjectorError",t}return t}}const is=new Xt("Set Injector scope."),ss={},os={};let as;function cs(){return void 0===as&&(as=new rs),as}function us(e,t=null,n=null,r){return new ls(e,n,t||cs(),r)}class ls{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&rn(t,n=>this.processProvider(n,e,t)),rn([e],e=>this.processInjectorType(e,[],i)),this.records.set(ns,fs(void 0,this));const s=this.records.get(is);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:d(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=ln,n=P.Default){this.assertNotDestroyed();const r=yn(this),i=R(void 0);try{if(!(n&P.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(s=e)||"object"==typeof s&&s instanceof Xt)&&C(e);t=n&&this.injectableDefInScope(n)?fs(hs(e),ss):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&P.Self?cs():this.parent).get(e,t=n&P.Optional&&t===ln?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[dn]=o[dn]||[]).unshift(d(e)),r)throw o;return In(o,e,"R3InjectorError",this.source)}throw o}finally{R(i),yn(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(d(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=m(e)))return!1;let r=k(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=k(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{rn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];rn(r,e=>this.processProvider(e,n,r||B))}}this.injectorDefTypes.add(s);const a=ye(s)||(()=>new s);this.records.set(s,fs(a,ss));const c=r.providers;if(null!=c&&!o){const t=e;rn(c,e=>this.processProvider(e,t,c))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=gs(e=m(e))?e:m(e&&e.provide);const i=ps(s=e)?fs(void 0,s.useValue):fs(ds(s),ss);var s;if(gs(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=fs(void 0,ss,!0),t.factory=()=>bn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){return t.value===ss&&(t.value=os,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var n}injectableDefInScope(e){if(!e.providedIn)return!1;const t=m(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function hs(e){const t=C(e),n=null!==t?t.factory:ye(e);if(null!==n)return n;if(e instanceof Xt)throw new Error(`Token ${d(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=function(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${d(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[A]||e[O]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ds(e,t,n){let r;if(gs(e)){const t=m(e);return ye(t)||hs(t)}if(ps(e))r=()=>m(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...bn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>wn(m(e.useExisting));else{const t=m(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ye(t)||hs(t);r=()=>new t(...bn(e.deps))}return r}function fs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ps(e){return null!==e&&"object"==typeof e&&gn in e}function gs(e){return"function"==typeof e}const ms=function(e,t,n){return function(e,t=null,n=null,r){const i=us(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let ys=(()=>{class e{static create(e,t){return Array.isArray(e)?ms(e,t,""):ms(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=ln,e.NULL=new rs,e.\u0275prov=I({token:e,providedIn:"any",factory:()=>wn(ns)}),e.__NG_ELEMENT_ID__=-1,e})();function vs(e,t){pt(gr(e)[1],He())}function ws(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(ge(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=bs(e.inputs),t.declaredInputs=bs(e.declaredInputs),t.outputs=bs(e.outputs);const n=i.hostBindings;n&&Is(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&_s(e,s),o&&Ts(e,o),h(e.inputs,i.inputs),h(e.declaredInputs,i.declaredInputs),h(e.outputs,i.outputs),ge(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===ws&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=St(i.hostAttrs,n=St(n,i.hostAttrs))}}(r)}function bs(e){return e===z?{}:e===B?[]:e}function _s(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Ts(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function Is(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}let Ss=null;function Cs(){if(!Ss){const e=j.Symbol;if(e&&e.iterator)Ss=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ss=n)}}}return Ss}class Es{constructor(e){this.wrapped=e}static wrap(e){return new Es(e)}static unwrap(e){return Es.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Es}}function ks(e){return!!As(e)&&(Array.isArray(e)||!(e instanceof Map)&&Cs()in e)}function As(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function xs(e,t,n){return e[t]=n}function Os(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ns(e,t,n,r){const i=je();return Os(i,Qe(),t)&&(ze(),Fi(ft(),i,e,t,n,r)),Ns}function Ps(e,t,n,r){return Os(e,Qe(),n)?t+w(n)+r:si}function Ds(e,t,n,r,i,s,o,a){const c=je(),u=ze(),l=e+20,h=u.firstCreatePass?function(e,t,n,r,i,s,o,a,c){const u=t.consts,l=mi(t,e,4,o||null,Fe(u,a));xi(t,n,l,Fe(u,c)),pt(t,l);const h=l.tViews=Ci(2,l,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,u,c,t,n,r,i,s,o):u.data[l];Ge(h,!1);const d=c[11].createComment("");Vr(u,c,d,h),pr(d,c),Bi(c,c[l]=Zi(d,c,d,h)),pe(h)&&Ti(u,c,h),null!=o&&Ii(c,h,a)}function Rs(e){return De(Ze.lFrame.contextLView,20+e)}function Ls(e,t=P.Default){const n=je();return null===n?wn(e,t):Vt(He(),n,m(e),t)}function Ms(e,t,n){const r=je();return Os(r,Qe(),t)&&Ai(ze(),ft(),r,e,t,r[11],n,!1),Ms}function Fs(e,t,n,r,i){const s=i?"class":"style";Xi(e,n,t.inputs[s],s,r)}function Us(e,t,n,r){const i=je(),s=ze(),o=20+e,a=i[11],c=i[o]=Ar(a,t,Ze.lFrame.currentNamespace),u=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,c=mi(t,e,2,i,Fe(a,s));return xi(t,n,c,Fe(a,o)),null!==c.attrs&&ts(c,c.attrs,!1),null!==c.mergedAttrs&&ts(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,i,0,t,n,r):s.data[o];Ge(u,!0);const l=u.mergedAttrs;null!==l&&_t(a,c,l);const h=u.classes;null!==h&&Gr(a,c,h);const d=u.styles;null!==d&&$r(a,c,d),64!=(64&u.flags)&&Vr(s,i,c,u),0===Ze.lFrame.elementDepthCount&&pr(c,i),Ze.lFrame.elementDepthCount++,pe(u)&&(Ti(s,i,u),function(e,t,n){if(de(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}(s,u,i)),null!==r&&Ii(i,u)}function Vs(){let e=He();Ke()?Ze.lFrame.isParent=!1:(e=e.parent,Ge(e,!1));const t=e;Ze.lFrame.elementDepthCount--;const n=ze();n.firstCreatePass&&(pt(n,e),de(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Fs(n,t,je(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Fs(n,t,je(),t.stylesWithoutHost,!1)}function Zs(e,t,n,r){Us(e,t,n,r),Vs()}function qs(){return je()}function js(e){return!!e&&"function"==typeof e.then}function zs(e){return!!e&&"function"==typeof e.subscribe}const Bs=zs;function Hs(e,t,n,r){const i=je(),s=ze(),o=He();return function(e,t,n,r,i,s,o,a){const c=pe(r),u=e.firstCreatePass&&Yi(e),l=t[8],h=Ji(t);let d=!0;if(3&r.type||a){const f=Ne(r,t),p=a?a(f):f,g=h.length,m=a?e=>a(xe(e[r.index])):r.index;if(ke(n)){let o=null;if(!a&&c&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,d=!1;else{s=Gs(r,t,l,s,!1);const e=n.listen(p,i,s);h.push(s,e),u&&u.push(i,m,g,g+1)}}else s=Gs(r,t,l,s,!0),p.addEventListener(i,s,o),h.push(s),u&&u.push(i,m,g,o)}else s=Gs(r,t,l,s,!1);const f=r.outputs;let p;if(d&&null!==f&&(p=f[i])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(s),o=h.length;h.push(s,e),u&&u.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,e,t,!!n,r),Hs}function $s(e,t,n,r){try{return!1!==n(r)}catch(i){return Qi(e,i),!1}}function Gs(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?Re(e.index,t):t;0==(32&t[2])&&Hi(o);let a=$s(t,0,r,s),c=n.__ngNextListenerFn__;for(;c;)a=$s(t,0,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Ks(e=1){return function(e){return(Ze.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ze.lFrame.contextLView))[8]}(e)}function Ws(e,t,n){return Js(e,"",t,"",n),Ws}function Js(e,t,n,r,i){const s=je(),o=Ps(s,t,n,r);return o!==si&&Ai(ze(),ft(),s,e,o,s[11],i,!1),Js}function Ys(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?ui(s):hi(s),c=!1;for(;0!==a&&(!1===c||o);){const n=e[a+1];Qs(e[a],t)&&(c=!0,e[a+1]=r?fi(n):li(n)),a=r?ui(n):hi(n)}c&&(e[n+1]=r?li(s):fi(s))}function Qs(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&un(e,t)>=0}function Xs(e,t){return function(e,t,n,r){const i=je(),s=ze(),o=function(e){const t=Ze.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[ht()],o=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=function(e){const t=Ze.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=to(n=eo(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=eo(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==hi(r))return e[ui(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=eo(null,e,t,n[1],r),n=to(n,t.attrs,r),function(e,t,n,r){e[ui(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=to(r,e[s].hostAttrs,n);return to(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=ui(o),c=hi(o);e[r]=n;let u,l=!1;if(Array.isArray(n)){const e=n;u=e[1],(null===u||un(e,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const t=ui(e[a+1]);e[r+1]=ci(t,a),0!==t&&(e[t+1]=di(e[t+1],r)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=ci(a,0),0!==a&&(e[a+1]=di(e[a+1],r)),a=r;else e[r+1]=ci(c,0),0===a?a=r:e[c+1]=di(e[c+1],r),c=r;l&&(e[r+1]=li(e[r+1])),Ys(e,u,r,!0),Ys(e,u,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&un(s,t)>=0&&(n[r+1]=fi(n[r+1]))}(t,u,e,r,s),o=ci(a,c),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}(s,e,o,r),t!==si&&Os(i,o,t)&&function(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const c=e.data,u=c[a+1];ro(function(e){return 1==(1&e)}(u)?no(c,t,n,i,hi(u),o):void 0)||(ro(s)||function(e){return 2==(2&e)}(u)&&(s=no(c,null,n,i,a,o)),function(e,t,n,r,i){const s=ke(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:_r.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=_r.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Oe(ht(),n),i,s))}(s,s.data[ht()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=d(Ln(e)))),e}(t,n),r,o)}(e,t,null,!0),Xs}function eo(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=to(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function to(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),an(e,o,!!n||t[++s]))}return void 0===e?null:e}function no(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),c=s?t[1]:t,u=null===c;let l=n[i+1];l===si&&(l=u?B:void 0);let h=u?cn(l,r):c===r?l:void 0;if(s&&!ro(h)&&(h=cn(t,r)),ro(h)&&(a=h,o))return a;const d=e[i+1];i=o?ui(d):hi(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=cn(e,r))}return a}function ro(e){return void 0!==e}function io(e,t=""){const n=je(),r=ze(),i=e+20,s=r.firstCreatePass?mi(r,i,1,t,null):r.data[i],o=n[i]=function(e,t){return ke(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Vr(r,n,o,s),Ge(s,!1)}function so(e){return oo("",e,""),so}function oo(e,t,n){const r=je(),i=Ps(r,e,t,n);return i!==si&&es(r,ht(),i),oo}function ao(e,t,n){const r=je();return Os(r,Qe(),t)&&Ai(ze(),ft(),r,e,t,r[11],n,!0),ao}const co=void 0;var uo=["en",[["a","p"],["AM","PM"],co],[["AM","PM"],co,co],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],co,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],co,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",co,"{1} 'at' {0}",co],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let lo={};function ho(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=po(t);if(n)return n;const r=t.split("-")[0];if(n=po(r),n)return n;if("en"===r)return uo;throw new Error(`Missing locale data for the locale "${e}".`)}function fo(e){return ho(e)[go.PluralCase]}function po(e){return e in lo||(lo[e]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[e]),lo[e]}var go=(()=>((go=go||{})[go.LocaleId=0]="LocaleId",go[go.DayPeriodsFormat=1]="DayPeriodsFormat",go[go.DayPeriodsStandalone=2]="DayPeriodsStandalone",go[go.DaysFormat=3]="DaysFormat",go[go.DaysStandalone=4]="DaysStandalone",go[go.MonthsFormat=5]="MonthsFormat",go[go.MonthsStandalone=6]="MonthsStandalone",go[go.Eras=7]="Eras",go[go.FirstDayOfWeek=8]="FirstDayOfWeek",go[go.WeekendRange=9]="WeekendRange",go[go.DateFormat=10]="DateFormat",go[go.TimeFormat=11]="TimeFormat",go[go.DateTimeFormat=12]="DateTimeFormat",go[go.NumberSymbols=13]="NumberSymbols",go[go.NumberFormats=14]="NumberFormats",go[go.CurrencyCode=15]="CurrencyCode",go[go.CurrencySymbol=16]="CurrencySymbol",go[go.CurrencyName=17]="CurrencyName",go[go.Currencies=18]="Currencies",go[go.Directionality=19]="Directionality",go[go.PluralCase=20]="PluralCase",go[go.ExtraData=21]="ExtraData",go))();const mo="en-US";let yo=mo;function vo(e){T(e,"Expected localeId to be defined"),"string"==typeof e&&(yo=e.toLowerCase().replace(/_/g,"-"))}function wo(e,t,n,r,i){if(e=m(e),Array.isArray(e))for(let s=0;s<e.length;s++)wo(e[s],t,n,r,i);else{const s=ze(),o=je();let a=gs(e)?e:m(e.provide),c=ds(e);const u=He(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(gs(e)||!e.multi){const r=new bt(c,i,Ls),f=To(a,t,i?l:l+d,h);-1===f?(Mt(Pt(u,o),s,a),bo(s,e,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=To(a,t,l+d,h),p=To(a,t,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Mt(Pt(u,o),s,a);const l=function(e,t,n,r,i){const s=new bt(e,n,Ls);return s.multi=[],s.index=t,s.componentProviders=0,_o(s,i,r&&!n),s}(i?So:Io,n.length,i,r,c);!i&&m&&(n[p].providerFactory=l),bo(s,e,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else bo(s,e,f>-1?f:p,_o(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function bo(e,t,n,r){const i=gs(t);if(i||function(e){return!!e.useClass}(t)){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function _o(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function To(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Io(e,t,n,r){return Co(this.multi,[])}function So(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Bt(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),Co(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],Co(i,s);return s}function Co(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Eo(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=ze();if(r.firstCreatePass){const i=ge(e);wo(n,r.data,r.blueprint,i,!0),wo(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class ko{}const Ao="ngComponent";class xo{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${d(e)}. Did you add it to @NgModule.entryComponents?`);return t[Ao]=e,t}(e)}}let Oo=(()=>{class e{}return e.NULL=new xo,e})();function No(...e){}function Po(e,t){return new Ro(Ne(e,t))}const Do=function(){return Po(He(),je())};let Ro=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Do,e})();function Lo(e){return e instanceof Ro?e.nativeElement:e}class Mo{}let Fo=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Uo(),e})();const Uo=function(){const e=je(),t=Re(He().index,e);return function(e){return e[11]}(le(t)?t:e)};let Vo=(()=>{class e{}return e.\u0275prov=I({token:e,providedIn:"root",factory:()=>null}),e})();class Zo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const qo=new Zo("12.2.10");class jo{constructor(){}supports(e){return ks(e)}create(e){return new Bo(e)}}const zo=(e,t)=>t;class Bo{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zo}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<Ko(n,r,i)?t:n,o=Ko(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ks(e))throw new Error(`Error trying to diff '${d(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Cs()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new Ho(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Go),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Go),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Ho{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $o{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Go{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new $o,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ko(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Wo{constructor(){}supports(e){return e instanceof Map||As(e)}create(){return new Jo}}class Jo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||As(e)))throw new Error(`Error trying to diff '${d(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Yo(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Yo{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qo(){return new Xo([new jo])}let Xo=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Qo()),deps:[[e,new En,new Cn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(e){return e.name||typeof e}(e)}'`)}}return e.\u0275prov=I({token:e,providedIn:"root",factory:Qo}),e})();function ea(){return new ta([new Wo])}let ta=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||ea()),deps:[[e,new En,new Cn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=I({token:e,providedIn:"root",factory:ea}),e})();function na(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(xe(s)),he(s))for(let e=10;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&na(t[1],t,n,r)}const o=n.type;if(8&o)na(e,t,n.child,r);else if(32&o){const e=Tr(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=qr(t,n);if(Array.isArray(e))r.push(...e);else{const n=Ir(t[16]);na(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class ra{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return na(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(he(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Or(e,n),on(t,n))}this._attachedToViewContainer=!1}Nr(this._lView[1],this._lView)}onDestroy(e){Ei(this._lView[1],this._lView,null,e)}markForCheck(){Hi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$i(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Je(!0);try{$i(e,t,n)}finally{Je(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Br(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class ia extends ra{constructor(e){super(e),this._view=e}detectChanges(){Gi(this._view)}checkNoChanges(){!function(e){Je(!0);try{Gi(e)}finally{Je(!1)}}(this._view)}get context(){return null}}const sa=function(e){return function(e,t,n){if(fe(e)&&!n){const n=Re(e.index,t);return new ra(n,n)}return 47&e.type?new ra(t[16],t):null}(He(),je(),16==(16&e))};let oa=(()=>{class e{}return e.__NG_ELEMENT_ID__=sa,e})();const aa=[new Wo],ca=new Xo([new jo]),ua=new ta(aa),la=function(){return pa(He(),je())};let ha=(()=>{class e{}return e.__NG_ELEMENT_ID__=la,e})();const da=ha,fa=class extends da{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=gi(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),vi(t,n,e),new ra(n)}};function pa(e,t){return 4&e.type?new fa(t,e,Po(e,t)):null}class ga{}class ma{}const ya=function(){return Ia(He(),je())};let va=(()=>{class e{}return e.__NG_ELEMENT_ID__=ya,e})();const wa=va,ba=class extends wa{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Po(this._hostTNode,this._hostLView)}get injector(){return new Gt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Lt(this._hostTNode,this._hostLView);if(Et(e)){const t=At(e,this._hostLView),n=kt(e);return new Gt(t[1].data[n+8],t)}return new Gt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=_a(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(ga,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(he(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new ba(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],sn(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=jr(i,s),a=n[11],c=Fr(a,s[7]);return null!==c&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,Br(e,r,n,1,i,s)}(r,s[6],a,n,c,o),e.attachToViewContainerRef(),sn(Ta(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=_a(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Or(this._lContainer,t);n&&(on(Ta(this._lContainer),t),Nr(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Or(this._lContainer,t);return n&&null!=on(Ta(this._lContainer),t)?new ra(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function _a(e){return e[8]}function Ta(e){return e[8]||(e[8]=[])}function Ia(e,t){let n;const r=t[e.index];if(he(r))n=r;else{let i;if(8&e.type)i=xe(r);else{const n=t[11];i=n.createComment("");const r=Ne(e,t);Rr(n,Fr(n,r),i,function(e,t){return ke(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Zi(r,t,i,e),Bi(t,n)}return new ba(n,e,t)}const Sa={};class Ca extends Oo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ce(e);return new Aa(t,this.ngModule)}}function Ea(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const ka=new Xt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wr});class Aa extends ko{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ii).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Ea(this.componentDef.inputs)}get outputs(){return Ea(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,Sa,i);return s!==Sa||r===Sa?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Mo,Ae),o=i.get(Vo,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(e,t,n){if(ke(e))return e.selectRootElement(t,n===U.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ar(s.createRenderer(null,this.componentDef),c,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h=function(e,t){return{components:[],scheduler:e||wr,clean:Wi,playerHandler:t||null,flags:0}}(),d=Ci(0,null,null,1,0,null,null,null,null,null),f=gi(null,d,h,l,null,null,s,a,o,i);let p,g;st(f);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=mi(o,20,2,"#host",null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(ts(a,c,!0),null!==e&&(_t(i,e,c),null!==a.classes&&Gr(i,e,a.classes),null!==a.styles&&$r(i,e,a.styles)));const u=r.createRenderer(e,t),l=gi(n,Si(t),null,t.onPush?64:16,n[20],a,r,u,s||null,null);return o.firstCreatePass&&(Mt(Pt(a,n),o,t.type),Pi(o,a),Ri(a,n.length,1)),Bi(n,l),n[20]=l}(u,this.componentDef,f,s,a);if(u)if(n)_t(a,u,["ng-version",qo.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!ei(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&_t(a,u,e),t&&t.length>0&&Gr(a,u,t.join(" "))}if(g=Pe(d,20),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=He();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Li(e,r,t,yi(e,t,1,null),n));const i=Bt(t,e,r.directiveStart,r);pr(i,t);const s=Ne(r,t);return s&&pr(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=He();t.contentQueries(1,o,e.directiveStart)}const a=He();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(dt(a.index),Oi(n[1],a,0,a.directiveStart,a.directiveEnd,t),Ni(t,o)),o}(e,this.componentDef,f,h,[vs]),vi(d,f,null)}finally{lt()}return new xa(this.componentType,p,Po(g,f),f,g)}}class xa extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new ia(r),this.componentType=e}get injector(){return new Gt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Oa=new Map;class Na extends ga{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ca(this);const n=ue(e),r=e[W]||null;r&&vo(r),this._bootstrapComponents=br(n.bootstrap),this._r3Injector=us(e,t,[{provide:ga,useValue:this},{provide:Oo,useValue:this.componentFactoryResolver}],d(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ys.THROW_IF_NOT_FOUND,n=P.Default){return e===ys||e===ga||e===ns?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Pa extends ma{constructor(e){super(),this.moduleType=e,null!==ue(e)&&function(e){const t=new Set;!function e(n){const r=ue(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${d(t)} vs ${d(t.name)}`)}(i,Oa.get(i),n),Oa.set(i,n));const s=br(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Na(this.moduleType,e)}}function Da(e,t,n){const r=Ye()+e,i=je();return i[r]===si?xs(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function Ra(e,t){const n=e[t];return n===si?void 0:n}function La(e,t,n,r,i,s,o){const a=t+n;return function(e,t,n,r){const i=Os(e,t,n);return Os(e,t+1,r)||i}(e,a,i,s)?xs(e,a+2,o?r.call(o,i,s):r(i,s)):Ra(e,a+2)}function Ma(e,t){const n=ze();let r;const i=e+20;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new v("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ye(r.type)),o=R(Ls);try{const e=Ot(!1),t=s();return Ot(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,je(),i,t),t}finally{R(o)}}function Fa(e,t,n){const r=e+20,i=je(),s=De(i,r);return Za(i,Va(i,r)?function(e,t,n,r,i,s){const o=t+n;return Os(e,o,i)?xs(e,o+1,s?r.call(s,i):r(i)):Ra(e,o+1)}(i,Ye(),t,s.transform,n,s):s.transform(n))}function Ua(e,t,n,r){const i=e+20,s=je(),o=De(s,i);return Za(s,Va(s,i)?La(s,Ye(),t,o.transform,n,r,o):o.transform(n,r))}function Va(e,t){return e[1].data[t].pure}function Za(e,t){return Es.isWrapped(t)&&(t=Es.unwrap(t),e[Ze.lFrame.bindingIndex]=si),t}function qa(e){return t=>{setTimeout(e,void 0,t)}}const ja=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,c=t||(()=>null),u=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),c=null===(s=t.error)||void 0===s?void 0:s.bind(t),u=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(c=qa(c),a&&(a=qa(a)),u&&(u=qa(u)));const l=super.subscribe({next:a,error:c,complete:u});return e instanceof i.w&&e.add(l),l}};function za(){return this._results[Cs()]()}class Ba{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Cs(),n=Ba.prototype;n[t]||(n[t]=za)}get changes(){return this._changes||(this._changes=new ja)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=nn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ha{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ha(this.queryList)}setDirty(){this.queryList.setDirty()}}class $a{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new $a(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==oc(e,t).matches&&this.queries[t].setDirty()}}class Ga{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Ka{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Ka(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Wa{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Wa(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Ja(t,i)),this.matchTNodeWithReadOption(e,t,zt(t,e,i,!1,!1))}else n===ha?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,zt(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ro||r===va||r===ha&&4&t.type)this.addMatch(t.index,-2);else{const n=zt(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Ja(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Ya(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Po(e,t):4&e.type?pa(e,t):null}(t,e):-2===n?function(e,t,n){return n===Ro?Po(t,e):n===ha?pa(t,e):n===va?Ia(t,e):void 0}(e,t,r):Bt(e,e[1],n,t)}function Qa(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:Ya(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function Xa(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Qa(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=10;e<o.length;e++){const t=o[e];t[17]===t[3]&&Xa(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];Xa(n[1],n,i,r)}}}}}return r}function ec(e){const t=je(),n=ze(),r=tt();nt(r+1);const i=oc(n,r);if(e.dirty&&Le(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Xa(n,t,r,[]):Qa(n,t,i,r);e.reset(s,Lo),e.notifyOnChanges()}return!0}return!1}function tc(e,t,n){const r=ze();r.firstCreatePass&&(sc(r,new Ga(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),ic(r,je(),t)}function nc(e,t,n,r){const i=ze();if(i.firstCreatePass){const s=He();sc(i,new Ga(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}ic(i,je(),n)}function rc(){return e=je(),t=tt(),e[19].queries[t].queryList;var e,t}function ic(e,t,n){const r=new Ba(4==(4&n));Ei(e,t,r,r.destroy),null===t[19]&&(t[19]=new $a),t[19].queries.push(new Ha(r))}function sc(e,t,n){null===e.queries&&(e.queries=new Ka),e.queries.track(new Wa(t,n))}function oc(e,t){return e.queries.getByIndex(t)}const ac=new Xt("Application Initializer");let cc=(()=>{class e{constructor(e){this.appInits=e,this.resolve=No,this.reject=No,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(js(t))e.push(t);else if(Bs(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(wn(ac,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();const uc=new Xt("AppId"),lc={provide:uc,useFactory:function(){return`${hc()}${hc()}${hc()}`},deps:[]};function hc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dc=new Xt("Platform Initializer"),fc=new Xt("Platform ID"),pc=new Xt("appBootstrapListener");let gc=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();const mc=new Xt("LocaleId"),yc=new Xt("DefaultCurrencyCode");class vc{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const wc=function(e){return new Pa(e)},bc=wc,_c=function(e){return Promise.resolve(wc(e))},Tc=function(e){const t=wc(e),n=br(ue(e).declarations).reduce((e,t)=>{const n=ce(t);return n&&e.push(new Aa(n)),e},[]);return new vc(t,n)},Ic=Tc,Sc=function(e){return Promise.resolve(Tc(e))};let Cc=(()=>{class e{constructor(){this.compileModuleSync=bc,this.compileModuleAsync=_c,this.compileModuleAndAllComponentsSync=Ic,this.compileModuleAndAllComponentsAsync=Sc}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();const Ec=(()=>Promise.resolve(0))();function kc(e){"undefined"==typeof Zone?Ec.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ac{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=j.requestAnimationFrame,t=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(j,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Nc(e),e.isCheckStableRunning=!0,Oc(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Nc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Pc(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Dc(e)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Pc(e),n.invoke(i,s,o,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),Dc(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Nc(e),Oc(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ac.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ac.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,xc,No,No);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const xc={};function Oc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Nc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Pc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Dc(e){e._nesting--,Oc(e)}class Rc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Lc=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ac.assertNotInAngularZone(),kc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kc(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(wn(Ac))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})(),Mc=(()=>{class e{constructor(){this._applications=new Map,Vc.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Vc.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();class Fc{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Uc(e){Vc=e}let Vc=new Fc,Zc=!0,qc=!1;function jc(){return qc=!0,Zc}function zc(){if(qc)throw new Error("Cannot enable prod mode after platform setup.");Zc=!1}let Bc;const Hc=new Xt("AllowMultipleToken");class $c{constructor(e,t){this.name=e,this.token=t}}function Gc(e,t,n=[]){const r=`Platform: ${t}`,i=new Xt(r);return(t=[])=>{let s=Kc();if(!s||s.injector.get(Hc,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:is,useValue:"platform"});!function(e){if(Bc&&!Bc.destroyed&&!Bc.injector.get(Hc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Bc=e.get(Wc);const t=e.get(dc,null);t&&t.forEach(e=>e())}(ys.create({providers:e,name:r}))}return function(e){const t=Kc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Kc(){return Bc&&!Bc.destroyed?Bc:null}let Wc=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Rc:("zone.js"===e?void 0:e)||new Ac({enableLongStackTrace:jc(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:Ac,useValue:n}];return n.run(()=>{const i=ys.create({providers:r,parent:this.injector,name:e.moduleType.name}),s=e.create(i),o=s.injector.get(vr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{o.handleError(e)}});s.onDestroy(()=>{Qc(this._modules,s),e.unsubscribe()})}),function(e,n,r){try{const t=r();return js(t)?t.catch(t=>{throw n.runOutsideAngular(()=>e.handleError(t)),t}):t}catch(t){throw n.runOutsideAngular(()=>e.handleError(t)),t}}(o,n,()=>{const e=s.injector.get(cc);return e.runInitializers(),e.donePromise.then(()=>(vo(s.injector.get(mc,mo)||mo),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const n=Jc({},t);return function(e,t,n){const r=new Pa(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Yc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${d(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(wn(ys))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();function Jc(e,t){return Array.isArray(t)?t.reduce(Jc,e):Object.assign(Object.assign({},e),t)}let Yc=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),h=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Ac.assertNotInAngularZone(),kc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ac.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,h.pipe(e=>(0,c.x)()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.N);return r.source=t,r.subjectFactory=n,r}}(u)(e))))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof ko?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=function(e){return e.isBoundToModule}(n)?void 0:this._injector.get(ga),i=n.create(ys.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Lc,null),a=o&&i.injector.get(Mc);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Qc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Qc(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(pc,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(wn(Ac),wn(ys),wn(vr),wn(Oo),wn(cc))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();function Qc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Xc{}class eu{}const tu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let nu=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||tu}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>ru(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>ru(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(wn(Cc),wn(eu,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();function ru(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const iu=function(e){return null},su=Gc(null,"core",[{provide:fc,useValue:"unknown"},{provide:Wc,deps:[ys]},{provide:Mc,deps:[]},{provide:gc,deps:[]}]),ou=[{provide:Yc,useClass:Yc,deps:[Ac,ys,vr,Oo,cc]},{provide:ka,deps:[Ac],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:cc,useClass:cc,deps:[[new Cn,ac]]},{provide:Cc,useClass:Cc,deps:[]},lc,{provide:Xo,useFactory:function(){return ca},deps:[]},{provide:ta,useFactory:function(){return ua},deps:[]},{provide:mc,useFactory:function(e){return vo(e=e||"undefined"!=typeof $localize&&$localize.locale||mo),e},deps:[[new Sn(mc),new Cn,new En]]},{provide:yc,useValue:"USD"}];let au=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(wn(Yc))},e.\u0275mod=re({type:e}),e.\u0275inj=S({providers:ou}),e})()},8939:function(e,t,n){"use strict";n.d(t,{hO:function(){return g},xv:function(){return h},Dh:function(){return l},GT:function(){return c},cc:function(){return m},on:function(){return d},pX:function(){return a}});var r=n(3018),i=n(7841),s=n(6643);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),c=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class u{constructor(e){return e}}const l=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new u(o)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:u,useFactory:d,deps:[l,r.R0b,[new r.FiY,h]]};let g=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:l,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})();function m(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(v("error",`${t} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),v("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}const y=!!e.hot,v=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:function(e,t,n){"use strict";n.d(t,{q4:function(){return Fn},iC:function(){return Kn},HU:function(){return $n},vb:function(){return jn},JM:function(){return qn}});var r=n(3018),i=n(2329),s=n(8239),o=n(5452),a=n(3854),c=n(6034),u=n(5601),l=n(6676);const h="@firebase/installations",d="0.5.2",f=`w:${d}`,p="FIS_v2",g=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function m(e){return e instanceof a.ZR&&e.code.includes("request-failed")}function y({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function v(e){return{token:e.token,requestStatus:2,expiresIn:C(e.expiresIn),creationTime:Date.now()}}function w(e,t){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)(function*(e,t){const n=(yield t.json()).error;return g.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function _({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function T(e,{refreshToken:t}){const n=_(e);return n.append("Authorization",function(e){return`${p} ${e}`}(t)),n}function I(e){return S.apply(this,arguments)}function S(){return(S=(0,s.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function C(e){return Number(e.replace("s","000"))}function E(e,t){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(function*(e,{fid:t}){const n=y(e),r={method:"POST",headers:_(e),body:JSON.stringify({fid:t,authVersion:p,appId:e.appId,sdkVersion:f})},i=yield I(()=>fetch(n,r));if(i.ok){const e=yield i.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:v(e.authToken)}}throw yield w("Create Installation",i)})).apply(this,arguments)}function A(e){return new Promise(t=>{setTimeout(t,e)})}const x=/^[cdef][\w-]{21}$/;function O(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return x.test(t)?t:""}catch(e){return""}}function N(e){return`${e.appName}!${e.appId}`}const P=new Map;function D(e,t){const n=N(e);R(n,t),function(e,t){const n=(!L&&"BroadcastChannel"in self&&(L=new BroadcastChannel("[Firebase] FID Change"),L.onmessage=e=>{R(e.data.key,e.data.fid)}),L);n&&n.postMessage({key:e,fid:t}),0===P.size&&L&&(L.close(),L=null)}(n,t)}function R(e,t){const n=P.get(e);if(n)for(const r of n)r(t)}let L=null;const M="firebase-installations-store";let F=null;function U(){return F||(F=(0,l.openDb)("firebase-installations-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(M)}})),F}function V(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)(function*(e,t){const n=N(e),r=(yield U()).transaction(M,"readwrite"),i=r.objectStore(M),s=yield i.get(n);return yield i.put(t,n),yield r.complete,(!s||s.fid!==t.fid)&&D(e,t.fid),t})).apply(this,arguments)}function q(e){return j.apply(this,arguments)}function j(){return(j=(0,s.Z)(function*(e){const t=N(e),n=(yield U()).transaction(M,"readwrite");yield n.objectStore(M).delete(t),yield n.complete})).apply(this,arguments)}function z(e,t){return B.apply(this,arguments)}function B(){return(B=(0,s.Z)(function*(e,t){const n=N(e),r=(yield U()).transaction(M,"readwrite"),i=r.objectStore(M),s=yield i.get(n),o=t(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.complete,o&&(!s||s.fid!==o.fid)&&D(e,o.fid),o})).apply(this,arguments)}function H(e){return $.apply(this,arguments)}function $(){return($=(0,s.Z)(function*(e){let t;const n=yield z(e,n=>{const r=G(n),i=K(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})).apply(this,arguments)}function G(e){return X(e||{fid:O(),registrationStatus:0})}function K(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(g.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return W.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:J(e)}:{installationEntry:t}}function W(){return(W=(0,s.Z)(function*(e,t){try{return V(e,yield E(e,t))}catch(n){throw m(n)&&409===n.customData.serverCode?yield q(e):yield V(e,{fid:t.fid,registrationStatus:0}),n}})).apply(this,arguments)}function J(e){return Y.apply(this,arguments)}function Y(){return(Y=(0,s.Z)(function*(e){let t=yield Q(e);for(;1===t.registrationStatus;)yield A(100),t=yield Q(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=yield H(e);return n||t}return t})).apply(this,arguments)}function Q(e){return z(e,e=>{if(!e)throw g.create("installation-not-found");return X(e)})}function X(e){return function(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=(0,s.Z)(function*({appConfig:e,platformLoggerProvider:t},n){const r=ne(e,n),i=T(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:f}})},a=yield I(()=>fetch(r,o));if(a.ok)return v(yield a.json());throw yield w("Generate Auth Token",a)})).apply(this,arguments)}function ne(e,{fid:t}){return`${y(e)}/${t}/authTokens:generate`}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,s.Z)(function*(e,t=!1){let n;const r=yield z(e.appConfig,r=>{if(!le(r))throw g.create("not-registered");const i=r.authToken;if(!t&&he(i))return r;if(1===i.requestStatus)return n=se(e,t),r;{if(!navigator.onLine)throw g.create("app-offline");const t=de(r);return n=ce(e,t),t}});return n?yield n:r.authToken})).apply(this,arguments)}function se(e,t){return oe.apply(this,arguments)}function oe(){return(oe=(0,s.Z)(function*(e,t){let n=yield ae(e.appConfig);for(;1===n.authToken.requestStatus;)yield A(100),n=yield ae(e.appConfig);const r=n.authToken;return 0===r.requestStatus?re(e,t):r})).apply(this,arguments)}function ae(e){return z(e,e=>{if(!le(e))throw g.create("not-registered");return function(e){return 1===e.requestStatus&&e.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ce(e,t){return ue.apply(this,arguments)}function ue(){return(ue=(0,s.Z)(function*(e,t){try{const n=yield ee(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield V(e.appConfig,r),n}catch(n){if(!m(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield V(e.appConfig,n)}else yield q(e.appConfig);throw n}})).apply(this,arguments)}function le(e){return void 0!==e&&2===e.registrationStatus}function he(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function de(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function fe(){return(fe=(0,s.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield H(t.appConfig);return r?r.catch(console.error):re(t).catch(console.error),n.fid})).apply(this,arguments)}function pe(){return(pe=(0,s.Z)(function*(e,t=!1){const n=e;return yield ge(n.appConfig),(yield re(n,t)).token})).apply(this,arguments)}function ge(e){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(e){const{registrationPromise:t}=yield H(e);t&&(yield t)})).apply(this,arguments)}function ye(e){return g.create("missing-app-config-values",{valueName:e})}const ve="installations";(0,o._registerComponent)(new c.wA(ve,e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw ye("App Configuration");if(!e.name)throw ye("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ye(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:(0,o._getProvider)(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new c.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,o._getProvider)(t,ve).getImmediate();return{getId:()=>function(e){return fe.apply(this,arguments)}(n),getToken:e=>function(e){return pe.apply(this,arguments)}(n,e)}},"PRIVATE")),(0,o.registerVersion)(h,d),(0,o.registerVersion)(h,d,"esm2017");const we="@firebase/remote-config",be=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _e{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(t.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function Te(e=navigator){return e.languages&&e.languages[0]||e.language}class Ie{constructor(e,t,n,r,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},o={sdk_version:t.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:t.appId,language_code:Te()},a={method:"POST",headers:s,body:JSON.stringify(o)},c=fetch(i,a),u=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let l;try{yield Promise.race([c,u]),l=yield c}catch(g){let e="fetch-client-network";throw"AbortError"===g.name&&(e="fetch-timeout"),be.create(e,{originalErrorMessage:g.message})}let h=l.status;const d=l.headers.get("ETag")||void 0;let f,p;if(200===l.status){let e;try{e=yield l.json()}catch(m){throw be.create("fetch-client-parse",{originalErrorMessage:m.message})}f=e.entries,p=e.state}if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:("NO_TEMPLATE"===p||"EMPTY_CONFIG"===p)&&(f={}),304!==h&&200!==h)throw be.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:f}})()}}class Se{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,s.Z)(function*(){const n=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,n)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){var r=this;return(0,s.Z)(function*(){yield function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(be.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),t}catch(i){if(!function(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i))throw i;const t={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(t),r.attemptFetch(e,t)}})()}}class Ce{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ee(e,t){const n=e.target.error||void 0;return be.create(t,{originalErrorMessage:n&&n.message})}const ke="app_namespace_store";class Ae{constructor(e,t,n,r=function(){return new Promise((e,n)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=e=>{n(Ee(e,"storage-open"))},t.onsuccess=t=>{e(t.target.result)},t.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(ke,{keyPath:"compositeKey"})}}}catch(t){n(be.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([ke],"readonly").objectStore(ke),o=t.createCompositeKey(e);try{const e=s.get(o);e.onerror=e=>{i(Ee(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;r(t?t.value:void 0)}}catch(a){i(be.create("storage-get",{originalErrorMessage:a&&a.message}))}})})()}set(e,t){var n=this;return(0,s.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([ke],"readwrite").objectStore(ke),a=n.createCompositeKey(e);try{const e=o.put({compositeKey:a,value:t});e.onerror=e=>{s(Ee(e,"storage-set"))},e.onsuccess=()=>{i()}}catch(c){s(be.create("storage-set",{originalErrorMessage:c&&c.message}))}})})()}delete(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([ke],"readwrite").objectStore(ke),o=t.createCompositeKey(e);try{const e=s.delete(o);e.onerror=e=>{i(Ee(e,"storage-delete"))},e.onsuccess=()=>{r()}}catch(a){i(be.create("storage-delete",{originalErrorMessage:a&&a.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class xe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,s.Z)(function*(){const t=e.storage.getLastFetchStatus(),n=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),i=yield t;i&&(e.lastFetchStatus=i);const s=yield n;s&&(e.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(e.activeConfig=o)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Oe(){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new c.wA("remote-config",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw be.create("registration-window");if(!(0,a.hl)())throw be.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:c}=n.options;if(!i)throw be.create("registration-project-id");if(!s)throw be.create("registration-api-key");if(!c)throw be.create("registration-app-id");const l=new Ae(c,n.name,t=t||"firebase"),h=new xe(l),d=new u.Yd(we);d.logLevel=u.in.ERROR;const f=new Ie(r,o.SDK_VERSION,t,i,s,c),p=new Se(f,l),g=new _e(p,l,h,d),m=new Ce(n,g,h,l,d);return function(e){const t=(0,a.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(we,"0.3.1"),(0,o.registerVersion)(we,"0.3.1","esm2017");const Pe="/firebase-messaging-sw.js",De="/firebase-cloud-messaging-push-scope",Re="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Le="google.c.a.c_id",Me="google.c.a.c_l",Fe="google.c.a.ts",Ue="google.c.a.e";var Ve=(()=>{return(e=Ve||(Ve={})).PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",Ve;var e})();function Ze(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qe(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}const je="fcm_token_details_db",ze="fcm_token_object_Store";function Be(e){return He.apply(this,arguments)}function He(){return(He=(0,s.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e=>e.name).includes(je))return null;let t=null;return(yield(0,l.openDb)(je,5,function(){var n=(0,s.Z)(function*(n){var r;if(n.oldVersion<2||!n.objectStoreNames.contains(ze))return;const i=n.transaction.objectStore(ze),s=yield i.index("fcmSenderId").get(e);if(yield i.clear(),s)if(2===n.oldVersion){const e=s;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(r=e.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Ze(e.vapidKey)}}}else if(3===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ze(e.auth),p256dh:Ze(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ze(e.vapidKey)}}}else if(4===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ze(e.auth),p256dh:Ze(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ze(e.vapidKey)}}}});return function(e){return n.apply(this,arguments)}}())).close(),yield(0,l.deleteDb)(je),yield(0,l.deleteDb)("fcm_vapid_details_db"),yield(0,l.deleteDb)("undefined"),$e(t)?t:null})).apply(this,arguments)}function $e(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const Ge="firebase-messaging-store";let Ke=null;function We(){return Ke||(Ke=(0,l.openDb)("firebase-messaging-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(Ge)}})),Ke}function Je(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,s.Z)(function*(e){const t=nt(e),n=yield(yield We()).transaction(Ge).objectStore(Ge).get(t);if(n)return n;{const t=yield Be(e.appConfig.senderId);if(t)return yield Qe(e,t),t}})).apply(this,arguments)}function Qe(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,s.Z)(function*(e,t){const n=nt(e),r=(yield We()).transaction(Ge,"readwrite");return yield r.objectStore(Ge).put(t,n),yield r.complete,t})).apply(this,arguments)}function et(e){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(e){const t=nt(e),n=(yield We()).transaction(Ge,"readwrite");yield n.objectStore(Ge).delete(t),yield n.complete})).apply(this,arguments)}function nt({appConfig:e}){return e.appId}const rt=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function it(e,t){return st.apply(this,arguments)}function st(){return(st=(0,s.Z)(function*(e,t){const n=yield ht(e),r=ft(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(lt(e.appConfig),i)).json()}catch(o){throw rt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw rt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw rt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function ot(e,t){return at.apply(this,arguments)}function at(){return(at=(0,s.Z)(function*(e,t){const n=yield ht(e),r=ft(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${lt(e.appConfig)}/${t.token}`,i)).json()}catch(o){throw rt.create("token-update-failed",{errorInfo:o})}if(s.error)throw rt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw rt.create("token-update-no-token");return s.token})).apply(this,arguments)}function ct(e,t){return ut.apply(this,arguments)}function ut(){return(ut=(0,s.Z)(function*(e,t){const n={method:"DELETE",headers:yield ht(e)};try{const r=yield(yield fetch(`${lt(e.appConfig)}/${t}`,n)).json();if(r.error)throw rt.create("token-unsubscribe-failed",{errorInfo:r.error.message})}catch(r){throw rt.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function lt({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}function ht(e){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function ft({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Re&&(i.web.applicationPubKey=r),i}const pt=6048e5;function gt(e){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(e){const t=yield It(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Ze(t.getKey("auth")),p256dh:Ze(t.getKey("p256dh"))},r=yield Je(e.firebaseDependencies);if(r){if(Ct(r.subscriptionOptions,n))return Date.now()>=r.createTime+pt?wt(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield ct(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return _t(e.firebaseDependencies,n)}return _t(e.firebaseDependencies,n)})).apply(this,arguments)}function yt(e){return vt.apply(this,arguments)}function vt(){return(vt=(0,s.Z)(function*(e){const t=yield Je(e.firebaseDependencies);t&&(yield ct(e.firebaseDependencies,t.token),yield et(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function wt(e,t){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(e,t){try{const n=yield ot(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield Qe(e.firebaseDependencies,r),n}catch(n){throw yield yt(e),n}})).apply(this,arguments)}function _t(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,s.Z)(function*(e,t){const n={token:yield it(e,t),createTime:Date.now(),subscriptionOptions:t};return yield Qe(e,n),n.token})).apply(this,arguments)}function It(e,t){return St.apply(this,arguments)}function St(){return(St=(0,s.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qe(t)})})).apply(this,arguments)}function Ct(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function Et(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){!t.data||(e.data=t.data)}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function kt(e){return"object"==typeof e&&!!e&&Le in e}function At(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function xt(e){return rt.create("missing-app-config-values",{valueName:e})}At("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),At("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ot{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw xt("App Configuration Object");if(!e.name)throw xt("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw xt(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}function Nt(e){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,s.Z)(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(Pe,{scope:De}),e.swRegistration.update().catch(()=>{})}catch(t){throw rt.create("failed-service-worker-registration",{browserErrorMessage:t.message})}})).apply(this,arguments)}function Dt(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(e,t){if(!t&&!e.swRegistration&&(yield Nt(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw rt.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function Lt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,s.Z)(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Re)})).apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(function*(e,t){if(!navigator)throw rt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rt.create("permission-blocked");return yield Lt(e,null==t?void 0:t.vapidKey),yield Dt(e,null==t?void 0:t.serviceWorkerRegistration),gt(e)})).apply(this,arguments)}function Ut(e,t,n){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,s.Z)(function*(e,t,n){const r=Zt(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Le],message_name:n[Me],message_time:n[Fe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Zt(e){switch(e){case Ve.NOTIFICATION_CLICKED:return"notification_open";case Ve.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qt(){return(qt=(0,s.Z)(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Ve.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(Et(n)):e.onMessageHandler.next(Et(n)));const r=n.data;kt(r)&&"1"===r[Ue]&&(yield Ut(e,n.messageType,r))})).apply(this,arguments)}const jt="@firebase/messaging";function zt(){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,s.Z)(function*(){return"undefined"!=typeof window&&(0,a.hl)()&&(yield(0,a.eu)())&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new c.wA("messaging",e=>{const t=new Ot(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function(e,t){return qt.apply(this,arguments)}(t,e)),t},"PUBLIC")),(0,o._registerComponent)(new c.wA("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>function(e,t){return Ft.apply(this,arguments)}(t,e)}},"PRIVATE")),(0,o.registerVersion)(jt,"0.9.2"),(0,o.registerVersion)(jt,"0.9.2","esm2017");const Ht="analytics",$t="firebase_id",Gt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kt="https://www.googletagmanager.com/gtag/js",Wt=new u.Yd("@firebase/analytics");function Jt(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Yt(e,t){const n=document.createElement("script");n.src=`${Kt}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function Qt(e,t,n,r,i,s){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(function*(e,t,n,r,i,s){const o=r[i];try{if(o)yield t[o];else{const e=(yield Jt(n)).find(e=>e.measurementId===i);e&&(yield t[e.appId])}}catch(a){Wt.error(a)}e("config",i,s)})).apply(this,arguments)}function en(e,t,n,r,i){return tn.apply(this,arguments)}function tn(){return(tn=(0,s.Z)(function*(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=yield Jt(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",r,i||{})}catch(s){Wt.error(s)}})).apply(this,arguments)}function nn(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Kt))return t;return null}const rn=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),sn=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function on(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function an(e){return cn.apply(this,arguments)}function cn(){return(cn=(0,s.Z)(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:on(r)},s=Gt.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=yield o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()})).apply(this,arguments)}function un(e){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.Z)(function*(e,t=sn,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw rn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw rn.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new gn;return setTimeout((0,s.Z)(function*(){c.abort()}),void 0!==n?n:6e4),hn({appId:r,apiKey:i,measurementId:o},a,c,t)})).apply(this,arguments)}function hn(e,t,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,s.Z)(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=sn){const{appId:s,measurementId:o}=e;try{yield fn(r,t)}catch(c){if(o)return Wt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:s,measurementId:o};throw c}try{const t=yield an(e);return i.deleteThrottleMetadata(s),t}catch(c){if(!pn(c)){if(i.deleteThrottleMetadata(s),o)return Wt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:s,measurementId:o};throw c}const t=503===Number(c.customData.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return i.setThrottleMetadata(s,u),Wt.debug(`Calling attemptFetch again in ${t} millis`),hn(e,u,r,i)}})).apply(this,arguments)}function fn(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(rn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function pn(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class gn{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function mn(){return yn.apply(this,arguments)}function yn(){return(yn=(0,s.Z)(function*(){if(!(0,a.hl)())return Wt.warn(rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(e){return Wt.warn(rn.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0})).apply(this,arguments)}function vn(){return(vn=(0,s.Z)(function*(e,t,n,r,i,s,o){var a;const c=un(e);c.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Wt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Wt.error(e)),t.push(c);const u=mn().then(e=>{if(e)return r.getId()}),[l,h]=yield Promise.all([c,u]);nn()||Yt(s,l.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d[$t]=h),i("config",l.measurementId,d),l.measurementId})).apply(this,arguments)}class wn{constructor(e){this.app=e}_delete(){return delete bn[this.app.options.appId],Promise.resolve()}}let bn={},_n=[];const Tn={};let In,Sn,Cn="dataLayer",En=!1;function kn(e,t,n){!function(){const e=[];if((0,a.ru)()&&e.push("This is a browser extension environment."),(0,a.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=rn.create("invalid-analytics-context",{errorInfo:t});Wt.warn(n.message)}}();const r=e.options.appId;if(!r)throw rn.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw rn.create("no-api-key");Wt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bn[r])throw rn.create("already-exists",{id:r});if(!En){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Cn);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){function i(){return(i=(0,s.Z)(function*(i,s,o){try{"event"===i?yield en(e,t,n,s,o):"config"===i?yield Qt(e,t,n,r,s,o):e("set",s)}catch(a){Wt.error(a)}})).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(bn,_n,Tn,Cn,"gtag");Sn=e,In=t,En=!0}return bn[r]=function(e,t,n,r,i,s,o){return vn.apply(this,arguments)}(e,_n,Tn,t,In,Cn,n),new wn(e)}function An(){return(An=(0,s.Z)(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function xn(){return On.apply(this,arguments)}function On(){return(On=(0,s.Z)(function*(){if((0,a.ru)()||!(0,a.zI)()||!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}const Nn="@firebase/analytics";(0,o._registerComponent)(new c.wA(Ht,(e,{options:t})=>kn(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,o._registerComponent)(new c.wA("analytics-internal",function(e){try{const t=e.getProvider(Ht).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=(0,a.m9)(e),function(e,t,n,r,i){return An.apply(this,arguments)}(Sn,bn[e.app.options.appId],t,n,r).catch(e=>Wt.error(e))}(t,e,n,r)}}catch(t){throw rn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,o.registerVersion)(Nn,"0.7.2"),(0,o.registerVersion)(Nn,"0.7.2","esm2017");var Pn=n(7771),Dn=n(3637),Rn=n(3342),Ln=n(3101),Mn=n(309);const Fn=new r.GfV("7.1.0"),Un="__angularfire_symbol__analyticsIsSupported",Vn="__angularfire_symbol__remoteConfigIsSupported",Zn="__angularfire_symbol__messagingIsSupported";function qn(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter(e=>e.app===n);if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Un]||(globalThis[Un]=xn().then(e=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=e)),globalThis[Zn]||(globalThis[Zn]=zt().then(e=>globalThis.__angularfire_symbol__messagingIsSupportedValue=e)),globalThis[Vn]||(globalThis[Vn]=Oe().then(e=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=e));const jn=(e,t)=>{const n=t?[t]:(0,i.C6)(),r=[];return n.forEach(t=>{t.container.getProvider(e).instances.forEach(e=>{r.includes(e)||r.push(e)})}),r};function zn(){}class Bn{constructor(e,t=Pn.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class Hn{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zn,{},zn,zn)),t.pipe((0,Rn.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $n=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Bn(Zone.current)),this.insideAngular=e.run(()=>new Bn(Zone.current,Dn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Gn(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function Kn(e){return Gn(),function(e){return function(t){return(t=t.lift(new Hn(e.ngZone))).pipe((0,Ln.R)(e.outsideAngular),(0,Mn.QV)(e.insideAngular))}}(Gn())(e)}},4486:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(3854),i=n(6034),s=n(5452),o=n(5601);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&"EXPLICIT"===(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const c=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),u=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const c=new e(a,n);return t[a.name]=c,c},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw c.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw c.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),l=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=u;(0,s.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:function(e,t,n){"use strict";n.r(t),n.d(t,{FirebaseError:function(){return o.ZR},SDK_VERSION:function(){return T},_DEFAULT_ENTRY_NAME:function(){return l},_addComponent:function(){return p},_addOrOverwriteComponent:function(){return g},_apps:function(){return d},_clearComponents:function(){return w},_components:function(){return f},_getProvider:function(){return y},_registerComponent:function(){return m},_removeServiceInstance:function(){return v},deleteApp:function(){return E},getApp:function(){return S},getApps:function(){return C},initializeApp:function(){return I},onLog:function(){return x},registerVersion:function(){return A},setLogLevel:function(){return O}});var r=n(8239),i=n(6034),s=n(5601),o=n(3854);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",u=new s.Yd("@firebase/app"),l="[DEFAULT]",h={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,f=new Map;function p(e,t){try{e.container.addComponent(t)}catch(n){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function g(e,t){e.container.addOrOverwriteComponent(t)}function m(e){const t=e.name;if(f.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;f.set(t,e);for(const n of d.values())p(n,e);return!0}function y(e,t){return e.container.getProvider(t)}function v(e,t,n=l){y(e,t).clearInstance(n)}function w(){f.clear()}const b=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class _{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw b.create("app-deleted",{appName:this._name})}}const T="9.1.3";function I(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:l,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw b.create("bad-app-name",{appName:String(r)});const s=d.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw b.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of f.values())a.addComponent(i);const c=new _(e,n,a);return d.set(r,c),c}function S(e=l){const t=d.get(e);if(!t)throw b.create("no-app",{appName:e});return t}function C(){return Array.from(d.values())}function E(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(function*(e){const t=e.name;d.has(t)&&(d.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function A(e,t,n){var r;let s=null!==(r=h[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void u.warn(e.join(" "))}m(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function x(e,t){if(null!==e&&"function"!=typeof e)throw b.create("invalid-log-argument");(0,s.Am)(e,t)}function O(e){(0,s.Ub)(e)}m(new i.wA("platform-logger",e=>new a(e),"PRIVATE")),A(c,"0.7.4",""),A(c,"0.7.4","esm2017"),A("fire-js","")},6034:function(e,t,n){"use strict";n.d(t,{wA:function(){return s},H0:function(){return u}});var r=n(4762),i=n(3854),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=(0,r.CR)(s.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:u});c.resolve(l)}catch(h){}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var e;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.CR)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var c=(0,r.XA)(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=(0,r.CR)(u.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,s=this.onInitCallbacks.get(t);if(s)try{for(var o=(0,r.XA)(s),a=o.next();!a.done;a=o.next()){var c=a.value;try{c(e,t)}catch(u){}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:c(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(s){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();function c(e){return e===o?void 0:e}var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},5601:function(e,t,n){"use strict";n.d(t,{in:function(){return i},Yd:function(){return u},Ub:function(){return l},Am:function(){return h}});const r=[];var i=(()=>{return(e=i||(i={}))[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",i;var e})();const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function l(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},3854:function(e,t,n){"use strict";n.d(t,{BH:function(){return u},LL:function(){return C},ZR:function(){return S},zI:function(){return I},US:function(){return i},tV:function(){return o},$s:function(){return F},r3:function(){return k},Sg:function(){return l},ne:function(){return R},vZ:function(){return x},ZB:function(){return a},pd:function(){return D},m9:function(){return U},z$:function(){return h},jU:function(){return p},ru:function(){return g},d:function(){return y},xb:function(){return A},w1:function(){return v},hl:function(){return _},uI:function(){return d},UG:function(){return f},b$:function(){return m},G6:function(){return b},Mn:function(){return w},xO:function(){return N},zd:function(){return P},eu:function(){return T}});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0;let u=(15&o)<<2|c>>6,l=63&c;a||(l=64,s||(u=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[u],n[l])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();r.push(t<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!c(n)||(e[n]=a(e[n],t[n]));return e}function c(e){return"__proto__"!==e}class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function l(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){const e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function w(){return h().indexOf("MSAppHost/")>=0}function b(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){return"object"==typeof indexedDB}function T(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function I(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class S extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,S.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C.prototype.create)}}class C{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(E,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new S(r,`${this.serviceName}: ${s} (${r}).`,n)}}const E=/\{\$([^}]+)}/g;function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function A(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function x(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(O(n)&&O(s)){if(!x(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function O(e){return null!==e&&"object"==typeof e}function N(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function P(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function D(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function R(e,t){const n=new L(e,t);return n.subscribe.bind(n)}class L{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=M),void 0===r.error&&(r.error=M),void 0===r.complete&&(r.complete=M);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M(){}function F(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function U(e){return e&&e._delegate?e._delegate:e}},2329:function(e,t,n){"use strict";n.d(t,{Mq:function(){return r.getApp},C6:function(){return r.getApps}});var r=n(5452);(0,r.registerVersion)("firebase","9.1.3","app")},7841:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(4486);r.Z.registerVersion("firebase","9.1.3","app-compat")},4671:function(e,t,n){"use strict";n.r(t);var r=n(8239),i=n(4486),s=n(3854),o=n(5452),a=n(4762),c=n(5601),u=n(6034);const l=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},d=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),f=new c.Yd("@firebase/auth");function p(e,...t){f.logLevel<=c.in.ERROR&&f.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function g(e,...t){throw w(e,...t)}function m(e,...t){return w(e,...t)}function y(e,t,n){const r=Object.assign(Object.assign({},h()),{[t]:n});return new s.LL("auth","Firebase",r).create(t,{appName:e.name})}function v(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&g(e,"argument-error"),y(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return d.create(e,...t)}function b(e,t,...n){if(!e)throw w(t,...n)}function _(e){const t="INTERNAL ASSERTION FAILED: "+e;throw p(t),new Error(t)}function T(e,t){e||_(t)}const I=new Map;function S(e){T(e instanceof Function,"Expected a class definition");let t=I.get(e);return t?(T(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,I.set(e,t),t)}function C(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function E(){return"http:"===k()||"https:"===k()}function k(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class A{constructor(e,t){this.shortDelay=e,this.longDelay=t,T(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(E()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function x(e,t){T(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class O{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void _("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void _("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void _("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},P=new A(3e4,6e4);function D(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function R(e,t,n,r){return L.apply(this,arguments)}function L(){return(L=(0,r.Z)(function*(e,t,n,r,i={}){return M(e,i,()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),c=new(O.headers());return c.set("Content-Type","application/json"),c.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&c.set("X-Firebase-Locale",e.languageCode),O.fetch()(Z(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},i))})})).apply(this,arguments)}function M(e,t,n){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},N),t);try{const t=new q(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw j(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw j(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw j(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw y(e,a,o);g(e,a)}}catch(i){if(i instanceof s.ZR)throw i;g(e,"network-request-failed")}})).apply(this,arguments)}function U(e,t,n,r){return V.apply(this,arguments)}function V(){return(V=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield R(e,t,n,r,i);return"mfaPendingCredential"in s&&g(e,"multi-factor-auth-required",{serverResponse:s}),s})).apply(this,arguments)}function Z(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?x(e.config,i):`${e.config.apiScheme}://${i}`}class q{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(m(this.auth,"timeout")),P.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function j(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=m(e,t,r);return i.customData._tokenResponse=n,i}function z(){return(z=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function B(e,t){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function $(e,t){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function K(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function W(){return(W=(0,r.Z)(function*(e,t=!1){const n=(0,s.m9)(e),r=yield n.getIdToken(t),i=Y(r);b(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:K(J(i.auth_time)),issuedAtTime:K(J(i.iat)),expirationTime:K(J(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function J(e){return 1e3*Number(e)}function Y(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return p("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(p("Failed to decode base64 JWT payload"),null)}catch(i){return p("Caught error parsing JWT payload as JSON",i),null}}function Q(e,t){return X.apply(this,arguments)}function X(){return(X=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof s.ZR&&ee(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function ee({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class te{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class ne{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=K(this.lastLoginAt),this.creationTime=K(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield Q(e,$(n,{idToken:r}));b(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ae(s.providerUserInfo):[],a=oe(e.providerData,o),c=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ne(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,u)})).apply(this,arguments)}function se(){return(se=(0,r.Z)(function*(e){const t=(0,s.m9)(e);yield re(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function oe(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function ae(e){return e.map(e=>{var{providerId:t}=e,n=(0,a._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ce(){return(ce=(0,r.Z)(function*(e,t){const n=yield M(e,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Z(e,r,"/v1/token",`key=${i}`);return O.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(void 0!==e.idToken,"internal-error"),b(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Y(e);return b(t,"internal-error"),b(void 0!==t.exp,"internal-error"),b(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return b(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return ce.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ue;return n&&(b("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(b("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(b("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ue,this.toJSON())}_performRefresh(){return _("not implemented")}}function le(e,t){b("string"==typeof e||void 0===e,"internal-error",{appName:t})}class he{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,a._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new te(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new ne(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield Q(t,t.stsTokenManager.getToken(t.auth,e));return b(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return W.apply(this,arguments)}(this,e)}reload(){return function(e){return se.apply(this,arguments)}(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new he(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield re(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield Q(e,function(e,t){return z.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,u;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:w,isAnonymous:_,providerData:T,stsTokenManager:I}=t;b(v&&I,e,"internal-error");const S=ue.fromJSON(this.name,I);b("string"==typeof v,e,"internal-error"),le(l,e.name),le(h,e.name),b("boolean"==typeof w,e,"internal-error"),b("boolean"==typeof _,e,"internal-error"),le(d,e.name),le(f,e.name),le(p,e.name),le(g,e.name),le(m,e.name),le(y,e.name);const C=new he({uid:v,auth:e,email:h,emailVerified:w,displayName:l,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:m,lastLoginAt:y});return T&&Array.isArray(T)&&(C.providerData=T.map(e=>Object.assign({},e))),g&&(C._redirectEventId=g),C}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new ue;r.updateFromServerResponse(t);const i=new he({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield re(i),i})()}}const de=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function fe(e,t,n){return`firebase:${e}:${t}:${n}`}class pe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=fe(this.userKey,r.apiKey,i),this.fullPersistenceKey=fe("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?he._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new pe(S(de),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||S(de);const o=fe(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=he._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(u){}const c=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(t){}});return function(t){return e.apply(this,arguments)}}())),new pe(s,e,n)):new pe(s,e,n)})()}}function ge(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(we(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(me(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_e(t))return"Blackberry";if(Te(t))return"Webos";if(ye(t))return"Safari";if((t.includes("chrome/")||ve(t))&&!t.includes("edge/"))return"Chrome";if(be(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function me(e=(0,s.z$)()){return/firefox\//i.test(e)}function ye(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ve(e=(0,s.z$)()){return/crios\//i.test(e)}function we(e=(0,s.z$)()){return/iemobile/i.test(e)}function be(e=(0,s.z$)()){return/android/i.test(e)}function _e(e=(0,s.z$)()){return/blackberry/i.test(e)}function Te(e=(0,s.z$)()){return/webos/i.test(e)}function Ie(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function Se(e=(0,s.z$)()){return Ie(e)||be(e)||Te(e)||_e(e)||/windows phone/i.test(e)||we(e)}function Ce(e,t=[]){let n;switch(e){case"Browser":n=ge((0,s.z$)());break;case"Worker":n=`${ge((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Ee{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ae(this),this.idTokenSubscription=new Ae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=S(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r;n._deleted||(n.persistenceManager=yield pe.create(n,e),!n._deleted&&((null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(t),!n._deleted&&(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);(!i||i===s)&&(null==o?void 0:o.user)&&(r=o.user)}return r?r._redirectEventId?(b(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield re(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&b(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&b(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(S(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&S(e)||t._popupRedirectResolver;b(n,t,"argument-error"),t.redirectPersistenceManager=yield pe.create(t,[S(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return b(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function ke(e){return(0,s.m9)(e)}class Ae{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Oe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ne{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _("not implemented")}_getIdTokenResponse(e){return _("not implemented")}_linkToIdToken(e,t){return _("not implemented")}_getReauthenticationResolver(e){return _("not implemented")}}function Pe(e,t){return De.apply(this,arguments)}function De(){return(De=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:resetPassword",D(e,t))})).apply(this,arguments)}function Re(e,t){return Le.apply(this,arguments)}function Le(){return(Le=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Me(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",D(e,t))})).apply(this,arguments)}function Ue(){return(Ue=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithPassword",D(e,t))})).apply(this,arguments)}function Ve(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:sendOobCode",D(e,t))})).apply(this,arguments)}function qe(e,t){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(function*(e,t){return Ve(e,t)})).apply(this,arguments)}function ze(e,t){return Be.apply(this,arguments)}function Be(){return(Be=(0,r.Z)(function*(e,t){return Ve(e,t)})).apply(this,arguments)}function He(e,t){return $e.apply(this,arguments)}function $e(){return($e=(0,r.Z)(function*(e,t){return Ve(e,t)})).apply(this,arguments)}function Ge(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(e,t){return Ve(e,t)})).apply(this,arguments)}function We(){return(We=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))})).apply(this,arguments)}function Je(){return(Je=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))})).apply(this,arguments)}class Ye extends Ne{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ye(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ye(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return Ue.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return We.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:g(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Re(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return Je.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:g(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Qe(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithIdp",D(e,t))})).apply(this,arguments)}class et extends Ne{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new et(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):g("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,a._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new et(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Qe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qe(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:sendVerificationCode",D(e,t))})).apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t))})).apply(this,arguments)}function it(){return(it=(0,r.Z)(function*(e,t){const n=yield U(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t));if(n.temporaryProof)throw j(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const st={USER_NOT_FOUND:"user-not-found"};function ot(){return(ot=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),st)})).apply(this,arguments)}class at extends Ne{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new at({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new at({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return rt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return it.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return ot.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new at({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ct{constructor(e){var t,n,r,i,o,a;const c=(0,s.zd)((0,s.pd)(e)),u=null!==(t=c.apiKey)&&void 0!==t?t:null,l=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);b(u&&l&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=l,this.continueUrl=null!==(i=c.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new ct(t)}catch(n){return null}}}let ut=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Ye._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ct.parseLink(t);return b(n,"argument-error"),Ye._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class lt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ht extends lt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dt extends ht{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return b("providerId"in t&&"signInMethod"in t,"argument-error"),et._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return b(e.idToken||e.accessToken,"argument-error"),et._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return dt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return dt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!n&&!r&&!t&&!i||!o)return null;try{return new dt(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let ft=(()=>{class e extends ht{constructor(){super("facebook.com")}static credential(t){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),pt=(()=>{class e extends ht{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),gt=(()=>{class e extends ht{constructor(){super("github.com")}static credential(t){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class mt extends Ne{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Qe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qe(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new mt(n,i):null}static _create(e,t){return new mt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let yt=(()=>{class e extends ht{constructor(){super("twitter.com")}static credential(t,n){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function vt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signUp",D(e,t))})).apply(this,arguments)}class bt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield he._fromIdTokenResponse(e,n,i),s=_t(n);return new bt({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=_t(n);return new bt({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function _t(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Tt(){return(Tt=(0,r.Z)(function*(e){var t;const n=ke(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new bt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield vt(n,{returnSecureToken:!0}),i=yield bt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class It extends s.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,It.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(i=e.tenantId)&&void 0!==i?i:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new It(e,t,n,r)}}function St(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw"auth/multi-factor-auth-required"===n.code?It._fromErrorAndOperation(e,n,t,r):n})}function Ct(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function Et(){return(Et=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);yield xt(!0,n,t);const{providerUserInfo:r}=yield B(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=Ct(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function kt(e,t){return At.apply(this,arguments)}function At(){return(At=(0,r.Z)(function*(e,t,n=!1){const r=yield Q(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return bt._forOperation(e,"link",r)})).apply(this,arguments)}function xt(e,t,n){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,r.Z)(function*(e,t,n){yield re(t);const r=!1===e?"provider-already-linked":"no-such-provider";b(Ct(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function Nt(e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=yield Q(e,St(r,i,t,e),n);b(s.idToken,r,"internal-error");const o=Y(s.idToken);b(o,r,"internal-error");const{sub:a}=o;return b(e.uid===a,r,"user-mismatch"),bt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&g(r,"user-mismatch"),s}})).apply(this,arguments)}function Dt(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield St(e,r,t),s=yield bt._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Lt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,r.Z)(function*(e,t){return Dt(ke(e),t)})).apply(this,arguments)}function Ft(e,t){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);return yield xt(!1,n,t.providerId),kt(n,t)})).apply(this,arguments)}function Vt(e,t){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,r.Z)(function*(e,t){return Nt((0,s.m9)(e),t)})).apply(this,arguments)}function qt(e,t){return jt.apply(this,arguments)}function jt(){return(jt=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithCustomToken",D(e,t))})).apply(this,arguments)}function zt(){return(zt=(0,r.Z)(function*(e,t){const n=ke(e),r=yield qt(n,{token:t,returnSecureToken:!0}),i=yield bt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Bt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ht._fromServerResponse(e,t):g(e,"internal-error")}}class Ht extends Bt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ht(t)}}function $t(e,t,n){var r;b((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),b(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(b(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(b(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Gt(){return(Gt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&$t(r,i,n),yield ze(r,i)})).apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(e,t,n){yield Pe((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(function*(e,t){yield Me((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Jt(e,t){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r=yield Pe(n,{oobCode:t}),i=r.requestType;switch(b(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":b(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":b(r.mfaInfo,n,"internal-error");default:b(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Bt._fromServerResponse(ke(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Qt(){return(Qt=(0,r.Z)(function*(e,t){const{data:n}=yield Jt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(e,t,n){const r=ke(e),i=yield vt(r,{returnSecureToken:!0,email:t,password:n}),s=yield bt._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};b(n.handleCodeInApp,r,"argument-error"),n&&$t(r,i,n),yield He(r,i)})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=ut.credentialWithLink(t,n||C());return b(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Lt(r,i)})).apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:createAuthUri",D(e,t))})).apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:E()?C():"http://localhost"},{signinMethods:r}=yield nn((0,s.m9)(e),n);return r||[]})).apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&$t(n.auth,r,t);const{email:i}=yield qe(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&$t(r.auth,i,n);const{email:o}=yield Ge(r.auth,i);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function cn(e,t){return un.apply(this,arguments)}function un(){return(un=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function ln(){return(ln=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield Q(r,cn(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function hn(e,t,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield Q(e,Re(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class fn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class pn extends fn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class gn extends fn{constructor(e,t){super(e,"facebook.com",t)}}class mn extends pn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class yn extends fn{constructor(e,t){super(e,"google.com",t)}}class vn extends pn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function wn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Y(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new fn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new gn(s,i);case"github.com":return new mn(s,i);case"google.com":return new yn(s,i);case"twitter.com":return new vn(s,i,e.screenName||null);case"custom":case"anonymous":return new fn(s,null);default:return new fn(s,r,i)}}(n)}class bn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new bn("enroll",e)}static _fromMfaPendingCredential(e){return new bn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return bn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return bn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class _n{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ke(e),i=(t.serverResponse.mfaInfo||[]).map(e=>Bt._fromServerResponse(n,e));b(t.serverResponse.mfaPendingCredential,n,"internal-error");const s=bn._fromMfaPendingCredential(t.serverResponse.mfaPendingCredential);return new _n(s,i,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,s);delete t.serverResponse.mfaInfo,delete t.serverResponse.mfaPendingCredential;const i=Object.assign(Object.assign({},t.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield bt._fromIdTokenResponse(n,t.operationType,i);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return b(t.user,n,"internal-error"),bt._forOperation(t.user,t.operationType,i);default:g(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function Tn(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:start",D(e,t))}class In{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Bt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new In(e)}getSession(){var e=this;return(0,r.Z)(function*(){return bn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield Q(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield Q(t.user,function(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:withdraw",D(e,t))}(t.user.auth,{idToken:r,mfaEnrollmentId:n}));t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(s){if("auth/user-token-expired"!==s.code)throw s}})()}}const Sn=new WeakMap,Cn="__sak";class En{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cn,"1"),this.storage.removeItem(Cn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}const kn=(()=>{class e extends En{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return ye(e)||Ie(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Se(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),An=(()=>{class e extends En{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let xn=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),u=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function On(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class Nn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=On("",20);r.port1.start();const l=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function Pn(){return window}function Dn(){return void 0!==Pn().WorkerGlobalScope&&"function"==typeof Pn().importScripts}function Rn(){return(Rn=(0,r.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(hi){return null}})).apply(this,arguments)}const Ln="firebaseLocalStorageDb",Mn="firebaseLocalStorage",Fn="fbase_key";class Un{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vn(e,t){return e.transaction([Mn],t?"readwrite":"readonly").objectStore(Mn)}function Zn(){const e=indexedDB.open(Ln,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Mn,{keyPath:Fn})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Mn)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Ln);return new Un(e).toPromise()}(),t(yield Zn()))}))})}function qn(e,t,n){return jn.apply(this,arguments)}function jn(){return(jn=(0,r.Z)(function*(e,t,n){const r=Vn(e,!0).put({[Fn]:t,value:n});return new Un(r).toPromise()})).apply(this,arguments)}function zn(){return(zn=(0,r.Z)(function*(e,t){const n=Vn(e,!1).get(t),r=yield new Un(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Bn(e,t){const n=Vn(e,!0).delete(t);return new Un(n).toPromise()}const Hn=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield Zn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return Dn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=xn._getInstance(Dn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return Rn.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Nn(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);!r||(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){if(t.sender&&t.activeServiceWorker&&function(){var e;return(null===(e=null==navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield Zn();return yield qn(e,Cn,"1"),yield Bn(e,Cn),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>qn(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return zn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>Bn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=Vn(e,!1).getAll();return new Un(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function $n(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:start",D(e,t))}function Gn(){return(Gn=(0,r.Z)(function*(e){return(yield R(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kn(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=m("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Wn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Jn=1e12;class Yn{constructor(e){this.auth=e,this.counter=Jn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Qn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Jn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Jn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Jn))||void 0===n||n.execute(),""})()}}class Qn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;b(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xn=Wn("rcb"),er=new A(3e4,6e4);class tr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Pn().grecaptcha}load(e,t=""){return b((n=t).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Pn().grecaptcha):new Promise((n,r)=>{const i=Pn().setTimeout(()=>{r(m(e,"network-request-failed"))},er.get());Pn()[Xn]=()=>{Pn().clearTimeout(i),delete Pn()[Xn];const s=Pn().grecaptcha;if(!s)return void r(m(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Kn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Xn,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(m(e,"internal-error"))})});var n}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Pn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nr{load(e){return(0,r.Z)(function*(){return new Yn(e)})()}clearedOneInstance(){}}const rr="recaptcha",ir={theme:"light",type:"image"};class sr{constructor(e,t=Object.assign({},ir),n){this.parameters=t,this.type=rr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ke(n),this.isInvisible="invisible"===this.parameters.size,b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;b(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nr:new tr,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{!t||(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){b(!this.parameters.sitekey,this.auth,"argument-error"),b(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=Pn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){b(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){b(E()&&!Dn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return Gn.apply(this,arguments)}(e.auth);b(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return b(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class or{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=at._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function ar(){return(ar=(0,r.Z)(function*(e,t,n){const r=ke(e),i=yield lr(r,t,(0,s.m9)(n));return new or(i,e=>Lt(r,e))})).apply(this,arguments)}function cr(){return(cr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);yield xt(!1,r,"phone");const i=yield lr(r.auth,t,(0,s.m9)(n));return new or(i,e=>Ft(r,e))})).apply(this,arguments)}function ur(){return(ur=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=yield lr(r.auth,t,(0,s.m9)(n));return new or(i,e=>Vt(r,e))})).apply(this,arguments)}function lr(e,t,n){return hr.apply(this,arguments)}function hr(){return(hr=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(b("string"==typeof i,e,"argument-error"),b(n.type===rr,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return b("enroll"===t.type,e,"internal-error"),(yield Tn(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{b("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return b(n,e,"missing-multi-factor-info"),(yield $n(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield tt(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function dr(){return(dr=(0,r.Z)(function*(e,t){yield kt((0,s.m9)(e),t)})).apply(this,arguments)}let fr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=ke(t)}verifyPhoneNumber(e,t){return lr(this.auth,e,(0,s.m9)(t))}static credential(e,t){return at._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?at._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function pr(e,t){return t?S(t):(b(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class gr extends Ne{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qe(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mr(e){return Dt(e.auth,new gr(e),e.bypassAuthState)}function yr(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),Nt(n,new gr(e),e.bypassAuthState)}function vr(e){return wr.apply(this,arguments)}function wr(){return(wr=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),kt(n,new gr(e),e.bypassAuthState)})).apply(this,arguments)}class br{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const c={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mr;case"linkViaPopup":case"linkViaRedirect":return vr;case"reauthViaPopup":case"reauthViaRedirect":return yr;default:g(this.auth,"internal-error")}}resolve(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _r=new A(2e3,1e4);function Tr(){return(Tr=(0,r.Z)(function*(e,t,n){const r=ke(e);v(e,t,lt);const i=pr(r,n);return new Cr(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function Ir(){return(Ir=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,lt);const i=pr(r.auth,n);return new Cr(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function Sr(){return(Sr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,lt);const i=pr(r.auth,n);return new Cr(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let Cr=(()=>{class e extends br{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return b(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){T(1===e.filter.length,"Popup operations only handle one event");const t=On();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(m(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(m(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(m(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,_r.get())};e()}}return e.currentPopupAction=null,e})();const Er=new Map;class kr extends br{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=Er.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return Ar.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}Er.set(t.auth._key(),n)}return n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function Ar(){return(Ar=(0,r.Z)(function*(e,t){const n=Pr(t),r="true"===(yield Nr(e)._get(n));return yield Nr(e)._remove(n),r})).apply(this,arguments)}function xr(e,t){return Or.apply(this,arguments)}function Or(){return(Or=(0,r.Z)(function*(e,t){return Nr(e)._set(Pr(t),"true")})).apply(this,arguments)}function Nr(e){return S(e._redirectPersistence)}function Pr(e){return fe("pendingRedirect",e.config.apiKey,e.name)}function Dr(){return(Dr=(0,r.Z)(function*(e,t,n){const r=ke(e);v(e,t,lt);const i=pr(r,n);return yield xr(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function Rr(){return(Rr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,lt);const i=pr(r.auth,n);yield xr(i,r.auth);const o=yield Vr(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,lt);const i=pr(r.auth,n);yield xt(!1,r,t.providerId),yield xr(i,r.auth);const o=yield Vr(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Mr(){return(Mr=(0,r.Z)(function*(e,t){return yield ke(e)._initializationPromise,Fr(e,t,!1)})).apply(this,arguments)}function Fr(e,t){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,r.Z)(function*(e,t,n=!1){const r=ke(e),i=pr(r,t),s=yield new kr(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})).apply(this,arguments)}function Vr(e){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,r.Z)(function*(e){const t=On(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class qr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!zr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(m(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jr(e))}saveEventToCache(e){this.cachedEventUids.add(jr(e)),this.lastProcessedEventTime=Date.now()}}function jr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function zr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function Br(e){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,r.Z)(function*(e,t={}){return R(e,"GET","/v1/projects",t)})).apply(this,arguments)}const $r=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gr=/^https?/;function Kr(){return(Kr=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield Br(e);for(const r of t)try{if(Wr(r))return}catch(n){}g(e,"unauthorized-domain")})).apply(this,arguments)}function Wr(e){const t=C(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Gr.test(n))return!1;if($r.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Jr=new A(3e4,6e4);function Yr(){const e=Pn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Qr=null;function Xr(e){return Qr=Qr||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Yr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yr(),n(m(e,"network-request-failed"))},timeout:Jr.get()})}if(null===(i=null===(r=Pn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Pn().gapi)||void 0===s?void 0:s.load)){const t=Wn("iframefcb");return Pn()[t]=()=>{gapi.load?o():n(m(e,"network-request-failed"))},Kn(`https://apis.google.com/js/api.js?onload=${t}`)}o()}}).catch(e=>{throw Qr=null,e})}(e),Qr}const ei=new A(5e3,15e3),ti={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},ni=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ri(e){const t=e.config;b(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?x(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},i=ni.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function ii(){return(ii=(0,r.Z)(function*(e){const t=yield Xr(e),n=Pn().gapi;return b(n,e,"internal-error"),t.open({where:document.body,url:ri(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ti,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=m(e,"network-request-failed"),s=Pn().setTimeout(()=>{r(i)},ei.get());function o(){Pn().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const si={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ai(e,t,n,r,i,a){b(e.config.authDomain,e,"auth-domain-config-required"),b(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(t instanceof lt){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof ht){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const u=c;for(const s of Object.keys(u))void 0===u[s]&&delete u[s];return`${function({config:e}){return e.emulator?x(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(u).slice(1)}`}const ci="webStorageSupport";class ui extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return _("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ui(e)}_finalizeEnroll(e,t,n){return function(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:finalize",D(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:finalize",D(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let li=(()=>{class e{constructor(){}static assertion(e){return ui._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var hi,di="@firebase/auth";class fi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pi(){return window}function gi(){return(gi=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=pi();T(t.sessionId,"AuthEvent did not contain a session ID");const s=yield vi(t.sessionId),o={};return Ie()?o.ibi=i.packageName:be()?o.apn=i.packageName:g(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ai(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function mi(){return(mi=(0,r.Z)(function*(e){const{BuildInfo:t}=pi(),n={};Ie()?n.iosBundleId=t.packageName:be()?n.androidPackageName=t.packageName:g(e,"operation-not-supported-in-this-environment"),yield Br(e,n)})).apply(this,arguments)}function yi(){return(yi=(0,r.Z)(function*(e,t,n){const{cordova:r}=pi();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(m(e,"redirect-cancelled-by-user"))},2e3))}function l(){"visible"===(null==document?void 0:document.visibilityState)&&u()}t.addPassiveListener(c),document.addEventListener("resume",u,!1),be()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function vi(e){return wi.apply(this,arguments)}function wi(){return(wi=(0,r.Z)(function*(e){const t=bi(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function bi(e){if(T(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}hi="Browser",(0,o._registerComponent)(new u.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{b(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),b(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:hi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ce(hi)},s=new Ee(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(S);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new u.wA("auth-internal",e=>{const t=ke(e.getProvider("auth").getImmediate());return new fi(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(di,"0.18.3",void 0),(0,o.registerVersion)(di,"0.18.3","esm2017");class _i extends qr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function Ti(e){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,r.Z)(function*(e){const t=yield Ci()._get(Ei(e));return t&&(yield Ci()._remove(Ei(e))),t})).apply(this,arguments)}function Si(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Ci(){return S(kn)}function Ei(e){return fe("authEvent",e.config.apiKey,e.name)}function ki(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function Ai(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:m("no-auth-event")}}function xi(){var e;return(null===(e=null==self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Oi(e=(0,s.z$)()){return!("file:"!==xi()&&"ionic:"!==xi()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ni(){try{const e=self.localStorage,t=On();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null==document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(hi){return Pi()&&(0,s.hl)()}return!1}function Pi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Di(){return("http:"===xi()||"https:"===xi()||(0,s.ru)()||Oi())&&!((0,s.b$)()||(0,s.UG)())&&Ni()&&!Pi()}function Ri(){return Oi()&&"undefined"!=typeof document}function Li(){return(Li=(0,r.Z)(function*(){return!!Ri()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Mi={LOCAL:"local",NONE:"none",SESSION:"session"},Fi=b,Ui="persistence";function Vi(e){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,r.Z)(function*(e){yield e._initializationPromise;const t=qi(),n=fe(Ui,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())})).apply(this,arguments)}function qi(){return"undefined"!=typeof window?window:null}const ji=b;class zi{constructor(){this.browserResolver=S(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=An,this._completeRedirectFn=Fr}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;T(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=ai(e,t,n,C(),i);return function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},si),{width:r.toString(),height:i.toString(),top:o,left:a}),l=(0,s.z$)().toLowerCase();n&&(c=ve(l)?"_blank":n),me(l)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return Ie(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new oi(null);const d=window.open(t||"",c,h);b(d,e,"popup-blocked");try{d.focus()}catch(f){}return new oi(d)}(e,a,On())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s._originValidation(e),r=ai(e,t,n,C(),i),Pn().location.href=r,new Promise(()=>{});var r})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(T(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return ii.apply(this,arguments)}(e),r=new qr(e);return n.register("authEvent",t=>(b(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ci,{type:ci},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[ci];void 0!==i&&t(!!i),g(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Kr.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Se()||ye()||Ie()}}),this.cordovaResolver=S(class{constructor(){this._redirectPersistence=An,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fr}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new _i(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){g(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,s,o,a,c,u,l;const h=pi();b("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),b(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),b("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),b("function"==typeof(null===(c=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),b("function"==typeof(null===(l=null===(u=null==h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),Er.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Si(),postBody:null,tenantId:e.tenantId,error:m(e,"no-auth-event")}}(e,n,i);yield function(e,t){return Ci()._set(Ei(e),t)}(e,a);const c=yield function(e,t,n){return gi.apply(this,arguments)}(e,a,t),u=yield function(e){const{cordova:t}=pi();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(c);return function(e,t,n){return yi.apply(this,arguments)}(e,r,u)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return mi.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=pi(),o=setTimeout((0,r.Z)(function*(){yield Ti(e),t.onEvent(Ai())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield Ti(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=ki(e),n=t.link?decodeURIComponent(t.link):void 0,r=ki(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ki(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const s=ki(i),o=s.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(s.firebaseError)):null,a=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],c=a?m(a):null;return c?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Ai())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const c=i,u=`${s.packageName.toLowerCase()}://`;pi().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(u)&&a({url:e}),"function"==typeof c)try{c(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=An,this._completeRedirectFn=Fr}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Ri()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ji(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return Li.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Bi(e){return e.unwrap()}function Hi(e){return $i(e)}function $i(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return fr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=pt;break;case"facebook.com":r=ft;break;case"github.com":r=gt;break;case"twitter.com":r=yt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?mt._create(n,o):et._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new dt(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function Gi(e,t){return t.catch(t=>{throw t instanceof s.ZR&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Ji(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return b(t.operationType,r,"argument-error"),b(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),_n._fromError(r,i)}(e,t));else if(r){const e=$i(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.user;return{operationType:e.operationType,credential:Hi(e),additionalUserInfo:wn(e),user:Yi.getOrCreate(t)}})}function Ki(e,t){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>Gi(e,n.confirm(t))}})).apply(this,arguments)}class Ji{constructor(e,t){this.resolver=t,this.auth=function(e){return e.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Gi(Bi(this.auth),this.resolver.resolveSignIn(e))}}class Yi{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return Sn.has(t)||Sn.set(t,In._fromUser(t)),Sn.get(t)}(e)}static getOrCreate(e){return Yi.USER_MAP.has(e)||Yi.USER_MAP.set(e,new Yi(e)),Yi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return Gi(t.auth,Ft(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return Ki(n.auth,function(e,t,n){return cr.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return Gi(t.auth,function(e,t,n){return Sr.apply(this,arguments)}(t._delegate,e,zi))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Vi(ke(t.auth)),function(e,t,n){return function(e,t,n){return Lr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return Gi(t.auth,Vt(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Ki(this.auth,function(e,t,n){return ur.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Gi(this.auth,function(e,t,n){return Ir.apply(this,arguments)}(this._delegate,e,zi))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Vi(ke(t.auth)),function(e,t,n){return function(e,t,n){return Rr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}sendEmailVerification(e){return function(e,t){return on.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return Et.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return hn((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return hn((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return dr.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return ln.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return an.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Yi.USER_MAP=new WeakMap;const Qi=b;let Xi=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Qi(n,"invalid-api-key",{appName:e.name});let r=[de];if("undefined"!=typeof window){r=function(e,t){const n=qi();if(!(null==n?void 0:n.sessionStorage))return[];const r=fe(Ui,e,t);switch(n.sessionStorage.getItem(r)){case Mi.NONE:return[de];case Mi.LOCAL:return[Hn,An];case Mi.SESSION:return[An];default:return[]}}(n,e.name);for(const e of[Hn,kn,An])r.includes(e)||r.push(e)}Qi(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?zi:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(l),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Yi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=ke(e);b(r._canInitEmulator,r,"emulator-config-failed"),b(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=xe(t),{host:o,port:a}=function(e){const t=xe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Oe(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Oe(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return Wt.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Jt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Kt.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return Gi(n._delegate,function(e,t,n){return Xt.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return sn.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=ct.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){Qi(Di(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Mr.apply(this,arguments)}(e._delegate,zi);return t?Gi(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){ke(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=es(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=es(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return en.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return Gt.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){Fi(Object.values(Mi).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Fi(t!==Mi.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Fi(t===Mi.NONE,e,"unsupported-persistence-type"):Pi()?Fi(t===Mi.NONE||t===Mi.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Fi(t===Mi.NONE||Ni(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Mi.SESSION:n=An;break;case Mi.LOCAL:n=(yield S(Hn)._isAvailable())?Hn:kn;break;case Mi.NONE:n=de;break;default:return g("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Gi(this._delegate,function(e){return Tt.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return Gi(this._delegate,Lt(this._delegate,e))}signInWithCustomToken(e){return Gi(this._delegate,function(e,t){return zt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Gi(this._delegate,function(e,t,n){return Lt((0,s.m9)(e),ut.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Gi(this._delegate,function(e,t,n){return tn.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Ki(this._delegate,function(e,t,n){return ar.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return Qi(Di(),t._delegate,"operation-not-supported-in-this-environment"),Gi(t._delegate,function(e,t,n){return Tr.apply(this,arguments)}(t._delegate,e,zi))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return Qi(Di(),t._delegate,"operation-not-supported-in-this-environment"),yield Vi(t._delegate),function(e,t,n){return function(e,t,n){return Dr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Qt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Mi,e})();function es(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Yi.getOrCreate(e)),error:t,complete:n}}class ts{constructor(){this.providerId="phone",this._delegate=new fr(Bi(i.Z.auth()))}static credential(e,t){return fr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ts.PHONE_SIGN_IN_METHOD=fr.PHONE_SIGN_IN_METHOD,ts.PROVIDER_ID=fr.PROVIDER_ID;const ns=b;class rs{constructor(e,t,n=i.Z.app()){var r;ns(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new sr(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new u.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Xi(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ut,FacebookAuthProvider:ft,GithubAuthProvider:gt,GoogleAuthProvider:pt,OAuthProvider:dt,PhoneAuthProvider:ts,PhoneMultiFactorGenerator:li,RecaptchaVerifier:rs,TwitterAuthProvider:yt,Auth:Xi,AuthCredential:Ne,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.1.6")}(i.Z)},6676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,s=new Promise(function(s,o){n(i=e[t].apply(e,r)).then(s,o)});return s.request=i,s}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new l(e,i.request)})}function s(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function c(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function u(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}s(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new l(e,t._request)})})})}),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,u].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[u,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),s=i.request;return s&&(s.onupgradeneeded=function(e){n&&n(new f(s.result,e.oldVersion,s.transaction))}),i.then(function(e){return new p(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},7574:function(e,t,n){"use strict";n.d(t,{y:function(){return u}});var r=n(7393),i=n(9181),s=n(6490),o=n(6554),a=n(4487);var c=n(2494);let u=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||c.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){c.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=l(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:function(e){return 0===e.length?a.y:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}(e)(this)}toPromise(e){return new(e=l(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function l(e){if(e||(e=c.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:function(e,t,n){"use strict";n.d(t,{c:function(){return s}});var r=n(2494),i=n(4449);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},9765:function(e,t,n){"use strict";n.d(t,{Yc:function(){return u},xQ:function(){return l}});var r=n(7574),i=n(7393),s=n(5319),o=n(7971),a=n(8858),c=n(9181);class u extends i.L{constructor(e){super(e),this.destination=e}}let l=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.b](){return new u(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends l{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},8858:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(5319);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},7393:function(e,t,n){"use strict";n.d(t,{L:function(){return u}});var r=n(9105),i=n(6490),s=n(5319),o=n(9181),a=n(2494),c=n(4449);class u extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof u?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new u(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class l extends u{constructor(e,t,n,s){super(),this._parentSubscriber=e;let o,a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,c.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(9796),i=n(1555),s=n(9105);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,s.m)(c)){n&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(d){e=e||[],d instanceof o?e=e.concat(u(d.errors)):e.push(d)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var c;function u(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((c=new a).closed=!0,c)},2494:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:function(e,t,n){"use strict";n.d(t,{IY:function(){return o},Ds:function(){return a},ft:function(){return c}});var r=n(7393),i=n(7574),s=n(7444);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function c(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},2441:function(e,t,n){"use strict";n.d(t,{c:function(){return a},N:function(){return c}});var r=n(9765),i=n(7574),s=n(5319),o=n(1307);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new u(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const c=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class u extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},9193:function(e,t,n){"use strict";n.d(t,{E:function(){return i},c:function(){return s}});var r=n(7574);const i=new r.y(e=>e.complete());function s(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},4402:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var r=n(7574),i=n(7444),s=n(5319),o=n(6554),a=n(4087),c=n(377),u=n(4072),l=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,u.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,l.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[c.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[c.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},6693:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(7574),i=n(5015),s=n(4087);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},6682:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(7574),i=n(4869),s=n(3282),o=n(6693);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},5917:function(e,t,n){"use strict";n.d(t,{of:function(){return o}});var r=n(4869),i=n(6693),s=n(4087);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,i.n)(e)}},8002:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(7393);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},3282:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var r=n(9773),i=n(4487);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},9773:function(e,t,n){"use strict";n.d(t,{zg:function(){return o}});var r=n(8002),i=n(4402),s=n(5345);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}class c extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:function(e,t,n){"use strict";n.d(t,{ht:function(){return l},QV:function(){return c}});var r=n(7393),i=n(9193),s=n(5917),o=n(7574);class a{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return e=this.error,new o.y(t=>t.error(e));case"C":return(0,i.c)()}var e;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new a("N",e):a.undefinedValueNotification}static createError(e){return new a("E",void 0,e)}static createComplete(){return a.completeNotification}}function c(e,t=0){return function(n){return n.lift(new u(e,t))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class u{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))}}class l extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},1307:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(7393);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}},3101:function(e,t,n){"use strict";n.d(t,{R:function(){return p}});var r=n(7574);let i=1;const s=Promise.resolve(),o={};function a(e){return e in o&&(delete o[e],!0)}const c={setImmediate(e){const t=i++;return o[t]=!0,s.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var u=n(6465),l=n(6102);const h=new class extends l.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends u.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=c.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(c.clearImmediate(t),e.scheduled=void 0)}});var d=n(9796);class f extends r.y{constructor(e,t=0,n=h){var r;super(),this.source=e,this.delayTime=t,this.scheduler=n,(!(!(0,d.k)(r=t)&&r-parseFloat(r)+1>=0)||t<0)&&(this.delayTime=0),(!n||"function"!=typeof n.schedule)&&(this.scheduler=h)}static create(e,t=0,n=h){return new f(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function p(e,t=0){return function(n){return n.lift(new g(e,t))}}class g{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new f(t,this.delay,this.scheduler).subscribe(e)}}},3342:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(7393);function i(){}var s=n(9105);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))}}class c extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i,this._tapError=t.error||i,this._tapComplete=t.complete||i)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},4087:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(7574),i=n(5319);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var r=n(5319);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},6102:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},3637:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(6465);const i=new(n(6102).v)(r.o)},7771:function(e,t,n){"use strict";n.d(t,{c:function(){return o},N:function(){return s}});var r=n(6465),i=n(6102);const s=new class extends i.v{}(class extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),o=s},377:function(e,t,n){"use strict";n.d(t,{hZ:function(){return r}});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:function(e,t,n){"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:function(){return r}})},4487:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},9796:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},1555:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:function(){return r}})},4072:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:function(){return r}})},4869:function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:function(){return r}})},7444:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var r=n(5015),i=n(4449),s=n(377),o=n(6554),a=n(9489),c=n(4072),u=n(1555);const l=e=>{if(e&&"function"==typeof e[o.L])return(e=>t=>{const n=e[o.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)})(e);if((0,a.z)(e))return(0,r.V)(e);if((0,c.t)(e))return(e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t))(e);if(e&&"function"==typeof e[s.hZ])return(e=>t=>{const n=e[s.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t})(e);{const t=`You provided ${(0,u.K)(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}}},5015:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},8950:function(e,t,n){"use strict";var r=n(3018);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:c,token:e,providedIn:"platform"}),e})();function c(){return(0,r.LFG)(l)}const u=new r.OlP("Location Initialized");let l=(()=>{class e extends a{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:d,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function d(){return new l((0,r.LFG)(o))}function f(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function p(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}let m=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:y,token:e,providedIn:"root"}),e})();function y(e){const t=(0,r.LFG)(o).location;return new w((0,r.LFG)(a),t&&t.origin||"")}const v=new r.OlP("appBaseHref");let w=(()=>{class e extends m{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return f(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e extends m{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=f(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),_=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=p(I(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+g(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,I(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(m),r.LFG(a))},e.normalizeQueryParams=g,e.joinWithSlash=f,e.stripTrailingSlash=p,e.\u0275prov=(0,r.Yz7)({factory:T,token:e,providedIn:"root"}),e})();function T(){return new _((0,r.LFG)(m),(0,r.LFG)(a))}function I(e){return e.replace(/\/index.html$/,"")}const S={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var C=(()=>((C=C||{})[C.Decimal=0]="Decimal",C[C.Percent=1]="Percent",C[C.Currency=2]="Currency",C[C.Scientific=3]="Scientific",C))(),E=(()=>((E=E||{})[E.Zero=0]="Zero",E[E.One=1]="One",E[E.Two=2]="Two",E[E.Few=3]="Few",E[E.Many=4]="Many",E[E.Other=5]="Other",E))(),k=(()=>((k=k||{})[k.Decimal=0]="Decimal",k[k.Group=1]="Group",k[k.List=2]="List",k[k.PercentSign=3]="PercentSign",k[k.PlusSign=4]="PlusSign",k[k.MinusSign=5]="MinusSign",k[k.Exponential=6]="Exponential",k[k.SuperscriptingExponent=7]="SuperscriptingExponent",k[k.PerMille=8]="PerMille",k[k.Infinity=9]="Infinity",k[k.NaN=10]="NaN",k[k.TimeSeparator=11]="TimeSeparator",k[k.CurrencyDecimal=12]="CurrencyDecimal",k[k.CurrencyGroup=13]="CurrencyGroup",k))();function A(e,t){const n=(0,r.cg1)(e),i=n[r.wAp.NumberSymbols][t];if(void 0===i){if(t===k.CurrencyDecimal)return n[r.wAp.NumberSymbols][k.Decimal];if(t===k.CurrencyGroup)return n[r.wAp.NumberSymbols][k.Group]}return i}const x=r.kL8;const O=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function N(e,t,n,i,s){const o=function(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<c.length;l++){const e=c.charAt(l);"0"===e?n.minFrac=n.maxFrac=l+1:"#"===e?n.maxFrac=l+1:n.posSuf+=e}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const e=i.length-n.posPre.length-n.posSuf.length,t=s.indexOf("#");n.negPre=s.substr(0,t).replace(/'/g,""),n.negSuf=s.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return(0,r.cg1)(e)[r.wAp.NumberFormats][t]}(t,C.Currency),A(t,k.MinusSign));return o.minFrac=function(e){let t;const n=S[e];return n&&(t=n[2]),"number"==typeof t?t:2}(i),o.maxFrac=o.minFrac,function(e,t,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(e)){let u=function(e){let t,n,r,i,s,o=Math.abs(e)+"",a=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;"0"===o.charAt(r);r++);if(r===(s=o.length))t=[0],n=1;else{for(s--;"0"===o.charAt(s);)s--;for(n-=r,t=[],i=0;r<=s;r++,i++)t[i]=Number(o.charAt(r))}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);o&&(u=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(u));let l=t.minInt,h=t.minFrac,d=t.maxFrac;if(s){const e=s.match(O);if(null===e)throw new Error(`${s} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(l=P(t)),null!=n&&(h=P(n)),null!=r?d=P(r):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const s=Math.min(Math.max(t,i),n);let o=s+e.integerLen,a=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(let e=o;e<r.length;e++)r[e]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let e=1;e<o;e++)r[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const u=t+e.integerLen,l=r.reduceRight(function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,c&&(0===r[n]&&n>=u?r.pop():c=!1),t>=10?1:0},0);l&&(r.unshift(l),e.integerLen++)}(u,h,d);let f=u.digits,p=u.integerLen;const g=u.exponent;let m=[];for(c=f.every(e=>!e);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const y=[];for(f.length>=t.lgSize&&y.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)y.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(A(n,r)),m.length&&(a+=A(n,i)+m.join("")),g&&(a+=A(n,k.Exponential)+"+"+g)}else a=A(n,k.Infinity);return a=e<0&&!c?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(e,o,t,k.CurrencyGroup,k.CurrencyDecimal,s).replace("\xa4",n).replace("\xa4","").trim()}function P(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class D{}let R=(()=>{class e extends D{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(x(t||this.locale)(e)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function L(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}class M{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let F=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(e){return e.name||typeof e}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new M(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new U(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new U(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class U{constructor(e,t){this.record=e,this.view=t}}let V=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Z,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){q("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){q("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Z{constructor(){this.$implicit=null,this.ngIf=null}}function q(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}function j(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(e)}'`)}let z=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw j(e,t);return t.toUpperCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Yjl({name:"uppercase",type:e,pure:!0}),e})(),B=(()=>{class e{constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(t,n=this._defaultCurrencyCode,i="symbol",s,o){if(!function(e){return!(null==e||""===e||e!=e)}(t))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function(e,t,n="en"){const i=function(e){return(0,r.cg1)(e)[r.wAp.Currencies]}(n)[e]||S[e]||[],s=i[1];return"narrow"===t&&"string"==typeof s?s:i[0]||e}(a,"symbol"===i?"wide":"narrow",o):i);try{return N(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),o,a,n,s)}catch(c){throw j(e,c.message)}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.soG,16),r.Y36(r.EJc,16))},e.\u0275pipe=r.Yjl({name:"currency",type:e,pure:!0}),e})();let H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:D,useClass:R}]}),e})();function $(e){return"server"===e}let G=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new K((0,r.LFG)(o),window)}),e})();class K{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=W(this.window.history)||W(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function W(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class J{}class Y extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new Y,i||(i=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(X=X||document.querySelector("base"),X?X.getAttribute("href"):null);return null==t?null:function(e){Q=Q||document.createElement("a"),Q.setAttribute("href",e);const t=Q.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){X=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return L(document.cookie,e)}}let Q,X=null;const ee=new r.OlP("TRANSITION_ID"),te=[{provide:r.ip1,useFactory:function(e,t,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let e=0;e<r.length;e++)n.remove(r[e])})}},deps:[ee,o,r.zs3],multi:!0}];class ne{static init(){(0,r.VLi)(new ne)}addToWindow(e){r.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(e=>{const t=r.dqk.getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let re=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ie=new r.OlP("EventManagerPlugins");let se=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ie),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class oe{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let ae=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ce=(()=>{class e extends ae{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(ue),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ue))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function ue(e){s().remove(e)}const le={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},he=/%COMP%/g;function de(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?de(e,i,n):(i=i.replace(he,e),n.push(i))}return n}function fe(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let pe=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ge(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new me(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case r.ifc.ShadowDom:return new ye(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=de(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(se),r.LFG(ce),r.LFG(r.AFp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class ge{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(le[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=le[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=le[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(r.JOm.DashCase|r.JOm.Important)?e.style.setProperty(t,n,i&r.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,fe(n)):this.eventManager.addEventListener(e,t,fe(n))}}class me extends ge{constructor(e,t,n,r){super(e),this.component=n;const i=de(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(he,r+"-"+n.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(he,e)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class ye extends ge{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=de(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ve=(()=>{class e extends oe{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const we=["alt","control","meta","shift"],be={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_e={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Te={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Ie=(()=>{class e extends oe{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(we.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&_e.hasOwnProperty(t)&&(t=_e[t]))}return be[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),we.forEach(r=>{r!=n&&Te[r](e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Se=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){Y.makeCurrent(),ne.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),Ce=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:ie,useClass:ve,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:ie,useClass:Ie,multi:!0,deps:[o]},[],{provide:pe,useClass:pe,deps:[se,ce,r.AFp]},{provide:r.FYo,useExisting:pe},{provide:ae,useExisting:ce},{provide:ce,useClass:ce,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:se,useClass:se,deps:[ie,r.R0b]},{provide:J,useClass:re,deps:[]},[]];let Ee=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:r.AFp,useValue:t.appId},{provide:ee,useExisting:r.AFp},te]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(e,12))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:Ce,imports:[H,r.hGG]}),e})();"undefined"!=typeof window&&window;var ke=n(5917),Ae=n(7574),xe=n(9773);function Oe(e,t){return(0,xe.zg)(e,t,1)}var Ne=n(7393);function Pe(e,t){return function(n){return n.lift(new De(e,t))}}class De{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Re(e,this.predicate,this.thisArg))}}class Re extends Ne.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}var Le=n(8002);class Me{}class Fe{}class Ue{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ue?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ue;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ue?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ve{encodeKey(e){return je(e)}encodeValue(e){return je(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Ze=/%(\d[a-f0-9])/gi,qe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function je(e){return encodeURIComponent(e).replace(Ze,(e,t)=>{var n;return null!==(n=qe[t])&&void 0!==n?n:e})}function ze(e){return`${e}`}class Be{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ve,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const r=e.indexOf("="),[i,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(e=>{t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Be({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ze(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(ze(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class He{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function $e(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Ge(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Ke(e){return"undefined"!=typeof FormData&&e instanceof FormData}class We{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ue),this.context||(this.context=new He),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new Be,this.urlWithParams=t}serializeBody(){return null===this.body?null:$e(this.body)||Ge(this.body)||Ke(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Be?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ke(this.body)?null:Ge(this.body)?this.body.type||null:$e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Be?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const l=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),u)),new We(n,r,s,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var Je=(()=>((Je=Je||{})[Je.Sent=0]="Sent",Je[Je.UploadProgress=1]="UploadProgress",Je[Je.ResponseHeader=2]="ResponseHeader",Je[Je.DownloadProgress=3]="DownloadProgress",Je[Je.Response=4]="Response",Je[Je.User=5]="User",Je))();class Ye{constructor(e,t=200,n="OK"){this.headers=e.headers||new Ue,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Qe extends Ye{constructor(e={}){super(e),this.type=Je.ResponseHeader}clone(e={}){return new Qe({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Xe extends Ye{constructor(e={}){super(e),this.type=Je.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Xe({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class et extends Ye{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function tt(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let nt=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof We)r=e;else{let i,s;i=n.headers instanceof Ue?n.headers:new Ue(n.headers),n.params&&(s=n.params instanceof Be?n.params:new Be({fromObject:n.params})),r=new We(e,t,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,ke.of)(r).pipe(Oe(e=>this.handler.handle(e)));if(e instanceof We||"events"===n.observe)return i;const s=i.pipe(Pe(e=>e instanceof Xe));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe((0,Le.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe((0,Le.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe((0,Le.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe((0,Le.U)(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Be).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,tt(n,t))}post(e,t,n={}){return this.request("POST",e,tt(n,t))}put(e,t,n={}){return this.request("PUT",e,tt(n,t))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Me))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class rt{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const it=new r.OlP("HTTP_INTERCEPTORS");let st=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ot=/^\)\]\}',?\n/;let at=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ae.y(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Ue(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new Qe({headers:s,status:t,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof c){const e=c;c=c.replace(ot,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=e,u&&(u=!1,c={error:l,text:c})}}u?(t.next(new Xe({body:c,headers:r,status:i,statusText:o,url:a||void 0})),t.complete()):t.error(new et({error:c,headers:r,status:i,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=s(),i=new et({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let c=!1;const u=r=>{c||(t.next(s()),c=!0);let i={type:Je.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&!!n.responseText&&(i.partialText=n.responseText),t.next(i)},l=e=>{let n={type:Je.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),e.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),t.next({type:Je.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),e.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(J))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ct=new r.OlP("XSRF_COOKIE_NAME"),ut=new r.OlP("XSRF_HEADER_NAME");class lt{}let ht=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=L(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(r.Lbi),r.LFG(ct))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),dt=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(lt),r.LFG(ut))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ft=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(it,[]);this.chain=e.reduceRight((e,t)=>new rt(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Fe),r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),pt=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:dt,useClass:st}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:ct,useValue:t.cookieName}:[],t.headerName?{provide:ut,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[dt,{provide:it,useExisting:dt,multi:!0},{provide:lt,useClass:ht},{provide:ct,useValue:"XSRF-TOKEN"},{provide:ut,useValue:"X-XSRF-TOKEN"}]}),e})(),gt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[nt,{provide:Me,useClass:ft},at,{provide:Fe,useExisting:at}],imports:[[pt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();var mt=n(4402),yt=n(9796),vt=n(1555);function wt(e,t){return new Ae.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=(0,mt.D)(e[a]);let u=!1;n.add(c.subscribe({next:e=>{u||(u=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{s++,(s===r||!u)&&(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}let bt=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),_t=(()=>{class e extends bt{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const Tt=new r.OlP("NgValueAccessor"),It={provide:Tt,useExisting:(0,r.Gpc)(()=>Ct),multi:!0},St=new r.OlP("CompositionEventMode");let Ct=(()=>{class e extends bt{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=s()?s().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(St,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([It]),r.qOj]}),e})();function Et(e){return null==e||0===e.length}const kt=new r.OlP("NgValidators"),At=new r.OlP("NgAsyncValidators"),xt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Ot(e){return null!=e}function Nt(e){const t=(0,r.QGY)(e)?(0,mt.D)(e):e;return(0,r.CqO)(t),t}function Pt(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Dt(e,t){return t.map(t=>t(e))}function Rt(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function Lt(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Ot);return 0==t.length?null:function(e){return Pt(Dt(e,t))}}(Rt(e)):null}function Mt(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Ot);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,yt.k)(t))return wt(t,null);if((0,vt.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return wt(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return wt(e=1===e.length&&(0,yt.k)(e[0])?e[0]:e,null).pipe((0,Le.U)(e=>t(...e)))}return wt(e,null)}(Dt(e,t).map(Nt)).pipe((0,Le.U)(Pt))}}(Rt(e)):null}function Ft(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Ut(e){return e?Array.isArray(e)?e:[e]:[]}function Vt(e,t){return Array.isArray(e)?e.includes(t):e===t}function Zt(e,t){const n=Ut(t);return Ut(e).forEach(e=>{Vt(n,e)||n.push(e)}),n}function qt(e,t){return Ut(t).filter(t=>!Vt(e,t))}let jt=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Lt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Mt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),zt=(()=>{class e extends jt{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class Bt extends jt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ht{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}let $t=(()=>{class e extends Ht{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Bt,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),Gt=(()=>{class e extends Ht{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(zt,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[r.qOj]}),e})();function Kt(e,t){Jt(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Yt(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Yt(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Wt(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Jt(e,t){const n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(Ft(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(Ft(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Wt(t._rawValidators,i),Wt(t._rawAsyncValidators,i)}function Yt(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Qt(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Xt="VALID",en="INVALID",tn="PENDING",nn="DISABLED";function rn(e){return(cn(e)?e.validators:e)||null}function sn(e){return Array.isArray(e)?Lt(e):e||null}function on(e,t){return(cn(t)?t.asyncValidators:e)||null}function an(e){return Array.isArray(e)?Mt(e):e||null}function cn(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class un{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=sn(this._rawValidators),this._composedAsyncValidatorFn=an(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xt}get invalid(){return this.status===en}get pending(){return this.status==tn}get disabled(){return this.status===nn}get enabled(){return this.status!==nn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=sn(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=an(e)}addValidators(e){this.setValidators(Zt(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Zt(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qt(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qt(e,this._rawAsyncValidators))}hasValidator(e){return Vt(this._rawValidators,e)}hasAsyncValidator(e){return Vt(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=tn,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nn,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xt,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xt||this.status===tn)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nn:Xt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=tn,this._hasOwnPendingAsyncValidator=!0;const t=Nt(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=e;return t.forEach(e=>{r=r instanceof hn?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof dn&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?nn:this.errors?en:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tn)?tn:this._anyControlsHaveStatus(en)?en:Xt}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cn(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ln extends un{constructor(e=null,t,n){super(rn(t),on(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Qt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Qt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class hn extends un{constructor(e,t,n){super(rn(t),on(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof ln?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class dn extends un{constructor(e,t,n){super(rn(t),on(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof ln?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const fn={provide:zt,useExisting:(0,r.Gpc)(()=>gn)},pn=(()=>Promise.resolve(null))();let gn=(()=>{class e extends zt{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new hn({},Lt(e),Mt(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){pn.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Kt(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){pn.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),Qt(this._directives,e)})}addFormGroup(e){pn.then(()=>{const t=this._findContainer(e.path),n=new hn({});(function(e,t){Jt(e,t)})(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){pn.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){pn.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(kt,10),r.Y36(At,10))},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([fn]),r.qOj]}),e})();const mn={provide:Bt,useExisting:(0,r.Gpc)(()=>vn)},yn=(()=>Promise.resolve(null))();let vn=(()=>{class e extends Bt{constructor(e,t,n,i){super(),this.control=new ln,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===Ct?n=e:function(e){return Object.getPrototypeOf(e.constructor)===_t}(e)?r=e:i=e}),i||r||n||null}(0,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(e,t){return[...t.path,e]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){yn.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;yn.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(zt,9),r.Y36(kt,10),r.Y36(At,10),r.Y36(Tt,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([mn]),r.qOj,r.TTD]}),e})(),wn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const bn={provide:Tt,useExisting:(0,r.Gpc)(()=>_n),multi:!0};let _n=(()=>{class e extends _t{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[r._Bn([bn]),r.qOj]}),e})(),Tn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const In={provide:kt,useExisting:(0,r.Gpc)(()=>Sn),multi:!0};let Sn=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(e){return Et(e.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&r.uIk("required",t.required?"":null)},inputs:{required:"required"},features:[r._Bn([In])]}),e})();const Cn={provide:kt,useExisting:(0,r.Gpc)(()=>En),multi:!0};let En=(()=>{class e{constructor(){this._enabled=!1}set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?function(e){return Et(e.value)||xt.test(e.value)?null:{email:!0}}(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[r._Bn([Cn])]}),e})(),kn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Tn]]}),e})(),An=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[kn]}),e})();class xn{constructor(e,t,n,r){this.email=e,this.id=t,this._token=n,this._tokenExpirationDate=r}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}var On=n(3342),Nn=n(9765),Pn=n(7971);class Dn extends Nn.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Pn.N;return this._value}next(e){super.next(this._value=e)}}var Rn=n(4869);class Ln extends Ne.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Mn extends Ne.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Fn=n(7444);function Un(e,t,n,r,i=new Mn(e,n,r)){if(!i.closed)return t instanceof Ae.y?t.subscribe(i):(0,Fn.s)(t)(i)}var Vn=n(6693);const Zn={};class qn{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new jn(e,this.resultSelector))}}class jn extends Ln{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Zn),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(Un(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===Zn?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const zn=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var Bn=n(3282);function Hn(...e){return(0,Bn.J)(1)((0,ke.of)(...e))}var $n=n(9193);function Gn(e){return new Ae.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,mt.D)(n):(0,$n.c)()).subscribe(t)})}var Kn=n(2441),Wn=n(5345);function Jn(e,t){return"function"==typeof t?n=>n.pipe(Jn((n,r)=>(0,mt.D)(e(n,r)).pipe((0,Le.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new Yn(e))}class Yn{constructor(e){this.project=e}call(e,t){return t.subscribe(new Qn(e,this.project))}}class Qn extends Wn.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new Wn.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Wn.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Xn=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function er(e){return t=>0===e?(0,$n.c)():t.lift(new tr(e))}class tr{constructor(e){if(this.total=e,this.total<0)throw new Xn}call(e,t){return t.subscribe(new nr(e,this.total))}}class nr extends Ne.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function rr(...e){const t=e[e.length-1];return(0,Rn.K)(t)?(e.pop(),n=>Hn(e,n,t)):t=>Hn(e,t)}function ir(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new sr(e,t,n))}}class sr{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new or(e,this.accumulator,this.seed,this.hasSeed))}}class or extends Ne.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ar(e){return function(t){const n=new cr(e),r=t.lift(n);return n.caught=r}}class cr{constructor(e){this.selector=e}call(e,t){return t.subscribe(new ur(e,this.selector,this.caught))}}class ur extends Wn.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new Wn.IY(this);this.add(r);const i=(0,Wn.ft)(n,r);i!==r&&this.add(i)}}}function lr(e){return function(t){return 0===e?(0,$n.c)():t.lift(new hr(e))}}class hr{constructor(e){if(this.total=e,this.total<0)throw new Xn}call(e,t){return t.subscribe(new dr(e,this.total))}}class dr extends Ne.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function fr(e=mr){return t=>t.lift(new pr(e))}class pr{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new gr(e,this.errorFactory))}}class gr extends Ne.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function mr(){return new zn}function yr(e=null){return t=>t.lift(new vr(e))}class vr{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new wr(e,this.defaultValue))}}class wr extends Ne.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var br=n(4487);function _r(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Pe((t,n)=>e(t,n,r)):br.y,er(1),n?yr(t):fr(()=>new zn))}var Tr=n(1307),Ir=n(5319);class Sr{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Cr(e,this.callback))}}class Cr extends Ne.L{constructor(e,t){super(e),this.add(new Ir.w(t))}}class Er{constructor(e,t){this.id=e,this.url=t}}class kr extends Er{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ar extends Er{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xr extends Er{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Or extends Er{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Nr extends Er{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pr extends Er{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dr extends Er{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rr extends Er{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lr extends Er{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mr{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fr{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ur{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vr{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zr{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qr{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const zr="primary";class Br{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Hr(e){return new Br(e)}const $r="ngNavigationCancelingError";function Gr(e){const t=Error("NavigationCancelingError: "+e);return t[$r]=!0,t}function Kr(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Wr(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Jr(e[i],t[i]))return!1;return!0}function Jr(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Yr(e){return Array.prototype.concat.apply([],e)}function Qr(e){return e.length>0?e[e.length-1]:null}function Xr(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ei(e){return(0,r.CqO)(e)?e:(0,r.QGY)(e)?(0,mt.D)(Promise.resolve(e)):(0,ke.of)(e)}const ti={exact:function e(t,n,r){if(!li(t.segments,n.segments)||!oi(t.segments,n.segments,r)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!e(t.children[i],n.children[i],r))return!1;return!0},subset:ii},ni={exact:function(e,t){return Wr(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Jr(e[n],t[n]))},ignored:()=>!0};function ri(e,t,n){return ti[n.paths](e.root,t.root,n.matrixParams)&&ni[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function ii(e,t,n){return si(e,t,t.segments,n)}function si(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!li(i,n)||t.hasChildren()||!oi(i,n,r))}if(e.segments.length===n.length){if(!li(e.segments,n)||!oi(e.segments,n,r))return!1;for(const n in t.children)if(!e.children[n]||!ii(e.children[n],t.children[n],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(li(e.segments,i)&&oi(e.segments,i,r)&&e.children[zr])&&si(e.children[zr],t,s,r)}}function oi(e,t,n){return t.every((t,r)=>ni[n](e[r].parameters,t.parameters))}class ai{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hr(this.queryParams)),this._queryParamMap}toString(){return fi.serialize(this)}}class ci{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Xr(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pi(this)}}class ui{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Hr(this.parameters)),this._parameterMap}toString(){return _i(this)}}function li(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class hi{}class di{parse(e){const t=new Ei(e);return new ai(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${gi(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${yi(t)}=${yi(e)}`).join("&"):`${yi(t)}=${yi(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const fi=new di;function pi(e){return e.segments.map(e=>_i(e)).join("/")}function gi(e,t){if(!e.hasChildren())return pi(e);if(t){const t=e.children[zr]?gi(e.children[zr],!1):"",n=[];return Xr(e.children,(e,t)=>{t!==zr&&n.push(`${t}:${gi(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Xr(e.children,(e,r)=>{r===zr&&(n=n.concat(t(e,r)))}),Xr(e.children,(e,r)=>{r!==zr&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===zr?[gi(e.children[zr],!1)]:[`${n}:${gi(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[zr]?`${pi(e)}/${t[0]}`:`${pi(e)}/(${t.join("//")})`}}function mi(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yi(e){return mi(e).replace(/%3B/gi,";")}function vi(e){return mi(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wi(e){return decodeURIComponent(e)}function bi(e){return wi(e.replace(/\+/g,"%20"))}function _i(e){return`${vi(e.path)}${function(e){return Object.keys(e).map(t=>`;${vi(t)}=${vi(e[t])}`).join("")}(e.parameters)}`}const Ti=/^[^\/()?;=#]+/;function Ii(e){const t=e.match(Ti);return t?t[0]:""}const Si=/^[^=?&#]+/,Ci=/^[^?&#]+/;class Ei{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ci([],{}):new ci([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[zr]=new ci(e,t)),n}parseSegment(){const e=Ii(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ui(wi(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ii(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Ii(this.remaining);e&&(n=e,this.capture(n))}e[wi(t)]=wi(n)}parseQueryParam(e){const t=function(e){const t=e.match(Si);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Ci);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=bi(t),i=bi(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ii(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=zr);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[zr]:new ci([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ki{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ai(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Ai(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=xi(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return xi(e,this._root).map(e=>e.value)}}function Ai(e,t){if(e===t.value)return t;for(const n of t.children){const t=Ai(e,n);if(t)return t}return null}function xi(e,t){if(e===t.value)return[t];for(const n of t.children){const r=xi(e,n);if(r.length)return r.unshift(t),r}return[]}class Oi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ni(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Pi extends ki{constructor(e,t){super(e),this.snapshot=t,Ui(this,e)}toString(){return this.snapshot.toString()}}function Di(e,t){const n=function(e,t){const n=new Mi([],{},{},"",{},zr,t,null,e.root,-1,{});return new Fi("",new Oi(n,[]))}(e,t),r=new Dn([new ui("",{})]),i=new Dn({}),s=new Dn({}),o=new Dn({}),a=new Dn(""),c=new Ri(r,i,o,a,s,zr,t,n.root);return c.snapshot=n.root,new Pi(new Oi(c,[]),n)}class Ri{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Le.U)(e=>Hr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Le.U)(e=>Hr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Li(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Mi{constructor(e,t,n,r,i,s,o,a,c,u,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fi extends ki{constructor(e,t){super(t),this.url=e,Ui(this,t)}toString(){return Vi(this._root)}}function Ui(e,t){t.value._routerState=e,t.children.forEach(t=>Ui(e,t))}function Vi(e){const t=e.children.length>0?` { ${e.children.map(Vi).join(", ")} } `:"";return`${e.value}${t}`}function Zi(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Wr(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Wr(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Wr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Wr(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function qi(e,t){return Wr(e.params,t.params)&&function(e,t){return li(e,t)&&e.every((e,n)=>Wr(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||qi(e.parent,t.parent))}function ji(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return ji(e,t,r);return ji(e,t)})}(e,t,n);return new Oi(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return zi(t,e),e}}const n=function(e){return new Ri(new Dn(e.url),new Dn(e.params),new Dn(e.queryParams),new Dn(e.fragment),new Dn(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(t=>ji(e,t));return new Oi(n,r)}}function zi(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)zi(e.children[n],t.children[n])}function Bi(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Hi(e){return"object"==typeof e&&null!=e&&e.outlets}function $i(e,t,n,r,i){let s={};return r&&Xr(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new ai(n.root===e?t:Gi(n.root,e,t),s,i)}function Gi(e,t,n){const r={};return Xr(e.children,(e,i)=>{r[i]=e===t?n:Gi(e,t,n)}),new ci(e.segments,r)}class Ki{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Bi(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Hi);if(r&&r!==Qr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wi{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Ji(e,t,n){if(e||(e=new ci([],{})),0===e.segments.length&&e.hasChildren())return Yi(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(Hi(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!ts(a,c,t))return s;r+=2}else{if(!ts(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new ci(e.segments.slice(0,r.pathIndex),{});return t.children[zr]=new ci(e.segments.slice(r.pathIndex),e.children),Yi(t,0,i)}return r.match&&0===i.length?new ci(e.segments,{}):r.match&&!e.hasChildren()?Qi(e,t,n):r.match?Yi(e,0,i):Qi(e,t,n)}function Yi(e,t,n){if(0===n.length)return new ci(e.segments,{});{const r=function(e){return Hi(e[0])?e[0].outlets:{[zr]:e}}(n),i={};return Xr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Ji(e.children[r],t,n))}),Xr(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new ci(e.segments,i)}}function Qi(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Hi(s)){const e=Xi(s.outlets);return new ci(r,e)}if(0===i&&Bi(n[0])){r.push(new ui(e.segments[t].path,es(n[0]))),i++;continue}const o=Hi(s)?s.outlets[zr]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Bi(a)?(r.push(new ui(o,es(a))),i+=2):(r.push(new ui(o,{})),i++)}return new ci(r,{})}function Xi(e){const t={};return Xr(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Qi(new ci([],{}),0,e))}),t}function es(e){const t={};return Xr(e,(e,n)=>t[n]=`${e}`),t}function ts(e,t,n){return e==n.path&&Wr(t,n.parameters)}class ns{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Zi(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Ni(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Xr(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Ni(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=Ni(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new qr(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Vr(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Zi(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),rs(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function rs(e){Zi(e.value),e.children.forEach(rs)}class is{constructor(e,t){this.routes=e,this.module=t}}function ss(e){return"function"==typeof e}function os(e){return e instanceof ai}const as=Symbol("INITIAL_VALUE");function cs(){return Jn(e=>function(...e){let t,n;return(0,Rn.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,yt.k)(e[0])&&(e=e[0]),(0,Vn.n)(e,n).lift(new qn(t))}(e.map(e=>e.pipe(er(1),rr(as)))).pipe(ir((e,t)=>{let n=!1;return t.reduce((e,r,i)=>e!==as?e:(r===as&&(n=!0),n||!1!==r&&i!==t.length-1&&!os(r)?e:r),e)},as),Pe(e=>e!==as),(0,Le.U)(e=>os(e)?e:!0===e),er(1)))}let us=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[co]},encapsulation:2}),e})();function ls(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];hs(r,ds(t,r))}}function hs(e,t){e.children&&ls(e.children,t)}function ds(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function fs(e){const t=e.children&&e.children.map(fs),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==zr&&(n.component=us),n}function ps(e){return e.outlet||zr}function gs(e,t){const n=e.filter(e=>ps(e)===t);return n.push(...e.filter(e=>ps(e)!==t)),n}const ms={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ys(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},ms):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Kr)(n,e,t);if(!i)return Object.assign({},ms);const s={};Xr(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function vs(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>ws(e,t,n)&&ps(n)!==zr)}(e,n,r)){const i=new ci(t,function(e,t,n,r){const i={};i[zr]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&ps(s)!==zr){const n=new ci([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[ps(s)]=n}return i}(e,t,r,new ci(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>ws(e,t,n))}(e,n,r)){const s=new ci(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(ws(e,n,a)&&!i[ps(a)]){const n=new ci([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[ps(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new ci(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function ws(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function bs(e,t,n,r){return!!(ps(e)===r||r!==zr&&ws(t,n,e))&&("**"===e.path||ys(t,e,n).matched)}function _s(e,t,n){return 0===t.length&&!e.children[n]}class Ts{constructor(e){this.segmentGroup=e||null}}class Is{constructor(e){this.urlTree=e}}function Ss(e){return new Ae.y(t=>t.error(new Ts(e)))}function Cs(e){return new Ae.y(t=>t.error(new Is(e)))}function Es(e){return new Ae.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class ks{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(r.h0i)}apply(){const e=vs(this.urlTree.root,[],[],this.config).segmentGroup,t=new ci(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,zr).pipe((0,Le.U)(e=>this.createUrlTree(As(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ar(e=>{if(e instanceof Is)return this.allowRedirects=!1,this.match(e.urlTree);throw e instanceof Ts?this.noMatchError(e):e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,zr).pipe((0,Le.U)(t=>this.createUrlTree(As(t),e.queryParams,e.fragment))).pipe(ar(e=>{throw e instanceof Ts?this.noMatchError(e):e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new ci([],{[zr]:e}):e;return new ai(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,Le.U)(e=>new ci([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,mt.D)(r).pipe(Oe(r=>{const i=n.children[r],s=gs(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,Le.U)(e=>({segment:e,outlet:r})))}),ir((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Pe((t,n)=>e(t,n,r)):br.y,lr(1),n?yr(t):fr(()=>new zn))}())}expandSegment(e,t,n,r,i,s){return(0,mt.D)(n).pipe(Oe(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(ar(e=>{if(e instanceof Ts)return(0,ke.of)(null);throw e}))),_r(e=>!!e),ar((e,n)=>{if(e instanceof zn||"EmptyError"===e.name){if(_s(t,r,i))return(0,ke.of)(new ci([],{}));throw new Ts(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return bs(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):Ss(t):Ss(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Cs(i):this.lineralizeSegments(n,i).pipe((0,xe.zg)(n=>{const i=new ci(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=ys(t,r,i);if(!o)return Ss(t);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Cs(l):this.lineralizeSegments(r,l).pipe((0,xe.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,ke.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,Le.U)(e=>(n._loadedConfig=e,new ci(r,{})))):(0,ke.of)(new ci(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=ys(t,n,r);if(!s)return Ss(t);const c=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,xe.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:u}=vs(t,o,c,s),l=new ci(a.segments,a.children);if(0===u.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe((0,Le.U)(e=>new ci(o,e)));if(0===s.length&&0===u.length)return(0,ke.of)(new ci(o,{}));const h=ps(n)===i;return this.expandSegment(r,l,s,u,h?zr:i,!0).pipe((0,Le.U)(e=>new ci(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,ke.of)(new is(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,ke.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,xe.zg)(n=>{return n?this.configLoader.load(e.injector,t).pipe((0,Le.U)(e=>(t._loadedConfig=e,e))):(r=t,new Ae.y(e=>e.error(Gr(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):(0,ke.of)(new is([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,ke.of)(!0);const i=r.map(r=>{const i=e.get(r);let s;if((o=i)&&ss(o.canLoad))s=i.canLoad(t,n);else{if(!ss(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}var o;return ei(s)});return(0,ke.of)(i).pipe(cs(),(0,On.b)(e=>{if(!os(e))return;const t=Gr(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,Le.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,ke.of)(n);if(r.numberOfChildren>1||!r.children[zr])return Es(e.redirectTo);r=r.children[zr]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new ai(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Xr(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return Xr(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new ci(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function As(e){const t={};for(const n of Object.keys(e.children)){const r=As(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children[zr]){const t=e.children[zr];return new ci(e.segments.concat(t.segments),t.children)}return e}(new ci(e.segments,t))}class xs{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Os{constructor(e,t){this.component=e,this.route=t}}function Ns(e,t,n){const r=e._root;return Ds(r,t?t._root:null,n,[r.value])}function Ps(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Ds(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ni(t);return e.children.forEach(e=>{(function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!li(e.url,t.url);case"pathParamsOrQueryParamsChange":return!li(e.url,t.url)||!Wr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qi(e,t)||!Wr(e.queryParams,t.queryParams);case"paramsChange":default:return!qi(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new xs(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ds(e,t,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Os(a.outlet.component,o))}else o&&Rs(t,a,i),i.canActivateChecks.push(new xs(r)),Ds(e,null,s.component?a?a.children:null:n,r,i)})(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),Xr(s,(e,t)=>Rs(e,n.getContext(t),i)),i}function Rs(e,t,n){const r=Ni(e),i=e.value;Xr(r,(e,r)=>{Rs(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Os(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class Ls{}function Ms(e){return new Ae.y(t=>t.error(e))}class Fs{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=vs(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,zr);if(null===t)return null;const n=new Mi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},zr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Oi(n,t),i=new Fi(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=Li(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=gs(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Vs(n);return r.sort((e,t)=>e.value.outlet===zr?-1:t.value.outlet===zr?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return _s(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!bs(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?Qr(n).parameters:{};i=new Mi(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,js(e),ps(e),e.component,e,Zs(t),qs(t)+n.length,zs(e))}else{const r=ys(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Mi(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,js(e),ps(e),e.component,e,Zs(t),qs(t)+s.length,zs(e))}const a=(l=e).children?l.children:l.loadChildren?l._loadedConfig.routes:[],{segmentGroup:c,slicedSegments:u}=vs(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);var l;if(0===u.length&&c.hasChildren()){const e=this.processChildren(a,c);return null===e?null:[new Oi(i,e)]}if(0===a.length&&0===u.length)return[new Oi(i,[])];const h=ps(e)===r,d=this.processSegment(a,c,u,h?zr:r);return null===d?null:[new Oi(i,d)]}}function Us(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Vs(e){const t=[],n=new Set;for(const r of e){if(!Us(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=Vs(r.children);t.push(new Oi(r.value,e))}return t.filter(e=>!n.has(e))}function Zs(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function qs(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function js(e){return e.data||{}}function zs(e){return e.resolve||{}}function Bs(e){return Jn(t=>{const n=e(t);return n?(0,mt.D)(n).pipe((0,Le.U)(()=>t)):(0,ke.of)(t)})}class Hs extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const $s=new r.OlP("ROUTES");class Gs{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,Le.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new is(Yr(i.injector.get($s,void 0,r.XFs.Self|r.XFs.Optional)).map(fs),i)}),ar(e=>{throw t._loader$=void 0,e}));return t._loader$=new Kn.c(n,()=>new Nn.xQ).pipe((0,Tr.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,mt.D)(this.loader.load(e)):ei(e()).pipe((0,xe.zg)(e=>e instanceof r.YKP?(0,ke.of)(e):(0,mt.D)(this.compiler.compileModuleAsync(e))))}}class Ks{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ws,this.attachRef=null}}class Ws{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ks,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Js{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Ys(e){throw e}function Qs(e,t,n){return t.parse("/")}function Xs(e,t){return(0,ke.of)(null)}const eo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},to={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let no=(()=>{class e{constructor(e,t,n,i,s,o,a,c){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Nn.xQ,this.errorHandler=Ys,this.malformedUriErrorHandler=Qs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xs,afterPreactivation:Xs},this.urlHandlingStrategy=new Js,this.routeReuseStrategy=new Hs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const u=s.get(r.R0b);this.isNgZoneEnabled=u instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new ai(new ci([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gs(o,a,e=>this.triggerEvent(new Mr(e)),e=>this.triggerEvent(new Fr(e))),this.routerState=Di(this.currentUrlTree,this.rootComponentType),this.transitions=new Dn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe(Pe(e=>0!==e.id),(0,Le.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Jn(e=>{let n=!1,r=!1;return(0,ke.of)(e).pipe((0,On.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Jn(e=>{const n=this.browserUrlTree.toString(),i=!this.navigated||e.extractedUrl.toString()!==n||n!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return ro(e.source)&&(this.browserUrlTree=e.extractedUrl),(0,ke.of)(e).pipe(Jn(e=>{const n=this.transitions.getValue();return t.next(new kr(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?$n.E:Promise.resolve(e)}),function(e,t,n,r){return Jn(i=>function(e,t,n,r,i){return new ks(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe((0,Le.U)(e=>Object.assign(Object.assign({},i),{urlAfterRedirects:e}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,On.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,s){return(0,xe.zg)(o=>function(e,t,n,i,s="emptyOnly",o="legacy"){try{const r=new Fs(e,t,n,i,s,o).recognize();return null===r?Ms(new Ls):(0,ke.of)(r)}catch(r){return Ms(r)}}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),i,s).pipe((0,Le.U)(e=>Object.assign(Object.assign({},o),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,On.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new Nr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new kr(n,this.serializeUrl(r),i,s);t.next(a);const c=Di(r,this.rootComponentType).snapshot;return(0,ke.of)(Object.assign(Object.assign({},e),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),$n.E}),Bs(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,On.b)(e=>{const t=new Pr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,Le.U)(e=>Object.assign(Object.assign({},e),{guards:Ns(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,xe.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,ke.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,mt.D)(e).pipe((0,xe.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,ke.of)(!0);const o=s.map(s=>{const o=Ps(s,t,i);let a;if(function(e){return e&&ss(e.canDeactivate)}(o))a=ei(o.canDeactivate(e,t,n,r));else{if(!ss(o))throw new Error("Invalid CanDeactivate guard");a=ei(o(e,t,n,r))}return a.pipe(_r())});return(0,ke.of)(o).pipe(cs())}(e.component,e.route,n,t,r)),_r(e=>!0!==e,!0))}(o,r,i,e).pipe((0,xe.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,mt.D)(t).pipe(Oe(t=>Hn(function(e,t){return null!==e&&t&&t(new Ur(e)),(0,ke.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Zr(e)),(0,ke.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Gn(()=>{const i=t.guards.map(i=>{const s=Ps(i,t.node,n);let o;if(function(e){return e&&ss(e.canActivateChild)}(s))o=ei(s.canActivateChild(r,e));else{if(!ss(s))throw new Error("Invalid CanActivateChild guard");o=ei(s(r,e))}return o.pipe(_r())});return(0,ke.of)(i).pipe(cs())}));return(0,ke.of)(i).pipe(cs())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,ke.of)(!0);const i=r.map(r=>Gn(()=>{const i=Ps(r,t,n);let s;if(function(e){return e&&ss(e.canActivate)}(i))s=ei(i.canActivate(t,e));else{if(!ss(i))throw new Error("Invalid CanActivate guard");s=ei(i(t,e))}return s.pipe(_r())}));return(0,ke.of)(i).pipe(cs())}(e,t.route,n))),_r(e=>!0!==e,!0))}(r,s,e,t):(0,ke.of)(n)),(0,Le.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,On.b)(e=>{if(os(e.guardsResult)){const t=Gr(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new Dr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Pe(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),Bs(e=>{if(e.guards.canActivateChecks.length)return(0,ke.of)(e).pipe((0,On.b)(e=>{const t=new Rr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Jn(e=>{let t=!1;return(0,ke.of)(e).pipe(function(e,t){return(0,xe.zg)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return(0,ke.of)(n);let s=0;return(0,mt.D)(i).pipe(Oe(n=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,ke.of)({});const s={};return(0,mt.D)(i).pipe((0,xe.zg)(i=>function(e,t,n,r){const i=Ps(e,t,r);return ei(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,On.b)(e=>{s[i]=e}))),lr(1),(0,xe.zg)(()=>Object.keys(s).length===i.length?(0,ke.of)(s):$n.E))}(e._resolve,e,t,r).pipe((0,Le.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Li(e,n).resolve),null)))}(n.route,r,e,t)),(0,On.b)(()=>s++),lr(1),(0,xe.zg)(e=>s===i.length?(0,ke.of)(n):$n.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,On.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}))}),(0,On.b)(e=>{const t=new Lr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Bs(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Le.U)(e=>{const t=function(e,t,n){const r=ji(e,t._root,n?n._root:void 0);return new Pi(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,On.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(e.urlAfterRedirects,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),((e,t,n)=>(0,Le.U)(r=>(new ns(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),(0,On.b)({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new Sr(e))}(()=>{if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}this.currentNavigation=null}),ar(n=>{if(r=!0,function(e){return e&&e[$r]}(n)){const r=os(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const i=new xr(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree),r={skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ro(e.source)};this.scheduleNavigation(t,"imperative",null,r,{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new Or(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}return $n.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return t.transitionId!==e.transitionId||!n||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ls(e),this.config=e.map(fs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,n,r,i){if(0===n.length)return $i(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ki(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Xr(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Ki(n,t,r)}(n);if(s.toRoot())return $i(t.root,new ci([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new Wi(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new Wi(e,e===t.root,0)}const r=Bi(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Wi(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Yi(o.segmentGroup,o.index,s.commands):Ji(o.segmentGroup,o.index,s.commands);return $i(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,u,null!=c?c:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=os(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},eo):!1===t?Object.assign({},to):t,os(e))return ri(this.currentUrlTree,e,n);const r=this.parseUrl(e);return ri(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ar(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,t,n,r,i){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),c=ro(t)&&a&&!ro(a.source),u=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(c&&u)return Promise.resolve(!0);let l,h,d;i?(l=i.resolve,h=i.reject,d=i.promise):d=new Promise((e,t)=>{l=e,h=t});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:l,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new xr(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.DyG),r.LFG(hi),r.LFG(Ws),r.LFG(_),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function ro(e){return"imperative"!==e}let io=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new Nn.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:oo(this.skipLocationChange),replaceUrl:oo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:oo(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(no),r.Y36(Ri),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})(),so=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new Nn.xQ,this.subscription=e.events.subscribe(e=>{e instanceof Ar&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i||"string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:oo(this.skipLocationChange),replaceUrl:oo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:oo(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(no),r.Y36(Ri),r.Y36(m))},e.\u0275dir=r.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(r.Ikx("href",t.href,r.LSH),r.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})();function oo(e){return""===e||!!e}let ao=(()=>{class e{constructor(e,t,n,r,i,s){this.router=e,this.element=t,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(e=>{e instanceof Ar&&this.update()})}ngAfterContentInit(){(0,ke.of)(this.links.changes,this.linksWithHrefs.changes,(0,ke.of)(null)).pipe((0,Bn.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(e=>!!e).map(e=>e.onChanges);this.linkInputChangesSubscription=(0,mt.D)(t).pipe((0,Bn.J)()).subscribe(e=>{this.isActive!==this.isLinkActive(this.router)(e)&&this.update()})}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){const t=function(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>e.isActive(n.urlTree,t)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(no),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(io,8),r.Y36(so,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){if(1&e&&(r.Suo(n,io,5),r.Suo(n,so,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.links=e),r.iGM(e=r.CRH())&&(t.linksWithHrefs=e)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.TTD]}),e})(),co=(()=>{class e{constructor(e,t,n,i,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||zr,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new uo(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Ws),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},e.\u0275dir=r.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class uo{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Ri?this.route:e===Ws?this.childContexts:this.parent.get(e,t)}}class lo{}class ho{preload(e,t){return(0,ke.of)(null)}}let fo=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Gs(t,n,t=>e.triggerEvent(new Mr(t)),t=>e.triggerEvent(new Fr(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pe(e=>e instanceof Ar),Oe(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,mt.D)(n).pipe((0,Bn.J)(),(0,Le.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,ke.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,xe.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(no),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(lo))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),po=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof kr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ar&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof jr&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new jr(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(no),r.LFG(G),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const go=new r.OlP("ROUTER_CONFIGURATION"),mo=new r.OlP("ROUTER_FORROOT_GUARD"),yo=[_,{provide:hi,useClass:di},{provide:no,useFactory:function(e,t,n,r,i,s,o,a={},c,u){const l=new no(null,e,t,n,r,i,s,Yr(o));return c&&(l.urlHandlingStrategy=c),u&&(l.routeReuseStrategy=u),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[hi,Ws,_,r.zs3,r.v3s,r.Sil,$s,go,[class{},new r.FiY],[class{},new r.FiY]]},Ws,{provide:Ri,useFactory:function(e){return e.routerState.root},deps:[no]},{provide:r.v3s,useClass:r.EAV},fo,ho,class{preload(e,t){return t().pipe(ar(()=>(0,ke.of)(null)))}},{provide:go,useValue:{enableTracing:!1}}];function vo(){return new r.PXZ("Router",no)}let wo=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[yo,Io(t),{provide:mo,useFactory:To,deps:[[no,new r.FiY,new r.tp0]]},{provide:go,useValue:n||{}},{provide:m,useFactory:_o,deps:[a,[new r.tBr(v),new r.FiY],go]},{provide:po,useFactory:bo,deps:[no,G,go]},{provide:lo,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ho},{provide:r.PXZ,multi:!0,useFactory:vo},[So,{provide:r.ip1,multi:!0,useFactory:Co,deps:[So]},{provide:ko,useFactory:Eo,deps:[So]},{provide:r.tb,multi:!0,useExisting:ko}]]}}static forChild(t){return{ngModule:e,providers:[Io(t)]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(mo,8),r.LFG(no,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function bo(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new po(e,t,n)}function _o(e,t,n={}){return n.useHash?new b(e,t):new w(e,t)}function To(e){return"guarded"}function Io(e){return[{provide:r.deG,multi:!0,useValue:e},{provide:$s,multi:!0,useValue:e}]}let So=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Nn.xQ}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(no),r=this.injector.get(go);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,ke.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(go),n=this.injector.get(fo),i=this.injector.get(po),s=this.injector.get(no),o=this.injector.get(r.z2F);e===o.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function Co(e){return e.appInitializer.bind(e)}function Eo(e){return e.bootstrapListener.bind(e)}const ko=new r.OlP("Router Initializer");let Ao=(()=>{class e{constructor(){this.apiKey="AIzaSyCPoBazzJYQDR_kUMlfSLFNHTrkSYJK3HI",this.urlLogIn="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key="+this.apiKey,this.url="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCPoBazzJYQDR_kUMlfSLFNHTrkSYJK3HI"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xo=(()=>{class e{constructor(e,t,n){this.http=e,this.router=t,this.hidden=n,this.apiKey=this.hidden.apiKey,this.urlLogIn=this.hidden.urlLogIn,this.url=this.hidden.url,this.user=new Dn(null)}signUp(e,t){return this.http.post(this.url,{email:e,password:t,returnSecureToken:!0}).pipe((0,On.b)(e=>{this.handleAuthentication(e.email,e.userId,e.idToken,+e.expiresln)}))}logIn(e,t){return this.http.post(this.urlLogIn,{email:e,password:t,returnSecureToken:!0}).pipe((0,On.b)(e=>{this.handleAuthentication(e.email,e.localid,e.idToken,+e.expiresln)}))}autoLogin(){const e=JSON.parse(localStorage.getItem("user"));if(!e)return;const t=new xn(e.email,e.id="2",e._token,new Date(e._tokenExpirationDate));null==t.token&&this.user.next(t)}handleAuthentication(e,t,n,r){const i=new Date((new Date).getTime()+1e3*r),s=new xn(e,t,n,i);this.user.next(s),localStorage.setItem("user",JSON.stringify(s))}logOut(){this.user.next(null),localStorage.removeItem("user")}isLoggedIn(){return localStorage.getItem("user")}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(nt),r.LFG(no),r.LFG(Ao))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Oo,No=new Uint8Array(16);function Po(){if(!Oo&&!(Oo="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Oo(No)}for(var Do=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ro=function(e){return"string"==typeof e&&Do.test(e)},Lo=[],Mo=0;Mo<256;++Mo)Lo.push((Mo+256).toString(16).substr(1));var Fo=function(e,t,n){var r=(e=e||{}).random||(e.rng||Po)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Lo[e[t+0]]+Lo[e[t+1]]+Lo[e[t+2]]+Lo[e[t+3]]+"-"+Lo[e[t+4]]+Lo[e[t+5]]+"-"+Lo[e[t+6]]+Lo[e[t+7]]+"-"+Lo[e[t+8]]+Lo[e[t+9]]+"-"+Lo[e[t+10]]+Lo[e[t+11]]+Lo[e[t+12]]+Lo[e[t+13]]+Lo[e[t+14]]+Lo[e[t+15]]).toLowerCase();if(!Ro(n))throw TypeError("Stringified UUID is invalid");return n}(r)},Uo=n(3637),Vo=n(6643);function Zo(){return e=>e.lift(new qo)}class qo{call(e,t){return t.subscribe(new jo(e))}}class jo extends Ne.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class zo{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Bo(e,this.compare,this.keySelector))}}class Bo extends Ne.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}var Ho,$o=n(8939),Go=(n(4671),n(4486)),Ko=n(8239),Wo=n(5452),Jo=n(6034),Yo=n(5601),Qo=n(3854),Xo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ea={},ta=ta||{},na=Xo||self;function ra(){}function ia(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function sa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var oa="closure_uid_"+(1e9*Math.random()>>>0),aa=0;function ca(e,t,n){return e.call.apply(e.bind,arguments)}function ua(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function la(e,t,n){return(la=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ca:ua).apply(null,arguments)}function ha(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function da(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function fa(){this.s=this.s,this.o=this.o}var pa={};fa.prototype.s=!1,fa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,oa)&&e[oa]||(e[oa]=++aa)}(this);delete pa[e]}},fa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ga=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ma=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function ya(e){return Array.prototype.concat.apply([],arguments)}function va(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function wa(e){return/^[\s\xa0]*$/.test(e)}var ba,_a=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ta(e,t){return-1!=e.indexOf(t)}function Ia(e,t){return e<t?-1:e>t?1:0}e:{var Sa=na.navigator;if(Sa){var Ca=Sa.userAgent;if(Ca){ba=Ca;break e}}ba=""}function Ea(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ka(e){const t={};for(const n in e)t[n]=e[n];return t}var Aa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xa(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Aa.length;t++)n=Aa[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Oa(e){return Oa[" "](e),e}Oa[" "]=ra;var Na,Pa,Da=Ta(ba,"Opera"),Ra=Ta(ba,"Trident")||Ta(ba,"MSIE"),La=Ta(ba,"Edge"),Ma=La||Ra,Fa=Ta(ba,"Gecko")&&!(Ta(ba.toLowerCase(),"webkit")&&!Ta(ba,"Edge"))&&!(Ta(ba,"Trident")||Ta(ba,"MSIE"))&&!Ta(ba,"Edge"),Ua=Ta(ba.toLowerCase(),"webkit")&&!Ta(ba,"Edge");function Va(){var e=na.document;return e?e.documentMode:void 0}e:{var Za="",qa=(Pa=ba,Fa?/rv:([^\);]+)(\)|;)/.exec(Pa):La?/Edge\/([\d\.]+)/.exec(Pa):Ra?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Pa):Ua?/WebKit\/(\S+)/.exec(Pa):Da?/(?:Version)[ \/]?(\S+)/.exec(Pa):void 0);if(qa&&(Za=qa?qa[1]:""),Ra){var ja=Va();if(null!=ja&&ja>parseFloat(Za)){Na=String(ja);break e}}Na=Za}var za={};function Ba(){return e=za,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=_a(String(Na)).split("."),n=_a("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=Ia(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Ia(0==i[2].length,0==s[2].length)||Ia(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}var Ha=na.document&&Ra&&(Va()||parseInt(Na,10))||void 0,$a=function(){if(!na.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{na.addEventListener("test",ra,t),na.removeEventListener("test",ra,t)}catch(n){}return e}();function Ga(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ka(e,t){if(Ga.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Fa){e:{try{Oa(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Wa[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ka.Z.h.call(this)}}Ga.prototype.h=function(){this.defaultPrevented=!0},da(Ka,Ga);var Wa={2:"touch",3:"pen",4:"mouse"};Ka.prototype.h=function(){Ka.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ja="closure_listenable_"+(1e6*Math.random()|0),Ya=0;function Qa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ya,this.ca=this.fa=!1}function Xa(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ec(e){this.src=e,this.g={},this.h=0}function tc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ga(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Xa(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function nc(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}ec.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=nc(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Qa(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var rc="closure_lm_"+(1e6*Math.random()|0),ic={};function sc(e,t,n,r,i){if(r&&r.once)return ac(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)sc(e,t[s],n,r,i);return null}return n=pc(n),e&&e[Ja]?e.N(t,n,sa(r)?!!r.capture:!!r,i):oc(e,t,n,!1,r,i)}function oc(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=sa(i)?!!i.capture:!!i,a=dc(e);if(a||(e[rc]=a=new ec(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=hc;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$a||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(lc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ac(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ac(e,t[s],n,r,i);return null}return n=pc(n),e&&e[Ja]?e.O(t,n,sa(r)?!!r.capture:!!r,i):oc(e,t,n,!0,r,i)}function cc(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)cc(e,t[s],n,r,i);else r=sa(r)?!!r.capture:!!r,n=pc(n),e&&e[Ja]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=nc(s=e.g[t],n,r,i))&&(Xa(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=dc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=nc(t,n,r,i)),(n=-1<e?t[e]:null)&&uc(n))}function uc(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ja])tc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(lc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=dc(t))?(tc(n,e),0==n.h&&(n.src=null,t[rc]=null)):Xa(e)}}}function lc(e){return e in ic?ic[e]:ic[e]="on"+e}function hc(e,t){if(e.ca)e=!0;else{t=new Ka(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&uc(e),e=n.call(r,t)}return e}function dc(e){return(e=e[rc])instanceof ec?e:null}var fc="__closure_events_fn_"+(1e9*Math.random()>>>0);function pc(e){return"function"==typeof e?e:(e[fc]||(e[fc]=function(t){return e.handleEvent(t)}),e[fc])}function gc(){fa.call(this),this.i=new ec(this),this.P=this,this.I=null}function mc(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Ga(t,e);else if(t instanceof Ga)t.target=t.target||e;else{var i=t;xa(t=new Ga(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=yc(o,r,!0,t)&&i}if(i=yc(o=t.g=e,r,!0,t)&&i,i=yc(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=yc(o=t.g=n[s],r,!1,t)&&i}function yc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&tc(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}da(gc,fa),gc.prototype[Ja]=!0,gc.prototype.removeEventListener=function(e,t,n,r){cc(this,e,t,n,r)},gc.prototype.M=function(){if(gc.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xa(n[r]);delete t.g[e],t.h--}}this.I=null},gc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},gc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var vc=na.JSON.stringify;function wc(){var e=Ec;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var bc,_c=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Tc,e=>e.reset());class Tc{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ic(e){na.setTimeout(()=>{throw e},0)}function Sc(e,t){bc||function(){var e=na.Promise.resolve(void 0);bc=function(){e.then(kc)}}(),Cc||(bc(),Cc=!0),Ec.add(e,t)}var Cc=!1,Ec=new class{constructor(){this.h=this.g=null}add(e,t){const n=_c.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function kc(){for(var e;e=wc();){try{e.h.call(e.g)}catch(n){Ic(n)}var t=_c;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Cc=!1}function Ac(e,t){gc.call(this),this.h=e||1,this.g=t||na,this.j=la(this.kb,this),this.l=Date.now()}function xc(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Oc(e,t,n){if("function"==typeof e)n&&(e=la(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=la(e.handleEvent,e)}return 2147483647<Number(t)?-1:na.setTimeout(e,t||0)}function Nc(e){e.g=Oc(()=>{e.g=null,e.i&&(e.i=!1,Nc(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}da(Ac,gc),(Ho=Ac.prototype).da=!1,Ho.S=null,Ho.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mc(this,"tick"),this.da&&(xc(this),this.start()))}},Ho.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ho.M=function(){Ac.Z.M.call(this),xc(this),delete this.g};class Pc extends fa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Nc(this)}M(){super.M(),this.g&&(na.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dc(e){fa.call(this),this.h=e,this.g={}}da(Dc,fa);var Rc=[];function Lc(e,t,n,r){Array.isArray(n)||(n&&(Rc[0]=n.toString()),n=Rc);for(var i=0;i<n.length;i++){var s=sc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Mc(e){Ea(e.g,function(e,t){this.g.hasOwnProperty(t)&&uc(e)},e),e.g={}}function Fc(){this.g=!0}function Uc(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return vc(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Dc.prototype.M=function(){Dc.Z.M.call(this),Mc(this)},Dc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fc.prototype.Aa=function(){this.g=!1},Fc.prototype.info=function(){};var Vc={},Zc=null;function qc(){return Zc=Zc||new gc}function jc(e){Ga.call(this,Vc.Ma,e)}function zc(e){const t=qc();mc(t,new jc(t,e))}function Bc(e,t){Ga.call(this,Vc.STAT_EVENT,e),this.stat=t}function Hc(e){const t=qc();mc(t,new Bc(t,e))}function $c(e,t){Ga.call(this,Vc.Na,e),this.size=t}function Gc(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return na.setTimeout(function(){e()},t)}Vc.Ma="serverreachability",da(jc,Ga),Vc.STAT_EVENT="statevent",da(Bc,Ga),Vc.Na="timingevent",da($c,Ga);var Kc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Wc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Jc(){}function Yc(){}Jc.prototype.h=null;var Qc,Xc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function eu(){Ga.call(this,"d")}function tu(){Ga.call(this,"c")}function nu(){}function ru(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Dc(this),this.P=su,this.W=new Ac(e=Ma?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new iu}function iu(){this.i=null,this.g="",this.h=!1}da(eu,Ga),da(tu,Ga),da(nu,Jc),nu.prototype.g=function(){return new XMLHttpRequest},nu.prototype.i=function(){return{}},Qc=new nu;var su=45e3,ou={},au={};function cu(e,t,n){e.K=1,e.v=Nu(Cu(t)),e.s=n,e.U=!0,uu(e,null)}function uu(e,t){e.F=Date.now(),fu(e),e.A=Cu(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Bu(n.h,"t",r),e.C=0,n=e.l.H,e.h=new iu,e.g=Bl(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Pc(la(e.Ia,e,e.g),e.O)),Lc(e.V,e.g,"readystatechange",e.gb),t=e.H?ka(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),zc(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function lu(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function hu(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=du(e,n),r==au){4==t&&(e.o=4,Hc(14),i=!1),Uc(e.j,e.m,null,"[Incomplete Response]");break}if(r==ou){e.o=4,Hc(15),Uc(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Uc(e.j,e.m,r,null),vu(e,r)}lu(e)&&r!=au&&r!=ou&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Hc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ml(t),t.L=!0,Hc(11))):(Uc(e.j,e.m,n,"[Invalid Chunked Response]"),yu(e),mu(e))}function du(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?au:(n=Number(t.substring(n,r)),isNaN(n)?ou:(r+=1)+n>t.length?au:(t=t.substr(r,n),e.C=r+n,t))}function fu(e){e.Y=Date.now()+e.P,pu(e,e.P)}function pu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Gc(la(e.eb,e),t)}function gu(e){e.B&&(na.clearTimeout(e.B),e.B=null)}function mu(e){0==e.l.G||e.I||Vl(e.l,e)}function yu(e){gu(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,xc(e.W),Mc(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function vu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ju(n.i,e)))if(n.I=e.N,!e.J&&Ju(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Gc(la(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<e.F))break e;Ul(n),kl(n)}Ll(n),Hc(18)}if(1>=Wu(n.i)&&n.ka){try{n.ka()}catch(u){}n.ka=void 0}}else ql(n,11)}else if((e.J||n.g==e)&&Ul(n),!wa(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=u[5];null!=l&&"number"==typeof l&&0<l&&(n.K=r=1.5*l,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(Ta(e,"spdy")||Ta(e,"quic")||Ta(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Yu(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Ou(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=zl(r,r.H?r.la:null,r.W),o.J){Qu(r.i,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(gu(a),fu(a)),r.g=o}else Rl(r);0<n.l.length&&Ol(n)}else"stop"!=u[0]&&"close"!=u[0]||ql(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?ql(n,7):El(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}zc(4)}catch(u){}}function wu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ia(e)||"string"==typeof e)ma(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ia(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(ia(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function bu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof bu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function _u(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Tu(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Tu(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Tu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ho=ru.prototype).setTimeout=function(e){this.P=e},Ho.gb=function(e){e=e.target;const t=this.L;t&&3==_l(e)?t.l():this.Ia(e)},Ho.Ia=function(e){try{if(e==this.g)e:{const l=_l(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>l)&&(3!=l||Ma||this.g&&(this.h.h||this.g.ga()||Tl(this.g)))){this.I||4!=l||7==t||zc(8==t||0>=h?3:2),gu(this);var n=this.g.ba();this.N=n;t:if(lu(this)){var r=Tl(this.g);e="";var i=r.length,s=4==_l(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){yu(this),mu(this);var o="";break t}this.h.i=new na.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wa(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Hc(12),yu(this),mu(this);break e}Uc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vu(this,n)}this.U?(hu(this,l,o),Ma&&this.i&&3==l&&(Lc(this.V,this.W,"tick",this.fb),this.W.start())):(Uc(this.j,this.m,o,null),vu(this,o)),4==l&&yu(this),this.i&&!this.I&&(4==l?Vl(this.l,this):(this.i=!1,fu(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Hc(12)):(this.o=0,Hc(13)),yu(this),mu(this)}}}catch(l){}},Ho.fb=function(){if(this.g){var e=_l(this.g),t=this.g.ga();this.C<t.length&&(gu(this),hu(this,e,t),this.i&&4!=e&&fu(this))}},Ho.cancel=function(){this.I=!0,yu(this)},Ho.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(zc(3),Hc(17)),yu(this),this.o=2,mu(this)):pu(this,this.Y-e)},(Ho=bu.prototype).R=function(){_u(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ho.T=function(){return _u(this),this.g.concat()},Ho.get=function(e,t){return Tu(this.h,e)?this.h[e]:t},Ho.set=function(e,t){Tu(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ho.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Iu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Su(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Su){this.g=void 0!==t?t:e.g,Eu(this,e.j),this.s=e.s,ku(this,e.i),Au(this,e.m),this.l=e.l,t=e.h;var n=new Zu;n.i=t.i,t.g&&(n.g=new bu(t.g),n.h=t.h),xu(this,n),this.o=e.o}else e&&(n=String(e).match(Iu))?(this.g=!!t,Eu(this,n[1]||"",!0),this.s=Pu(n[2]||""),ku(this,n[3]||"",!0),Au(this,n[4]),this.l=Pu(n[5]||"",!0),xu(this,n[6]||"",!0),this.o=Pu(n[7]||"")):(this.g=!!t,this.h=new Zu(null,this.g))}function Cu(e){return new Su(e)}function Eu(e,t,n){e.j=n?Pu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ku(e,t,n){e.i=n?Pu(t,!0):t}function Au(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xu(e,t,n){t instanceof Zu?(e.h=t,function(e,t){t&&!e.j&&(qu(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(ju(this,t),Bu(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Du(t,Uu)),e.h=new Zu(t,e.g))}function Ou(e,t,n){e.h.set(t,n)}function Nu(e){return Ou(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Pu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Du(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ru),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ru(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Su.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Du(t,Lu,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Du(t,Lu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Du(n,"/"==n.charAt(0)?Fu:Mu,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Du(n,Vu)),e.join("")};var Lu=/[#\/\?@]/g,Mu=/[#\?:]/g,Fu=/[#\?]/g,Uu=/[#\?@]/g,Vu=/#/g;function Zu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qu(e){e.g||(e.g=new bu,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function ju(e,t){qu(e),t=Hu(e,t),Tu(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Tu((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&_u(e)))}function zu(e,t){return qu(e),t=Hu(e,t),Tu(e.g.h,t)}function Bu(e,t,n){ju(e,t),0<n.length&&(e.i=null,e.g.set(Hu(e,t),va(n)),e.h+=n.length)}function Hu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function $u(e){this.l=e||Gu,e=na.PerformanceNavigationTiming?0<(e=na.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(na.g&&na.g.Ea&&na.g.Ea()&&na.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ho=Zu.prototype).add=function(e,t){qu(this),this.i=null,e=Hu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ho.forEach=function(e,t){qu(this),this.g.forEach(function(n,r){ma(n,function(n){e.call(t,n,r,this)},this)},this)},Ho.T=function(){qu(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},Ho.R=function(e){qu(this);var t=[];if("string"==typeof e)zu(this,e)&&(t=ya(t,this.g.get(Hu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ya(t,e[n])}return t},Ho.set=function(e,t){return qu(this),this.i=null,zu(this,e=Hu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ho.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ho.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var Gu=10;function Ku(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Wu(e){return e.h?1:e.g?e.g.size:0}function Ju(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Yu(e,t){e.g?e.g.add(t):e.h=t}function Qu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xu(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return va(e.i)}function el(){}function tl(){this.g=new el}function nl(e,t,n){const r=n||"";try{wu(e,function(e,n){let i=e;sa(e)&&(i=vc(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function rl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function il(e){this.l=e.$b||null,this.j=e.ib||!1}function sl(e,t){gc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ol,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$u.prototype.cancel=function(){if(this.i=Xu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},el.prototype.stringify=function(e){return na.JSON.stringify(e,void 0)},el.prototype.parse=function(e){return na.JSON.parse(e,void 0)},da(il,Jc),il.prototype.g=function(){return new sl(this.l,this.j)},il.prototype.i=function(e){return function(){return e}}({}),da(sl,gc);var ol=0;function al(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function cl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ul(e)}function ul(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ho=sl.prototype).open=function(e,t){if(this.readyState!=ol)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ul(this)},Ho.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||na).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ho.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cl(this)),this.readyState=ol},Ho.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ul(this)),this.g&&(this.readyState=3,ul(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==na.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;al(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ho.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?cl(this):ul(this),3==this.readyState&&al(this)}},Ho.Ua=function(e){this.g&&(this.response=this.responseText=e,cl(this))},Ho.Ta=function(e){this.g&&(this.response=e,cl(this))},Ho.ha=function(){this.g&&cl(this)},Ho.setRequestHeader=function(e,t){this.v.append(e,t)},Ho.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ho.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ll=na.JSON.parse;function hl(e){gc.call(this),this.headers=new bu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dl,this.K=this.L=!1}da(hl,gc);var dl="",fl=/^https?$/i,pl=["POST","PUT"];function gl(e){return"content-type"==e.toLowerCase()}function ml(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,yl(e),wl(e)}function yl(e){e.D||(e.D=!0,mc(e,"complete"),mc(e,"error"))}function vl(e){if(e.h&&void 0!==ta&&(!e.C[1]||4!=_l(e)||2!=e.ba()))if(e.v&&4==_l(e))Oc(e.Fa,0,e);else if(mc(e,"readystatechange"),4==_l(e)){e.h=!1;try{const c=e.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===c){var i=String(e.H).match(Iu)[1]||null;if(!i&&na.self&&na.self.location){var s=na.self.location.protocol;i=s.substr(0,s.length-1)}r=!fl.test(i?i.toLowerCase():"")}n=r}if(n)mc(e,"complete"),mc(e,"success");else{e.m=6;try{var o=2<_l(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",yl(e)}}finally{wl(e)}}}function wl(e,t){if(e.g){bl(e);const r=e.g,i=e.C[0]?ra:null;e.g=null,e.C=null,t||mc(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function bl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(na.clearTimeout(e.A),e.A=null)}function _l(e){return e.g?e.g.readyState:0}function Tl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case dl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Il(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Ea(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Ou(e,t,n))}function Sl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cl(e){this.za=0,this.l=[],this.h=new Fc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Sl("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Sl("baseRetryDelayMs",5e3,e),this.$a=Sl("retryDelaySeedMs",1e4,e),this.Ya=Sl("forwardChannelMaxRetries",2,e),this.ra=Sl("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new $u(e&&e.concurrentRequestLimit),this.Ca=new tl,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function El(e){if(Al(e),3==e.G){var t=e.V++,n=Cu(e.F);Ou(n,"SID",e.J),Ou(n,"RID",t),Ou(n,"TYPE","terminate"),Pl(e,n),(t=new ru(e,e.h,t,void 0)).K=2,t.v=Nu(Cu(n)),n=!1,na.navigator&&na.navigator.sendBeacon&&(n=na.navigator.sendBeacon(t.v.toString(),"")),!n&&na.Image&&((new Image).src=t.v,n=!0),n||(t.g=Bl(t.l,null),t.g.ea(t.v)),t.F=Date.now(),fu(t)}jl(e)}function kl(e){e.g&&(Ml(e),e.g.cancel(),e.g=null)}function Al(e){kl(e),e.u&&(na.clearTimeout(e.u),e.u=null),Ul(e),e.i.cancel(),e.m&&("number"==typeof e.m&&na.clearTimeout(e.m),e.m=null)}function xl(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Ol(e)}function Ol(e){Ku(e.i)||e.m||(e.m=!0,Sc(e.Ha,e),e.C=0)}function Nl(e,t){var n;n=t?t.m:e.V++;const r=Cu(e.F);Ou(r,"SID",e.J),Ou(r,"RID",n),Ou(r,"AID",e.U),Pl(e,r),e.o&&e.s&&Il(r,e.o,e.s),n=new ru(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Dl(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Yu(e.i,n),cu(n,r,t)}function Pl(e,t){e.j&&wu({},function(e,n){Ou(t,n,e)})}function Dl(e,t,n){n=Math.min(e.l.length,n);var r=e.j?la(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].h;const c=i[a].g;if(n-=t,0>n)t=Math.max(0,i[a].h-100),o=!1;else try{nl(c,e,"req"+n+"_")}catch(s){r&&r(c)}}if(o){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Rl(e){e.g||e.u||(e.Y=1,Sc(e.Ga,e),e.A=0)}function Ll(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Gc(la(e.Ga,e),Zl(e,e.A)),e.A++,0))}function Ml(e){null!=e.B&&(na.clearTimeout(e.B),e.B=null)}function Fl(e){e.g=new ru(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Cu(e.oa);Ou(t,"RID","rpc"),Ou(t,"SID",e.J),Ou(t,"CI",e.N?"0":"1"),Ou(t,"AID",e.U),Pl(e,t),Ou(t,"TYPE","xmlhttp"),e.o&&e.s&&Il(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Nu(Cu(t)),n.s=null,n.U=!0,uu(n,e)}function Ul(e){null!=e.v&&(na.clearTimeout(e.v),e.v=null)}function Vl(e,t){var n=null;if(e.g==t){Ul(e),Ml(e),e.g=null;var r=2}else{if(!Ju(e.i,t))return;n=t.D,Qu(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;mc(r=qc(),new $c(r,n,t,i)),Ol(e)}else Rl(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Wu(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Gc(la(e.Ha,e,t),Zl(e,e.C)),e.C++,0)))}(e,t)||2==r&&Ll(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ql(e,5);break;case 4:ql(e,10);break;case 3:ql(e,6);break;default:ql(e,2)}}function Zl(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ql(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=la(e.jb,e);n||(n=new Su("//www.google.com/images/cleardot.gif"),na.location&&"http"==na.location.protocol||Eu(n,"https"),Nu(n)),function(e,t){const n=new Fc;if(na.Image){const r=new Image;r.onload=ha(rl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ha(rl,n,r,"TestLoadImage: error",!1,t),r.onabort=ha(rl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ha(rl,n,r,"TestLoadImage: timeout",!1,t),na.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Hc(2);e.G=0,e.j&&e.j.va(t),jl(e),Al(e)}function jl(e){e.G=0,e.I=-1,e.j&&((0!=Xu(e.i).length||0!=e.l.length)&&(e.i.i.length=0,va(e.l),e.l.length=0),e.j.ua())}function zl(e,t,n){let r=function(e){return e instanceof Su?Cu(e):new Su(e,void 0)}(n);if(""!=r.i)t&&ku(r,t+"."+r.i),Au(r,r.m);else{const e=na.location;r=function(e,t,n,r){var i=new Su(null,void 0);return e&&Eu(i,e),t&&ku(i,t),n&&Au(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Ea(e.aa,function(e,t){Ou(r,t,e)}),n=e.sa,(t=e.D)&&n&&Ou(r,t,n),Ou(r,"VER",e.ma),Pl(e,r),r}function Bl(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new hl(n&&e.Ba&&!e.qa?new il({ib:!0}):e.qa)).L=e.H,t}function Hl(){}function $l(){if(Ra&&!(10<=Number(Ha)))throw Error("Environmental error: no available transport.")}function Gl(e,t){gc.call(this),this.g=new Cl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!wa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!wa(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Jl(this)}function Kl(e){eu.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Wl(){tu.call(this),this.status=1}function Jl(e){this.g=e}(Ho=hl.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qc.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Qc),this.g.onreadystatechange=la(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void ml(this,s)}e=n||"";const i=new bu(this.headers);r&&wu(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=gl;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=na.FormData&&e instanceof na.FormData,!(0<=ga(pl,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bl(this),0<this.B&&((this.K=function(e){return Ra&&Ba()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=la(this.pa,this)):this.A=Oc(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ml(this,s)}},Ho.pa=function(){void 0!==ta&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mc(this,"timeout"),this.abort(8))},Ho.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,mc(this,"complete"),mc(this,"abort"),wl(this))},Ho.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wl(this,!0)),hl.Z.M.call(this)},Ho.Fa=function(){this.s||(this.F||this.v||this.l?vl(this):this.cb())},Ho.cb=function(){vl(this)},Ho.ba=function(){try{return 2<_l(this)?this.g.status:-1}catch(Pa){return-1}},Ho.ga=function(){try{return this.g?this.g.responseText:""}catch(Pa){return""}},Ho.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ll(t)}},Ho.Da=function(){return this.m},Ho.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ho=Cl.prototype).ma=8,Ho.G=1,Ho.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ho.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new ru(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=ka(s),xa(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Dl(this,i,t),Ou(n=Cu(this.F),"RID",e),Ou(n,"CVER",22),this.D&&Ou(n,"X-HTTP-Session-Id",this.D),Pl(this,n),this.o&&s&&Il(n,this.o,s),Yu(this.i,i),this.Ra&&Ou(n,"TYPE","init"),this.ja?(Ou(n,"$req",t),Ou(n,"SID","null"),i.$=!0,cu(i,n,null)):cu(i,n,t),this.G=2}}else 3==this.G&&(e?Nl(this,e):0==this.l.length||Ku(this.i)||Nl(this))},Ho.Ga=function(){if(this.u=null,Fl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Gc(la(this.bb,this),e)}},Ho.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hc(10),kl(this),Fl(this))},Ho.ab=function(){null!=this.v&&(this.v=null,kl(this),Ll(this),Hc(19))},Ho.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Hc(2)):(this.h.info("Failed to ping google.com"),Hc(1))},(Ho=Hl.prototype).xa=function(){},Ho.wa=function(){},Ho.va=function(){},Ho.ua=function(){},Ho.Oa=function(){},$l.prototype.g=function(e,t){return new Gl(e,t)},da(Gl,gc),Gl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Sc(la(e.hb,e,t))),Hc(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=zl(e,null,e.W),Ol(e)},Gl.prototype.close=function(){El(this.g)},Gl.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,xl(this.g,t)}else this.v?((t={}).__data__=vc(e),xl(this.g,t)):xl(this.g,e)},Gl.prototype.M=function(){this.g.j=null,delete this.j,El(this.g),delete this.g,Gl.Z.M.call(this)},da(Kl,eu),da(Wl,tu),da(Jl,Hl),Jl.prototype.xa=function(){mc(this.g,"a")},Jl.prototype.wa=function(e){mc(this.g,new Kl(e))},Jl.prototype.va=function(e){mc(this.g,new Wl(e))},Jl.prototype.ua=function(){mc(this.g,"b")},$l.prototype.createWebChannel=$l.prototype.g,Gl.prototype.send=Gl.prototype.u,Gl.prototype.open=Gl.prototype.m,Gl.prototype.close=Gl.prototype.close,Kc.NO_ERROR=0,Kc.TIMEOUT=8,Kc.HTTP_ERROR=6,Wc.COMPLETE="complete",Yc.EventType=Xc,Xc.OPEN="a",Xc.CLOSE="b",Xc.ERROR="c",Xc.MESSAGE="d",gc.prototype.listen=gc.prototype.N,hl.prototype.listenOnce=hl.prototype.O,hl.prototype.getLastError=hl.prototype.La,hl.prototype.getLastErrorCode=hl.prototype.Da,hl.prototype.getStatus=hl.prototype.ba,hl.prototype.getResponseJson=hl.prototype.Qa,hl.prototype.getResponseText=hl.prototype.ga,hl.prototype.send=hl.prototype.ea;var Yl=ea.createWebChannelTransport=function(){return new $l},Ql=ea.getStatEventTarget=function(){return qc()},Xl=ea.ErrorCode=Kc,eh=ea.EventType=Wc,th=ea.Event=Vc,nh=ea.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},rh=ea.FetchXmlHttpFactory=il,ih=ea.WebChannel=Yc,sh=ea.XhrIo=hl;const oh="@firebase/firestore";class ah{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ah.UNAUTHENTICATED=new ah(null),ah.GOOGLE_CREDENTIALS=new ah("google-credentials-uid"),ah.FIRST_PARTY=new ah("first-party-uid"),ah.MOCK_USER=new ah("mock-user");let ch="9.1.3";const uh=new Yo.Yd("@firebase/firestore");function lh(){return uh.logLevel}function hh(e,...t){if(uh.logLevel<=Yo.in.DEBUG){const n=t.map(ph);uh.debug(`Firestore (${ch}): ${e}`,...n)}}function dh(e,...t){if(uh.logLevel<=Yo.in.ERROR){const n=t.map(ph);uh.error(`Firestore (${ch}): ${e}`,...n)}}function fh(e,...t){if(uh.logLevel<=Yo.in.WARN){const n=t.map(ph);uh.warn(`Firestore (${ch}): ${e}`,...n)}}function ph(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function gh(e="Unexpected state"){const t=`FIRESTORE (${ch}) INTERNAL ASSERTION FAILED: `+e;throw dh(t),new Error(t)}function mh(e,t){e||gh()}function yh(e,t){return e}const vh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wh extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bh{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _h{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Th{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ah.UNAUTHENTICATED))}shutdown(){}}class Ih{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Sh{constructor(e){this.t=e,this.currentUser=ah.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new bh;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bh,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const t=s;e.enqueueRetryable((0,Ko.Z)(function*(){yield t.promise,yield i(n.currentUser)}))},a=e=>{hh("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(hh("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bh)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(hh("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(mh("string"==typeof t.accessToken),new _h(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mh(null===e||"string"==typeof e),new ah(e)}}class Ch{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=ah.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Eh{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Ch(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ah.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function Ah(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}kh.T=-1;class xh{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Ah(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Oh(e,t){return e<t?-1:e>t?1:0}function Nh(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function Ph(e){return e+"\0"}class Dh{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wh(vh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wh(vh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new wh(vh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wh(vh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dh.fromMillis(Date.now())}static fromDate(e){return Dh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Dh(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oh(this.nanoseconds,e.nanoseconds):Oh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rh{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rh(e)}static min(){return new Rh(new Dh(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Lh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Mh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Fh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Uh{constructor(e,t,n){void 0===t?t=0:t>e.length&&gh(),void 0===n?n=e.length-t:n>e.length-t&&gh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Uh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Uh?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vh extends Uh{construct(e,t,n){return new Vh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new wh(vh.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new Vh(t)}static emptyPath(){return new Vh([])}}const Zh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qh extends Uh{construct(e,t,n){return new qh(e,t,n)}static isValidIdentifier(e){return Zh.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qh.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new wh(vh.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new wh(vh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new wh(vh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new wh(vh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qh(t)}static emptyPath(){return new qh([])}}class jh{constructor(e){this.fields=e,e.sort(qh.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nh(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class zh{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new zh(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new zh(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zh.EMPTY_BYTE_STRING=new zh("");const Bh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hh(e){if(mh(!!e),"string"==typeof e){let t=0;const n=Bh.exec(e);if(mh(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:$h(e.seconds),nanos:$h(e.nanos)}}function $h(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gh(e){return"string"==typeof e?zh.fromBase64String(e):zh.fromUint8Array(e)}function Kh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wh(e){const t=e.mapValue.fields.__previous_value__;return Kh(t)?Wh(t):t}function Jh(e){const t=Hh(e.mapValue.fields.__local_write_time__.timestampValue);return new Dh(t.seconds,t.nanos)}function Yh(e){return null==e}function Qh(e){return 0===e&&1/e==-1/0}function Xh(e){return"number"==typeof e&&Number.isInteger(e)&&!Qh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class ed{constructor(e){this.path=e}static fromPath(e){return new ed(Vh.fromString(e))}static fromName(e){return new ed(Vh.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Vh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ed(new Vh(e.slice()))}}function td(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Kh(e)?4:10:gh()}function nd(e,t){const n=td(e);if(n!==td(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Jh(e).isEqual(Jh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Hh(e.timestampValue),r=Hh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,Gh(e.bytesValue).isEqual(Gh(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return $h(e.geoPointValue.latitude)===$h(t.geoPointValue.latitude)&&$h(e.geoPointValue.longitude)===$h(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return $h(e.integerValue)===$h(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=$h(e.doubleValue),r=$h(t.doubleValue);return n===r?Qh(n)===Qh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Nh(e.arrayValue.values||[],t.arrayValue.values||[],nd);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Lh(n)!==Lh(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!nd(n[i],r[i])))return!1;return!0}(e,t);default:return gh()}var r}function rd(e,t){return void 0!==(e.values||[]).find(e=>nd(e,t))}function id(e,t){const n=td(e),r=td(t);if(n!==r)return Oh(n,r);switch(n){case 0:return 0;case 1:return Oh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=$h(e.integerValue||e.doubleValue),r=$h(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return sd(e.timestampValue,t.timestampValue);case 4:return sd(Jh(e),Jh(t));case 5:return Oh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Gh(e),r=Gh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Oh(n[i],r[i]);if(0!==e)return e}return Oh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Oh($h(e.latitude),$h(t.latitude));return 0!==n?n:Oh($h(e.longitude),$h(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=id(n[i],r[i]);if(e)return e}return Oh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Oh(r[o],s[o]);if(0!==e)return e;const t=id(n[r[o]],i[s[o]]);if(0!==t)return t}return Oh(r.length,s.length)}(e.mapValue,t.mapValue);default:throw gh()}}function sd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Oh(e,t);const n=Hh(e),r=Hh(t),i=Oh(n.seconds,r.seconds);return 0!==i?i:Oh(n.nanos,r.nanos)}function od(e){return ad(e)}function ad(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Hh(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Gh(e.bytesValue).toBase64():"referenceValue"in e?ed.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ad(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ad(e.fields[i])}`;return n+"}"}(e.mapValue):gh();var t}function cd(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ud(e){return!!e&&"integerValue"in e}function ld(e){return!!e&&"arrayValue"in e}function hd(e){return!!e&&"nullValue"in e}function dd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fd(e){return!!e&&"mapValue"in e}function pd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Mh(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=pd(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=pd(e.arrayValue.values[n]);return t}return Object.assign({},e)}class gd{constructor(e){this.value=e}static empty(){return new gd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!fd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pd(t)}setAll(e){let t=qh.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=pd(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());fd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];fd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Mh(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new gd(pd(this.value))}}function md(e){const t=[];return Mh(e.fields,(e,n)=>{const r=new qh([e]);if(fd(n)){const e=md(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new jh(t)}class yd{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new yd(e,0,Rh.min(),gd.empty(),0)}static newFoundDocument(e,t,n){return new yd(e,1,t,n,0)}static newNoDocument(e,t){return new yd(e,2,t,gd.empty(),0)}static newUnknownDocument(e,t){return new yd(e,3,t,gd.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new yd(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vd{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function wd(e,t=null,n=[],r=[],i=null,s=null,o=null){return new vd(e,t,n,r,i,s,o)}function bd(e){const t=yh(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+od(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),Yh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Dd(t.startAt)),t.endAt&&(e+="|ub:",e+=Dd(t.endAt)),t.A=e}return t.A}function _d(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Ld(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!nd(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fd(e.startAt,t.startAt)&&Fd(e.endAt,t.endAt)}function Td(e){return ed.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Id extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new Sd(e,t,n):"array-contains"===t?new Ad(e,n):"in"===t?new xd(e,n):"not-in"===t?new Od(e,n):"array-contains-any"===t?new Nd(e,n):new Id(e,t,n)}static R(e,t,n){return"in"===t?new Cd(e,n):new Ed(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(id(t,this.value)):null!==t&&td(this.value)===td(t)&&this.P(id(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gh()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Sd extends Id{constructor(e,t,n){super(e,t,n),this.key=ed.fromName(n.referenceValue)}matches(e){const t=ed.comparator(e.key,this.key);return this.P(t)}}class Cd extends Id{constructor(e,t){super(e,"in",t),this.keys=kd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ed extends Id{constructor(e,t){super(e,"not-in",t),this.keys=kd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ed.fromName(e.referenceValue))}class Ad extends Id{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ld(t)&&rd(t.arrayValue,this.value)}}class xd extends Id{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rd(this.value.arrayValue,t)}}class Od extends Id{constructor(e,t){super(e,"not-in",t)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rd(this.value.arrayValue,t)}}class Nd extends Id{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ld(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>rd(this.value.arrayValue,e))}}class Pd{constructor(e,t){this.position=e,this.before=t}}function Dd(e){return`${e.before?"b":"a"}:${e.position.map(e=>od(e)).join(",")}`}class Rd{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ld(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Md(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?ed.comparator(ed.fromName(o.referenceValue),n.key):id(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Fd(e,t){if(null===e)return null===t;if(null===t||e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!nd(e.position[n],t.position[n]))return!1;return!0}class Ud{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function Vd(e,t,n,r,i,s,o,a){return new Ud(e,t,n,r,i,s,o,a)}function Zd(e){return new Ud(e)}function qd(e){return!Yh(e.limit)&&"F"===e.limitType}function jd(e){return!Yh(e.limit)&&"L"===e.limitType}function zd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Bd(e){for(const t of e.filters)if(t.v())return t.field;return null}function Hd(e){return null!==e.collectionGroup}function $d(e){const t=yh(e);if(null===t.V){t.V=[];const e=Bd(t),n=zd(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new Rd(e)),t.V.push(new Rd(qh.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Rd(qh.keyField(),e))}}}return t.V}function Gd(e){const t=yh(e);if(!t.S)if("F"===t.limitType)t.S=wd(t.path,t.collectionGroup,$d(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of $d(t))e.push(new Rd(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Pd(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Pd(t.startAt.position,!t.startAt.before):null;t.S=wd(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function Kd(e,t,n){return new Ud(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Wd(e,t){return _d(Gd(e),Gd(t))&&e.limitType===t.limitType}function Jd(e){return`${bd(Gd(e))}|lt:${e.limitType}`}function Yd(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${od(t.value)}`;var t}).join(", ")}]`),Yh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: "+Dd(e.startAt)),e.endAt&&(t+=", endAt: "+Dd(e.endAt)),`Target(${t})`}(Gd(e))}; limitType=${e.limitType})`}function Qd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ed.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!Md(n.startAt,$d(n),r)||n.endAt&&Md(n.endAt,$d(n),r)));var n,r}function Xd(e){return(t,n)=>{let r=!1;for(const i of $d(e)){const e=ef(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ef(e,t,n){const r=e.field.isKeyField()?ed.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?id(r,i):gh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gh()}}function tf(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(t)?"-0":t}}function nf(e){return{integerValue:""+e}}function rf(e,t){return Xh(t)?nf(t):tf(e,t)}class sf{constructor(){this._=void 0}}function of(e,t,n){return e instanceof uf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof lf?hf(e,t):e instanceof df?ff(e,t):function(e,t){const n=cf(e,t),r=gf(n)+gf(e.C);return ud(n)&&ud(e.C)?nf(r):tf(e.N,r)}(e,t)}function af(e,t,n){return e instanceof lf?hf(e,t):e instanceof df?ff(e,t):n}function cf(e,t){return e instanceof pf?ud(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}class uf extends sf{}class lf extends sf{constructor(e){super(),this.elements=e}}function hf(e,t){const n=mf(t);for(const r of e.elements)n.some(e=>nd(e,r))||n.push(r);return{arrayValue:{values:n}}}class df extends sf{constructor(e){super(),this.elements=e}}function ff(e,t){let n=mf(t);for(const r of e.elements)n=n.filter(e=>!nd(e,r));return{arrayValue:{values:n}}}class pf extends sf{constructor(e,t){super(),this.N=e,this.C=t}}function gf(e){return $h(e.integerValue||e.doubleValue)}function mf(e){return ld(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class yf{constructor(e,t){this.field=e,this.transform=t}}class vf{constructor(e,t){this.version=e,this.transformResults=t}}class wf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wf}static exists(e){return new wf(void 0,e)}static updateTime(e){return new wf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class _f{}function Tf(e,t,n){e instanceof kf?function(e,t,n){const r=e.value.clone(),i=Of(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Af?function(e,t,n){if(!bf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Of(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(xf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}function If(e,t,n){var r;e instanceof kf?function(e,t,n){if(!bf(e.precondition,t))return;const r=e.value.clone(),i=Nf(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ef(t),r).setHasLocalMutations()}(e,t,n):e instanceof Af?function(e,t,n){if(!bf(e.precondition,t))return;const r=Nf(e.fieldTransforms,n,t),i=t.data;i.setAll(xf(e)),i.setAll(r),t.convertToFoundDocument(Ef(t),i).setHasLocalMutations()}(e,t,n):bf(e.precondition,r=t)&&r.convertToNoDocument(Rh.min())}function Sf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=cf(r.transform,e||null);null!=i&&(null==n&&(n=gd.empty()),n.set(r.field,i))}return n||null}function Cf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(n=e.fieldTransforms)&&void 0===r||n&&r&&Nh(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(r=t.transform,(n=e.transform)instanceof lf&&r instanceof lf||n instanceof df&&r instanceof df?Nh(n.elements,r.elements,nd):n instanceof pf&&r instanceof pf?nd(n.C,r.C):n instanceof uf&&r instanceof uf);var n,r}(e,t))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function Ef(e){return e.isFoundDocument()?e.version:Rh.min()}class kf extends _f{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Af extends _f{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function xf(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Of(e,t,n){const r=new Map;mh(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,af(o,a,n[i]))}return r}function Nf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,of(e,s,t))}return r}class Pf extends _f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Df extends _f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Rf{constructor(e){this.count=e}}var Lf,Mf;function Ff(e){switch(e){default:return gh();case vh.CANCELLED:case vh.UNKNOWN:case vh.DEADLINE_EXCEEDED:case vh.RESOURCE_EXHAUSTED:case vh.INTERNAL:case vh.UNAVAILABLE:case vh.UNAUTHENTICATED:return!1;case vh.INVALID_ARGUMENT:case vh.NOT_FOUND:case vh.ALREADY_EXISTS:case vh.PERMISSION_DENIED:case vh.FAILED_PRECONDITION:case vh.ABORTED:case vh.OUT_OF_RANGE:case vh.UNIMPLEMENTED:case vh.DATA_LOSS:return!0}}function Uf(e){if(void 0===e)return dh("GRPC error has no .code"),vh.UNKNOWN;switch(e){case Lf.OK:return vh.OK;case Lf.CANCELLED:return vh.CANCELLED;case Lf.UNKNOWN:return vh.UNKNOWN;case Lf.DEADLINE_EXCEEDED:return vh.DEADLINE_EXCEEDED;case Lf.RESOURCE_EXHAUSTED:return vh.RESOURCE_EXHAUSTED;case Lf.INTERNAL:return vh.INTERNAL;case Lf.UNAVAILABLE:return vh.UNAVAILABLE;case Lf.UNAUTHENTICATED:return vh.UNAUTHENTICATED;case Lf.INVALID_ARGUMENT:return vh.INVALID_ARGUMENT;case Lf.NOT_FOUND:return vh.NOT_FOUND;case Lf.ALREADY_EXISTS:return vh.ALREADY_EXISTS;case Lf.PERMISSION_DENIED:return vh.PERMISSION_DENIED;case Lf.FAILED_PRECONDITION:return vh.FAILED_PRECONDITION;case Lf.ABORTED:return vh.ABORTED;case Lf.OUT_OF_RANGE:return vh.OUT_OF_RANGE;case Lf.UNIMPLEMENTED:return vh.UNIMPLEMENTED;case Lf.DATA_LOSS:return vh.DATA_LOSS;default:return gh()}}(Mf=Lf||(Lf={}))[Mf.OK=0]="OK",Mf[Mf.CANCELLED=1]="CANCELLED",Mf[Mf.UNKNOWN=2]="UNKNOWN",Mf[Mf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mf[Mf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mf[Mf.NOT_FOUND=5]="NOT_FOUND",Mf[Mf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mf[Mf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mf[Mf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mf[Mf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mf[Mf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mf[Mf.ABORTED=10]="ABORTED",Mf[Mf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mf[Mf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mf[Mf.INTERNAL=13]="INTERNAL",Mf[Mf.UNAVAILABLE=14]="UNAVAILABLE",Mf[Mf.DATA_LOSS=15]="DATA_LOSS";class Vf{constructor(e,t){this.comparator=e,this.root=t||qf.EMPTY}insert(e,t){return new Vf(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qf.BLACK,null,null))}remove(e){return new Vf(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qf.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zf(this.root,e,this.comparator,!0)}}class Zf{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qf{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:qf.RED,this.left=null!=r?r:qf.EMPTY,this.right=null!=i?i:qf.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new qf(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qf.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return qf.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qf.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qf.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gh();const e=this.left.check();if(e!==this.right.check())throw gh();return e+(this.isRed()?0:1)}}qf.EMPTY=null,qf.RED=!0,qf.BLACK=!1,qf.EMPTY=new class{constructor(){this.size=0}get key(){throw gh()}get value(){throw gh()}get color(){throw gh()}get left(){throw gh()}get right(){throw gh()}copy(e,t,n,r,i){return this}insert(e,t,n){return new qf(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jf{constructor(e){this.comparator=e,this.data=new Vf(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zf(this.data.getIterator())}getIteratorFrom(e){return new zf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof jf)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jf(this.comparator);return t.data=e,t}}class zf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Bf=new Vf(ed.comparator);function Hf(){return Bf}const $f=new Vf(ed.comparator);function Gf(){return $f}const Kf=new Vf(ed.comparator);function Wf(){return Kf}const Jf=new jf(ed.comparator);function Yf(...e){let t=Jf;for(const n of e)t=t.add(n);return t}const Qf=new jf(Oh);function Xf(){return Qf}class ep{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,tp.createSynthesizedTargetChangeForCurrentChange(e,t)),new ep(Rh.min(),n,Xf(),Hf(),Yf())}}class tp{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new tp(zh.EMPTY_BYTE_STRING,t,Yf(),Yf(),Yf())}}class np{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class rp{constructor(e,t){this.targetId=e,this.O=t}}class ip{constructor(e,t,n=zh.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class sp{constructor(){this.F=0,this.M=cp(),this.L=zh.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Yf(),t=Yf(),n=Yf();return this.M.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gh()}}),new tp(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=cp()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class op{constructor(e){this.tt=e,this.et=new Map,this.nt=Hf(),this.st=ap(),this.it=new jf(Oh)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:gh()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((e,n)=>{this.ht(n)&&t(n)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(Td(e))if(0===n){const n=new ed(e.path);this.at(t,n,yd.newNoDocument(n,Rh.min()))}else mh(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&Td(i.target)){const t=new ed(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,yd.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}});let n=Yf();this.st.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new ep(e,t,this.it,this.nt,n);return this.nt=Hf(),this.st=ap(),this.it=new jf(Oh),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new sp,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new jf(Oh),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||hh("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new sp),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function ap(){return new Vf(ed.comparator)}function cp(){return new Vf(ed.comparator)}const up={asc:"ASCENDING",desc:"DESCENDING"},lp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class hp{constructor(e,t){this.databaseId=e,this.D=t}}function dp(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fp(e,t){return e.D?t.toBase64():t.toUint8Array()}function pp(e,t){return dp(e,t.toTimestamp())}function gp(e){return mh(!!e),Rh.fromTimestamp(function(e){const t=Hh(e);return new Dh(t.seconds,t.nanos)}(e))}function mp(e,t){return(n=e,new Vh(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function yp(e){const t=Vh.fromString(e);return mh(qp(t)),t}function vp(e,t){return mp(e.databaseId,t.path)}function wp(e,t){const n=yp(t);if(n.get(1)!==e.databaseId.projectId)throw new wh(vh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new wh(vh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ed(Ip(n))}function bp(e,t){return mp(e.databaseId,t)}function _p(e){const t=yp(e);return 4===t.length?Vh.emptyPath():Ip(t)}function Tp(e){return new Vh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ip(e){return mh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Sp(e,t,n){return{name:vp(e,t),fields:n.value.mapValue.fields}}function Cp(e,t,n){const r=wp(e,t.name),i=gp(t.updateTime),s=new gd({mapValue:{fields:t.fields}}),o=yd.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Ep(e,t){let n;if(t instanceof kf)n={update:Sp(e,t.key,t.value)};else if(t instanceof Pf)n={delete:vp(e,t.key)};else if(t instanceof Af)n={update:Sp(e,t.key,t.data),updateMask:Zp(t.fieldMask)};else{if(!(t instanceof Df))return gh();n={verify:vp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof uf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof df)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pf)return{fieldPath:t.field.canonicalString(),increment:n.C};throw gh()}(0,e))),t.precondition.isNone||(n.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:pp(e,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:gh()),n;var r}function kp(e,t){const n=t.currentDocument?void 0!==(i=t.currentDocument).updateTime?wf.updateTime(gp(i.updateTime)):void 0!==i.exists?wf.exists(i.exists):wf.none():wf.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(mh("REQUEST_TIME"===t.setToServerValue),n=new uf):"appendMissingElements"in t?n=new lf(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new df(t.removeAllFromArray.values||[]):"increment"in t?n=new pf(e,t.increment):gh();const r=qh.fromServerFormat(t.fieldPath);return new yf(r,n)}(e,t)):[];var i;if(t.update){const i=wp(e,t.update.name),s=new gd({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=new jh((t.updateMask.fieldPaths||[]).map(e=>qh.fromServerFormat(e)));return new Af(i,s,e,n,r)}return new kf(i,s,n,r)}if(t.delete){const r=wp(e,t.delete);return new Pf(r,n)}if(t.verify){const r=wp(e,t.verify);return new Df(r,n)}return gh()}function Ap(e,t){return{documents:[bp(e,t.path)]}}function xp(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=bp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=bp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(dd(e.value))return{unaryFilter:{field:Mp(e.field),op:"IS_NAN"}};if(hd(e.value))return{unaryFilter:{field:Mp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dd(e.value))return{unaryFilter:{field:Mp(e.field),op:"IS_NOT_NAN"}};if(hd(e.value))return{unaryFilter:{field:Mp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mp(e.field),op:Lp(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>{return{field:Mp((t=e).field),direction:Rp(t.dir)};var t})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(a=t.limit,e.D||Yh(a)?a:{value:a});var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Pp(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Pp(t.endAt)),n}function Op(e){let t=_p(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mh(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Np(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>{return new Rd(Fp((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Yh(t)?null:t}(n.limit));let c=null;n.startAt&&(c=Dp(n.startAt));let u=null;return n.endAt&&(u=Dp(n.endAt)),Vd(t,i,o,s,a,"F",c,u)}function Np(e){return e?void 0!==e.unaryFilter?[Vp(e)]:void 0!==e.fieldFilter?[Up(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>Np(e)).reduce((e,t)=>e.concat(t)):gh():[]}function Pp(e){return{before:e.before,values:e.position}}function Dp(e){return new Pd(e.values||[],!!e.before)}function Rp(e){return up[e]}function Lp(e){return lp[e]}function Mp(e){return{fieldPath:e.canonicalString()}}function Fp(e){return qh.fromServerFormat(e.fieldPath)}function Up(e){return Id.create(Fp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gh()}}(e.fieldFilter.op),e.fieldFilter.value)}function Vp(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Fp(e.unaryFilter.field);return Id.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Fp(e.unaryFilter.field);return Id.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Fp(e.unaryFilter.field);return Id.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Fp(e.unaryFilter.field);return Id.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gh()}}function Zp(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function qp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function jp(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Bp(t)),t=zp(e.get(n),t);return Bp(t)}function zp(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Bp(e){return e+"\x01\x01"}function Hp(e){const t=e.length;if(mh(t>=2),2===t)return mh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Vh.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&gh(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:gh()}s=t+2}return new Vh(r)}class $p{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Gp{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}Gp.store="owner",Gp.key="owner";class Kp{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Kp.store="mutationQueues",Kp.keyPath="userId";class Wp{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Wp.store="mutations",Wp.keyPath="batchId",Wp.userMutationsIndex="userMutationsIndex",Wp.userMutationsKeyPath=["userId","batchId"];class Jp{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,jp(t)]}static key(e,t,n){return[e,jp(t),n]}}Jp.store="documentMutations",Jp.PLACEHOLDER=new Jp;class Yp{constructor(e,t){this.path=e,this.readTime=t}}class Qp{constructor(e,t){this.path=e,this.version=t}}class Xp{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Xp.store="remoteDocuments",Xp.readTimeIndex="readTimeIndex",Xp.readTimeIndexPath="readTime",Xp.collectionReadTimeIndex="collectionReadTimeIndex",Xp.collectionReadTimeIndexPath=["parentPath","readTime"];class eg{constructor(e){this.byteSize=e}}eg.store="remoteDocumentGlobal",eg.key="remoteDocumentGlobalKey";class tg{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}tg.store="targets",tg.keyPath="targetId",tg.queryTargetsIndexName="queryTargetsIndex",tg.queryTargetsKeyPath=["canonicalId","targetId"];class ng{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}ng.store="targetDocuments",ng.keyPath=["targetId","path"],ng.documentTargetsIndex="documentTargetsIndex",ng.documentTargetsKeyPath=["path","targetId"];class rg{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}rg.key="targetGlobalKey",rg.store="targetGlobal";class ig{constructor(e,t){this.collectionId=e,this.parent=t}}ig.store="collectionParents",ig.keyPath=["collectionId","parent"];class sg{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}sg.store="clientMetadata",sg.keyPath="clientId";class og{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}og.store="bundles",og.keyPath="bundleId";class ag{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}ag.store="namedQueries",ag.keyPath="name";const cg=[Kp.store,Wp.store,Jp.store,Xp.store,tg.store,Gp.store,rg.store,ng.store,sg.store,eg.store,ig.store,og.store,ag.store],ug="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class hg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new hg((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof hg?t:hg.resolve(t)}catch(t){return hg.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):hg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):hg.reject(t)}static resolve(e){return new hg((t,n)=>{t(e)})}static reject(e){return new hg((t,n)=>{n(e)})}static waitFor(e){return new hg((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=hg.resolve(!1);for(const n of e)t=t.next(e=>e?hg.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class dg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new bh,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new gg(e,t.error)):this.Et.resolve()},this.transaction.onerror=t=>{const n=bg(t.target.error);this.Et.reject(new gg(e,n))}}static open(e,t,n,r){try{return new dg(t,e.transaction(r,n))}catch(i){throw new gg(t,i)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(hh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new yg(t)}}class fg{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===fg.Rt((0,Qo.z$)())&&dh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return hh("SimpleDb","Removing database:",e),vg(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Qo.hl)())return!1;if(fg.Pt())return!0;const e=(0,Qo.z$)(),t=fg.Rt(e),n=0<t&&t<10,r=fg.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(e){var t=this;return(0,Ko.Z)(function*(){return t.db||(hh("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new gg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new wh(vh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new wh(vh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new gg(e,n))},i.onupgradeneeded=e=>{hh("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.At.Ct(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{hh("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=e=>t.Nt(e)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,Ko.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.Dt(e);const t=dg.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).catch(e=>(t.abort(e),hg.reject(e))).toPromise();return o.catch(()=>{}),yield t.It,o}catch(a){const e="FirebaseError"!==a.name&&o<3;if(hh("SimpleDb","Transaction failed with error:",a.message,"Retrying:",e),i.close(),!e)return Promise.reject(a)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pg{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return vg(this.kt.delete())}}class gg extends wh{constructor(e,t){super(vh.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function mg(e){return"IndexedDbTransactionError"===e.name}class yg{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(hh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(hh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),vg(n)}add(e){return hh("SimpleDb","ADD",this.store.name,e,e),vg(this.store.add(e))}get(e){return vg(this.store.get(e)).next(t=>(void 0===t&&(t=null),hh("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return hh("SimpleDb","DELETE",this.store.name,e),vg(this.store.delete(e))}count(){return hh("SimpleDb","COUNT",this.store.name),vg(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){hh("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new hg((n,r)=>{t.onerror=e=>{const t=bg(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Bt(e,t){const n=[];return new hg((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new pg(i),o=t(i.primaryKey,i.value,s);if(o instanceof hg){const e=o.catch(e=>(s.done(),hg.reject(e)));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>hg.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vg(e){return new hg((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=bg(e.target.error);n(t)}})}let wg=!1;function bg(e){const t=fg.Rt((0,Qo.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new wh("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wg||(wg=!0,setTimeout(()=>{throw e},0)),e}}return e}class _g extends lg{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Tg(e,t){const n=yh(e);return fg.St(n.Qt,t)}class Ig{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Tf(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&If(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&If(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Rh.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yf())}isEqual(e){return this.batchId===e.batchId&&Nh(this.mutations,e.mutations,(e,t)=>Cf(e,t))&&Nh(this.baseMutations,e.baseMutations,(e,t)=>Cf(e,t))}}class Sg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){mh(e.mutations.length===n.length);let r=Wf();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Sg(e,t,n,r)}}class Cg{constructor(e,t,n,r,i=Rh.min(),s=Rh.min(),o=zh.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Cg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Cg(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Cg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Eg{constructor(e){this.Wt=e}}function kg(e,t){if(t.document)return Cp(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=ed.fromSegments(t.noDocument.path),n=Pg(t.noDocument.readTime),r=yd.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=ed.fromSegments(t.unknownDocument.path),n=Pg(t.unknownDocument.version);return yd.newUnknownDocument(e,n)}return gh()}function Ag(e,t,n){const r=xg(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n={name:vp(s=e.Wt,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:dp(s,o.version.toTimestamp())};return new Xp(null,null,n,t.hasCommittedMutations,r,i)}var s,o;if(t.isNoDocument()){const e=t.key.path.toArray(),n=Ng(t.version),s=t.hasCommittedMutations;return new Xp(null,new Yp(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Ng(t.version);return new Xp(new Qp(e,n),null,null,!0,r,i)}return gh()}function xg(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Og(e){const t=new Dh(e[0],e[1]);return Rh.fromTimestamp(t)}function Ng(e){const t=e.toTimestamp();return new $p(t.seconds,t.nanoseconds)}function Pg(e){const t=new Dh(e.seconds,e.nanoseconds);return Rh.fromTimestamp(t)}function Dg(e,t){const n=(t.baseMutations||[]).map(t=>kp(e.Wt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>kp(e.Wt,t)),i=Dh.fromMillis(t.localWriteTimeMs);return new Ig(t.batchId,i,n,r)}function Rg(e){const t=Pg(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Pg(e.lastLimboFreeSnapshotVersion):Rh.min();let r;var i;return void 0!==e.query.documents?(mh(1===(i=e.query).documents.length),r=Gd(Zd(_p(i.documents[0])))):r=Gd(Op(e.query)),new Cg(r,e.targetId,0,e.lastListenSequenceNumber,t,n,zh.fromBase64String(e.resumeToken))}function Lg(e,t){const n=Ng(t.snapshotVersion),r=Ng(t.lastLimboFreeSnapshotVersion);let i;i=Td(t.target)?Ap(e.Wt,t.target):xp(e.Wt,t.target);const s=t.resumeToken.toBase64();return new tg(t.targetId,bd(t.target),n,s,t.sequenceNumber,r,i)}function Mg(e){const t=Op({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Kd(t,t.limit,"L"):t}class Fg{getBundleMetadata(e,t){return Ug(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:Pg(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Ug(e).put({bundleId:(n=t).id,createTime:Ng(gp(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Vg(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:Mg(t.bundledQuery),readTime:Pg(t.readTime)};var t})}saveNamedQuery(e,t){return Vg(e).put({name:(n=t).name,readTime:Ng(gp(n.readTime)),bundledQuery:n.bundledQuery});var n}}function Ug(e){return Tg(e,og.store)}function Vg(e){return Tg(e,ag.store)}class Zg{constructor(){this.Gt=new qg}addToCollectionParentIndex(e,t){return this.Gt.add(t),hg.resolve()}getCollectionParents(e,t){return hg.resolve(this.Gt.getEntries(t))}}class qg{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new jf(Vh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new jf(Vh.comparator)).toArray()}}class jg{constructor(){this.zt=new qg}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const i={collectionId:n,parent:jp(r)};return zg(e).put(i)}return hg.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Ph(t),""],!1,!0);return zg(e).Lt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Hp(r.parent))}return n})}}function zg(e){return Tg(e,ig.store)}const Bg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hg{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Hg(e,Hg.DEFAULT_COLLECTION_PERCENTILE,Hg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $g(e,t,n){const r=e.store(Wp.store),i=e.store(Jp.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Kt({range:o},(e,t,n)=>(a++,n.delete()));s.push(c.next(()=>{mh(1===a)}));const u=[];for(const l of n.mutations){const e=Jp.key(t,l.key.path,n.batchId);s.push(i.delete(e)),u.push(l.key)}return hg.waitFor(s).next(()=>u)}function Gg(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw gh();t=e.noDocument}return JSON.stringify(t).length}Hg.DEFAULT_COLLECTION_PERCENTILE=10,Hg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hg.DEFAULT=new Hg(41943040,Hg.DEFAULT_COLLECTION_PERCENTILE,Hg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hg.DISABLED=new Hg(-1,0,0);class Kg{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){mh(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Kg(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jg(e).Kt({index:Wp.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=Yg(e),s=Jg(e);return s.add({}).next(o=>{mh("number"==typeof o);const a=new Ig(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map(t=>Ep(e.Wt,t)),i=n.mutations.map(t=>Ep(e.Wt,t));return new Wp(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),u=[];let l=new jf((e,t)=>Oh(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Jp.key(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),u.push(s.put(c)),u.push(i.put(t,Jp.PLACEHOLDER))}return l.forEach(t=>{u.push(this.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),hg.waitFor(u).next(()=>a)})}lookupMutationBatch(e,t){return Jg(e).get(t).next(e=>e?(mh(e.userId===this.userId),Dg(this.N,e)):null)}Xt(e,t){return this.Jt[t]?hg.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Jg(e).Kt({index:Wp.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(mh(t.batchId>=n),i=Dg(this.N,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Jg(e).Kt({index:Wp.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jg(e).Lt(Wp.userMutationsIndex,t).next(e=>e.map(e=>Dg(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Jp.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Yg(e).Kt({range:r},(n,r,s)=>{const[o,a,c]=n,u=Hp(a);if(o===this.userId&&t.path.isEqual(u))return Jg(e).get(c).next(e=>{if(!e)throw gh();mh(e.userId===this.userId),i.push(Dg(this.N,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new jf(Oh);const r=[];return t.forEach(t=>{const i=Jp.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Yg(e).Kt({range:s},(e,r,i)=>{const[s,o,a]=e,c=Hp(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()});r.push(o)}),hg.waitFor(r).next(()=>this.Zt(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Jp.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new jf(Oh);return Yg(e).Kt({range:s},(e,t,i)=>{const[s,a,c]=e,u=Hp(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(c)):i.done()}).next(()=>this.Zt(e,o))}Zt(e,t){const n=[],r=[];return t.forEach(t=>{r.push(Jg(e).get(t).next(e=>{if(null===e)throw gh();mh(e.userId===this.userId),n.push(Dg(this.N,e))}))}),hg.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return $g(e.Qt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),hg.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return hg.resolve();const n=IDBKeyRange.lowerBound(Jp.prefixForUser(this.userId)),r=[];return Yg(e).Kt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Hp(e[1]);r.push(t)}else n.done()}).next(()=>{mh(0===r.length)})})}containsKey(e,t){return Wg(e,this.userId,t)}ee(e){return Qg(e).get(this.userId).next(e=>e||new Kp(this.userId,-1,""))}}function Wg(e,t,n){const r=Jp.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Yg(e).Kt({range:s,qt:!0},(e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function Jg(e){return Tg(e,Wp.store)}function Yg(e){return Tg(e,Jp.store)}function Qg(e){return Tg(e,Kp.store)}class Xg{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Xg(0)}static ie(){return new Xg(-1)}}class em{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const n=new Xg(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>Rh.fromTimestamp(new Dh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.re(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(n=>(n.targetCount+=1,this.ce(t,n),this.oe(e,n))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>tm(e).delete(t.targetId)).next(()=>this.re(e)).next(t=>(mh(t.targetCount>0),t.targetCount-=1,this.oe(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return tm(e).Kt((s,o)=>{const a=Rg(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>hg.waitFor(i)).next(()=>r)}forEachTarget(e,t){return tm(e).Kt((e,n)=>{const r=Rg(n);t(r)})}re(e){return nm(e).get(rg.key).next(e=>(mh(null!==e),e))}oe(e,t){return nm(e).put(rg.key,t)}ae(e,t){return tm(e).put(Lg(this.N,t))}ce(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,t){const n=bd(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return tm(e).Kt({range:r,index:tg.queryTargetsIndexName},(e,n,r)=>{const s=Rg(n);_d(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=rm(e);return t.forEach(t=>{const s=jp(t.path);r.push(i.put(new ng(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),hg.waitFor(r)}removeMatchingKeys(e,t,n){const r=rm(e);return hg.forEach(t,t=>{const i=jp(t.path);return hg.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=rm(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=rm(e);let i=Yf();return r.Kt({range:n,qt:!0},(e,t,n)=>{const r=Hp(e[1]),s=new ed(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=jp(t.path),r=IDBKeyRange.bound([n],[Ph(n)],!1,!0);let i=0;return rm(e).Kt({index:ng.documentTargetsIndex,qt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Tt(e,t){return tm(e).get(t).next(e=>e?Rg(e):null)}}function tm(e){return Tg(e,tg.store)}function nm(e){return Tg(e,rg.store)}function rm(e){return Tg(e,ng.store)}function im(e){return sm.apply(this,arguments)}function sm(){return(sm=(0,Ko.Z)(function*(e){if(e.code!==vh.FAILED_PRECONDITION||e.message!==ug)throw e;hh("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function om([e,t],[n,r]){const i=Oh(e,n);return 0===i?Oh(t,r):i}class am{constructor(e){this.ue=e,this.buffer=new jf(om),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();om(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cm{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const n=this.de?3e5:6e4;hh("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Ko.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(n){mg(n)?hh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield im(n)}yield t._e(e)}))}}class um{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return hg.resolve(kh.T);const n=new am(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(hh("LruGarbageCollector","Garbage collection skipped; disabled"),hg.resolve(Bg)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(hh("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bg):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(hh("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),lh()<=Yo.in.DEBUG&&hh("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+`ms\n\tRemoved ${i} targets in `+(a-o)+`ms\n\tRemoved ${e} documents in `+(c-a)+`ms\nTotal Duration: ${c-u}ms`),hg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class lm{constructor(e,t){this.db=e,this.garbageCollector=new um(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Te(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(e,n)=>t(n))}addReference(e,t,n){return hm(e,n)}removeReference(e,t,n){return hm(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return hm(e,t)}Ie(e,t){return function(e,t){let n=!1;return Qg(e).jt(r=>Wg(e,r,t).next(e=>(e&&(n=!0),hg.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ee(e,(s,o)=>{if(o<=t){const t=this.Ie(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),rm(e).delete([0,jp(s.path)])))});r.push(t)}}).next(()=>hg.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return hm(e,t)}Ee(e,t){const n=rm(e);let r,i=kh.T;return n.Kt({index:ng.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==kh.T&&t(new ed(Hp(r)),i),i=o,r=s):i=kh.T}).next(()=>{i!==kh.T&&t(new ed(Hp(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hm(e,t){return rm(e).put((n=e.currentSequenceNumber,new ng(0,jp(t.path),n)));var n}class dm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Mh(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Fh(this.inner)}}class fm{constructor(){this.changes=new dm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Rh.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:yd.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?hg.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pm{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return ym(e).put(vm(t),n)}removeEntry(e,t){const n=ym(e),r=vm(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Ae(e,n)))}getEntry(e,t){return ym(e).get(vm(t)).next(e=>this.Re(t,e))}be(e,t){return ym(e).get(vm(t)).next(e=>({document:this.Re(t,e),size:Gg(e)}))}getEntries(e,t){let n=Hf();return this.Pe(e,t,(e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)}).next(()=>n)}ve(e,t){let n=Hf(),r=new Vf(ed.comparator);return this.Pe(e,t,(e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,Gg(t))}).next(()=>({documents:n,Ve:r}))}Pe(e,t,n){if(t.isEmpty())return hg.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return ym(e).Kt({range:r},(e,t,r)=>{const o=ed.fromSegments(e);for(;s&&ed.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=Hf();const i=t.path.length+1,s={};if(n.isEqual(Rh.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=xg(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Xp.collectionReadTimeIndex}return ym(e).Kt(s,(e,n,s)=>{if(e.length!==i)return;const o=kg(this.N,n);t.path.isPrefixOf(o.key.path)?Qd(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new gm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return mm(e).get(eg.key).next(e=>(mh(!!e),e))}Ae(e,t){return mm(e).put(eg.key,t)}Re(e,t){if(t){const e=kg(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(Rh.min()))return e}return yd.newInvalidDocument(e)}}class gm extends fm{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new dm(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new jf((e,t)=>Oh(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=Ag(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast()),n+=Gg(a)-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=Ag(this.Se.N,yd.newNoDocument(i,Rh.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))}),r.forEach(n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))}),t.push(this.Se.updateMetadata(e,n)),hg.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:e,Ve:t})=>(t.forEach((e,t)=>{this.De.set(e,t)}),e))}}function mm(e){return Tg(e,eg.store)}function ym(e){return Tg(e,Xp.store)}function vm(e){return e.path.toArray()}class wm{constructor(e){this.N=e}Ct(e,t,n,r){mh(n<r&&n>=0&&r<=11);const i=new dg("createOrUpgrade",t);var s;n<1&&r>=1&&(e.createObjectStore(Gp.store),(s=e).createObjectStore(Kp.store,{keyPath:Kp.keyPath}),s.createObjectStore(Wp.store,{keyPath:Wp.keyPath,autoIncrement:!0}).createIndex(Wp.userMutationsIndex,Wp.userMutationsKeyPath,{unique:!0}),s.createObjectStore(Jp.store),bm(e),function(e){e.createObjectStore(Xp.store)}(e));let o=hg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(ng.store),e.deleteObjectStore(tg.store),e.deleteObjectStore(rg.store)}(e),bm(e)),o=o.next(()=>function(e){const t=e.store(rg.store),n=new rg(0,0,Rh.min().toTimestamp(),0);return t.put(rg.key,n)}(i))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>function(e,t){return t.store(Wp.store).Lt().next(n=>{e.deleteObjectStore(Wp.store),e.createObjectStore(Wp.store,{keyPath:Wp.keyPath,autoIncrement:!0}).createIndex(Wp.userMutationsIndex,Wp.userMutationsKeyPath,{unique:!0});const r=t.store(Wp.store),i=n.map(e=>r.put(e));return hg.waitFor(i)})}(e,i))),o=o.next(()=>{!function(e){e.createObjectStore(sg.store,{keyPath:sg.keyPath})}(e)})),n<5&&r>=5&&(o=o.next(()=>this.Ce(i))),n<6&&r>=6&&(o=o.next(()=>(function(e){e.createObjectStore(eg.store)}(e),this.Ne(i)))),n<7&&r>=7&&(o=o.next(()=>this.xe(i))),n<8&&r>=8&&(o=o.next(()=>this.ke(e,i))),n<9&&r>=9&&(o=o.next(()=>{(function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")})(e),function(e){const t=e.objectStore(Xp.store);t.createIndex(Xp.readTimeIndex,Xp.readTimeIndexPath,{unique:!1}),t.createIndex(Xp.collectionReadTimeIndex,Xp.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(o=o.next(()=>this.$e(i))),n<11&&r>=11&&(o=o.next(()=>{(function(e){e.createObjectStore(og.store,{keyPath:og.keyPath})})(e),function(e){e.createObjectStore(ag.store,{keyPath:ag.keyPath})}(e)})),o}Ne(e){let t=0;return e.store(Xp.store).Kt((e,n)=>{t+=Gg(n)}).next(()=>{const n=new eg(t);return e.store(eg.store).put(eg.key,n)})}Ce(e){const t=e.store(Kp.store),n=e.store(Wp.store);return t.Lt().next(t=>hg.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(Wp.userMutationsIndex,r).next(n=>hg.forEach(n,n=>{mh(n.userId===t.userId);const r=Dg(this.N,n);return $g(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(ng.store),n=e.store(Xp.store);return e.store(rg.store).get(rg.key).next(e=>{const r=[];return n.Kt((n,i)=>{const s=new Vh(n),o=[0,jp(s)];r.push(t.get(o).next(n=>n?hg.resolve():t.put(new ng(0,jp(s),e.highestListenSequenceNumber))))}).next(()=>hg.waitFor(r))})}ke(e,t){e.createObjectStore(ig.store,{keyPath:ig.keyPath});const n=t.store(ig.store),r=new qg,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:jp(r)})}};return t.store(Xp.store).Kt({qt:!0},(e,t)=>{const n=new Vh(e);return i(n.popLast())}).next(()=>t.store(Jp.store).Kt({qt:!0},([e,t,n],r)=>{const s=Hp(t);return i(s.popLast())}))}$e(e){const t=e.store(tg.store);return t.Kt((e,n)=>{const r=Rg(n),i=Lg(this.N,r);return t.put(i)})}}function bm(e){e.createObjectStore(ng.store,{keyPath:ng.keyPath}).createIndex(ng.documentTargetsIndex,ng.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(tg.store,{keyPath:tg.keyPath}).createIndex(tg.queryTargetsIndexName,tg.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(rg.store)}const _m="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Tm{constructor(e,t,n,r,i,s,o,a,c,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=c,this.Me=u,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!Tm.bt())throw new wh(vh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lm(this,r),this.We=t+"main",this.N=new Eg(a),this.Ge=new fg(this.We,11,new wm(this.N)),this.ze=new em(this.referenceDelegate,this.N),this.Ht=new jg,this.He=new pm(this.N,this.Ht),this.Je=new Fg,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===u&&dh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new wh(vh.FAILED_PRECONDITION,_m);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new kh(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var n=(0,Ko.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,Ko.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Ko.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sm(e).put(new sg(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(mg(e))return hh("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return hh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Im(e).get(Gp.key).next(e=>hg.resolve(this.cn(e)))}un(e){return Sm(e).delete(this.clientId)}hn(){var e=this;return(0,Ko.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=Tg(t,sg.store);return n.Lt().next(t=>{const r=e.fn(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return hg.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.Ye)for(const n of t)e.Ye.removeItem(e.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?hg.resolve(!0):Im(e).get(Gp.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new wh(vh.FAILED_PRECONDITION,_m);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sm(e).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&hh("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,Ko.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Gp.store,sg.store],t=>{const n=new _g(t,kh.T);return e.on(n).next(()=>e.un(n))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Sm(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return Kg.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){let r;return hh("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",cg,i=>(r=new _g(i,this.Le?this.Le.next():kh.T),"readwrite-primary"===t?this.sn(r).next(e=>!!e||this.rn(r)).next(t=>{if(!t)throw dh(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new wh(vh.FAILED_PRECONDITION,ug);return n(r)}).next(e=>this.an(r).next(()=>e)):this.Tn(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}Tn(e){return Im(e).get(Gp.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new wh(vh.FAILED_PRECONDITION,_m)})}an(e){const t=new Gp(this.clientId,this.allowTabSynchronization,Date.now());return Im(e).put(Gp.key,t)}static bt(){return fg.bt()}on(e){const t=Im(e);return t.get(Gp.key).next(e=>this.cn(e)?(hh("IndexedDbPersistence","Releasing primary lease."),t.delete(Gp.key)):hg.resolve())}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(dh(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Qo.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return hh("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return dh("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){dh("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Im(e){return Tg(e,Gp.store)}function Sm(e){return Tg(e,sg.store)}function Cm(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Em{constructor(e,t){this.progress=e,this.En=t}}class km{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Rn(e,t,n))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}Pn(e,t){return this.He.getEntries(e,t).next(t=>this.vn(e,t).next(()=>t))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return ed.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Vn(e,t.path):Hd(t)?this.Sn(e,t,n):this.Dn(e,t,n);var r}Vn(e,t){return this.An(e,new ed(t)).next(e=>{let t=Gf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(e,t,n){const r=t.collectionGroup;let i=Gf();return this.Ht.getCollectionParents(e,r).next(s=>hg.forEach(s,s=>{const o=(a=t,c=s.child(r),new Ud(c,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));var a,c;return this.Dn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Cn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=yd.newInvalidDocument(n),r=r.insert(n,i)),If(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{Qd(t,n)||(r=r.remove(e))}),r))}Cn(e,t,n){let r=Yf();for(const s of t)for(const e of s.mutations)e instanceof Af&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class Am{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=Yf(),r=Yf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Am(e,t.fromCache,n,r)}}class xm{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Rh.min())?this.Fn(e,t):this.On.Pn(e,r).next(i=>{const s=this.Mn(t,i);return(qd(t)||jd(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(lh()<=Yo.in.DEBUG&&hh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Yd(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))});var i}Mn(e,t){let n=new jf(Xd(e));return t.forEach((t,r)=>{Qd(e,r)&&(n=n.add(r))}),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return lh()<=Yo.in.DEBUG&&hh("QueryEngine","Using full collection scan to execute query:",Yd(t)),this.On.getDocumentsMatchingQuery(e,t,Rh.min())}}class Om{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new Vf(Oh),this.qn=new dm(e=>bd(e),_d),this.Kn=Rh.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new km(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function Nm(e,t,n,r){return new Om(e,t,n,r)}function Pm(e,t){return Dm.apply(this,arguments)}function Dm(){return(Dm=(0,Ko.Z)(function*(e,t){const n=yh(e);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.In.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new km(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=Yf();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.Pn(e,o).next(e=>({Wn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function Rm(e,t){const n=yh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=hg.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);mh(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.In.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}function Lm(e){const t=yh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function Mm(e,t){const n=yh(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.ze.addMatchingKeys(e,t.addedDocuments,s)));const c=t.resumeToken;if(c.approximateByteSize()>0){const d=a.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,d),u=a,h=t,mh((l=d).resumeToken.approximateByteSize()>0),(0===u.resumeToken.approximateByteSize()||l.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size>0)&&o.push(n.ze.updateTargetData(e,d))}var u,l,h});let a=Hf();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Fm(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(Rh.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next(t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return hg.waitFor(o).next(()=>s.apply(e)).next(()=>n.Qn.vn(e,a)).next(()=>a)}).then(e=>(n.Un=i,e))}function Fm(e,t,n,r,i){let s=Yf();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=Hf();return n.forEach((n,o)=>{const a=e.get(n),c=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Rh.min())?(t.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,c),s=s.insert(n,o)):hh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Um(e,t){const n=yh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}function Vm(e,t){const n=yh(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.ze.getTargetData(e,t).next(i=>i?(r=i,hg.resolve(r)):n.ze.allocateTargetId(e).next(i=>(r=new Cg(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}function Zm(e,t,n){return qm.apply(this,arguments)}function qm(){return(qm=(0,Ko.Z)(function*(e,t,n){const r=yh(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(o){if(!mg(o))throw o;hh("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)})).apply(this,arguments)}function jm(e,t,n){const r=yh(e);let i=Rh.min(),s=Yf();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=yh(e),i=r.qn.get(n);return void 0!==i?hg.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,Gd(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:Rh.min(),n?s:Yf())).next(e=>({documents:e,Gn:s})))}function zm(e,t){const n=yh(e),r=yh(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Tt(e,t).next(e=>e?e.target:null))}function Bm(e){const t=yh(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=yh(e);let i=Hf(),s=xg(n);const o=ym(t),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:Xp.readTimeIndex,range:a},(e,t)=>{const n=kg(r.N,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({En:i,readTime:Og(s)}))}(t.jn,e,t.Kn)).then(({En:e,readTime:n})=>(t.Kn=n,e))}function Hm(){return(Hm=(0,Ko.Z)(function*(e){const t=yh(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=ym(e);let n=Rh.min();return t.Kt({index:Xp.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=Og(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function $m(){return($m=(0,Ko.Z)(function*(e,t,n,r){const i=yh(e);let s=Yf(),o=Hf(),a=Wf();for(const h of n){const e=t.zn(h.metadata.name);h.document&&(s=s.add(e)),o=o.insert(e,t.Hn(h)),a=a.insert(e,t.Jn(h.metadata.readTime))}const c=i.jn.newChangeBuffer({trackRemovals:!0}),u=yield Vm(i,(l=r,Gd(Zd(Vh.fromString(`__bundle__/docs/${l}`)))));var l;return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>Fm(e,c,o,Rh.min(),a).next(t=>(c.apply(e),t)).next(t=>i.ze.removeMatchingKeysForTargetId(e,u.targetId).next(()=>i.ze.addMatchingKeys(e,s,u.targetId)).next(()=>i.Qn.vn(e,t)).next(()=>t)))})).apply(this,arguments)}function Gm(e,t){return Km.apply(this,arguments)}function Km(){return(Km=(0,Ko.Z)(function*(e,t,n=Yf()){const r=yield Vm(e,Gd(Mg(t.bundledQuery))),i=yh(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=gp(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(e,t);const o=r.withResumeToken(zh.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next(()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.ze.addMatchingKeys(e,n,r.targetId)).next(()=>i.Je.saveNamedQuery(e,t))})})).apply(this,arguments)}class Wm{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return hg.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:gp(n.createTime)}),hg.resolve()}getNamedQuery(e,t){return hg.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(n=t).name,query:Mg(n.bundledQuery),readTime:gp(n.readTime)}),hg.resolve();var n}}class Jm{constructor(){this.Zn=new jf(Ym.ts),this.es=new jf(Ym.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new Ym(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new Ym(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new ed(new Vh([])),n=new Ym(t,e),r=new Ym(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new ed(new Vh([])),n=new Ym(t,e),r=new Ym(t,e+1);let i=Yf();return this.es.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Ym(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ym{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return ed.comparator(e.key,t.key)||Oh(e.ls,t.ls)}static ns(e,t){return Oh(e.ls,t.ls)||ed.comparator(e.key,t.key)}}class Qm{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new jf(Ym.ts)}checkEmpty(e){return hg.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++;const s=new Ig(i,t,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new Ym(o.key,i)),this.Ht.addToCollectionParentIndex(e,o.key.path.popLast());return hg.resolve(s)}lookupMutationBatch(e,t){return hg.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=this._s(t+1),r=n<0?0:n;return hg.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return hg.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return hg.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ym(t,0),r=new Ym(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{const t=this.ws(e.ls);i.push(t)}),hg.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new jf(Oh);return t.forEach(e=>{const t=new Ym(e,0),r=new Ym(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),hg.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ed.isDocumentKey(i)||(i=i.child(""));const s=new Ym(new ed(i),0);let o=new jf(Oh);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},s),hg.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this.ws(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){mh(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return hg.forEach(t.mutations,r=>{const i=new Ym(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}te(e){}containsKey(e,t){const n=new Ym(t,0),r=this.ds.firstAfterOrEqual(n);return hg.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return hg.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class Xm{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Vf(ed.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return hg.resolve(n?n.document.clone():yd.newInvalidDocument(t))}getEntries(e,t){let n=Hf();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():yd.newInvalidDocument(e))}),hg.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=Hf();const i=new ed(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||Qd(t,i)&&(r=r.insert(i.key,i.clone()))}return hg.resolve(r)}Ts(e,t){return hg.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ey(this)}getSize(e){return hg.resolve(this.size)}}class ey extends fm{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),hg.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class ty{constructor(e){this.persistence=e,this.Es=new dm(e=>bd(e),_d),this.lastRemoteSnapshotVersion=Rh.min(),this.highestTargetId=0,this.Is=0,this.As=new Jm,this.targetCount=0,this.Rs=Xg.se()}forEachTarget(e,t){return this.Es.forEach((e,n)=>t(n)),hg.resolve()}getLastRemoteSnapshotVersion(e){return hg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return hg.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),hg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),hg.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Xg(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,hg.resolve()}updateTargetData(e,t){return this.ae(t),hg.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,hg.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Es.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Es.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),hg.waitFor(i).next(()=>r)}getTargetCount(e){return hg.resolve(this.targetCount)}getTargetData(e,t){const n=this.Es.get(t)||null;return hg.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),hg.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),hg.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),hg.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return hg.resolve(n)}containsKey(e,t){return hg.resolve(this.As.containsKey(t))}}class ny{constructor(e,t){this.bs={},this.Le=new kh(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new ty(this),this.Ht=new Zg,this.He=new Xm(this.Ht,e=>this.referenceDelegate.Ps(e)),this.N=new Eg(t),this.Je=new Wm(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new Qm(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){hh("MemoryPersistence","Starting transaction:",e);const r=new ry(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(e,t){return hg.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class ry extends lg{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Ds=new Jm,this.Cs=null}static Ns(e){return new iy(e)}get xs(){if(this.Cs)return this.Cs;throw gh()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),hg.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),hg.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),hg.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hg.forEach(this.xs,n=>{const r=ed.fromPath(n);return this.ks(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return hg.or([()=>hg.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function sy(e,t){return`firestore_clients_${e}_${t}`}function oy(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function ay(e,t){return`firestore_targets_${e}_${t}`}class cy{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new wh(r.error.code,r.error.message))),s?new cy(e,t,r.state,i):(dh("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uy{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new wh(n.error.code,n.error.message))),i?new uy(e,n.state,r):(dh("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ly{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Xf();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Xh(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new ly(e,i):(dh("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hy{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hy(t.clientId,t.onlineState):(dh("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dy{constructor(){this.activeTargetIds=Xf()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fy{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Vf(Oh),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=sy(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new dy),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ko.Z)(function*(){const t=yield e.syncEngine.pn();for(const r of t){if(r===e.Ls)continue;const t=e.getItem(sy(e.persistenceKey,r));if(t){const n=ly.$s(r,t);n&&(e.qs=e.qs.insert(n.clientId,n))}}e.Ys();const n=e.storage.getItem(e.Hs);if(n){const t=e.Xs(n);t&&e.Zs(t)}for(const r of e.Ks)e.Us(r);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(ay(this.persistenceKey,e));if(n){const r=uy.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ay(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ni(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return hh("SharedClientState","READ",e,t),t}setItem(e,t){hh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){hh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const n=e;if(n.storageArea===this.storage){if(hh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void dh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ko.Z)(function*(){if(t.started){if(null!==n.key)if(t.Ws.test(n.key)){if(null==n.newValue){const e=t.ai(n.key);return t.ci(e,null)}{const e=t.ui(n.key,n.newValue);if(e)return t.ci(e.clientId,e)}}else if(t.Gs.test(n.key)){if(null!==n.newValue){const e=t.hi(n.key,n.newValue);if(e)return t.li(e)}}else if(t.zs.test(n.key)){if(null!==n.newValue){const e=t.fi(n.key,n.newValue);if(e)return t.di(e)}}else if(n.key===t.Hs){if(null!==n.newValue){const e=t.Xs(n.newValue);if(e)return t.Zs(e)}}else if(n.key===t.Qs){const e=function(e){let t=kh.T;if(null!=e)try{const n=JSON.parse(e);mh("number"==typeof n),t=n}catch(n){dh("SharedClientState","Failed to read sequence number from WebStorage",n)}return t}(n.newValue);e!==kh.T&&t.sequenceNumberHandler(e)}else if(n.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new cy(this.currentUser,e,t,n),i=oy(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=oy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,n){const r=ay(this.persistenceKey,e),i=new uy(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ai(e);return ly.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]);return cy.$s(new ah(void 0!==n[2]?n[2]:null),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return uy.$s(r,t)}Xs(e){return hy.$s(e)}li(e){var t=this;return(0,Ko.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);hh("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Xf();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class py{constructor(){this.yi=new dy,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new dy,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class gy{Ti(e){}shutdown(){}}class my{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){hh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){hh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vy{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class wy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);hh("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then(e=>(hh("RestConnection","Received: ",e),e),t=>{throw fh("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+ch,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){return`${this.Fi}/v1/${t}:${yy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise((i,s)=>{const o=new sh;o.listenOnce(eh.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Xl.NO_ERROR:const t=o.getResponseJson();hh("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Xl.TIMEOUT:hh("Connection",'RPC "'+e+'" timed out'),s(new wh(vh.DEADLINE_EXCEEDED,"Request time out"));break;case Xl.HTTP_ERROR:const n=o.getStatus();if(hh("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(vh).indexOf(t)>=0?t:vh.UNKNOWN}(e.status);s(new wh(t,e.message))}else s(new wh(vh.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new wh(vh.UNAVAILABLE,"Connection failed."));break;default:gh()}}finally{hh("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Yl(),i=Ql(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new rh({})),this.Ui(s.initMessageHeaders,t),(0,Qo.uI)()||(0,Qo.b$)()||(0,Qo.d)()||(0,Qo.w1)()||(0,Qo.Mn)()||(0,Qo.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");hh("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let c=!1,u=!1;const l=new vy({vi:e=>{u?hh("Connection","Not sending because WebChannel is closed:",e):(c||(hh("Connection","Opening WebChannel transport."),a.open(),c=!0),hh("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return h(a,ih.EventType.OPEN,()=>{u||hh("Connection","WebChannel transport opened.")}),h(a,ih.EventType.CLOSE,()=>{u||(u=!0,hh("Connection","WebChannel transport closed"),l.$i())}),h(a,ih.EventType.ERROR,e=>{u||(u=!0,fh("Connection","WebChannel transport errored:",e),l.$i(new wh(vh.UNAVAILABLE,"The operation could not be completed")))}),h(a,ih.EventType.MESSAGE,e=>{var t;if(!u){const n=e.data[0];mh(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){hh("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Lf[e];if(void 0!==t)return Uf(t)}(e),n=i.message;void 0===t&&(t=vh.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,l.$i(new wh(t,n)),a.close()}else hh("Connection","WebChannel received:",n),l.Oi(n)}}),h(i,th.STAT_EVENT,e=>{e.stat===nh.PROXY?hh("Connection","Detected buffering proxy"):e.stat===nh.NOPROXY&&hh("Connection","Detected no buffering proxy")}),setTimeout(()=>{l.ki()},0),l}}function by(){return"undefined"!=typeof window?window:null}function _y(){return"undefined"!=typeof document?document:null}function Ty(e){return new hp(e,!0)}class Iy{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&hh("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Sy{constructor(e,t,n,r,i,s){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Iy(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,Ko.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,Ko.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var n=this;return(0,Ko.Z)(function*(){n._r(),n.rr.cancel(),n.sr++,3!==e?n.rr.reset():t&&t.code===vh.RESOURCE_EXHAUSTED?(dh(t.toString()),dh("Using maximum backoff delay to prevent overloading the backend."),n.rr.Yi()):t&&t.code===vh.UNAUTHENTICATED&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.mr(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(e=>{this.sr===t&&this.yr(e)},t=>{e(()=>{const e=new wh(vh.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.pr(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}ur(){var e=this;this.state=4,this.rr.Xi((0,Ko.Z)(function*(){e.state=0,e.start()}))}pr(e){return hh("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(hh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cy extends Sy{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:gh(),s=t.targetChange.targetIds||[],o=function(e,t){return e.D?(mh(void 0===t||"string"==typeof t),zh.fromBase64String(t||"")):(mh(void 0===t||t instanceof Uint8Array),zh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,c=a&&function(e){const t=void 0===e.code?vh.UNKNOWN:Uf(e.code);return new wh(t,e.message||"")}(a);n=new ip(i,s,o,c||null)}else if("documentChange"in t){const r=t.documentChange,i=wp(e,r.document.name),s=gp(r.document.updateTime),o=new gd({mapValue:{fields:r.document.fields}}),a=yd.newFoundDocument(i,s,o);n=new np(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=wp(e,r.document),s=r.readTime?gp(r.readTime):Rh.min(),o=yd.newNoDocument(i,s);n=new np([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=wp(e,r.document);n=new np([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return gh();{const e=t.filter,r=new Rf(e.count||0);n=new rp(e.targetId,r)}}var r;return n}(this.N,e),n=function(e){if(!("targetChange"in e))return Rh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Rh.min():t.readTime?gp(t.readTime):Rh.min()}(e);return this.listener.Er(t,n)}Ir(e){const t={};t.database=Tp(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=Td(r)?{documents:Ap(e,r)}:{query:xp(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=fp(e,t.resumeToken):t.snapshotVersion.compareTo(Rh.min())>0&&(n.readTime=dp(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gh()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=Tp(this.N),t.removeTarget=e,this.wr(t)}}class Ey extends Sy{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(mh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(mh(void 0!==t),e.map(e=>function(e,t){let n=gp(e.updateTime?e.updateTime:t);return n.isEqual(Rh.min())&&(n=gp(t)),new vf(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=gp(e.commitTime);return this.listener.vr(n,t)}return mh(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Tp(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ep(this.N,e))};this.wr(t)}}class ky extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new wh(vh.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Li(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===vh.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new wh(vh.UNKNOWN,e.toString())})}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Ki(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===vh.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new wh(vh.UNKNOWN,e.toString())})}terminate(){this.Dr=!0}}class Ay{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(dh(t),this.$r=!1):hh("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class xy{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ti(e=>{n.enqueueAndForget((0,Ko.Z)(function*(){var e;Zy(s)&&(hh("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,Ko.Z)(function*(e){const t=yh(e);t.Kr.add(4),yield Py(t),t.Wr.set("Unknown"),t.Kr.delete(4),yield Oy(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.Wr=new Ay(n,r)}}function Oy(e){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,Ko.Z)(function*(e){if(Zy(e))for(const t of e.jr)yield t(!0)})).apply(this,arguments)}function Py(e){return Dy.apply(this,arguments)}function Dy(){return(Dy=(0,Ko.Z)(function*(e){for(const t of e.jr)yield t(!1)})).apply(this,arguments)}function Ry(e,t){const n=yh(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),Vy(n)?Uy(n):fv(n).cr()&&My(n,t))}function Ly(e,t){const n=yh(e),r=fv(n);n.qr.delete(t),r.cr()&&Fy(n,t),0===n.qr.size&&(r.cr()?r.lr():Zy(n)&&n.Wr.set("Unknown"))}function My(e,t){e.Gr.Y(t.targetId),fv(e).Ir(t)}function Fy(e,t){e.Gr.Y(t),fv(e).Ar(t)}function Uy(e){e.Gr=new op({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>e.qr.get(t)||null}),fv(e).start(),e.Wr.Or()}function Vy(e){return Zy(e)&&!fv(e).ar()&&e.qr.size>0}function Zy(e){return 0===yh(e).Kr.size}function qy(e){e.Gr=void 0}function jy(e){return zy.apply(this,arguments)}function zy(){return(zy=(0,Ko.Z)(function*(e){e.qr.forEach((t,n)=>{My(e,t)})})).apply(this,arguments)}function By(e,t){return Hy.apply(this,arguments)}function Hy(){return(Hy=(0,Ko.Z)(function*(e,t){qy(e),Vy(e)?(e.Wr.Lr(t),Uy(e)):e.Wr.set("Unknown")})).apply(this,arguments)}function $y(e,t,n){return Gy.apply(this,arguments)}function Gy(){return(Gy=(0,Ko.Z)(function*(e,t,n){if(e.Wr.set("Online"),t instanceof ip&&2===t.state&&t.cause)try{yield(r=(0,Ko.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(r){hh("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield Ky(e,r)}else if(t instanceof np?e.Gr.rt(t):t instanceof rp?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(Rh.min()))try{const t=yield Lm(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(zh.EMPTY_BYTE_STRING,n.snapshotVersion)),Fy(e,t);const r=new Cg(n.target,t,1,n.sequenceNumber);My(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(r){hh("RemoteStore","Failed to raise snapshot:",r),yield Ky(e,r)}var r})).apply(this,arguments)}function Ky(e,t,n){return Wy.apply(this,arguments)}function Wy(){return(Wy=(0,Ko.Z)(function*(e,t,n){if(!mg(t))throw t;e.Kr.add(1),yield Py(e),e.Wr.set("Offline"),n||(n=()=>Lm(e.localStore)),e.asyncQueue.enqueueRetryable((0,Ko.Z)(function*(){hh("RemoteStore","Retrying IndexedDB access"),yield n(),e.Kr.delete(1),yield Oy(e)}))})).apply(this,arguments)}function Jy(e,t){return t().catch(n=>Ky(e,n,t))}function Yy(e){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,Ko.Z)(function*(e){const t=yh(e),n=pv(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;Xy(t);)try{const e=yield Um(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,ev(t,e)}catch(i){yield Ky(t,i)}tv(t)&&nv(t)})).apply(this,arguments)}function Xy(e){return Zy(e)&&e.Ur.length<10}function ev(e,t){e.Ur.push(t);const n=pv(e);n.cr()&&n.br&&n.Pr(t.mutations)}function tv(e){return Zy(e)&&!pv(e).ar()&&e.Ur.length>0}function nv(e){pv(e).start()}function rv(e){return iv.apply(this,arguments)}function iv(){return(iv=(0,Ko.Z)(function*(e){pv(e).Sr()})).apply(this,arguments)}function sv(e){return ov.apply(this,arguments)}function ov(){return(ov=(0,Ko.Z)(function*(e){const t=pv(e);for(const n of e.Ur)t.Pr(n.mutations)})).apply(this,arguments)}function av(e,t,n){return cv.apply(this,arguments)}function cv(){return(cv=(0,Ko.Z)(function*(e,t,n){const r=e.Ur.shift(),i=Sg.from(r,t,n);yield Jy(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield Yy(e)})).apply(this,arguments)}function uv(e,t){return lv.apply(this,arguments)}function lv(){return(lv=(0,Ko.Z)(function*(e,t){var n;t&&pv(e).br&&(yield(n=(0,Ko.Z)(function*(e,t){if(Ff(n=t.code)&&n!==vh.ABORTED){const n=e.Ur.shift();pv(e).hr(),yield Jy(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield Yy(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),tv(e)&&nv(e)})).apply(this,arguments)}function hv(e,t){return dv.apply(this,arguments)}function dv(){return(dv=(0,Ko.Z)(function*(e,t){const n=yh(e);t?(n.Kr.delete(2),yield Oy(n)):t||(n.Kr.add(2),yield Py(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function fv(e){return e.zr||(e.zr=function(e,t,n){const r=yh(e);return r.Cr(),new Cy(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:jy.bind(null,e),Ci:By.bind(null,e),Er:$y.bind(null,e)}),e.jr.push(function(){var t=(0,Ko.Z)(function*(t){t?(e.zr.hr(),Vy(e)?Uy(e):e.Wr.set("Unknown")):(yield e.zr.stop(),qy(e))});return function(e){return t.apply(this,arguments)}}())),e.zr}function pv(e){return e.Hr||(e.Hr=function(e,t,n){const r=yh(e);return r.Cr(),new Ey(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:rv.bind(null,e),Ci:uv.bind(null,e),Vr:sv.bind(null,e),vr:av.bind(null,e)}),e.jr.push(function(){var t=(0,Ko.Z)(function*(t){t?(e.Hr.hr(),yield Yy(e)):(yield e.Hr.stop(),e.Ur.length>0&&(hh("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))});return function(e){return t.apply(this,arguments)}}())),e.Hr}class gv{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new bh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new gv(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wh(vh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mv(e,t){if(dh("AsyncQueue",`${t}: ${e}`),mg(e))return new wh(vh.UNAVAILABLE,`${t}: ${e}`);throw e}class yv{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ed.comparator(t.key,n.key):(e,t)=>ed.comparator(e.key,t.key),this.keyedMap=Gf(),this.sortedSet=new Vf(this.comparator)}static emptySet(e){return new yv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new yv;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class vv{constructor(){this.Jr=new Vf(ed.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):gh():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,n)=>{e.push(n)}),e}}class wv{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new wv(e,t,yv.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class bv{constructor(){this.Xr=void 0,this.listeners=[]}}class _v{constructor(){this.queries=new dm(e=>Jd(e),Wd),this.onlineState="Unknown",this.Zr=new Set}}function Tv(e,t){return Iv.apply(this,arguments)}function Iv(){return(Iv=(0,Ko.Z)(function*(e,t){const n=yh(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bv),i)try{s.Xr=yield n.onListen(r)}catch(o){const e=mv(o,`Initialization of query '${Yd(t.query)}' failed`);return void t.onError(e)}n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&Av(n)})).apply(this,arguments)}function Sv(e,t){return Cv.apply(this,arguments)}function Cv(){return(Cv=(0,Ko.Z)(function*(e,t){const n=yh(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function Ev(e,t){const n=yh(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.no(i)&&(r=!0);e.Xr=i}}r&&Av(n)}function kv(e,t,n){const r=yh(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Av(e){e.Zr.forEach(e=>{e.next()})}class xv{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new wv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=wv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class Ov{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class Nv{constructor(e){this.N=e}zn(e){return wp(this.N,e)}Hn(e){return e.metadata.exists?Cp(this.N,e.document,!1):yd.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return gp(e)}}class Pv{constructor(e,t,n){this.lo=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=Dv(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,n=new Nv(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Yf()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,Ko.Z)(function*(){const t=yield function(e,t,n,r){return $m.apply(this,arguments)}(e.localStore,new Nv(e.N),e.documents,e.lo.id),n=e.wo(e.documents);for(const r of e.queries)yield Gm(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",new Em(Object.assign({},e.progress),t)})()}}function Dv(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Rv{constructor(e){this.key=e}}class Lv{constructor(e){this.key=e}}class Mv{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Yf(),this.mutatedKeys=Yf(),this.po=Xd(e),this.To=new yv(this.po)}get Eo(){return this._o}Io(e,t){const n=t?t.Ao:new vv,r=t?t.To:this.To;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=qd(this.query)&&r.size===this.query.limit?r.last():null,c=jd(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),l=Qd(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Ro(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.po(l,a)>0||c&&this.po(l,c)<0)&&(o=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),qd(this.query)||jd(this.query))for(;s.size>this.query.limit;){const e=qd(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{To:s,Ao:n,Ln:o,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gh()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc)),this.bo(n);const s=t?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==i.length||a?{snapshot:new wv(this.query,e.To,r,i,e.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new vv,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(e=>this._o=this._o.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this._o=this._o.delete(e)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=Yf(),this.To.forEach(e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))});const t=[];return e.forEach(e=>{this.yo.has(e)||t.push(new Lv(e))}),this.yo.forEach(n=>{e.has(n)||t.push(new Rv(n))}),t}So(e){this._o=e.Gn,this.yo=Yf();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return wv.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class Fv{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Uv{constructor(e){this.key=e,this.Co=!1}}class Vv{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new dm(e=>Jd(e),Wd),this.ko=new Map,this.$o=new Set,this.Oo=new Vf(ed.comparator),this.Fo=new Map,this.Mo=new Jm,this.Lo={},this.Bo=new Map,this.Uo=Xg.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Zv(e,t){return qv.apply(this,arguments)}function qv(){return(qv=(0,Ko.Z)(function*(e,t){const n=Ow(e);let r,i;const s=n.xo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const e=yield Vm(n.localStore,Gd(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield jv(n,t,r,"current"===s),n.isPrimaryClient&&Ry(n.remoteStore,e)}return i})).apply(this,arguments)}function jv(e,t,n,r){return zv.apply(this,arguments)}function zv(){return(zv=(0,Ko.Z)(function*(e,t,n,r){e.Ko=(t,n,r)=>{return(i=(0,Ko.Z)(function*(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=yield jm(e.localStore,t.query,!1).then(({documents:e})=>t.view.Io(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return aw(e,t.targetId,o.vo),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield jm(e.localStore,t,!0),s=new Mv(t,i.Gn),o=s.Io(i.documents),a=tp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=s.applyChanges(o,e.isPrimaryClient,a);aw(e,n,c.vo);const u=new Fv(t,n,s);return e.xo.set(t,u),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),c.snapshot})).apply(this,arguments)}function Bv(e,t){return Hv.apply(this,arguments)}function Hv(){return(Hv=(0,Ko.Z)(function*(e,t){const n=yh(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter(e=>!Wd(e,t))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ly(n.remoteStore,r.targetId),sw(n,r.targetId)}).catch(im))):(sw(n,r.targetId),yield Zm(n.localStore,r.targetId,!0))})).apply(this,arguments)}function $v(){return($v=(0,Ko.Z)(function*(e,t,n){const r=Nw(e);try{const e=yield function(e,t){const n=yh(e),r=Dh.now(),i=t.reduce((e,t)=>e.add(t.key),Yf());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Qn.Pn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=Sf(e,s.get(e.key));null!=t&&o.push(new Af(e.key,t,md(t.value.mapValue),wf.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new Vf(Oh)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),yield lw(r,e.changes),yield Yy(r.remoteStore)}catch(i){const e=mv(i,"Failed to persist write");n.reject(e)}})).apply(this,arguments)}function Gv(e,t){return Kv.apply(this,arguments)}function Kv(){return(Kv=(0,Ko.Z)(function*(e,t){const n=yh(e);try{const e=yield Mm(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Fo.get(t);r&&(mh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?mh(r.Co):e.removedDocuments.size>0&&(mh(r.Co),r.Co=!1))}),yield lw(n,e,t)}catch(r){yield im(r)}})).apply(this,arguments)}function Wv(e,t,n){const r=yh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=yh(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.eo(t)&&(r=!0)}),r&&Av(n)}(r.eventManager,t),e.length&&r.No.Er(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Jv(e,t,n){return Yv.apply(this,arguments)}function Yv(){return(Yv=(0,Ko.Z)(function*(e,t,n){const r=yh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),s=i&&i.key;if(s){let e=new Vf(ed.comparator);e=e.insert(s,yd.newNoDocument(s,Rh.min()));const n=Yf().add(s),i=new ep(Rh.min(),new Map,new jf(Oh),e,n);yield Gv(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(t),uw(r)}else yield Zm(r.localStore,t,!1).then(()=>sw(r,t,n)).catch(im)})).apply(this,arguments)}function Qv(e,t){return Xv.apply(this,arguments)}function Xv(){return(Xv=(0,Ko.Z)(function*(e,t){const n=yh(e),r=t.batch.batchId;try{const e=yield Rm(n.localStore,t);iw(n,r,null),rw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield lw(n,e)}catch(i){yield im(i)}})).apply(this,arguments)}function ew(e,t,n){return tw.apply(this,arguments)}function tw(){return(tw=(0,Ko.Z)(function*(e,t,n){const r=yh(e);try{const e=yield function(e,t){const n=yh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.In.lookupMutationBatch(e,t).next(t=>(mh(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t))).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(r.localStore,t);iw(r,t,n),rw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield lw(r,e)}catch(i){yield im(i)}})).apply(this,arguments)}function nw(){return(nw=(0,Ko.Z)(function*(e,t){const n=yh(e);Zy(n.remoteStore)||hh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=yh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.In.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Bo.get(e)||[];r.push(t),n.Bo.set(e,r)}catch(r){const e=mv(r,"Initialization of waitForPendingWrites() operation failed");t.reject(e)}})).apply(this,arguments)}function rw(e,t){(e.Bo.get(t)||[]).forEach(e=>{e.resolve()}),e.Bo.delete(t)}function iw(e,t,n){const r=yh(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function sw(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach(t=>{e.Mo.containsKey(t)||ow(e,t)})}function ow(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(Ly(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),uw(e))}function aw(e,t,n){for(const r of n)r instanceof Rv?(e.Mo.addReference(r.key,t),cw(e,r)):r instanceof Lv?(hh("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||ow(e,r.key)):gh()}function cw(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(hh("SyncEngine","New document in limbo: "+n),e.$o.add(r),uw(e))}function uw(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new ed(Vh.fromString(t)),r=e.Uo.next();e.Fo.set(r,new Uv(n)),e.Oo=e.Oo.insert(n,r),Ry(e.remoteStore,new Cg(Gd(Zd(n.path)),r,2,kh.T))}}function lw(e,t,n){return hw.apply(this,arguments)}function hw(){return(hw=(0,Ko.Z)(function*(e,t,n){const r=yh(e),i=[],s=[],o=[];var a;r.xo.isEmpty()||(r.xo.forEach((e,a)=>{o.push(r.Ko(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Am.kn(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.No.Er(i),yield(a=(0,Ko.Z)(function*(e,t){const n=yh(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>hg.forEach(t,t=>hg.forEach(t.Nn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>hg.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!mg(r))throw r;hh("LocalStore","Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Un.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Un=n.Un.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function dw(e,t){return fw.apply(this,arguments)}function fw(){return(fw=(0,Ko.Z)(function*(e,t){const n=yh(e);if(!n.currentUser.isEqual(t)){hh("SyncEngine","User change. New user:",t.toKey());const e=yield Pm(n.localStore,t);n.currentUser=t,(r=n).Bo.forEach(e=>{e.forEach(e=>{e.reject(new wh(vh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Bo.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield lw(n,e.Wn)}var r})).apply(this,arguments)}function pw(e,t){const n=yh(e),r=n.Fo.get(t);if(r&&r.Co)return Yf().add(r.key);{let e=Yf();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.Eo)}return e}}function gw(e,t){return mw.apply(this,arguments)}function mw(){return(mw=(0,Ko.Z)(function*(e,t){const n=yh(e),r=yield jm(n.localStore,t.query,!0),i=t.view.So(r);return n.isPrimaryClient&&aw(n,t.targetId,i.vo),i})).apply(this,arguments)}function yw(e){return vw.apply(this,arguments)}function vw(){return(vw=(0,Ko.Z)(function*(e){const t=yh(e);return Bm(t.localStore).then(e=>lw(t,e))})).apply(this,arguments)}function ww(e,t,n,r){return bw.apply(this,arguments)}function bw(){return(bw=(0,Ko.Z)(function*(e,t,n,r){const i=yh(e),s=yield function(e,t){const n=yh(e),r=yh(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xt(e,t).next(t=>t?n.Qn.Pn(e,t):hg.resolve(null)))}(i.localStore,t);var o;null!==s?("pending"===n?yield Yy(i.remoteStore):"acknowledged"===n||"rejected"===n?(iw(i,t,r||null),rw(i,t),o=t,yh(yh(i.localStore).In).te(o)):gh(),yield lw(i,s)):hh("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function _w(){return(_w=(0,Ko.Z)(function*(e,t){const n=yh(e);if(Ow(n),Nw(n),!0===t&&!0!==n.qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield Tw(n,e.toArray());n.qo=!0,yield hv(n.remoteStore,!0);for(const r of t)Ry(n.remoteStore,r)}else if(!1===t&&!1!==n.qo){const e=[];let t=Promise.resolve();n.ko.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(sw(n,i),Zm(n.localStore,i,!0))),Ly(n.remoteStore,i)}),yield t,yield Tw(n,e),function(e){const t=yh(e);t.Fo.forEach((e,n)=>{Ly(t.remoteStore,n)}),t.Mo.us(),t.Fo=new Map,t.Oo=new Vf(ed.comparator)}(n),n.qo=!1,yield hv(n.remoteStore,!1)}})).apply(this,arguments)}function Tw(e,t,n){return Iw.apply(this,arguments)}function Iw(){return(Iw=(0,Ko.Z)(function*(e,t,n){const r=yh(e),i=[],s=[];for(const o of t){let e;const t=r.ko.get(o);if(t&&0!==t.length){e=yield Vm(r.localStore,Gd(t[0]));for(const e of t){const t=r.xo.get(e),n=yield gw(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield zm(r.localStore,o);e=yield Vm(r.localStore,t),yield jv(r,Sw(t),o,!1)}i.push(e)}return r.No.Er(s),i})).apply(this,arguments)}function Sw(e){return Vd(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Cw(e){const t=yh(e);return yh(yh(t.localStore).persistence).pn()}function Ew(e,t,n,r){return kw.apply(this,arguments)}function kw(){return(kw=(0,Ko.Z)(function*(e,t,n,r){const i=yh(e);if(i.qo)hh("SyncEngine","Ignoring unexpected query state notification.");else if(i.ko.has(t))switch(n){case"current":case"not-current":{const e=yield Bm(i.localStore),r=ep.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield lw(i,e,r);break}case"rejected":yield Zm(i.localStore,t,!0),sw(i,t,r);break;default:gh()}})).apply(this,arguments)}function Aw(e,t,n){return xw.apply(this,arguments)}function xw(){return(xw=(0,Ko.Z)(function*(e,t,n){const r=Ow(e);if(r.qo){for(const e of t){if(r.ko.has(e)){hh("SyncEngine","Adding an already active target "+e);continue}const t=yield zm(r.localStore,e),n=yield Vm(r.localStore,t);yield jv(r,Sw(t),n.targetId,!1),Ry(r.remoteStore,n)}for(const e of n)r.ko.has(e)&&(yield Zm(r.localStore,e,!1).then(()=>{Ly(r.remoteStore,e),sw(r,e)}).catch(im))}})).apply(this,arguments)}function Ow(e){const t=yh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jv.bind(null,t),t.No.Er=Ev.bind(null,t.eventManager),t.No.jo=kv.bind(null,t.eventManager),t}function Nw(e){const t=yh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Qv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ew.bind(null,t),t}class Pw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ko.Z)(function*(){t.N=Ty(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return Nm(this.persistence,new xm,e.initialUser,this.N)}Go(e){return new ny(iy.Ns,this.N)}Wo(e){return new py}terminate(){var e=this;return(0,Ko.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Dw extends Pw{constructor(e,t,n){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,Ko.Z)(function*(){yield t().call(n,e),yield function(e){return Hm.apply(this,arguments)}(n.localStore),yield n.Jo.initialize(n,e),yield Nw(n.Jo.syncEngine),yield Yy(n.Jo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Ho(e){return Nm(this.persistence,new xm,e.initialUser,this.N)}zo(e){return new cm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=Cm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Hg.withCacheSize(this.cacheSizeBytes):Hg.DEFAULT;return new Tm(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,by(),_y(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new py}}class Rw extends Dw{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,Ko.Z)(function*(){yield t().call(n,e);const r=n.Jo.syncEngine;n.sharedClientState instanceof fy&&(n.sharedClientState.syncEngine={_i:ww.bind(null,r),mi:Ew.bind(null,r),gi:Aw.bind(null,r),pn:Cw.bind(null,r),wi:yw.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var e=(0,Ko.Z)(function*(e){yield function(e,t){return _w.apply(this,arguments)}(n.Jo.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}Wo(e){const t=by();if(!fy.bt(t))throw new wh(vh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Cm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fy(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Lw{initialize(e,t){var n=this;return(0,Ko.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>Wv(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=dw.bind(null,n.syncEngine),yield hv(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _v}createDatastore(e){const t=Ty(e.databaseInfo.databaseId),n=new wy(e.databaseInfo);return new ky(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Wv(this.syncEngine,e,0),s=my.bt()?new my:new gy,new xy(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Vv(e,t,n,r,i,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ko.Z)(function*(e){const t=yh(e);hh("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),yield Py(t),t.Qr.shutdown(),t.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Mw(e,t=10240){let n=0;return{read:()=>(0,Ko.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,Ko.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Uw{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new bh,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(e=>{e&&e.ho()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,Ko.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,Ko.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,Ko.Z)(function*(){const t=yield e.na();if(null===t)return null;const n=e.ta.decode(t),r=Number(n);isNaN(r)&&e.sa(`length string (${n}) is not valid number`);const i=yield e.ia(r);return new Ov(JSON.parse(i),t.length+r)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,Ko.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}ia(e){var t=this;return(0,Ko.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const n=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,Ko.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class Vw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ko.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new wh(vh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,Ko.Z)(function*(e,t){const n=yh(e),r=Tp(n.N)+"/documents",i={documents:t.map(e=>vp(n.N,e))},s=yield n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){mh(!!t.found);const n=wp(e,t.found.name),r=gp(t.found.updateTime),i=new gd({mapValue:{fields:t.found.fields}});return yd.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){mh(!!t.missing),mh(!!t.readTime);const n=wp(e,t.missing),r=gp(t.readTime);return yd.newNoDocument(n,r)}(e,t):gh()}(n.N,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());mh(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ko.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=ed.fromPath(n);e.mutations.push(new Df(r,e.precondition(r)))}),yield(n=(0,Ko.Z)(function*(e,t){const n=yh(e),r=Tp(n.N)+"/documents",i={writes:t.map(e=>Ep(n.N,e))};yield n.Li("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gh();t=Rh.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new wh(vh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?wf.updateTime(t):wf.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rh.min()))throw new wh(vh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wf.updateTime(t)}return wf.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Zw{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new Iy(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,Ko.Z)(function*(){const t=new Vw(e.datastore),n=e.ua(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.ha(t)}))}).catch(t=>{e.ha(t)})}))}ua(e){try{const t=this.updateFunction(e);return!Yh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ff(t)}return!1}}class qw{constructor(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=ah.UNAUTHENTICATED,this.clientId=xh.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var e=(0,Ko.Z)(function*(e){hh("FirestoreClient","Received user=",e.uid),yield r.credentialListener(e),r.user=e});return function(t){return e.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,Ko.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new wh(vh.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new bh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ko.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(n){const e=mv(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function jw(e,t){return zw.apply(this,arguments)}function zw(){return(zw=(0,Ko.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),hh("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,Ko.Z)(function*(e){r.isEqual(e)||(yield Pm(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function Bw(e,t){return Hw.apply(this,arguments)}function Hw(){return(Hw=(0,Ko.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield $w(e);hh("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>{return(n=(0,Ko.Z)(function*(e,t){const n=yh(e);n.asyncQueue.verifyOperationInProgress(),hh("RemoteStore","RemoteStore received new credentials");const r=Zy(n);n.Kr.add(3),yield Py(n),r&&n.Wr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),yield Oy(n)}),function(e,t){return n.apply(this,arguments)})(t.remoteStore,e);var n}),e.onlineComponents=t})).apply(this,arguments)}function $w(e){return Gw.apply(this,arguments)}function Gw(){return(Gw=(0,Ko.Z)(function*(e){return e.offlineComponents||(hh("FirestoreClient","Using default OfflineComponentProvider"),yield jw(e,new Pw)),e.offlineComponents})).apply(this,arguments)}function Kw(e){return Ww.apply(this,arguments)}function Ww(){return(Ww=(0,Ko.Z)(function*(e){return e.onlineComponents||(hh("FirestoreClient","Using default OnlineComponentProvider"),yield Bw(e,new Lw)),e.onlineComponents})).apply(this,arguments)}function Jw(e){return $w(e).then(e=>e.persistence)}function Yw(e){return $w(e).then(e=>e.localStore)}function Qw(e){return Kw(e).then(e=>e.remoteStore)}function Xw(e){return Kw(e).then(e=>e.syncEngine)}function eb(e){return tb.apply(this,arguments)}function tb(){return(tb=(0,Ko.Z)(function*(e){const t=yield Kw(e),n=t.eventManager;return n.onListen=Zv.bind(null,t.syncEngine),n.onUnlisten=Bv.bind(null,t.syncEngine),n})).apply(this,arguments)}function nb(e,t,n={}){const r=new bh;return e.asyncQueue.enqueueAndForget((0,Ko.Z)(function*(){return function(e,t,n,r,i){const s=new Fw({next:s=>{t.enqueueAndForget(()=>Sv(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new wh(vh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new wh(vh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new xv(Zd(n.path),s,{includeMetadataChanges:!0,uo:!0});return Tv(e,o)}(yield eb(e),e.asyncQueue,t,n,r)})),r.promise}function rb(e,t,n={}){const r=new bh;return e.asyncQueue.enqueueAndForget((0,Ko.Z)(function*(){return function(e,t,n,r,i){const s=new Fw({next:n=>{t.enqueueAndForget(()=>Sv(e,o)),n.fromCache&&"server"===r.source?i.reject(new wh(vh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new xv(n,s,{includeMetadataChanges:!0,uo:!0});return Tv(e,o)}(yield eb(e),e.asyncQueue,t,n,r)})),r.promise}class ib{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class sb{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sb&&e.projectId===this.projectId&&e.database===this.database}}const ob=new Map;function ab(e,t,n){if(!n)throw new wh(vh.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function cb(e,t,n,r){if(!0===t&&!0===r)throw new wh(vh.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ub(e){if(!ed.isDocumentKey(e))throw new wh(vh.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function lb(e){if(ed.isDocumentKey(e))throw new wh(vh.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function hb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":gh()}function db(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new wh(vh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hb(e);throw new wh(vh.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function fb(e,t){if(t<=0)throw new wh(vh.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class pb{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new wh(vh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new wh(vh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,cb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gb{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pb({}),this._settingsFrozen=!1,e instanceof sb?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new wh(vh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sb(e.options.projectId)}(e))}get app(){if(!this._app)throw new wh(vh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wh(vh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pb(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Th;switch(e.type){case"gapi":const t=e.client;return mh(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Eh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new wh(vh.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ob.get(e);t&&(hh("ComponentProvider","Removing Datastore"),ob.delete(e),t.terminate())}(this),Promise.resolve()}}class mb{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vb(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mb(this.firestore,e,this._key)}}class yb{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new yb(this.firestore,e,this._query)}}class vb extends yb{constructor(e,t,n){super(e,t,Zd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mb(this.firestore,null,new ed(e))}withConverter(e){return new vb(this.firestore,e,this._path)}}function wb(e,t,...n){if(e=(0,Qo.m9)(e),ab("collection","path",t),e instanceof gb){const r=Vh.fromString(t,...n);return lb(r),new vb(e,null,r)}{if(!(e instanceof mb||e instanceof vb))throw new wh(vh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Vh.fromString(t,...n));return lb(r),new vb(e.firestore,null,r)}}function bb(e,t,...n){if(e=(0,Qo.m9)(e),1===arguments.length&&(t=xh.I()),ab("doc","path",t),e instanceof gb){const r=Vh.fromString(t,...n);return ub(r),new mb(e,null,new ed(r))}{if(!(e instanceof mb||e instanceof vb))throw new wh(vh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Vh.fromString(t,...n));return ub(r),new mb(e.firestore,e instanceof vb?e.converter:null,new ed(r))}}function _b(e,t){return e=(0,Qo.m9)(e),t=(0,Qo.m9)(t),(e instanceof mb||e instanceof vb)&&(t instanceof mb||t instanceof vb)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Tb(e,t){return e=(0,Qo.m9)(e),t=(0,Qo.m9)(t),e instanceof yb&&t instanceof yb&&e.firestore===t.firestore&&Wd(e._query,t._query)&&e.converter===t.converter}class Ib{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Iy(this,"async_queue_retry"),this.Ta=()=>{const e=_y();e&&hh("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=_y();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=_y();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const t=new bh;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,Ko.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!mg(t))throw t;hh("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(e=>{throw this.ma=e,this.ga=!1,dh("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.ga=!1,e))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const r=gv.createAndSchedule(this,e,t,n,e=>this.Ra(e));return this._a.push(r),r}Ea(){this.ma&&gh()}verifyOperationInProgress(){}ba(){var e=this;return(0,Ko.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function Sb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Cb{constructor(){this._progressObserver={},this._taskCompletionResolver=new bh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Eb extends gb{constructor(e,t){super(e,t),this.type="firestore",this._queue=new Ib,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ab(this),this._firestoreClient.terminate()}}function kb(e){return e._firestoreClient||Ab(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ab(e){var t;const n=e._freezeSettings(),r=(i=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",new ib(e._databaseId,i,e._persistenceKey,(s=n).host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams));var i,s;e._firestoreClient=new qw(e._credentials,e._queue,r)}function xb(e,t,n){const r=new bh;return e.asyncQueue.enqueue((0,Ko.Z)(function*(){try{yield jw(e,n),yield Bw(e,t),r.resolve()}catch(s){if(!("FirebaseError"===(i=s).name?i.code===vh.FAILED_PRECONDITION||i.code===vh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var i})).then(()=>r.promise)}function Ob(e){if(e._initialized||e._terminated)throw new wh(vh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nb{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new wh(vh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qh(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pb{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pb(zh.fromBase64String(e))}catch(t){throw new wh(vh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pb(zh.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Db{constructor(e){this._methodName=e}}class Rb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wh(vh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wh(vh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oh(this._lat,e._lat)||Oh(this._long,e._long)}}const Lb=/^__.*__$/;class Mb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Af(e,this.data,this.fieldMask,t,this.fieldTransforms):new kf(e,this.data,t,this.fieldTransforms)}}class Fb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Af(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ub(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gh()}}class Vb{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new Vb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return s_(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(Ub(this.Da)&&Lb.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class Zb{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||Ty(e)}Ba(e,t,n,r=!1){return new Vb({Da:e,methodName:t,La:n,path:qh.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function qb(e){const t=e._freezeSettings(),n=Ty(e._databaseId);return new Zb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jb(e,t,n,r,i,s={}){const o=e.Ba(s.merge||s.mergeFields?2:0,t,n,i);t_("Data must be an object, but it was:",o,r);const a=Xb(r,o);let c,u;if(s.merge)c=new jh(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=n_(t,r,n);if(!o.contains(i))throw new wh(vh.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);o_(e,i)||e.push(i)}c=new jh(e),u=o.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,u=o.fieldTransforms;return new Mb(new gd(a),c,u)}class zb extends Db{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zb}}function Bb(e,t,n){return new Vb({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class Hb extends Db{_toFieldTransform(e){return new yf(e.path,new uf)}isEqual(e){return e instanceof Hb}}class $b extends Db{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Bb(this,e,!0),n=this.Ua.map(e=>Qb(e,t)),r=new lf(n);return new yf(e.path,r)}isEqual(e){return this===e}}class Gb extends Db{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Bb(this,e,!0),n=this.Ua.map(e=>Qb(e,t)),r=new df(n);return new yf(e.path,r)}isEqual(e){return this===e}}class Kb extends Db{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new pf(e.N,rf(e.N,this.qa));return new yf(e.path,t)}isEqual(e){return this===e}}function Wb(e,t,n,r){const i=e.Ba(1,t,n);t_("Data must be an object, but it was:",i,r);const s=[],o=gd.empty();Mh(r,(e,r)=>{const a=i_(t,e,n);r=(0,Qo.m9)(r);const c=i.$a(a);if(r instanceof zb)s.push(a);else{const e=Qb(r,c);null!=e&&(s.push(a),o.set(a,e))}});const a=new jh(s);return new Fb(o,a,i.fieldTransforms)}function Jb(e,t,n,r,i,s){const o=e.Ba(1,t,n),a=[n_(t,r,n)],c=[i];if(s.length%2!=0)throw new wh(vh.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(n_(t,s[d])),c.push(s[d+1]);const u=[],l=gd.empty();for(let d=a.length-1;d>=0;--d)if(!o_(u,a[d])){const e=a[d];let t=c[d];t=(0,Qo.m9)(t);const n=o.$a(e);if(t instanceof zb)u.push(e);else{const r=Qb(t,n);null!=r&&(u.push(e),l.set(e,r))}}const h=new jh(u);return new Fb(l,h,o.fieldTransforms)}function Yb(e,t,n,r=!1){return Qb(n,e.Ba(r?4:3,t))}function Qb(e,t){if(e_(e=(0,Qo.m9)(e)))return t_("Unsupported field value:",t,e),Xb(e,t);if(e instanceof Db)return function(e,t){if(!Ub(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Qb(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Qo.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rf(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Dh.fromDate(e);return{timestampValue:dp(t.N,n)}}if(e instanceof Dh){const n=new Dh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:dp(t.N,n)}}if(e instanceof Rb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Pb)return{bytesValue:fp(t.N,e._byteString)};if(e instanceof mb){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:mp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${hb(e)}`)}(e,t)}function Xb(e,t){const n={};return Fh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Mh(e,(e,r)=>{const i=Qb(r,t.Na(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function e_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Dh||e instanceof Rb||e instanceof Pb||e instanceof mb||e instanceof Db)}function t_(e,t,n){if(!e_(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=hb(n);throw t.Fa("an object"===r?e+" a custom object":e+" "+r)}var r}function n_(e,t,n){if((t=(0,Qo.m9)(t))instanceof Nb)return t._internalPath;if("string"==typeof t)return i_(e,t);throw s_("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const r_=new RegExp("[~\\*/\\[\\]]");function i_(e,t,n){if(t.search(r_)>=0)throw s_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Nb(...t.split("."))._internalPath}catch(r){throw s_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function s_(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new wh(vh.INVALID_ARGUMENT,a+e+c)}function o_(e,t){return e.some(e=>e.isEqual(t))}class a_{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mb(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new c_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(u_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class c_ extends a_{data(){return super.data()}}function u_(e,t){return"string"==typeof t?i_(e,t):t instanceof Nb?t._internalPath:t._delegate._internalPath}class l_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class h_ extends a_{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new d_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(u_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class d_ extends h_{data(e={}){return super.data(e)}}class f_{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new l_(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new d_(this._firestore,this._userDataWriter,n.key,n,new l_(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wh(vh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new d_(e._firestore,e._userDataWriter,n.doc.key,n.doc,new l_(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new d_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new l_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:p_(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function p_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gh()}}function g_(e,t){return e instanceof h_&&t instanceof h_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof f_&&t instanceof f_&&e._firestore===t._firestore&&Tb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function m_(e){if(jd(e)&&0===e.explicitOrderBy.length)throw new wh(vh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y_{}function v_(e,...t){for(const n of t)e=n._apply(e);return e}class w_ extends y_{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=qb(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new wh(vh.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){E_(o,s);const t=[];for(const n of o)t.push(C_(r,e,n));a={arrayValue:{values:t}}}else a=C_(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||E_(o,s),a=Yb(n,"where",o,"in"===s||"not-in"===s);const c=Id.create(i,s,a);return function(e,t){if(t.v()){const n=Bd(e);if(null!==n&&!n.isEqual(t.field))throw new wh(vh.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=zd(e);null!==r&&k_(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new wh(vh.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new yb(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Ud(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class b_ extends y_{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new wh(vh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new wh(vh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Rd(t,n);return function(e,t){if(null===zd(e)){const n=Bd(e);null!==n&&k_(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new yb(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ud(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class __ extends y_{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new yb(e.firestore,e.converter,Kd(e._query,this.Ga,this.za))}}class T_ extends y_{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=S_(e,this.type,this.Ha,this.Ja);return new yb(e.firestore,e.converter,(r=t,new Ud((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,r,n.endAt)));var n,r}}class I_ extends y_{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=S_(e,this.type,this.Ha,this.Ja);return new yb(e.firestore,e.converter,(r=t,new Ud((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,r)));var n,r}}function S_(e,t,n,r){if(n[0]=(0,Qo.m9)(n[0]),n[0]instanceof a_)return function(e,t,n,r,i){if(!r)throw new wh(vh.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of $d(e))if(o.field.isKeyField())s.push(cd(t,r.key));else{const e=r.data.field(o.field);if(Kh(e))throw new wh(vh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new wh(vh.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Pd(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=qb(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new wh(vh.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new wh(vh.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!Hd(e)&&-1!==s.indexOf("/"))throw new wh(vh.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(Vh.fromString(s));if(!ed.isDocumentKey(n))throw new wh(vh.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new ed(n);a.push(cd(t,i))}else{const e=Yb(n,r,s);a.push(e)}}return new Pd(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function C_(e,t,n){if("string"==typeof(n=(0,Qo.m9)(n))){if(""===n)throw new wh(vh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hd(t)&&-1!==n.indexOf("/"))throw new wh(vh.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Vh.fromString(n));if(!ed.isDocumentKey(r))throw new wh(vh.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cd(e,new ed(r))}if(n instanceof mb)return cd(e,n._key);throw new wh(vh.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${hb(n)}.`)}function E_(e,t){if(!Array.isArray(e)||0===e.length)throw new wh(vh.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new wh(vh.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function k_(e,t,n){if(!n.isEqual(t))throw new wh(vh.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class A_{convertValue(e,t="none"){switch(td(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $h(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gh()}}convertObject(e,t){const n={};return Mh(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Rb($h(e.latitude),$h(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Wh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Jh(e));default:return null}}convertTimestamp(e){const t=Hh(e);return new Dh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Vh.fromString(e);mh(qp(n));const r=new sb(n.get(1),n.get(3)),i=new ed(n.popFirst(5));return r.isEqual(t)||dh(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function x_(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class O_ extends A_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pb(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mb(this.firestore,null,t)}}class N_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qb(e)}set(e,t,n){this._verifyNotCommitted();const r=P_(e,this._firestore),i=x_(r.converter,t,n),s=jb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,wf.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=P_(e,this._firestore);let s;return s="string"==typeof(t=(0,Qo.m9)(t))||t instanceof Nb?Jb(this._dataReader,"WriteBatch.update",i._key,t,n,r):Wb(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,wf.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=P_(e,this._firestore);return this._mutations=this._mutations.concat(new Pf(t._key,wf.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new wh(vh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function P_(e,t){if((e=(0,Qo.m9)(e)).firestore!==t)throw new wh(vh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class D_ extends A_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pb(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mb(this.firestore,null,t)}}function R_(e,t,n){e=db(e,mb);const r=db(e.firestore,Eb),i=x_(e.converter,t,n);return F_(r,[jb(qb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,wf.none())])}function L_(e,t,n,...r){e=db(e,mb);const i=db(e.firestore,Eb),s=qb(i);let o;return o="string"==typeof(t=(0,Qo.m9)(t))||t instanceof Nb?Jb(s,"updateDoc",e._key,t,n,r):Wb(s,"updateDoc",e._key,t),F_(i,[o.toMutation(e._key,wf.exists(!0))])}function M_(e,...t){var n,r,i;e=(0,Qo.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||Sb(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Sb(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let c,u,l;if(e instanceof mb)u=db(e.firestore,Eb),l=Zd(e._key.path),c={next:n=>{t[o]&&t[o](U_(u,e,n))},error:t[o+1],complete:t[o+2]};else{const n=db(e,yb);u=db(n.firestore,Eb),l=n._query;const r=new D_(u);c={next:e=>{t[o]&&t[o](new f_(u,r,n,e))},error:t[o+1],complete:t[o+2]},m_(e._query)}return function(e,t,n,r){const i=new Fw(r),s=new xv(t,i,n);return e.asyncQueue.enqueueAndForget((0,Ko.Z)(function*(){return Tv(yield eb(e),s)})),()=>{i.Xo(),e.asyncQueue.enqueueAndForget((0,Ko.Z)(function*(){return Sv(yield eb(e),s)}))}}(kb(u),l,a,c)}function F_(e,t){return function(e,t){const n=new bh;return e.asyncQueue.enqueueAndForget((0,Ko.Z)(function*(){return function(e,t,n){return $v.apply(this,arguments)}(yield Xw(e),t,n)})),n.promise}(kb(e),t)}function U_(e,t,n){const r=n.docs.get(t._key),i=new D_(e);return new h_(e,i,t._key,r,new l_(n.hasPendingWrites,n.fromCache),t.converter)}class V_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qb(e)}get(e){const t=P_(e,this._firestore),n=new O_(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return gh();const r=e[0];if(r.isFoundDocument())return new a_(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new a_(this._firestore,n,t._key,null,t.converter);throw gh()})}set(e,t,n){const r=P_(e,this._firestore),i=x_(r.converter,t,n),s=jb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=P_(e,this._firestore);let s;return s="string"==typeof(t=(0,Qo.m9)(t))||t instanceof Nb?Jb(this._dataReader,"Transaction.update",i._key,t,n,r):Wb(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=P_(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=P_(e,this._firestore),n=new D_(this._firestore);return super.get(e).then(e=>new h_(this._firestore,n,t._key,e._document,new l_(!1,!1),t.converter))}}function Z_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new wh("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function q_(){if("undefined"==typeof Uint8Array)throw new wh("unimplemented","Uint8Arrays are not available in this environment.")}function j_(){if("undefined"==typeof atob)throw new wh("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(e){ch=e})(Wo.SDK_VERSION),(0,Wo._registerComponent)(new Jo.wA("firestore",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new Eb(n,new Sh(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),(0,Wo.registerVersion)(oh,"3.1.1",void 0),(0,Wo.registerVersion)(oh,"3.1.1","esm2017");class z_{constructor(e){this._delegate=e}static fromBase64String(e){return j_(),new z_(Pb.fromBase64String(e))}static fromUint8Array(e){return q_(),new z_(Pb.fromUint8Array(e))}toBase64(){return j_(),this._delegate.toBase64()}toUint8Array(){return q_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function B_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class H_{enableIndexedDbPersistence(e,t){return function(e,t){Ob(e=db(e,Eb));const n=kb(e),r=e._freezeSettings(),i=new Lw;return xb(n,i,new Dw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Ob(e=db(e,Eb));const t=kb(e),n=e._freezeSettings(),r=new Lw;return xb(t,r,new Rw(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new wh(vh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new bh;return e._queue.enqueueAndForgetEvenWhileRestricted((0,Ko.Z)(function*(){try{yield(n=(0,Ko.Z)(function*(e){if(!fg.bt())return Promise.resolve();const t=e+"main";yield fg.delete(t)}),function(e){return n.apply(this,arguments)})(Cm(e._databaseId,e._persistenceKey)),t.resolve()}catch(n){t.reject(n)}var n})),t.promise}(e._delegate)}}class $_{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof sb||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&fh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=db(e,gb))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&fh("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ah.MOCK_USER;else{t=(0,Qo.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new wh(vh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ah(s)}e._credentials=new Ih(new _h(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,Ko.Z)(function*(){const t=yield Jw(e),n=yield Qw(e);return t.setNetworkEnabled(!0),function(e){const t=yh(e);return t.Kr.delete(0),Oy(t)}(n)}))}(kb(e=db(e,Eb)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,Ko.Z)(function*(){const t=yield Jw(e),n=yield Qw(e);return t.setNetworkEnabled(!1),(r=(0,Ko.Z)(function*(e){const t=yh(e);t.Kr.add(0),yield Py(t),t.Wr.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(kb(e=db(e,Eb)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,cb("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new bh;return e.asyncQueue.enqueueAndForget((0,Ko.Z)(function*(){return function(e,t){return nw.apply(this,arguments)}(yield Xw(e),t)})),t.promise}(kb(e=db(e,Eb)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new Fw(t);return e.asyncQueue.enqueueAndForget((0,Ko.Z)(function*(){return t=yield eb(e),r=n,yh(t).Zr.add(r),void r.next();var t,r})),()=>{n.Xo(),e.asyncQueue.enqueueAndForget((0,Ko.Z)(function*(){return t=yield eb(e),r=n,void yh(t).Zr.delete(r);var t,r}))}}(kb(e=db(e,Eb)),Sb(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new wh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new oT(this,wb(this._delegate,e))}catch(t){throw Q_(t,"collection()","Firestore.collection()")}}doc(e){try{return new Y_(this,bb(this._delegate,e))}catch(t){throw Q_(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rT(this,function(e,t){if(e=db(e,gb),ab("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new wh(vh.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new yb(e,null,(n=t,new Ud(Vh.emptyPath(),n)));var n}(this._delegate,e))}catch(t){throw Q_(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new bh;return e.asyncQueue.enqueueAndForget((0,Ko.Z)(function*(){const r=yield(i=e,Kw(i).then(e=>e.datastore));var i;new Zw(e.asyncQueue,r,t,n).run()})),n.promise}(kb(e),n=>t(new V_(e,n)))}(this._delegate,t=>e(new K_(this,t)))}batch(){return kb(this._delegate),new W_(new N_(this._delegate,e=>F_(this._delegate,e)))}loadBundle(e){return function(e,t){const n=kb(e=db(e,Eb)),r=new Cb;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,r=function(e,t){if(e instanceof Uint8Array)return Mw(e,t);if(e instanceof ArrayBuffer)return Mw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),new Uw(r,t);var r}(n,Ty(t));e.asyncQueue.enqueueAndForget((0,Ko.Z)(function*(){!function(e,t,n){const r=yh(e);var i;(i=(0,Ko.Z)(function*(e,t,n){try{const i=yield t.getMetadata();if(yield function(e,t){const n=yh(e),r=gp(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Je.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,i))return yield t.close(),void n._completeWith((r=i,{taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}));n._updateProgress(Dv(i));const s=new Pv(i,e.localStore,t.N);let o=yield t.Qo();for(;o;){const e=yield s.fo(o);e&&n._updateProgress(e),o=yield t.Qo()}const a=yield s.complete();yield lw(e,a.En,void 0),yield function(e,t){const n=yh(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Je.saveBundleMetadata(e,t))}(e.localStore,i),n._completeWith(a.progress)}catch(i){fh("SyncEngine",`Loading bundle failed with ${i}`),n._failWith(i)}var r}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Xw(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,Ko.Z)(function*(){return function(e,t){const n=yh(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Je.getNamedQuery(e,t))}(yield Yw(e),t)}))}(kb(e=db(e,Eb)),t).then(t=>t?new yb(e,null,t.query):null)}(this._delegate,e).then(e=>e?new rT(this,e):null)}}class G_ extends A_{constructor(e){super(),this.firestore=e}convertBytes(e){return new z_(new Pb(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Y_.forKey(t,this.firestore,null)}}class K_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new G_(e)}get(e){const t=aT(e);return this._delegate.get(t).then(e=>new tT(this._firestore,new h_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=aT(e);return n?(Z_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=aT(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=aT(e);return this._delegate.delete(t),this}}class W_{constructor(e){this._delegate=e}set(e,t,n){const r=aT(e);return n?(Z_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=aT(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=aT(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class J_{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new d_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new nT(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=J_.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new J_(e,new G_(e),t),r.set(t,i)),i}}J_.INSTANCES=new WeakMap;class Y_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new G_(e)}static forPath(e,t,n){if(e.length%2!=0)throw new wh("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Y_(t,new mb(t._delegate,n,new ed(e)))}static forKey(e,t,n){return new Y_(t,new mb(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new oT(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new oT(this.firestore,wb(this._delegate,e))}catch(t){throw Q_(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qo.m9)(e))instanceof mb&&_b(this._delegate,e)}set(e,t){t=Z_("DocumentReference.set",t);try{return t?R_(this._delegate,e,t):R_(this._delegate,e)}catch(n){throw Q_(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?L_(this._delegate,e):L_(this._delegate,e,t,...n)}catch(r){throw Q_(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return F_(db(e.firestore,Eb),[new Pf(e._key,wf.none())])}(this._delegate)}onSnapshot(...e){const t=X_(e),n=eT(e,e=>new tT(this.firestore,new h_(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return M_(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=db(e,mb);const t=db(e.firestore,Eb),n=kb(t),r=new D_(t);return function(e,t){const n=new bh;return e.asyncQueue.enqueueAndForget((0,Ko.Z)(function*(){return(r=(0,Ko.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=yh(e);return n.persistence.runTransaction("read document","readonly",e=>n.Qn.An(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new wh(vh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(r){const e=mv(r,`Failed to get document '${t} from cache`);n.reject(e)}}),function(e,t,n){return r.apply(this,arguments)})(yield Yw(e),t,n);var r})),n.promise}(n,e._key).then(n=>new h_(t,r,e._key,n,new l_(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=db(e,mb);const t=db(e.firestore,Eb);return nb(kb(t),e._key,{source:"server"}).then(n=>U_(t,e,n))}(this._delegate):function(e){e=db(e,mb);const t=db(e.firestore,Eb);return nb(kb(t),e._key).then(n=>U_(t,e,n))}(this._delegate),t.then(e=>new tT(this.firestore,new h_(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new Y_(this.firestore,this._delegate.withConverter(e?J_.getInstance(this.firestore,e):null))}}function Q_(e,t,n){return e.message=e.message.replace(t,n),e}function X_(e){for(const t of e)if("object"==typeof t&&!B_(t))return t;return{}}function eT(e,t){var n,r;let i;return i=B_(e[0])?e[0]:B_(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class tT{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Y_(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return g_(this._delegate,e._delegate)}}class nT extends tT{data(e){const t=this._delegate.data(e);return function(e,t){e||gh()}(void 0!==t),t}}class rT{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new G_(e)}where(e,t,n){try{return new rT(this.firestore,v_(this._delegate,function(e,t,n){const r=t,i=u_("where",e);return new w_(i,r,n)}(e,t,n)))}catch(r){throw Q_(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new rT(this.firestore,v_(this._delegate,function(e,t="asc"){const n=t,r=u_("orderBy",e);return new b_(r,n)}(e,t)))}catch(n){throw Q_(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rT(this.firestore,v_(this._delegate,function(e){return fb("limit",e),new __("limit",e,"F")}(e)))}catch(t){throw Q_(t,"limit()","Query.limit()")}}limitToLast(e){try{return new rT(this.firestore,v_(this._delegate,function(e){return fb("limitToLast",e),new __("limitToLast",e,"L")}(e)))}catch(t){throw Q_(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rT(this.firestore,v_(this._delegate,function(...e){return new T_("startAt",e,!0)}(...e)))}catch(t){throw Q_(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rT(this.firestore,v_(this._delegate,function(...e){return new T_("startAfter",e,!1)}(...e)))}catch(t){throw Q_(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rT(this.firestore,v_(this._delegate,function(...e){return new I_("endBefore",e,!0)}(...e)))}catch(t){throw Q_(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rT(this.firestore,v_(this._delegate,function(...e){return new I_("endAt",e,!1)}(...e)))}catch(t){throw Q_(t,"endAt()","Query.endAt()")}}isEqual(e){return Tb(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=db(e,yb);const t=db(e.firestore,Eb),n=kb(t),r=new D_(t);return function(e,t){const n=new bh;return e.asyncQueue.enqueueAndForget((0,Ko.Z)(function*(){return(r=(0,Ko.Z)(function*(e,t,n){try{const r=yield jm(e,t,!0),i=new Mv(t,r.Gn),s=i.Io(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(r){const e=mv(r,`Failed to execute query '${t} against cache`);n.reject(e)}}),function(e,t,n){return r.apply(this,arguments)})(yield Yw(e),t,n);var r})),n.promise}(n,e._query).then(n=>new f_(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=db(e,yb);const t=db(e.firestore,Eb),n=kb(t),r=new D_(t);return rb(n,e._query,{source:"server"}).then(n=>new f_(t,r,e,n))}(this._delegate):function(e){e=db(e,yb);const t=db(e.firestore,Eb),n=kb(t),r=new D_(t);return m_(e._query),rb(n,e._query).then(n=>new f_(t,r,e,n))}(this._delegate),t.then(e=>new sT(this.firestore,new f_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=X_(e),n=eT(e,e=>new sT(this.firestore,new f_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return M_(this._delegate,t,n)}withConverter(e){return new rT(this.firestore,this._delegate.withConverter(e?J_.getInstance(this.firestore,e):null))}}class iT{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new nT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new rT(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new nT(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new iT(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new nT(this._firestore,n))})}isEqual(e){return g_(this._delegate,e._delegate)}}class oT extends rT{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Y_(this.firestore,e):null}doc(e){try{return new Y_(this.firestore,void 0===e?bb(this._delegate):bb(this._delegate,e))}catch(t){throw Q_(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=db(e.firestore,Eb),r=bb(e),i=x_(e.converter,t);return F_(n,[jb(qb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,wf.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new Y_(this.firestore,e))}isEqual(e){return _b(this._delegate,e._delegate)}withConverter(e){return new oT(this.firestore,this._delegate.withConverter(e?J_.getInstance(this.firestore,e):null))}}function aT(e){return db(e,mb)}class cT{constructor(...e){this._delegate=new Nb(...e)}static documentId(){return new cT(qh.keyField().canonicalString())}isEqual(e){return(e=(0,Qo.m9)(e))instanceof Nb&&this._delegate._internalPath.isEqual(e._internalPath)}}class uT{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Hb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new uT(e)}static delete(){const e=new zb("deleteField");return e._methodName="FieldValue.delete",new uT(e)}static arrayUnion(...e){const t=function(...e){return new $b("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new uT(t)}static arrayRemove(...e){const t=function(...e){return new Gb("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new uT(t)}static increment(e){const t=function(e){return new Kb("increment",e)}(e);return t._methodName="FieldValue.increment",new uT(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const lT={Firestore:$_,GeoPoint:Rb,Timestamp:Dh,Blob:z_,Transaction:K_,WriteBatch:W_,DocumentReference:Y_,DocumentSnapshot:tT,Query:rT,QueryDocumentSnapshot:nT,QuerySnapshot:sT,CollectionReference:oT,FieldPath:cT,FieldValue:uT,setLogLevel:function(e){!function(e){uh.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){(function(e,t){e.INTERNAL.registerComponent(new Jo.wA("firestore-compat",e=>((e,t)=>new $_(e,t,new H_))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},lT)))})(e),e.registerVersion("@firebase/firestore-compat","0.1.4")}(Go.Z);var hT=n(6682),dT=n(309),fT=n(7771),pT=n(8858);class gT extends Nn.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new mT(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Pn.N;if(this.isStopped||this.hasError?s=Ir.w.EMPTY:(this.observers.push(e),s=new pT.W(this,e)),r&&e.add(e=new dT.ht(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||fT.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class mT{constructor(e,t){this.time=e,this.value=t}}function yT(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(u){let l;o++,!i||a?(a=!1,i=new gT(e,t,r),l=i.subscribe(this),s=u.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){c=!0,s=void 0,i.complete()}}),c&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function vT(e,t){return t?Jn(()=>e,t):Jn(()=>e)}var wT=n(3101);n(2329);const bT=new Map,_T={activated:!1,tokenObservers:[]},TT={initialized:!1,enabled:!1};function IT(e){return bT.get(e)||_T}function ST(e,t){bT.set(e,t)}function CT(){return TT}class ET{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ko.Z)(function*(){t.stop();try{t.pending=new Qo.BH,yield function(e){return new Promise(t=>{setTimeout(t,e)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qo.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(n){t.retryPolicy(n)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const kT=new Qo.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function AT(e){if(!IT(e).activated)throw kT.create("use-before-activation",{appName:e.name})}function xT(e,t){return OT.apply(this,arguments)}function OT(){return(OT=(0,Ko.Z)(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(t),headers:r};let o,a;try{o=yield fetch(e,s)}catch(h){throw kT.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw kT.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw kT.create("fetch-parse-error",{originalErrorMessage:h.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw kT.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+u,issuedAtTimeMillis:l}})).apply(this,arguments)}function NT(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const PT="firebase-app-check-store";let DT=null;function RT(){return DT||(DT=new Promise((e,t)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(kT.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(PT,{keyPath:"compositeKey"})}}}catch(n){t(kT.create("storage-open",{originalErrorMessage:n.message}))}}),DT)}function LT(){return(LT=(0,Ko.Z)(function*(e,t){const n=(yield RT()).transaction(PT,"readwrite"),r=n.objectStore(PT).put({compositeKey:e,value:t});return new Promise((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(kT.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}const MT=new Yo.Yd("@firebase/app-check");function FT(e,t){return(0,Qo.hl)()?function(e,t){return function(e,t){return LT.apply(this,arguments)}(function(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(e=>{MT.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function UT(){return CT().enabled}function VT(){return ZT.apply(this,arguments)}function ZT(){return(ZT=(0,Ko.Z)(function*(){const e=CT();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const qT={error:"UNKNOWN_ERROR"};function jT(e){return Qo.US.encodeString(JSON.stringify(e),!1)}function zT(e){return BT.apply(this,arguments)}function BT(){return(BT=(0,Ko.Z)(function*(e,t=!1){const n=e.app;AT(n);const r=IT(n);let i,s,o=r.token;if(!o){const e=yield r.cachedTokenPromise;e&&GT(e)&&(o=e,ST(n,Object.assign(Object.assign({},r),{token:o})),$T(n,{token:o.token}))}if(!t&&o&&GT(o))return{token:o.token};if(UT()){const t=yield xT(NT(n,yield VT()),e.platformLoggerProvider);return yield FT(n,t),ST(n,Object.assign(Object.assign({},r),{token:t})),{token:t.token}}try{o=yield r.provider.getToken()}catch(a){MT.error(a),i=a}return o?(s={token:o.token},ST(n,Object.assign(Object.assign({},r),{token:o})),yield FT(n,o)):s=KT(i),$T(n,s),s})).apply(this,arguments)}function HT(e,t){const n=IT(e),r=n.tokenObservers.filter(e=>e.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),ST(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function $T(e,t){const n=IT(e).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function GT(e){return e.expireTimeMillis-Date.now()>0}function KT(e){return{token:jT(qT),error:e}}class WT{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=IT(this.app);for(const t of e)HT(this.app,t.next);return Promise.resolve()}}const JT="app-check-internal";(0,Wo._registerComponent)(new Jo.wA("app-check",e=>function(e,t){return new WT(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(JT).initialize()})),(0,Wo._registerComponent)(new Jo.wA(JT,e=>function(e){return{getToken:t=>zT(e,t),addTokenListener:t=>function(e,t,n,r){const{app:i}=e,s=IT(i),o={next:n,error:r,type:t},a=Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]});if(!a.tokenRefresher){const t=function(e){const{app:t}=e;return new ET((0,Ko.Z)(function*(){let n;if(n=IT(t).token?yield zT(e,!0):yield zT(e),n.error)throw n.error}),()=>!0,()=>{const e=IT(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(e);a.tokenRefresher=t}if(!a.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&a.tokenRefresher.start(),s.token&&GT(s.token)){const e=s.token;Promise.resolve().then(()=>n({token:e.token})).catch(()=>{})}else null==s.token&&s.cachedTokenPromise.then(e=>{e&&GT(e)&&n({token:e.token})}).catch(()=>{});ST(i,a)}(e,"INTERNAL",t),removeTokenListener:t=>HT(e.app,t)}}(e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wo.registerVersion)("@firebase/app-check","0.4.2");class YT{constructor(){return(0,Vo.vb)("app-check")}}"undefined"!=typeof window&&window;var QT=n(7841);const XT=new r.OlP("angularfire2.auth.use-emulator"),eI=new r.OlP("angularfire2.auth.settings"),tI=new r.OlP("angularfire2.auth.tenant-id"),nI=new r.OlP("angularfire2.auth.langugage-code"),rI=new r.OlP("angularfire2.auth.use-device-language"),iI=new r.OlP("angularfire.auth.persistence"),sI=(e,t,n,r,i,s,o,a)=>(0,$o.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const c=t.runOutsideAngular(()=>e.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,s&&c.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))c.settings[e]=t;return a&&c.setPersistence(a),c},[n,r,i,s,o,a]);let oI=(()=>{class e{constructor(e,t,r,i,s,o,a,c,u,l,h,d){const f=new Nn.xQ,p=(0,ke.of)(void 0).pipe((0,dT.QV)(s.outsideAngular),Jn(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,4671)))),(0,Le.U)(()=>(0,$o.on)(e,i,t)),(0,Le.U)(e=>sI(e,i,o,c,u,l,a,h)),yT({bufferSize:1,refCount:!1}));if($(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ke.of)(null);else{p.pipe(_r()).subscribe();const e=p.pipe(Jn(e=>e.getRedirectResult().then(e=>e,()=>null)),Vo.iC,yT({bufferSize:1,refCount:!1})),t=p.pipe(Jn(e=>new Ae.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=p.pipe(Jn(e=>new Ae.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(vT(t),(0,wT.R)(s.outsideAngular),(0,dT.QV)(s.insideAngular)),this.user=e.pipe(vT(n),(0,wT.R)(s.outsideAngular),(0,dT.QV)(s.insideAngular)),this.idToken=this.user.pipe(Jn(e=>e?(0,mt.D)(e.getIdToken()):(0,ke.of)(null))),this.idTokenResult=this.user.pipe(Jn(e=>e?(0,mt.D)(e.getIdTokenResult()):(0,ke.of)(null))),this.credential=(0,hT.T)(e,f,this.authState.pipe(Pe(e=>!e))).pipe((0,Le.U)(e=>(null==e?void 0:e.user)?e:null),(0,wT.R)(s.outsideAngular),(0,dT.QV)(s.insideAngular))}return(0,$o.pX)(this,p,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>f.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG($o.Dh),r.LFG($o.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Vo.HU),r.LFG(XT,8),r.LFG(eI,8),r.LFG(tI,8),r.LFG(nI,8),r.LFG(rI,8),r.LFG(iI,8),r.LFG(YT,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function aI(e,t){return function(e,t=Uo.z){return new Ae.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function cI(e,t){return aI(e,t).pipe((0,Le.U)(e=>({payload:e,type:"query"})))}function uI(e,t){return cI(e,t).pipe(rr(void 0),Zo(),(0,Le.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function lI(e,t,n){return uI(e,n).pipe(ir((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return hI(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return hI(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return hI(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),e=>e.lift(new zo(void 0,void 0)),(0,Le.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function hI(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function dI(e){return(!e||0===e.length)&&(e=["added","removed","modified"]),e}class fI{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=uI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Le.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(rr(void 0),Zo(),Pe(([e,t])=>t.length>0||!e),(0,Le.U)(([e,t])=>t),Vo.iC)}auditTrail(e){return this.stateChanges(e).pipe(ir((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=dI(e);return lI(this.query,t,this.afs.schedulers.outsideAngular).pipe(Vo.iC)}valueChanges(e={}){return cI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),Vo.iC)}get(e){return(0,mt.D)(this.query.get(e)).pipe(Vo.iC)}add(e){return this.ref.add(e)}doc(e){return new pI(this.ref.doc(e),this.afs)}}class pI{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=bI(n,t);return new fI(r,i,this.afs)}snapshotChanges(){return function(e,t){return aI(e,t).pipe(rr(void 0),Zo(),(0,Le.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Vo.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Le.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,mt.D)(this.ref.get(e)).pipe(Vo.iC)}}class gI{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?uI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),Pe(e=>e.length>0),Vo.iC):uI(this.query,this.afs.schedulers.outsideAngular).pipe(Vo.iC)}auditTrail(e){return this.stateChanges(e).pipe(ir((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=dI(e);return lI(this.query,t,this.afs.schedulers.outsideAngular).pipe(Vo.iC)}valueChanges(e={}){return cI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),Vo.iC)}get(e){return(0,mt.D)(this.query.get(e)).pipe(Vo.iC)}}const mI=new r.OlP("angularfire2.enableFirestorePersistence"),yI=new r.OlP("angularfire2.firestore.persistenceSettings"),vI=new r.OlP("angularfire2.firestore.settings"),wI=new r.OlP("angularfire2.firestore.use-emulator");function bI(e,t=(e=>e)){return{query:t(e),ref:e}}let _I=(()=>{class e{constructor(e,t,n,r,i,s,o,a,c,u,l,h,d,f,p,g,m){this.schedulers=o;const y=(0,$o.on)(e,s,t),v=c;u&&sI(y,s,l,d,f,p,h,g),[this.firestore,this.persistenceEnabled$]=(0,$o.cc)(`${y.name}.firestore`,"AngularFirestore",y.name,()=>{const e=s.runOutsideAngular(()=>y.firestore());if(r&&e.settings(r),v&&e.useEmulator(...v),n&&!$(i)){const t=()=>{try{return(0,mt.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,ke.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,ke.of)(!1)]},[r,v,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=bI(n,t),s=this.schedulers.ngZone.run(()=>r);return new fI(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new gI(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new pI(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG($o.Dh),r.LFG($o.xv,8),r.LFG(mI,8),r.LFG(vI,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Vo.HU),r.LFG(yI,8),r.LFG(wI,8),r.LFG(oI,8),r.LFG(XT,8),r.LFG(eI,8),r.LFG(tI,8),r.LFG(nI,8),r.LFG(rI,8),r.LFG(iI,8),r.LFG(YT,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),TI=(()=>{class e{constructor(){QT.Z.registerVersion("angularfire",Vo.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:mI,useValue:!0},{provide:yI,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[_I]}),e})(),II=(()=>{class e{constructor(e,t){this.afs=e,this.http=t,this.itemsColletionForBicycle=this.afs.collection("bicycles"),this.itemsColletionForParts=this.afs.collection("parts"),this.itemsColletionForAccessories=this.afs.collection("accessories"),this.itemsColletionForClothing=this.afs.collection("clothing"),this.bicycles=[],this.accessoriesData=[],this.partsData=[],this.clothingData=[],this.bikeImgsPage1=[],this.bikeImgsPage2=[],this.bikeImgs=[],this.parts=[],this.accessories=[],this.clothing=[]}getBicyclesPage1(){return this.http.get("https://api.unsplash.com/collections/iuAONw1hf3k/photos/?query=''&per_page=20&client_id=uSqHNuvq55SqP0cICoLzjGSpxCCEz9sZ92JKI9yvsrE&page=1").pipe((0,Le.U)(e=>e.map(e=>e.urls.small)))}getBicyclesPage2(){return this.http.get("https://api.unsplash.com/collections/iuAONw1hf3k/photos/?query=''&per_page=20&client_id=uSqHNuvq55SqP0cICoLzjGSpxCCEz9sZ92JKI9yvsrE&page=2").pipe((0,Le.U)(e=>e.map(e=>e.urls.small)))}getParts(){return this.http.get("https://api.unsplash.com/collections/MkltW8eSTkQ/photos/?query=''&per_page=20&client_id=uSqHNuvq55SqP0cICoLzjGSpxCCEz9sZ92JKI9yvsrE").pipe((0,Le.U)(e=>e.map(e=>e.urls.small)))}getAccessories(){return this.http.get("https://api.unsplash.com/collections/-_X6rVMs3UA/photos/?query=''&per_page=20&client_id=uSqHNuvq55SqP0cICoLzjGSpxCCEz9sZ92JKI9yvsrE").pipe((0,Le.U)(e=>e.map(e=>e.urls.small)))}getClothing(){return this.http.get("https://api.unsplash.com/collections/VzcUWJHRjgA/photos/?query=''&per_page=20&client_id=uSqHNuvq55SqP0cICoLzjGSpxCCEz9sZ92JKI9yvsrE").pipe((0,Le.U)(e=>e.map(e=>e.urls.small)))}makeBrand(e){for(var t="",n=["Hannondale","Kube","Katch","Marinu","Zona","Harley","Biancho"],r=n.length,i=0;i<e;i++)t+=n[Math.floor(Math.random()*r)];return t}makeid(e){for(var t="",n="ABCDEFG",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t}getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}makeDesc(e){for(var t="",n=["The Lifestyle comes with a simple Shimano 7-speed drivetrain. The gearing is perfect for moderate hills and long distances on flat surfaces. Alloy linear-pull brakes offer excellent stopping power on the pavement. With the double-wall alloy rims paired with 27.5 x 1.95 inches tires, you'll have a sturdy set up with some extra cushion underneath you.","This model comes with the new Shimano Deore M6100 12-Speed drivetrain with a single chainring setup which can be usually seen on significantly more expensive bikes. There are a few benefits of this system - it makes shifting much simpler because handlebars occupy only one shifter and the overall weight is significantly lower compared with double or triple chainrings setup. The crankset comes with 32 teeth narrow-wide chainring for firm chain retention. The new 12-speed cassette uses Beam Spider construction to keep the weight down while increasing gearing range. Using new Micro Spline freehub body and HyperGlide+ tooth profile, the 10-51T cassette delivers advanced shifting performance. Lastly, the ride is significantly quieter, with a clutch equipped derailleur which perfectly secures the chain and eliminates any bouncing.","The bike comes equipped with a 120mm travel SR Suntour XCR 32 air suspension fork with thru-axle to give the bike greater control while descending rough terrain at high speeds. With the increased travel in the fork, the head tube and stem length have been shortened to preserve the neutral riding position that Polygons are known for. There has been no compromise on the popular handling characteristics of the bike, yet the additional travel ensures the bike is more forgiving in more technical environments. The Shimano M201 hydraulic disc brakes offer excellent modulation, fierce stopping power and yet are simple to service.",'All too often, corners are cut to meet price-points in the entry-level road bike market, but the Allez redefines what it means to be "entry level." Focusing on weight, refinement, and reliability like nothing else in its class, the Allez is the first to make these technologies accessible to everyone. Whether you\'re just getting into road cycling, commuting, or looking for a new bike, the Allez is just as performance-packed as it is versatile.',"Entry-level road bikes often times feature either alloy or cheap carbon fiber forks that greatly detract from the overall ride quality. But with a full FACT carbon fiber fork, the Allez is better handling, smoother riding, and lower in weight, floating over rough chip-seal and carving through corners like a slalom skier.","This Allez also features integrated rack and fender mounts, allowing you to get weight of your backpack off you and onto a lightweight rack. This not only makes for a good road bike, but it also enables you to transform it into a fast commuter.","Boasting contemporary race geometry, English-threaded bottom bracket shell, shortened chainstay, replaceable derailleur hanger, and substantial mud clearance, the Nature Cross now features a Columbus Futura carbon fork with adjustable rake, tapered head and steerer tubes, and clearance for 700c x 42mm tires."],r=n.length,i=0;i<e;i++)t+=n[Math.floor(Math.random()*r)];return t}createBicycles(){this.getBicyclesPage1().subscribe(e=>{this.bikeImgsPage1=e}),this.getBicyclesPage2().subscribe(e=>{this.bikeImgsPage2=e}),setTimeout(()=>{this.bikeImgs=[...this.bikeImgsPage1,...this.bikeImgsPage2];for(let e=0;e<40;e++)this.bicycles.push({img:this.bikeImgs[e]}),e%3==0&&(this.bicycles[e].categorie="Road Bike"),e%3==1&&(this.bicycles[e].categorie="City Bike"),e%3==2&&(this.bicycles[e].categorie="Mountain Bike"),this.bicycles[e].id=Fo(),this.bicycles[e].title=this.makeBrand(1)+" "+this.makeid(1)+this.getRandomInt(1e3,9999),this.bicycles[e].price=this.getRandomInt(500,900),this.bicycles[e].description=this.makeDesc(1),this.itemsColletionForBicycle.add(this.bicycles[e])},3e3)}createParts(){this.getParts().subscribe(e=>{this.parts=e}),setTimeout(()=>{for(let e=0;e<20;e++)this.partsData.push({img:this.parts[e]}),this.partsData[e].id=Fo(),this.partsData[e].title="Model "+this.makeid(1)+this.getRandomInt(1e3,9999),this.partsData[e].price=this.getRandomInt(30,300),this.partsData[e].description=this.makeDesc(1),this.itemsColletionForParts.add(this.partsData[e])},3e3)}createAccessories(){this.getAccessories().subscribe(e=>{this.accessories=e}),setTimeout(()=>{for(let e=0;e<20;e++)this.accessoriesData.push({img:this.accessories[e]}),this.accessoriesData[e].id=Fo(),this.accessoriesData[e].title="Model "+this.makeid(1)+this.getRandomInt(1e3,9999),this.accessoriesData[e].price=this.getRandomInt(30,300),this.accessoriesData[e].description=this.makeDesc(1),this.itemsColletionForAccessories.add(this.accessoriesData[e])},3e3)}createClothing(){this.getClothing().subscribe(e=>{this.clothing=e}),setTimeout(()=>{for(let e=0;e<20;e++)this.clothingData.push({img:this.clothing[e]}),this.clothingData[e].id=Fo(),this.clothingData[e].title="Model "+this.makeid(1)+this.getRandomInt(1e3,9999),this.clothingData[e].price=this.getRandomInt(30,300),this.clothingData[e].description=this.makeDesc(1),this.itemsColletionForClothing.add(this.clothingData[e])},3e3)}postData(){this.createBicycles(),this.createParts(),this.createAccessories(),this.createClothing()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(_I),r.LFG(nt))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),SI=(()=>{class e{constructor(e,t){this.authService=e,this.databaseService=t,this.test=[]}ngOnInit(){this.authService.autoLogin()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(xo),r.Y36(II))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:[co],styles:[""]}),e})();const CI=function(){return["/home"]};let EI=(()=>{class e{constructor(e,t){this.authService=e,this.router=t}ngOnInit(){}onLogin(e){if(e.invalid)return console.log("input is invalid");console.log(e.value),this.authService.logIn(e.value.email,e.value.password).subscribe(e=>{this.router.navigate(["/shopfor"])},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(xo),r.Y36(no))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-login"]],decls:14,vars:2,consts:[[1,"main-main"],[1,"main"],[3,"ngSubmit"],["loginForm","ngForm"],["ngModel","","type","email","name","email","required","","email","","placeholder","Email"],["ngModel","","type","password","name","password","required","","minlenght","4","placeholder","Password"],[1,"btn"],["routerLinkActive","router-link-active",3,"routerLink"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r._uU(3,"LOGIN"),r.qZA(),r.TgZ(4,"form",2,3),r.NdJ("ngSubmit",function(){r.CHM(e);const n=r.MAs(5);return t.onLogin(n)}),r._UZ(6,"input",4),r._UZ(7,"input",5),r.TgZ(8,"button",6),r._uU(9,"LOG IN"),r.qZA(),r.TgZ(10,"div"),r._uU(11,"or "),r.TgZ(12,"a",7),r._uU(13,"Return to Store"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(12),r.Q6J("routerLink",r.DdM(1,CI)))},directives:[wn,Gt,gn,Ct,$t,vn,Sn,En,so,ao],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main[_ngcontent-%COMP%]{width:30%;padding:30px 0}.main-main[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}input[_ngcontent-%COMP%]{border:none;padding:10px;margin:10px 0}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}"]}),e})();const kI=function(){return["/home"]};let AI=(()=>{class e{constructor(e,t){this.authService=e,this.router=t}ngOnInit(){}onSubmit(e){if(e.invalid)return console.log("input is invalid");this.authService.signUp(e.value.email,e.value.password).subscribe(e=>{this.router.navigate(["/shopfor"])},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(xo),r.Y36(no))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-createaccount"]],decls:14,vars:2,consts:[[1,"main-main"],[1,"main"],[3,"ngSubmit"],["authForm","ngForm"],["ngModel","","type","email","name","email","required","","email","","placeholder","Email"],["ngModel","","type","password","name","password","required","","minlenght","4","placeholder","Password"],[1,"btn"],["routerLinkActive","router-link-active",3,"routerLink"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r._uU(3,"CREATE ACCOUNT"),r.qZA(),r.TgZ(4,"form",2,3),r.NdJ("ngSubmit",function(){r.CHM(e);const n=r.MAs(5);return t.onSubmit(n)}),r._UZ(6,"input",4),r._UZ(7,"input",5),r.TgZ(8,"button",6),r._uU(9,"SIGN UP"),r.qZA(),r.TgZ(10,"div"),r._uU(11,"or "),r.TgZ(12,"a",7),r._uU(13,"Return to Store"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(12),r.Q6J("routerLink",r.DdM(1,kI)))},directives:[wn,Gt,gn,Ct,$t,vn,Sn,En,so,ao],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main[_ngcontent-%COMP%]{width:30%;padding:30px 0}.main-main[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}input[_ngcontent-%COMP%]{border:none;padding:10px;margin:10px 0}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}"]}),e})(),xI=(()=>{class e{constructor(e,t){this.afs=e,this.http=t,this.items=["Bikes","Parts","Accessories","Clothing"],this.biketypes=["Road Bike","Mountain Bike","City Bike"],this.mainImages=[],this.bikePage1=[],this.bikePage2=[],this.parts=[],this.accessories=[],this.clothing=[],this.homeProducts=[],this.afs.collection("bicycles").valueChanges().subscribe(e=>{e.slice(0,20).map(e=>{this.bikePage1.push(e)}),this.homeProducts[0]=this.bikePage1[2]}),this.afs.collection("bicycles").valueChanges().subscribe(e=>{e.slice(21,41).map(e=>{this.bikePage2.push(e)})}),this.afs.collection("parts").valueChanges().subscribe(e=>{e.slice(0,20).map(e=>{this.parts.push(e)}),this.homeProducts[1]=this.parts[2]}),this.afs.collection("clothing").valueChanges().subscribe(e=>{e.slice(0,20).map(e=>{this.clothing.push(e)}),this.homeProducts[3]=this.clothing[1]}),this.afs.collection("accessories").valueChanges().subscribe(e=>{e.slice(0,20).map(e=>{this.accessories.push(e)}),this.homeProducts[2]=this.accessories[1]}),this.afs.collection("mainimages").valueChanges().subscribe(e=>{e.map(e=>{this.mainImages.push(e)})})}getDataFromCate(e){this.getData=e}getToDetail(e,t){this.toDetailData=e,this.toCategorieName=t}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(_I),r.LFG(nt))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const OI=["el"],NI=["first"],PI=["second"],DI=["carousel_nav"];let RI=(()=>{class e{constructor(e){this.itemService=e}next(){var e=this.map.nativeElement,t=e.querySelectorAll(".current_slide")[0],n=t.nextElementSibling;if(null!==n){e.style.transform="translateX(-"+n.style.left+")",t.classList.remove("current_slide"),n.classList.add("current_slide");var r=this.nav.nativeElement.querySelectorAll(".current")[0],i=r.nextElementSibling;r.classList.remove("current"),i.classList.add("current")}}previous(){var e=this.map.nativeElement,t=e.querySelectorAll(".current_slide")[0],n=t.previousElementSibling;if(null!==n){e.style.transform="translateX("+n.style.left+")",t.classList.remove("current_slide"),n.classList.add("current_slide");var r=this.nav.nativeElement.querySelectorAll(".current")[0],i=r.previousElementSibling;r.classList.remove("current"),i.classList.add("current")}}ngOnInit(){this.mainImages=this.itemService.mainImages}ngAfterViewInit(){var e=this.first.nativeElement.getBoundingClientRect().width;Array.from(this.map.nativeElement.children).forEach((t,n)=>{t.style.left=e*n+"px"})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(xI))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-slide"]],viewQuery:function(e,t){if(1&e&&(r.Gf(OI,5),r.Gf(NI,5),r.Gf(PI,5),r.Gf(DI,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.map=e.first),r.iGM(e=r.CRH())&&(t.first=e.first),r.iGM(e=r.CRH())&&(t.second=e.first),r.iGM(e=r.CRH())&&(t.nav=e.first)}},decls:19,vars:2,consts:[[1,"carousel"],[1,"top_section"],[1,"carousel_button","car-left",3,"click"],[1,"fas","fa-chevron-left"],[1,"carousel_track_container"],[1,"carousel_track"],["el",""],[1,"carousel_slide","current_slide"],["first",""],["alt","Slides",1,"carousel_image",3,"src"],[1,"carousel_slide","test"],["second",""],[1,"carousel_button","car-right",3,"click"],[1,"fas","fa-chevron-right"],[1,"carousel_nav","bottom_section"],["carousel_nav",""],[1,"carousel_indicator","current"],[1,"carousel_indicator"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"button",2),r.NdJ("click",function(){return t.previous()}),r._UZ(3,"i",3),r.qZA(),r.TgZ(4,"div",4),r.TgZ(5,"ul",5,6),r.TgZ(7,"li",7,8),r._UZ(9,"img",9),r.qZA(),r.TgZ(10,"li",10,11),r._UZ(12,"img",9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"button",12),r.NdJ("click",function(){return t.next()}),r._UZ(14,"i",13),r.qZA(),r.qZA(),r.TgZ(15,"div",14,15),r._UZ(17,"button",16),r._UZ(18,"button",17),r.qZA(),r.qZA()),2&e&&(r.xp6(9),r.s9C("src",t.mainImages[0].img,r.LSH),r.xp6(3),r.s9C("src",t.mainImages[1].img,r.LSH))},styles:[".carousel[_ngcontent-%COMP%]{height:45vh;width:80%;margin:0 auto;z-index:-1}@media (max-width: 760px){.carousel[_ngcontent-%COMP%]{width:100%!important;height:35vh!important}.carousel_track_container[_ngcontent-%COMP%]{height:30vh!important}.top_section[_ngcontent-%COMP%]{padding:30 20px!important}}@media (max-width: 360px){.carousel[_ngcontent-%COMP%]{height:25vh!important}.carousel_track_container[_ngcontent-%COMP%]{height:20vh!important}.top_section[_ngcontent-%COMP%]{padding:20 50px!important}}.top_section[_ngcontent-%COMP%]{padding:30px}.carousel_track_container[_ngcontent-%COMP%]{position:relative;width:100%;height:40vh;overflow:hidden;border-radius:10px}.carousel_track[_ngcontent-%COMP%]{list-style:none;height:100%;padding:0;margin:0;position:relative;transition:all ease-in-out 1s}.carousel_slide[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:100%}.carousel_image[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.carousel_button[_ngcontent-%COMP%]{background:transparent;border:0;cursor:pointer;margin:0 10px;transition:all ease-in-out .3s}.carousel_button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;opacity:.5;transition:all ease-in-out .3s}.carousel_button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{font-size:2.5em;opacity:.2}.top_section[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center}.bottom_section[_ngcontent-%COMP%]{display:flex;justify-content:center}.carousel_indicator[_ngcontent-%COMP%]{border:none;border-radius:50%;width:10px;height:10px;background:black;opacity:.5;margin:5px}.current[_ngcontent-%COMP%]{opacity:.7}.hide[_ngcontent-%COMP%]{display:none}"]}),e})();function LI(e,t){if(1&e&&(r.TgZ(0,"div",9),r._UZ(1,"img",10),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.qZA()),2&e){const e=t.index,n=r.oxw();r.MGl("routerLink","/",n.routerpath[e],""),r.xp6(1),r.s9C("src",n.homeProducts[e].img,r.LSH),r.xp6(2),r.Oqu(n.categories[e])}}const MI=function(){return["/details"]};function FI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",12),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().index;return r.oxw().toDetail(t,"bikePage1")}),r._UZ(1,"img",13),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.TgZ(4,"div"),r._uU(5),r.ALo(6,"currency"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().index,t=r.oxw();r.Q6J("routerLink",r.DdM(7,MI)),r.xp6(1),r.s9C("src",t.bikePage1[e].img,r.LSH),r.xp6(2),r.Oqu(t.bikePage1[e].title),r.xp6(2),r.Oqu(r.xi3(6,4,t.bikePage1[e].price,"EUR"))}}function UI(e,t){if(1&e&&r.YNc(0,FI,7,8,"div",11),2&e){const e=t.index,n=r.oxw();r.Q6J("ngIf",e<5&&!n.isMobile||e<3&&n.isMobile)}}function VI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",12),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().index;return r.oxw().toDetail(t,"parts")}),r._UZ(1,"img",13),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.TgZ(4,"div"),r._uU(5),r.ALo(6,"currency"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().index,t=r.oxw();r.Q6J("routerLink",r.DdM(7,MI)),r.xp6(1),r.s9C("src",t.parts[e].img,r.LSH),r.xp6(2),r.Oqu(t.parts[e].title),r.xp6(2),r.Oqu(r.xi3(6,4,t.parts[e].price,"EUR"))}}function ZI(e,t){if(1&e&&r.YNc(0,VI,7,8,"div",11),2&e){const e=t.index,n=r.oxw();r.Q6J("ngIf",e<5&&!n.isMobile||e<3&&n.isMobile)}}function qI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",12),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().index;return r.oxw().toDetail(t,"accessories")}),r._UZ(1,"img",13),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.TgZ(4,"div"),r._uU(5),r.ALo(6,"currency"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().index,t=r.oxw();r.Q6J("routerLink",r.DdM(7,MI)),r.xp6(1),r.s9C("src",t.accessories[e].img,r.LSH),r.xp6(2),r.Oqu(t.accessories[e].title),r.xp6(2),r.Oqu(r.xi3(6,4,t.accessories[e].price,"EUR"))}}function jI(e,t){if(1&e&&r.YNc(0,qI,7,8,"div",11),2&e){const e=t.index,n=r.oxw();r.Q6J("ngIf",e<5&&!n.isMobile||e<3&&n.isMobile)}}const zI=function(){return["/categories"]},BI=function(){return["/parts"]},HI=function(){return["/accessories"]};let $I=(()=>{class e{constructor(e,t){this.http=e,this.itemService=t,this.isMobile=!1,this.routerpath=["categories","parts","accessories","clothing"],this.categories=[],this.homeProducts=this.itemService.homeProducts,this.categories=this.itemService.items,this.bikePage1=this.itemService.bikePage1,this.parts=this.itemService.parts,this.accessories=this.itemService.accessories}ngOnInit(){window.onresize=()=>this.isMobile=window.innerWidth<=400,document.documentElement.clientWidth<400&&(this.isMobile=!0)}toDetail(e,t){return"bikePage1"==t?this.itemService.getToDetail(this.bikePage1[e].id,t):"parts"==t?this.itemService.getToDetail(this.parts[e].id,t):"accessories"==t?this.itemService.getToDetail(this.accessories[e].id,t):void 0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(nt),r.Y36(xI))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-shopfor"]],decls:39,vars:16,consts:[[1,"main"],[1,"body"],[1,"line"],[1,"title"],[1,"left"],[1,"categories"],["ngFor","",3,"ngForOf"],[1,"right"],["routerLinkActive","router-link-active",3,"routerLink"],["routerLinkActive","router-link-active",1,"card",3,"routerLink"],["alt","lens",1,"shopforimg",3,"src"],["class","card-two","routerLinkActive","router-link-active",3,"routerLink","click",4,"ngIf"],["routerLinkActive","router-link-active",1,"card-two",3,"routerLink","click"],["alt","lens",1,"bikesimg",3,"src"]],template:function(e,t){1&e&&(r._UZ(0,"app-slide"),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r._UZ(3,"div",2),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r._uU(6,"SHOP FOR"),r.qZA(),r.qZA(),r.TgZ(7,"div",5),r.YNc(8,LI,4,3,"ng-template",6),r.qZA(),r.TgZ(9,"div",1),r._UZ(10,"div",2),r.qZA(),r.TgZ(11,"div",3),r.TgZ(12,"div",4),r._uU(13),r.qZA(),r.TgZ(14,"div",7),r.TgZ(15,"a",8),r._uU(16),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",5),r.YNc(18,UI,1,1,"ng-template",6),r.qZA(),r.TgZ(19,"div",1),r._UZ(20,"div",2),r.qZA(),r.TgZ(21,"div",3),r.TgZ(22,"div",4),r._uU(23),r.qZA(),r.TgZ(24,"div",7),r.TgZ(25,"a",8),r._uU(26),r.qZA(),r.qZA(),r.qZA(),r.TgZ(27,"div",5),r.YNc(28,ZI,1,1,"ng-template",6),r.qZA(),r.TgZ(29,"div",1),r._UZ(30,"div",2),r.qZA(),r.TgZ(31,"div",3),r.TgZ(32,"div",4),r._uU(33),r.qZA(),r.TgZ(34,"div",7),r.TgZ(35,"a",8),r._uU(36),r.qZA(),r.qZA(),r.qZA(),r.TgZ(37,"div",5),r.YNc(38,jI,1,1,"ng-template",6),r.qZA(),r.qZA()),2&e&&(r.xp6(8),r.Q6J("ngForOf",t.homeProducts),r.xp6(5),r.Oqu(t.categories[0]),r.xp6(2),r.Q6J("routerLink",r.DdM(13,zI)),r.xp6(1),r.hij("More ",t.categories[0]," >"),r.xp6(2),r.Q6J("ngForOf",t.bikePage1),r.xp6(5),r.Oqu(t.categories[1]),r.xp6(2),r.Q6J("routerLink",r.DdM(14,BI)),r.xp6(1),r.hij("More ",t.categories[1],">"),r.xp6(2),r.Q6J("ngForOf",t.parts),r.xp6(5),r.Oqu(t.categories[2]),r.xp6(2),r.Q6J("routerLink",r.DdM(15,HI)),r.xp6(1),r.hij("More ",t.categories[2],">"),r.xp6(2),r.Q6J("ngForOf",t.accessories))},directives:[RI,F,so,ao,io,V],pipes:[B],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:column}.body[_ngcontent-%COMP%]{padding-top:40px;display:flex;flex-direction:row;justify-content:center}.line[_ngcontent-%COMP%]{width:95%;border-top:solid;border-width:1px;border-color:#cccbcb}.title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.categories[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.card[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:center;flex-direction:column;align-items:center;background-color:#ededed;cursor:pointer;width:22%}@media (max-width: 760px){.categories[_ngcontent-%COMP%]{flex-wrap:wrap}.card[_ngcontent-%COMP%]{margin:5%;width:40%}.shopforimg[_ngcontent-%COMP%]{height:50%}}@media (max-width: 400px){.categories[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.card-two[_ngcontent-%COMP%]{width:30%!important;font-size:small}}.card-two[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:center;flex-direction:column;align-items:center;background-color:#ededed;cursor:pointer;width:18%}.shopforimg[_ngcontent-%COMP%]{height:70%;width:100%;-o-object-fit:cover;object-fit:cover}.bikesimg[_ngcontent-%COMP%]{width:100%;height:70%;-o-object-fit:cover;object-fit:cover}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#000}"]}),e})(),GI=(()=>{class e{constructor(){this.items=[],this.cartCount=0,this.total=0}addToCart(e,t=1){let n=this.items.find(t=>t.product.id==e.id);null!=n?n.quantity+=t:this.items.push(new KI(e,t)),this.calculate()}calculate(){this.cartCount=0,this.total=0,this.items.forEach(e=>{this.cartCount+=e.quantity,this.total+=e.quantity*e.product.price}),localStorage.setItem("items",JSON.stringify(this.items)),localStorage.setItem("total",JSON.stringify(this.total)),localStorage.setItem("cartCount",JSON.stringify(this.cartCount))}autoGetLocalStorage(){const e=JSON.parse(localStorage.getItem("items"));e&&(this.items=e,this.total=JSON.parse(localStorage.getItem("total")),this.cartCount=JSON.parse(localStorage.getItem("cartCount")))}removeItem(e){let t=this.items.findIndex(t=>t.product.id==e);this.items.splice(t,1),this.calculate()}updateQuantity(e,t){let n=this.items.find(t=>t.product.id==e.id);null!=n&&(n.quantity=t),this.calculate()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class KI{constructor(e,t){this.product=e,this.quantity=t}}let WI=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-horizontalline"]],decls:2,vars:0,consts:[[1,"body"],[1,"line"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"div",1),r.qZA())},styles:[".body[_ngcontent-%COMP%]{padding-top:40px;display:flex;flex-direction:row;justify-content:center}.line[_ngcontent-%COMP%]{width:95%;border-top:solid;border-width:1px;border-color:#cccbcb}"]}),e})(),JI=(()=>{class e{constructor(e,t){this.itemService=e,this.cart=t}ngOnInit(){if(this.selectedId=this.itemService.toDetailData,"bikePage1"==this.itemService.toCategorieName){var e=this.itemService.bikePage1.findIndex(e=>e.id===this.selectedId);this.data=this.itemService.bikePage1[e]}"parts"==this.itemService.toCategorieName&&(e=this.itemService.parts.findIndex(e=>e.id===this.selectedId),this.data=this.itemService.parts[e]),"accessories"==this.itemService.toCategorieName&&(e=this.itemService.accessories.findIndex(e=>e.id===this.selectedId),this.data=this.itemService.accessories[e]),"clothing"==this.itemService.toCategorieName&&(e=this.itemService.clothing.findIndex(e=>e.id===this.selectedId),this.data=this.itemService.clothing[e])}addToCart(e){return this.cart.addToCart(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(xI),r.Y36(GI))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-details"]],decls:15,vars:7,consts:[[1,"main"],[1,"main-row"],["alt","lens",3,"src"],[1,"mr-right"],[1,"title"],[1,"price"],[1,"btn",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"app-horizontalline"),r.TgZ(2,"div",1),r._UZ(3,"img",2),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r._uU(6),r.qZA(),r.TgZ(7,"div",5),r._uU(8),r.ALo(9,"currency"),r.qZA(),r.TgZ(10,"button",6),r.NdJ("click",function(){return t.addToCart(t.data)}),r._uU(11,"ADD TO CART"),r.qZA(),r._UZ(12,"app-horizontalline"),r.TgZ(13,"div"),r._uU(14),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.s9C("src",t.data.img,r.LSH),r.xp6(3),r.Oqu(t.data.title),r.xp6(2),r.Oqu(r.xi3(9,4,t.data.price,"EUR")),r.xp6(6),r.Oqu(t.data.description))},directives:[WI],pipes:[B],styles:[".main-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.main-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:15px}img[_ngcontent-%COMP%]{width:40%;height:60%;margin-right:30px;-o-object-fit:cover;object-fit:cover;border-radius:5px}.mr-right[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn[_ngcontent-%COMP%]{width:150px;background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}@media only screen and (max-width: 400px){.main-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}img[_ngcontent-%COMP%]{margin-top:10px;width:80%!important;height:auto}}"]}),e})();const YI=["navm"],QI=["body"],XI=["cartHTML"],eS=function(){return["/login"]};function tS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",34),r.NdJ("click",function(){return r.CHM(e),r.oxw().onClose()}),r.TgZ(1,"a",9),r._uU(2,"Sign in"),r.qZA(),r.qZA()}2&e&&(r.xp6(1),r.Q6J("routerLink",r.DdM(1,eS)))}const nS=function(){return["/signup"]};function rS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",34),r.NdJ("click",function(){return r.CHM(e),r.oxw().onClose()}),r.TgZ(1,"a",9),r._uU(2,"Create an Account"),r.qZA(),r.qZA()}2&e&&(r.xp6(1),r.Q6J("routerLink",r.DdM(1,nS)))}const iS=function(){return["/shopfor"]};function sS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",34),r.NdJ("click",function(){return r.CHM(e),r.oxw().onClose()}),r.TgZ(1,"a",35),r.NdJ("click",function(){return r.CHM(e),r.oxw().logOut()}),r._uU(2,"Logout"),r.qZA(),r.qZA()}2&e&&(r.xp6(1),r.Q6J("routerLink",r.DdM(1,iS)))}function oS(e,t){1&e&&(r.TgZ(0,"div",36),r.TgZ(1,"a",9),r._uU(2,"Sign in"),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("routerLink",r.DdM(1,eS)))}function aS(e,t){1&e&&(r.TgZ(0,"div",37),r._uU(1,"or"),r.qZA())}function cS(e,t){1&e&&(r.TgZ(0,"div",38),r.TgZ(1,"a",9),r._uU(2,"Create an Account"),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("routerLink",r.DdM(1,nS)))}function uS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",38),r.TgZ(1,"a",35),r.NdJ("click",function(){return r.CHM(e),r.oxw().logOut()}),r._uU(2,"Logout"),r.qZA(),r.qZA()}2&e&&(r.xp6(1),r.Q6J("routerLink",r.DdM(1,iS)))}function lS(e,t){if(1&e&&(r.TgZ(0,"div",39),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Oqu(e.cart.cartCount)}}const hS=function(){return["/"]},dS=function(){return["/categories"]},fS=function(){return["/parts"]},pS=function(){return["/accessories"]},gS=function(){return["/clothing"]},mS=function(){return["/cart"]};let yS=(()=>{class e{constructor(e,t,n){this.itemservice=e,this.cart=t,this.authService=n,this.validCartCount=!0,this.isAuthenticated=!0}ngOnInit(){this.cart.autoGetLocalStorage(),this.items=this.itemservice.items,this.biketypes=this.itemservice.biketypes,this.authService.user.subscribe(e=>{e||(this.isAuthenticated=!1),e&&(this.isAuthenticated=!0)})}ngOnChanges(){}logOut(){this.authService.logOut()}openNavm(){this.navm.nativeElement.classList.add("show"),this.body.nativeElement.classList.add("show"),this.cartHTML.nativeElement.classList.add("show")}onClose(){this.navm.nativeElement.classList.remove("show"),this.body.nativeElement.classList.remove("show"),this.cartHTML.nativeElement.classList.remove("show")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(xI),r.Y36(GI),r.Y36(xo))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-navbar"]],viewQuery:function(e,t){if(1&e&&(r.Gf(YI,5),r.Gf(QI,5),r.Gf(XI,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.navm=e.first),r.iGM(e=r.CRH())&&(t.body=e.first),r.iGM(e=r.CRH())&&(t.cartHTML=e.first)}},features:[r.TTD],decls:70,vars:54,consts:[[1,"body"],["body",""],[1,"main"],[1,"navbar"],["navbar",""],[1,"navm"],["navm",""],[1,"navm-first"],[1,"icon",3,"click"],["routerLinkActive","router-link-active",3,"routerLink"],[3,"click"],[1,"fas","fa-times"],[1,"navm-list"],[1,"navm-items",3,"click"],["class","",3,"click",4,"ngIf"],[1,"hamburger",3,"click"],[1,"fas","fa-bars"],[1,"icon"],[1,"right"],[1,"right-search","right-search2"],["class","right-text bold",4,"ngIf"],["class","right-middle right-text",4,"ngIf"],[1,"right-cart","right-search"],["class","right-right-text bold",4,"ngIf"],["routerLinkActive","router-link-active",1,"cart",3,"routerLink"],["cartHTML",""],[1,"fas","fa-shopping-basket"],["class","cart-circle",4,"ngIf"],[1,"categories2"],[1,"categories"],[1,"all"],[1,"cameras"],[1,"camerasc"],[1,"cameras2"],[1,"",3,"click"],["routerLinkActive","router-link-active",3,"routerLink","click"],[1,"right-text","bold"],[1,"right-middle","right-text"],[1,"right-right-text","bold"],[1,"cart-circle"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0,1),r.TgZ(2,"div",2),r.TgZ(3,"div",3,4),r.TgZ(5,"div",5,6),r.TgZ(7,"div",7),r.TgZ(8,"div",8),r.NdJ("click",function(){return t.onClose()}),r.TgZ(9,"a",9),r._uU(10,"Bike SHOP"),r.qZA(),r.qZA(),r.TgZ(11,"div",10),r.NdJ("click",function(){return t.onClose()}),r._UZ(12,"i",11),r.qZA(),r.qZA(),r.TgZ(13,"ul",12),r.TgZ(14,"div",13),r.NdJ("click",function(){return t.onClose()}),r.TgZ(15,"a",9),r._uU(16),r.ALo(17,"uppercase"),r.qZA(),r.qZA(),r.TgZ(18,"div",13),r.NdJ("click",function(){return t.onClose()}),r.TgZ(19,"a",9),r._uU(20),r.ALo(21,"uppercase"),r.qZA(),r.qZA(),r.TgZ(22,"div",13),r.NdJ("click",function(){return t.onClose()}),r.TgZ(23,"a",9),r._uU(24),r.ALo(25,"uppercase"),r.qZA(),r.qZA(),r.TgZ(26,"div",13),r.NdJ("click",function(){return t.onClose()}),r.TgZ(27,"a",9),r._uU(28),r.ALo(29,"uppercase"),r.qZA(),r.qZA(),r.YNc(30,tS,3,2,"div",14),r.YNc(31,rS,3,2,"div",14),r.YNc(32,sS,3,2,"div",14),r.qZA(),r.qZA(),r.TgZ(33,"div",15),r.NdJ("click",function(){return t.openNavm()}),r._UZ(34,"i",16),r.qZA(),r.TgZ(35,"div",17),r.TgZ(36,"a",9),r._uU(37,"Bike SHOP"),r.qZA(),r.qZA(),r.TgZ(38,"div",18),r.TgZ(39,"div",19),r.YNc(40,oS,3,2,"div",20),r.qZA(),r.YNc(41,aS,2,0,"div",21),r.TgZ(42,"div",22),r.YNc(43,cS,3,2,"div",23),r.YNc(44,uS,3,2,"div",23),r.TgZ(45,"div",24,25),r._UZ(47,"i",26),r._uU(48,"CART"),r.YNc(49,lS,2,1,"div",27),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(50,"div",28),r.TgZ(51,"div",29),r.TgZ(52,"div",30),r.TgZ(53,"div",31),r.TgZ(54,"a",9),r._uU(55),r.ALo(56,"uppercase"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(57,"div"),r.TgZ(58,"div",32),r.TgZ(59,"a",9),r._uU(60),r.ALo(61,"uppercase"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(62,"div",33),r.TgZ(63,"a",9),r._uU(64),r.ALo(65,"uppercase"),r.qZA(),r.qZA(),r.TgZ(66,"div"),r.TgZ(67,"a",9),r._uU(68),r.ALo(69,"uppercase"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(9),r.Q6J("routerLink",r.DdM(43,hS)),r.xp6(6),r.Q6J("routerLink",r.DdM(44,dS)),r.xp6(1),r.Oqu(r.lcZ(17,27,t.items[0])),r.xp6(3),r.Q6J("routerLink",r.DdM(45,fS)),r.xp6(1),r.Oqu(r.lcZ(21,29,t.items[1])),r.xp6(3),r.Q6J("routerLink",r.DdM(46,pS)),r.xp6(1),r.Oqu(r.lcZ(25,31,t.items[2])),r.xp6(3),r.Q6J("routerLink",r.DdM(47,gS)),r.xp6(1),r.Oqu(r.lcZ(29,33,t.items[3])),r.xp6(2),r.Q6J("ngIf",!t.isAuthenticated),r.xp6(1),r.Q6J("ngIf",!t.isAuthenticated),r.xp6(1),r.Q6J("ngIf",t.isAuthenticated),r.xp6(4),r.Q6J("routerLink",r.DdM(48,hS)),r.xp6(4),r.Q6J("ngIf",!t.isAuthenticated),r.xp6(1),r.Q6J("ngIf",!t.isAuthenticated),r.xp6(2),r.Q6J("ngIf",!t.isAuthenticated),r.xp6(1),r.Q6J("ngIf",t.isAuthenticated),r.xp6(1),r.Q6J("routerLink",r.DdM(49,mS)),r.xp6(4),r.Q6J("ngIf",t.validCartCount),r.xp6(5),r.Q6J("routerLink",r.DdM(50,dS)),r.xp6(1),r.Oqu(r.lcZ(56,35,t.items[0])),r.xp6(4),r.Q6J("routerLink",r.DdM(51,fS)),r.xp6(1),r.Oqu(r.lcZ(61,37,t.items[1])),r.xp6(3),r.Q6J("routerLink",r.DdM(52,pS)),r.xp6(1),r.Oqu(r.lcZ(65,39,t.items[2])),r.xp6(3),r.Q6J("routerLink",r.DdM(53,gS)),r.xp6(1),r.Oqu(r.lcZ(69,41,t.items[3])))},directives:[so,ao,V,io],pipes:[z],styles:['@import"https://fonts.googleapis.com/css2?family=Pacifico&display=swap";.bold[_ngcontent-%COMP%]{font-weight:bold}.body[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.main[_ngcontent-%COMP%]{width:1000px}#cart-mobile[_ngcontent-%COMP%]{display:none}.navbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:5% 0;color:#fbf4e9;position:relative}a[_ngcontent-%COMP%]{text-decoration:none;color:#fbf4e9}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fbf4e9}.icon[_ngcontent-%COMP%]{font-size:30px;font-family:"Pacifico",cursive}.right[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;width:60%}input[type=search][_ngcontent-%COMP%]::-webkit-search-decoration, input[type=search][_ngcontent-%COMP%]::-webkit-search-cancel-button, input[type=search][_ngcontent-%COMP%]::-webkit-search-results-button, input[type=search][_ngcontent-%COMP%]::-webkit-search-results-decoration{display:none}.cart[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:10px 15px;background-color:#021320;border-radius:30px;font-size:15px;cursor:pointer;position:relative}.fa-shopping-basket[_ngcontent-%COMP%]{margin-right:7px}.right-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column}.right-text[_ngcontent-%COMP%]{margin-bottom:10px;font-size:10px;margin-right:10px}.right-right-text[_ngcontent-%COMP%]{margin-bottom:10px;font-size:10px;margin-left:10px}.right-middle[_ngcontent-%COMP%]{margin:0 10px}.right-search[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.cart-circle[_ngcontent-%COMP%]{border-radius:50%;width:25px;height:25px;line-height:27px;text-align:center;background-color:#c23e3e;position:absolute;right:-10px;top:-10px;color:#0b283d}.categories2[_ngcontent-%COMP%]{position:relative}.categories[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:80%;font-size:13px;color:#f3f1f5;padding-bottom:15px;font-weight:200}.fa-chevron-down[_ngcontent-%COMP%]{margin-left:5px}.all[_ngcontent-%COMP%]:hover   .dropdown[_ngcontent-%COMP%], .cameras[_ngcontent-%COMP%]:hover   .dropdown[_ngcontent-%COMP%]:hover{display:block;height:auto}.dropdown[_ngcontent-%COMP%]{position:absolute;top:20px;display:none;background-color:#fff;width:15%;padding:20px;transform:all .1s ease-in-out}.dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;font-size:13px;color:#7b7bb4;font-weight:500;margin-bottom:20px;cursor:pointer}.categories[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer}.toggle-menu[_ngcontent-%COMP%]{display:none}.navm[_ngcontent-%COMP%]{background-color:#0b283d;width:80%;height:100vh;z-index:9990;position:fixed;top:0;left:-100%;padding:5px 15px;transition:all .5s linear}.navm-first[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.navm-first[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:30px!important}.navm-first[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{margin:0 15px;font-size:20px}.navm-list[_ngcontent-%COMP%]{margin-top:20px;height:40vh;display:flex;flex-direction:column;justify-content:space-between}.hamburger[_ngcontent-%COMP%]{display:none}.fas[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 1050px){.main[_ngcontent-%COMP%]{width:90%}}@media only screen and (max-width: 768px){.hamburger[_ngcontent-%COMP%]{display:block;font-size:20px;cursor:pointer}.navm.show[_ngcontent-%COMP%]{left:0}.body.show[_ngcontent-%COMP%]{background-color:#87aaaa}.cart.show[_ngcontent-%COMP%]{background-color:#0b283d}.right-search2[_ngcontent-%COMP%]{display:none}.right-middle[_ngcontent-%COMP%]{display:none}.categories2[_ngcontent-%COMP%]{display:none}.right-right-text[_ngcontent-%COMP%]{display:none}.right[_ngcontent-%COMP%]{width:auto}@media (max-width: 398px){.icon[_ngcontent-%COMP%]{font-size:medium}}}']}),e})();function vS(e,t){1&e&&(r.TgZ(0,"div",15),r._uU(1,"Subscription is successfull!"),r.qZA())}function wS(e,t){1&e&&(r.TgZ(0,"div",15),r._uU(1,"Subscription is successfull!"),r.qZA())}let bS=(()=>{class e{constructor(e){this.afs=e,this.successSub=!1,this.emailList=[]}ngOnInit(){}onSubmit(e){const t={email:e.value.email};this.afs.collection("subscriptions").add(t),this.successSub=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(_I))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-footer"]],decls:39,vars:2,consts:[[1,"main"],[1,"top"],[1,"first"],[1,"second"],[1,"third"],[1,"middle"],[1,"newsletter-form",3,"ngSubmit"],["subsForm","ngForm"],["ngModel","","type","email","name","email","placeholder","Email Adress"],[1,"btn"],["class","subText",4,"ngIf"],[1,"mobile-layout","flex-center"],[1,"first-mobile","flex-center"],[1,"second-mobile","flex-center"],[1,"third-mobile"],[1,"subText"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._uU(3,"QUICK LINKS"),r.qZA(),r.TgZ(4,"div",3),r._uU(5,"GET IN TOUCH"),r.qZA(),r.TgZ(6,"div",4),r._uU(7,"NEWSLETTER"),r.qZA(),r.qZA(),r.TgZ(8,"div",5),r.TgZ(9,"div",2),r.TgZ(10,"div"),r._uU(11,"Contact"),r.qZA(),r.qZA(),r.TgZ(12,"div",3),r._uU(13," Sign up to stay in the loop. Receive updates, access to exclusive deals, and more. "),r.qZA(),r.TgZ(14,"div",4),r.TgZ(15,"form",6,7),r.NdJ("ngSubmit",function(){r.CHM(e);const n=r.MAs(16);return t.onSubmit(n)}),r._UZ(17,"input",8),r.TgZ(18,"button",9),r._uU(19,"SIGN UP"),r.qZA(),r.qZA(),r.YNc(20,vS,2,0,"div",10),r.qZA(),r.qZA(),r.TgZ(21,"div",11),r.TgZ(22,"div",12),r.TgZ(23,"div"),r._uU(24,"QUICK LINKS"),r.qZA(),r.TgZ(25,"div"),r._uU(26,"Contact"),r.qZA(),r.qZA(),r.TgZ(27,"div",13),r.TgZ(28,"div"),r._uU(29,"GET IN TOUCH"),r.qZA(),r.TgZ(30,"div"),r._uU(31,"Sign up to stay in the loop. Receive updates, access to exclusive deals, and more."),r.qZA(),r.qZA(),r.TgZ(32,"div",14),r.TgZ(33,"form",6,7),r.NdJ("ngSubmit",function(){r.CHM(e);const n=r.MAs(16);return t.onSubmit(n)}),r._UZ(35,"input",8),r.TgZ(36,"button",9),r._uU(37,"SIGN UP"),r.qZA(),r.YNc(38,wS,2,0,"div",10),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(20),r.Q6J("ngIf",t.successSub),r.xp6(18),r.Q6J("ngIf",t.successSub))},directives:[wn,Gt,gn,Ct,$t,vn,V],styles:[".main[_ngcontent-%COMP%]{padding:30px 0}.top[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.middle[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-direction:row;justify-content:space-between}.first[_ngcontent-%COMP%]{width:15%}.second[_ngcontent-%COMP%]{width:50%;padding-left:20px}.third[_ngcontent-%COMP%]{width:30%;float:inline-end}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}input[_ngcontent-%COMP%]{padding:10px 5px;background-color:#747474;border:none;outline-style:none;color:#fff;border-radius:5px}input[_ngcontent-%COMP%]::-moz-placeholder{color:#fbf4e9;opacity:.9}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#fbf4e9;opacity:.9}input[_ngcontent-%COMP%]::placeholder{color:#fbf4e9;opacity:.9}.body[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.line[_ngcontent-%COMP%]{width:95%;border-top:solid;border-width:1px;border-color:#cccbcb}.newsletter-form[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.mobile-layout[_ngcontent-%COMP%]{display:none}.subText[_ngcontent-%COMP%]{color:#a9333a}@media (max-width: 768px){.top[_ngcontent-%COMP%]{display:none}.middle[_ngcontent-%COMP%]{display:none}.flex-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.newsletter-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.newsletter-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:5px}.newsletter-form[_ngcontent-%COMP%]   subText[_ngcontent-%COMP%]{margin-top:5px}}"]}),e})();const _S=["page1"],TS=["page2"],IS=function(){return["/details"]};function SS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",11,12),r.NdJ("click",function(){const t=r.CHM(e).index;return r.oxw(2).toDetail(t,"bikePage1")}),r._UZ(2,"img",13),r.TgZ(3,"div",14),r._uU(4),r.qZA(),r.TgZ(5,"div",15),r._uU(6),r.ALo(7,"currency"),r.qZA(),r.qZA()}if(2&e){const e=t.index,n=r.oxw(2);r.Q6J("routerLink",r.DdM(7,IS)),r.xp6(2),r.s9C("src",n.itemservice.bikePage1[e].img,r.LSH),r.xp6(2),r.Oqu(n.itemservice.bikePage1[e].title),r.xp6(2),r.Oqu(r.xi3(7,4,n.itemservice.bikePage1[e].price,"EUR"))}}function CS(e,t){if(1&e&&r.YNc(0,SS,8,8,"ng-template",10),2&e){const e=r.oxw();r.Q6J("ngForOf",e.bikePage1)}}function ES(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",16,17),r.NdJ("click",function(){const t=r.CHM(e).index;return r.oxw(2).toDetail(t,"bikePage1")}),r._UZ(2,"img",13),r.TgZ(3,"div",14),r._uU(4),r.qZA(),r.TgZ(5,"div",15),r._uU(6),r.ALo(7,"currency"),r.qZA(),r.qZA()}if(2&e){const e=t.index,n=r.oxw(2);r.Q6J("routerLink",r.DdM(7,IS)),r.xp6(2),r.s9C("src",n.itemservice.bikePage2[e].img,r.LSH),r.xp6(2),r.Oqu(n.itemservice.bikePage2[e].title),r.xp6(2),r.Oqu(r.xi3(7,4,n.itemservice.bikePage2[e].price,"EUR"))}}function kS(e,t){if(1&e&&r.YNc(0,ES,8,8,"ng-template",10),2&e){const e=r.oxw();r.Q6J("ngForOf",e.bikePage2)}}const AS=function(){return[" "]},xS=function(){return["/details"]};function OS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",6,7),r.NdJ("click",function(){const t=r.CHM(e).index;return r.oxw().toDetail(t,"clothing")}),r._UZ(2,"img",8),r.TgZ(3,"div",9),r._uU(4),r.qZA(),r.TgZ(5,"div",10),r._uU(6),r.ALo(7,"currency"),r.qZA(),r.qZA()}if(2&e){const e=t.index,n=r.oxw();r.Q6J("routerLink",r.DdM(7,xS)),r.xp6(2),r.s9C("src",n.itemservice.clothing[e].img,r.LSH),r.xp6(2),r.Oqu(n.itemservice.clothing[e].title),r.xp6(2),r.Oqu(r.xi3(7,4,n.itemservice.clothing[e].price,"EUR"))}}const NS=function(){return[" "]},PS=function(){return["/details"]};function DS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",6,7),r.NdJ("click",function(){const t=r.CHM(e).index;return r.oxw().toDetail(t,"parts")}),r._UZ(2,"img",8),r.TgZ(3,"div",9),r._uU(4),r.qZA(),r.TgZ(5,"div",10),r._uU(6),r.ALo(7,"currency"),r.qZA(),r.qZA()}if(2&e){const e=t.index,n=r.oxw();r.Q6J("routerLink",r.DdM(7,PS)),r.xp6(2),r.s9C("src",n.itemservice.parts[e].img,r.LSH),r.xp6(2),r.Oqu(n.itemservice.parts[e].title),r.xp6(2),r.Oqu(r.xi3(7,4,n.itemservice.parts[e].price,"EUR"))}}const RS=function(){return[" "]},LS=function(){return["/details"]};function MS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",6,7),r.NdJ("click",function(){const t=r.CHM(e).index;return r.oxw().toDetail(t,"accessories")}),r._UZ(2,"img",8),r.TgZ(3,"div",9),r._uU(4),r.qZA(),r.TgZ(5,"div",10),r._uU(6),r.ALo(7,"currency"),r.qZA(),r.qZA()}if(2&e){const e=t.index,n=r.oxw();r.Q6J("routerLink",r.DdM(7,LS)),r.xp6(2),r.s9C("src",n.itemservice.accessories[e].img,r.LSH),r.xp6(2),r.Oqu(n.itemservice.accessories[e].title),r.xp6(2),r.Oqu(r.xi3(7,4,n.itemservice.accessories[e].price,"EUR"))}}const FS=function(){return[" "]};function US(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij("You have ",e.cart.cartCount," product in your cart.")}}function VS(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij("You have ",e.cart.cartCount," products in your cart.")}}function ZS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",11),r._UZ(1,"img",12),r.TgZ(2,"div",13),r._uU(3),r.qZA(),r.TgZ(4,"div",14),r._uU(5),r.qZA(),r.TgZ(6,"div",15),r._uU(7),r.ALo(8,"currency"),r.qZA(),r.TgZ(9,"form",16,17),r.NdJ("ngSubmit",function(){const t=r.CHM(e).index,n=r.MAs(10),i=r.oxw(2);return i.updateQuantity(n,i.cart.items[t].product)}),r._UZ(11,"input",18,19),r.TgZ(13,"button",20),r._uU(14,"Change"),r.qZA(),r.qZA(),r.TgZ(15,"i",21),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2);return n.removeItem(n.cart.items[t].product.id)}),r.qZA(),r.qZA()}if(2&e){const e=t.index,n=r.oxw(2);r.xp6(1),r.s9C("src",n.cart.items[e].product.img,r.LSH),r.xp6(2),r.Oqu(n.cart.items[e].product.title),r.xp6(2),r.hij("x",n.cart.items[e].quantity,""),r.xp6(2),r.Oqu(r.xi3(8,4,n.cart.items[e].product.price,"EUR"))}}function qS(e,t){if(1&e&&r.YNc(0,ZS,16,7,"ng-template",10),2&e){const e=r.oxw();r.Q6J("ngForOf",e.cart.items)}}function jS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",22),r.TgZ(1,"div",11),r._UZ(2,"img",12),r.TgZ(3,"div",15),r._uU(4),r.ALo(5,"currency"),r.qZA(),r.TgZ(6,"form",16,17),r.NdJ("ngSubmit",function(){const t=r.CHM(e).index,n=r.MAs(7),i=r.oxw(2);return i.updateQuantity(n,i.cart.items[t].product)}),r._UZ(8,"input",18,19),r.TgZ(10,"button",20),r._uU(11,"Change"),r.qZA(),r.qZA(),r.TgZ(12,"i",21),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2);return n.removeItem(n.cart.items[t].product.id)}),r.qZA(),r.qZA(),r.TgZ(13,"div",23),r.TgZ(14,"div",13),r._uU(15),r.qZA(),r.TgZ(16,"div",14),r._uU(17),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.index,n=r.oxw(2);r.xp6(2),r.s9C("src",n.cart.items[e].product.img,r.LSH),r.xp6(2),r.Oqu(r.xi3(5,4,n.cart.items[e].product.price,"EUR")),r.xp6(11),r.Oqu(n.cart.items[e].product.title),r.xp6(2),r.hij("x",n.cart.items[e].quantity,"")}}function zS(e,t){if(1&e&&r.YNc(0,jS,18,7,"ng-template",10),2&e){const e=r.oxw();r.Q6J("ngForOf",e.cart.items)}}const BS=function(){return["/payment"]};function HS(e,t){1&e&&(r.TgZ(0,"button",24),r._UZ(1,"i",25),r._uU(2," CHECKOUT"),r.qZA()),2&e&&r.Q6J("routerLink",r.DdM(1,BS))}const $S=function(){return["/login"]};function GS(e,t){1&e&&(r.TgZ(0,"button",24),r._UZ(1,"i",25),r._uU(2," CHECKOUT"),r.qZA()),2&e&&r.Q6J("routerLink",r.DdM(1,$S))}const KS=["saveAdress"],WS=[{path:"",component:(()=>{class e{constructor(e){this.authService=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(xo))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-layout"]],decls:7,vars:0,consts:[[1,"body"],[1,"navbar"],[1,"outlet"],[1,"outlet2"],[1,"footer"],[1,"footer2"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"app-navbar",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r._UZ(4,"router-outlet"),r.qZA(),r.qZA(),r.TgZ(5,"div",4),r._UZ(6,"app-footer",5),r.qZA(),r.qZA())},directives:[yS,co,bS],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;700&display=swap";.body[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;display:flex;flex-direction:column}.navbar[_ngcontent-%COMP%]{background-color:#0b283d;position:sticky;top:0;display:flex;flex-direction:column;justify-content:space-between;align-items:center;z-index:990}.outlet[_ngcontent-%COMP%]{background-color:#f6f6f6;display:flex;flex-direction:column;align-items:center;z-index:9!important}.outlet2[_ngcontent-%COMP%]{width:1000px}.footer[_ngcontent-%COMP%]{background-color:#eee;display:flex;flex-direction:column;align-items:center;margin-top:20px}.footer2[_ngcontent-%COMP%]{width:1000px}@media (max-width: 1050px){.footer2[_ngcontent-%COMP%]{width:90%}.outlet2[_ngcontent-%COMP%]{width:90%}}']}),e})(),children:[{path:"",component:$I},{path:"login",component:EI},{path:"signup",component:AI},{path:"categories",component:(()=>{class e{constructor(e){this.itemservice=e,this.isMobile=!1}ChoosePage2(){this.page2.nativeElement.classList.add("active-card"),this.page1.nativeElement.classList.remove("active-card")}ChoosePage1(){this.page1.nativeElement.classList.add("active-card"),this.page2.nativeElement.classList.remove("active-card")}Adddata(){return this.itemservice.getDataFromCate("Ben gelen datayim")}ngOnInit(){this.bikePage1=this.itemservice.bikePage1,this.bikePage2=this.itemservice.bikePage2}ngAfterViewInit(){}toDetail(e,t){return this.itemservice.getToDetail(this.itemservice.bikePage1[e].id,t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(xI))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-categories"]],viewQuery:function(e,t){if(1&e&&(r.Gf(_S,5),r.Gf(TS,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.page1=e.first),r.iGM(e=r.CRH())&&(t.page2=e.first)}},decls:22,vars:5,consts:[[1,"main"],[1,"first-row"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"second-row-cat"],[1,"main-row-cat"],[4,"ngIf"],[1,"third-row-cat"],[1,"fas","fa-long-arrow-alt-left","pageNumber","i-cat",3,"click"],[1,"pageNumber",3,"click"],[1,"fas","fa-long-arrow-alt-right","pageNumber","i-cat",3,"click"],["ngFor","",3,"ngForOf"],["routerLinkActive","router-link-active",1,"card-cat","active-card","card-mobile",3,"routerLink","click"],["page1",""],["alt","card",3,"src"],[1,"title"],[1,"price"],["routerLinkActive","router-link-active",1,"card-cat","card-mobile",3,"routerLink","click"],["page2",""]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r.TgZ(3,"a",2),r._uU(4," Home "),r.qZA(),r._uU(5),r.qZA(),r._UZ(6,"app-horizontalline"),r.TgZ(7,"div",3),r._UZ(8,"div"),r.qZA(),r.TgZ(9,"div",4),r.YNc(10,CS,1,1,void 0,5),r.YNc(11,kS,1,1,void 0,5),r.qZA(),r._UZ(12,"app-horizontalline"),r.TgZ(13,"div",6),r.TgZ(14,"div"),r.TgZ(15,"i",7),r.NdJ("click",function(){return t.ChoosePage1()}),r.qZA(),r.qZA(),r.TgZ(16,"div",8),r.NdJ("click",function(){return t.ChoosePage1()}),r._uU(17,"1"),r.qZA(),r.TgZ(18,"div",8),r.NdJ("click",function(e){return t.ChoosePage2(),e.preventDefault()}),r._uU(19,"2"),r.qZA(),r.TgZ(20,"div"),r.TgZ(21,"i",9),r.NdJ("click",function(){return t.ChoosePage2()}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("routerLink",r.DdM(4,AS)),r.xp6(2),r.hij(" > ",t.itemservice.items[0]," "),r.xp6(5),r.Q6J("ngIf",!t.isMobile),r.xp6(1),r.Q6J("ngIf",!t.isMobile))},directives:[so,ao,WI,V,F,io],pipes:[B],styles:[""]}),e})()},{path:"details",component:JI},{path:"clothing",component:(()=>{class e{constructor(e){this.itemservice=e}ngOnInit(){this.clothing=this.itemservice.clothing}toDetail(e,t){return this.itemservice.getToDetail(this.clothing[e].id,t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(xI))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-clothing"]],decls:12,vars:4,consts:[[1,"main"],[1,"first-row"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"second-row-cat"],[1,"main-row-cat"],["ngFor","",3,"ngForOf"],["routerLinkActive","router-link-active",1,"card-cat","active-card","card-mobile",3,"routerLink","click"],["page1",""],["alt","card",3,"src"],[1,"title"],[1,"price"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r.TgZ(3,"a",2),r._uU(4," Home "),r.qZA(),r._uU(5),r.qZA(),r._UZ(6,"app-horizontalline"),r.TgZ(7,"div",3),r._UZ(8,"div"),r.qZA(),r.TgZ(9,"div",4),r.YNc(10,OS,8,8,"ng-template",5),r.qZA(),r._UZ(11,"app-horizontalline"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("routerLink",r.DdM(3,NS)),r.xp6(2),r.hij(" > ",t.itemservice.items[3]," "),r.xp6(5),r.Q6J("ngForOf",t.clothing))},directives:[so,ao,WI,F,io],pipes:[B],styles:[".sorting[_ngcontent-%COMP%]{position:relative;padding:0 10px}.featured[_ngcontent-%COMP%]:hover + .dropdown[_ngcontent-%COMP%]{display:block;height:auto}.dropdown[_ngcontent-%COMP%]{position:absolute;top:30px;display:none;height:0;background-color:#fff;padding:20px;transform:all .1s ease-in-out}.dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;font-size:13px;color:#7b7bb4;font-weight:500;margin-bottom:20px;cursor:pointer}.second-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.sr-right[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}i[_ngcontent-%COMP%]{margin:0 10px}.card[_ngcontent-%COMP%]{width:25vh;padding:20px;flex-direction:column;justify-content:center;display:none}.active[_ngcontent-%COMP%]{display:flex}.pageNumber2[_ngcontent-%COMP%]{cursor:pointer}.main-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap}.third-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}"]}),e})()},{path:"parts",component:(()=>{class e{constructor(e){this.itemservice=e}ngOnInit(){this.parts=this.itemservice.parts}toDetail(e,t){return this.itemservice.getToDetail(this.parts[e].id,t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(xI))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-parts"]],decls:12,vars:4,consts:[[1,"main"],[1,"first-row"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"second-row-cat"],[1,"main-row-cat"],["ngFor","",3,"ngForOf"],["routerLinkActive","router-link-active",1,"card-cat","active-card","card-mobile",3,"routerLink","click"],["page1",""],["alt","card",3,"src"],[1,"title"],[1,"price"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r.TgZ(3,"a",2),r._uU(4," Home "),r.qZA(),r._uU(5),r.qZA(),r._UZ(6,"app-horizontalline"),r.TgZ(7,"div",3),r._UZ(8,"div"),r.qZA(),r.TgZ(9,"div",4),r.YNc(10,DS,8,8,"ng-template",5),r.qZA(),r._UZ(11,"app-horizontalline"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("routerLink",r.DdM(3,RS)),r.xp6(2),r.hij(" > ",t.itemservice.items[1]," "),r.xp6(5),r.Q6J("ngForOf",t.parts))},directives:[so,ao,WI,F,io],pipes:[B],styles:[""]}),e})()},{path:"accessories",component:(()=>{class e{constructor(e){this.itemservice=e}ngOnInit(){this.accessories=this.itemservice.accessories}toDetail(e,t){return this.itemservice.getToDetail(this.accessories[e].id,t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(xI))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-accessories"]],decls:12,vars:4,consts:[[1,"main"],[1,"first-row"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"second-row-cat"],[1,"main-row-cat"],["ngFor","",3,"ngForOf"],["routerLinkActive","router-link-active",1,"card-cat","active-card","card-mobile",3,"routerLink","click"],["page1",""],["alt","card",3,"src"],[1,"title"],[1,"price"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r.TgZ(3,"a",2),r._uU(4," Home "),r.qZA(),r._uU(5),r.qZA(),r._UZ(6,"app-horizontalline"),r.TgZ(7,"div",3),r._UZ(8,"div"),r.qZA(),r.TgZ(9,"div",4),r.YNc(10,MS,8,8,"ng-template",5),r.qZA(),r._UZ(11,"app-horizontalline"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("routerLink",r.DdM(3,FS)),r.xp6(2),r.hij(" > ",t.itemservice.items[2]," "),r.xp6(5),r.Q6J("ngForOf",t.accessories))},directives:[so,ao,WI,F,io],pipes:[B],styles:[""]}),e})()},{path:"cart",component:(()=>{class e{constructor(e,t){this.cart=e,this.authService=t,this.isMobile=!1}ngOnInit(){this.authService.user.subscribe(e=>{e||(this.isAuthenticated=!1),e&&(this.isAuthenticated=!0)}),window.onresize=()=>this.isMobile=window.innerWidth<=400,document.documentElement.clientWidth<400&&(this.isMobile=!0)}removeItem(e){return this.cart.removeItem(e)}updateQuantity(e,t){if(!e.invalid)return this.cart.updateQuantity(t,e.value.number)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(GI),r.Y36(xo))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-cart"]],decls:24,vars:10,consts:[[1,"main"],[1,"first-row"],[1,"body"],[1,"line"],[4,"ngIf"],[1,"second-row2"],[1,"third-row"],[1,"fourth-row"],[1,"fif"],["class","btn","routerLinkActive","router-link-active",3,"routerLink",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"second-row"],["alt","lens",3,"src"],[1,"product-name"],[1,"amount"],[1,"preise"],[3,"ngSubmit"],["quantityForm","ngForm"],["ngModel","","type","number","name","number","placeholder","Amount",1,"input-change"],["inputQuantity",""],[1,"btn"],[1,"fas","fa-times","cancel-product",3,"click"],[1,"information"],[1,"sec-col"],["routerLinkActive","router-link-active",1,"btn",3,"routerLink"],[1,"fas","fa-shopping-basket"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r._uU(3,"SHOPPING CART"),r.qZA(),r.qZA(),r.TgZ(4,"div",2),r._UZ(5,"div",3),r.qZA(),r.YNc(6,US,2,1,"div",4),r.YNc(7,VS,2,1,"div",4),r.TgZ(8,"div",2),r._UZ(9,"div",3),r.qZA(),r.TgZ(10,"div",5),r.YNc(11,qS,1,1,void 0,4),r.YNc(12,zS,1,1,void 0,4),r.qZA(),r.TgZ(13,"div",2),r._UZ(14,"div",3),r.qZA(),r.TgZ(15,"div",6),r.TgZ(16,"div"),r._uU(17),r.ALo(18,"currency"),r.qZA(),r.qZA(),r.TgZ(19,"div",7),r._uU(20,"Shipping, taxes, and discounts will be calculated at checkout."),r.qZA(),r.TgZ(21,"div",8),r.YNc(22,HS,3,2,"button",9),r.YNc(23,GS,3,2,"button",9),r.qZA(),r.qZA()),2&e&&(r.xp6(6),r.Q6J("ngIf",0==t.cart.cartCount||1==t.cart.cartCount),r.xp6(1),r.Q6J("ngIf",t.cart.cartCount>1),r.xp6(4),r.Q6J("ngIf",!t.isMobile),r.xp6(1),r.Q6J("ngIf",t.isMobile),r.xp6(5),r.hij("Subtotal ",r.xi3(18,7,t.cart.total,"EUR"),""),r.xp6(5),r.Q6J("ngIf",t.isAuthenticated),r.xp6(1),r.Q6J("ngIf",!t.isAuthenticated))},directives:[V,F,wn,Gt,gn,Ct,_n,$t,vn,ao,io],pipes:[B],styles:[".main[_ngcontent-%COMP%]{margin:100px;padding:20px}.body[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-direction:row;justify-content:center}.line[_ngcontent-%COMP%]{width:95%;border-top:solid;border-width:1px;border-color:#cccbcb}input[_ngcontent-%COMP%]{padding:10px 2px;background-color:#747474;border:none;outline-style:none;color:#fff;border-radius:5px;width:90px;margin-bottom:5px}input[_ngcontent-%COMP%]::-moz-placeholder{color:#fbf4e9;opacity:.9}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#fbf4e9;opacity:.9}input[_ngcontent-%COMP%]::placeholder{color:#fbf4e9;opacity:.9}.first-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.product-name[_ngcontent-%COMP%]{display:inline-block}.sec-col[_ngcontent-%COMP%]{display:flex;flex-direction:row}.sec-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px}.second-row[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.second-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .second-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .second-row[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], .second-row[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.second-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%}.second-row2[_ngcontent-%COMP%]{display:flex;flex-direction:column}.product-name[_ngcontent-%COMP%]{width:40%}.cancel-product[_ngcontent-%COMP%]{opacity:.6}.third-row[_ngcontent-%COMP%], .fourth-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.fif[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{margin:5px}.input[_ngcontent-%COMP%]{padding:3px 2px}.btn[_ngcontent-%COMP%]{margin-top:4px;padding:5px}}"]}),e})()},{path:"payment",component:(()=>{class e{constructor(e,t){this.afs=e,this.cart=t}ngOnInit(){this.invokeStripe()}invokeStripe(){if(!window.document.getElementById("stripe-script")){const e=window.document.createElement("script");e.id="stripe-script",e.type="text/javascript",e.src="https://checkout.stripe.com/checkout.js",window.document.body.appendChild(e)}}onSubmit(e){const t=this.saveAdress.nativeElement,n=JSON.parse(localStorage.getItem("user"));if(t.checked){const t={firstName:e.value.firstName,lastName:e.value.lastName,adress:e.value.street,zusatzAdress:e.value.additionalAdress,postalCode:e.value.postalCode,city:e.value.city,country:e.value.country,phone:e.value.phone};this.afs.collection(n._token).add(t)}window.StripeCheckout.configure({key:"pk_test_51JmaTwIkQljihorcvcufd45zLOmjpJevAyuak9S7xpb3ryFnRx530IRSiIEbogleBQMIvjkf8ueT3UpLNjhdIC3h00Vm3NVp4B",locale:"auto",token:function(e){alert("Stripe token generated!")}}).open({name:n.email,description:+this.cart.cartCount+" Products Added",amount:100*this.cart.total})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(_I),r.Y36(GI))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-payment"]],viewQuery:function(e,t){if(1&e&&r.Gf(KS,5),2&e){let e;r.iGM(e=r.CRH())&&(t.saveAdress=e.first)}},decls:24,vars:0,consts:[[1,"body"],[1,"main"],[3,"ngSubmit"],["adressForm","ngForm"],[1,"names"],["ngModel","","type","text","name","firstName","required","","first-name","","placeholder","First Name"],["ngModel","","type","text","name","lastName","required","","last-name","","placeholder","Last Name"],["ngModel","","type","text","name","street","required","","street","","placeholder","Street and house number"],["ngModel","","type","text","name","additionalAdress","placeholder","Additional address (optional)"],["ngModel","","type","text","name","postalCode","required","","postal-code","","placeholder","Postal code"],["ngModel","","type","text","name","city","required","","city","","placeholder","City"],["ngModel","","type","text","name","country","required","","city","","placeholder","Country"],["ngModel","","type","text","name","phone","placeholder","Phone (optional)"],["type","checkbox"],["saveAdress",""],["for","checkbox"],[1,"btn"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r._uU(3,"ADRESS AND PAYMENT INFORMATION"),r.qZA(),r.TgZ(4,"form",2,3),r.NdJ("ngSubmit",function(){r.CHM(e);const n=r.MAs(5);return t.onSubmit(n)}),r.TgZ(6,"div"),r._uU(7,"Shipping Adress"),r.qZA(),r.TgZ(8,"div",4),r._UZ(9,"input",5),r._UZ(10,"input",6),r.qZA(),r._UZ(11,"input",7),r._UZ(12,"input",8),r.TgZ(13,"div",4),r._UZ(14,"input",9),r._UZ(15,"input",10),r.qZA(),r._UZ(16,"input",11),r._UZ(17,"input",12),r._UZ(18,"input",13,14),r.TgZ(20,"label",15),r._uU(21,"Save this information for next time"),r.qZA(),r.TgZ(22,"button",16),r._uU(23,"Pay"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}},directives:[wn,Gt,gn,Ct,$t,vn,Sn],styles:[".body[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.main[_ngcontent-%COMP%]{width:30%;padding:30px 0}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.names[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.names[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}input[_ngcontent-%COMP%]{border:none;padding:10px;margin:10px 0}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}"]}),e})(),canActivate:[(()=>{class e{constructor(e,t){this.auth=e,this.router=t}canActivate(){return!!this.auth.isLoggedIn()||(this.router.navigate(["login"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(xo),r.LFG(no))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]}]},{path:"**",redirectTo:""}];let JS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[H,wo.forRoot(WS)],wo]}),e})();const YS={apiKey:"AIzaSyCPoBazzJYQDR_kUMlfSLFNHTrkSYJK3HI",authDomain:"e-commerce-ad30b.firebaseapp.com",projectId:"e-commerce-ad30b",storageBucket:"e-commerce-ad30b.appspot.com",messagingSenderId:"387390102055",appId:"1:387390102055:web:c227788ad5b4aa60b2cc02"};function QS(e,t){return t?n=>n.pipe(QS((n,r)=>(0,mt.D)(e(n,r)).pipe((0,Le.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new XS(e))}class XS{constructor(e){this.project=e}call(e,t){return t.subscribe(new eC(e,this.project))}}class eC extends Wn.Ds{constructor(e,t){super(e),this.project=t,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(e){this.hasSubscription||this.tryNext(e)}tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(t)}_innerSub(e){const t=new Wn.IY(this),n=this.destination;n.add(t);const r=(0,Wn.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}let tC=(()=>{class e{constructor(e){this.authService=e}intercept(e,t){return this.authService.user.pipe(er(1),QS(n=>{if(!n)return t.handle(e);const r=e.clone({params:(new Be).set("auth",n.token)});return t.handle(r)}))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(xo))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),nC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e,bootstrap:[SI]}),e.\u0275inj=r.cJS({providers:[xI,xo,GI,II,tC],imports:[[Ee,gt,JS,$o.hO.initializeApp(YS,"angularfs"),TI,An,wo]]}),e})();(0,r.G48)(),Se().bootstrapModule(nC).catch(e=>console.error(e))},4762:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,a)}c((r=r.apply(e,t||[])).next())})}function s(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function c(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}n.d(t,{_T:function(){return r},mG:function(){return i},Jh:function(){return s},XA:function(){return o},CR:function(){return a},ev:function(){return c}})},8239:function(e,t,n){"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,c,"next",e)}function c(e){r(o,i,s,a,c,"throw",e)}a(void 0)})}}n.d(t,{Z:function(){return i}})}},function(e){e(e.s=8950)}]);