(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},3018:function(e,t,n){"use strict";n.d(t,{deG:function(){return en},tb:function(){return fc},AFp:function(){return uc},ip1:function(){return ac},CZH:function(){return cc},hGG:function(){return au},z2F:function(){return Yc},sBO:function(){return oa},Sil:function(){return Ic},_Vd:function(){return Oo},EJc:function(){return yc},SBq:function(){return Ro},qLn:function(){return vr},vpe:function(){return ja},gxx:function(){return ns},tBr:function(){return En},XFs:function(){return N},OlP:function(){return Xt},zs3:function(){return ys},ZZ4:function(){return Xo},aQg:function(){return ta},soG:function(){return mc},YKP:function(){return ma},v3s:function(){return Xc},h0i:function(){return ga},PXZ:function(){return Hc},R0b:function(){return Ac},FiY:function(){return In},Lbi:function(){return pc},g9A:function(){return dc},Qsj:function(){return Fo},FYo:function(){return Mo},JOm:function(){return br},Tiy:function(){return qo},q3G:function(){return hr},tp0:function(){return Cn},EAV:function(){return nu},Rgc:function(){return ha},dDg:function(){return Lc},DyG:function(){return tn},q4F:function(){return Vo},GfV:function(){return Zo},s_b:function(){return va},ifc:function(){return U},eFA:function(){return Gc},G48:function(){return Bc},Gpc:function(){return g},X6Q:function(){return jc},_c5:function(){return su},VLi:function(){return Uc},c2e:function(){return gc},zSh:function(){return is},wAp:function(){return go},vHH:function(){return v},EiD:function(){return ur},mCW:function(){return Gn},qzn:function(){return Mn},JVY:function(){return Un},pB0:function(){return jn},eBb:function(){return Zn},L6k:function(){return qn},LAX:function(){return Vn},cg1:function(){return ho},Tjo:function(){return iu},kL8:function(){return po},yhl:function(){return Fn},dqk:function(){return j},sIi:function(){return ks},CqO:function(){return zs},QGY:function(){return js},F4k:function(){return Bs},RDi:function(){return Ce},AaK:function(){return d},z3N:function(){return Ln},qOj:function(){return _s},TTD:function(){return _e},_Bn:function(){return Co},xp6:function(){return oi},uIk:function(){return Ps},ekj:function(){return Xs},Suo:function(){return nc},Xpm:function(){return X},lG2:function(){return oe},Yz7:function(){return S},cJS:function(){return E},oAB:function(){return re},Yjl:function(){return ae},Y36:function(){return Ls},_UZ:function(){return Zs},qZA:function(){return qs},TgZ:function(){return Us},EpF:function(){return Vs},n5z:function(){return Kt},Ikx:function(){return ao},LFG:function(){return _n},$8M:function(){return Qt},NdJ:function(){return $s},CRH:function(){return rc},oxw:function(){return Ks},ALo:function(){return Ma},lcZ:function(){return Fa},xi3:function(){return Ua},Q6J:function(){return Ms},s9C:function(){return Ws},MGl:function(){return Qs},DdM:function(){return Da},iGM:function(){return ec},MAs:function(){return Rs},CHM:function(){return ze},LSH:function(){return dr},kYT:function(){return ie},YNc:function(){return Ds},_uU:function(){return io},Oqu:function(){return so},hij:function(){return oo},Gf:function(){return tc}});var r=n(9765),i=n(5319),s=n(7574),o=n(6682),a=n(2441);var c=n(1307);function u(){return new r.xQ}function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function h(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function d(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(d).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function p(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const f=l({__forward_ref__:l});function g(e){return e.__forward_ref__=g,e.toString=function(){return d(this())},e}function m(e){return y(e)?e():e}function y(e){return"function"==typeof e&&e.hasOwnProperty(f)&&e.__forward_ref__===g}class v extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function _(e){return"string"==typeof e?e:null==e?"":String(e)}function w(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():_(e)}function b(e,t){const n=t?` in ${t}`:"";throw new v("201",`No provider for ${w(e)} found${n}`)}function T(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function S(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function E(e){return{providers:e.providers||[],imports:e.imports||[]}}function I(e){return C(e,A)||C(e,O)}function C(e,t){return e.hasOwnProperty(t)?e[t]:null}function k(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(P))?e[x]:null}const A=l({"\u0275prov":l}),x=l({"\u0275inj":l}),O=l({ngInjectableDef:l}),P=l({ngInjectorDef:l});var N=(()=>((N=N||{})[N.Default=0]="Default",N[N.Host=1]="Host",N[N.Self=2]="Self",N[N.SkipSelf=4]="SkipSelf",N[N.Optional=8]="Optional",N))();let D;function R(e){const t=D;return D=e,t}function L(e,t,n){const r=I(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&N.Optional?null:void 0!==t?t:void b(d(e),"Injector")}function M(e){return{toString:e}.toString()}var F=(()=>((F=F||{})[F.OnPush=0]="OnPush",F[F.Default=1]="Default",F))(),U=(()=>((U=U||{})[U.Emulated=0]="Emulated",U[U.None=2]="None",U[U.ShadowDom=3]="ShadowDom",U))();const q="undefined"!=typeof globalThis&&globalThis,Z="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=q||"undefined"!=typeof global&&global||Z||V,B={},z=[],$=l({"\u0275cmp":l}),H=l({"\u0275dir":l}),G=l({"\u0275pipe":l}),K=l({"\u0275mod":l}),W=l({"\u0275loc":l}),Q=l({"\u0275fac":l}),Y=l({__NG_ELEMENT_ID__:l});let J=0;function X(e){return M(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||z,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||U.Emulated,id:"c",styles:e.styles||z,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=J++,n.inputs=se(e.inputs,t),n.outputs=se(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ee):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(te):null,n})}function ee(e){return ce(e)||function(e){return e[H]||null}(e)}function te(e){return function(e){return e[G]||null}(e)}const ne={};function re(e){return M(()=>{const t={type:e.type,bootstrap:e.bootstrap||z,declarations:e.declarations||z,imports:e.imports||z,exports:e.exports||z,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ne[e.id]=e.type),t})}function ie(e,t){return M(()=>{const n=ue(e,!0);n.declarations=t.declarations||z,n.imports=t.imports||z,n.exports=t.exports||z})}function se(e,t){if(null==e)return B;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const oe=X;function ae(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ce(e){return e[$]||null}function ue(e,t){const n=e[K]||null;if(!n&&!0===t)throw new Error(`Type ${d(e)} does not have '\u0275mod' property.`);return n}function le(e){return Array.isArray(e)&&"object"==typeof e[1]}function he(e){return Array.isArray(e)&&!0===e[1]}function de(e){return 0!=(8&e.flags)}function pe(e){return 2==(2&e.flags)}function fe(e){return 1==(1&e.flags)}function ge(e){return null!==e.template}function me(e){return 0!=(512&e[2])}function ye(e,t){return e.hasOwnProperty(Q)?e[Q]:null}class ve{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function _e(){return we}function we(e){return e.type.prototype.ngOnChanges&&(e.setInput=Te),be}function be(){const e=Ee(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===B)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Te(e,t,n,r){const i=Ee(e)||function(e,t){return e[Se]=t}(e,{previous:B,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new ve(c&&c.currentValue,t,o===B),e[r]=t}_e.ngInherit=!0;const Se="__ngSimpleChanges__";function Ee(e){return e[Se]||null}let Ie;function Ce(e){Ie=e}function ke(e){return!!e.listen}const Ae={createRenderer:(e,t)=>void 0!==Ie?Ie:"undefined"!=typeof document?document:void 0};function xe(e){for(;Array.isArray(e);)e=e[0];return e}function Oe(e,t){return xe(t[e])}function Pe(e,t){return xe(t[e.index])}function Ne(e,t){return e.data[t]}function De(e,t){return e[t]}function Re(e,t){const n=t[e];return le(n)?n:n[0]}function Le(e){return 4==(4&e[2])}function Me(e){return 128==(128&e[2])}function Fe(e,t){return null==t?null:e[t]}function Ue(e){e[18]=0}function qe(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ze={lFrame:at(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ve(){return Ze.bindingsEnabled}function je(){return Ze.lFrame.lView}function Be(){return Ze.lFrame.tView}function ze(e){return Ze.lFrame.contextLView=e,e[8]}function $e(){let e=He();for(;null!==e&&64===e.type;)e=e.parent;return e}function He(){return Ze.lFrame.currentTNode}function Ge(e,t){const n=Ze.lFrame;n.currentTNode=e,n.isParent=t}function Ke(){return Ze.lFrame.isParent}function We(){return Ze.isInCheckNoChangesMode}function Qe(e){Ze.isInCheckNoChangesMode=e}function Ye(){const e=Ze.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Je(){return Ze.lFrame.bindingIndex++}function Xe(e,t){const n=Ze.lFrame;n.bindingIndex=n.bindingRootIndex=e,et(t)}function et(e){Ze.lFrame.currentDirectiveIndex=e}function tt(){return Ze.lFrame.currentQueryIndex}function nt(e){Ze.lFrame.currentQueryIndex=e}function rt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function it(e,t,n){if(n&N.SkipSelf){let r=t,i=e;for(;!(r=r.parent,null!==r||n&N.Host||(r=rt(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;t=r,e=i}const r=Ze.lFrame=ot();return r.currentTNode=t,r.lView=e,!0}function st(e){const t=ot(),n=e[1];Ze.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ot(){const e=Ze.lFrame,t=null===e?null:e.child;return null===t?at(e):t}function at(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ct(){const e=Ze.lFrame;return Ze.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ut=ct;function lt(){const e=ct();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ht(){return Ze.lFrame.selectedIndex}function dt(e){Ze.lFrame.selectedIndex=e}function pt(){const e=Ze.lFrame;return Ne(e.tView,e.selectedIndex)}function ft(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function gt(e,t,n){vt(e,t,3,n)}function mt(e,t,n,r){(3&e[2])===n&&vt(e,t,n,r)}function yt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function vt(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(_t(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function _t(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class wt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function bt(e,t,n){const r=ke(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?e.setAttribute(t,a,c,o):t.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];St(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function Tt(e){return 3===e||4===e||6===e}function St(e){return 64===e.charCodeAt(0)}function Et(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||It(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function It(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Ct(e){return-1!==e}function kt(e){return 32767&e}function At(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let xt=!0;function Ot(e){const t=xt;return xt=e,t}let Pt=0;function Nt(e,t){const n=Rt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Dt(r.data,e),Dt(t,null),Dt(r.blueprint,null));const i=Lt(e,t),s=e.injectorIndex;if(Ct(i)){const e=kt(i),n=At(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Dt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Rt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Lt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Mt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Pt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Ft(e,t,n){if(n&N.Optional)return e;b(t,"NodeInjector")}function Ut(e,t,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=e[9],s=R(void 0);try{return i?i.get(t,r,n&N.Optional):L(t,r,n&N.Optional)}finally{R(s)}}return Ft(r,t,n)}function qt(e,t,n,r=N.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Y)?e[Y]:void 0;return"number"==typeof t?t>=0?255&t:Vt:t}(n);if("function"==typeof s){if(!it(t,e,r))return r&N.Host?Ft(i,n,r):Ut(t,n,r,i);try{const e=s(r);if(null!=e||r&N.Optional)return e;b(n)}finally{ut()}}else if("number"==typeof s){let i=null,o=Rt(e,t),a=-1,c=r&N.Host?t[16][6]:null;for((-1===o||r&N.SkipSelf)&&(a=-1===o?Lt(e,t):t[o+8],-1!==a&&Ht(r,!1)?(i=t[1],o=kt(a),t=At(a,t)):o=-1);-1!==o;){const e=t[1];if($t(s,o,e.data)){const e=jt(o,t,n,i,r,c);if(e!==Zt)return e}a=t[o+8],-1!==a&&Ht(r,t[1].data[o+8]===c)&&$t(s,o,t)?(i=e,o=kt(a),t=At(a,t)):o=-1}}}return Ut(t,n,r,i)}const Zt={};function Vt(){return new Gt($e(),je())}function jt(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],c=Bt(a,o,n,null==r?pe(a)&&xt:r!=o&&0!=(3&a.type),i&N.Host&&s===a);return null!==c?zt(t,o,c,a):Zt}function Bt(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,c=e.directiveStart,u=s>>20,l=i?a+u:e.directiveEnd;for(let h=r?a:a+u;h<l;h++){const e=o[h];if(h<c&&n===e||h>=c&&e.type===n)return h}if(i){const e=o[c];if(e&&ge(e)&&e.type===n)return c}return null}function zt(e,t,n,r){let i=e[n];const s=t.data;if(function(e){return e instanceof wt}(i)){const o=i;o.resolving&&function(e,t){throw new v("200",`Circular dependency in DI detected for ${e}`)}(w(s[n]));const a=Ot(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?R(o.injectImpl):null;it(e,r,N.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=we(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==c&&R(c),Ot(a),o.resolving=!1,ut()}}return i}function $t(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Ht(e,t){return!(e&N.Self||e&N.Host&&t)}class Gt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return qt(this._tNode,this._lView,e,n,t)}}function Kt(e){return M(()=>{const t=e.prototype.constructor,n=t[Q]||Wt(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[Q]||Wt(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function Wt(e){return y(e)?()=>{const t=Wt(m(e));return t&&t()}:ye(e)}function Qt(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(Tt(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}($e(),e)}const Yt="__parameters__";function Jt(e,t,n){return M(()=>{const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(Yt)?e[Yt]:Object.defineProperty(e,Yt,{value:[]})[Yt];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Xt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=S({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const en=new Xt("AnalyzeForEntryComponents"),tn=Function;function nn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),nn(r,t)):t!==e&&t.push(r)}return t}function rn(e,t){e.forEach(e=>Array.isArray(e)?rn(e,t):t(e))}function sn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function on(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function an(e,t,n){let r=un(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function cn(e,t){const n=un(e,t);if(n>=0)return e[1|n]}function un(e,t){return function(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const ln={},hn="__NG_DI_FLAG__",dn="ngTempTokenPath",pn=/\n/gm,fn="__source",gn=l({provide:String,useValue:l});let mn;function yn(e){const t=mn;return mn=e,t}function vn(e,t=N.Default){if(void 0===mn)throw new Error("inject() must be called from an injection context");return null===mn?L(e,void 0,t):mn.get(e,t&N.Optional?null:void 0,t)}function _n(e,t=N.Default){return(D||vn)(m(e),t)}function wn(e){const t=[];for(let n=0;n<e.length;n++){const r=m(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=N.Default;for(let t=0;t<r.length;t++){const i=r[t],s=Tn(i);"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(_n(e,n))}else t.push(_n(r))}return t}function bn(e,t){return e[hn]=t,e.prototype[hn]=t,e}function Tn(e){return e[hn]}function Sn(e,t,n,r){const i=e[dn];throw t[fn]&&i.unshift(t[fn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=d(t);if(Array.isArray(t))i=t.map(d).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(pn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[dn]=null,e}const En=bn(Jt("Inject",e=>({token:e})),-1),In=bn(Jt("Optional"),8),Cn=bn(Jt("SkipSelf"),4);let kn;function An(e){var t;return(null===(t=function(){if(void 0===kn&&(kn=null,j.trustedTypes))try{kn=j.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return kn}())||void 0===t?void 0:t.createHTML(e))||e}class xn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class On extends xn{getTypeName(){return"HTML"}}class Pn extends xn{getTypeName(){return"Style"}}class Nn extends xn{getTypeName(){return"Script"}}class Dn extends xn{getTypeName(){return"URL"}}class Rn extends xn{getTypeName(){return"ResourceURL"}}function Ln(e){return e instanceof xn?e.changingThisBreaksApplicationSecurity:e}function Mn(e,t){const n=Fn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Fn(e){return e instanceof xn&&e.getTypeName()||null}function Un(e){return new On(e)}function qn(e){return new Pn(e)}function Zn(e){return new Nn(e)}function Vn(e){return new Dn(e)}function jn(e){return new Rn(e)}class Bn{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(An(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class zn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=An(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=An(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;("xmlns:ns1"===n||0===n.indexOf("ns1:"))&&e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const $n=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gn(e){return(e=String(e)).match($n)||e.match(Hn)?e:"unsafe:"+e}function Kn(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Wn(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Qn=Kn("area,br,col,hr,img,wbr"),Yn=Kn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jn=Kn("rp,rt"),Xn=Wn(Qn,Wn(Yn,Kn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wn(Jn,Kn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wn(Jn,Yn)),er=Kn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tr=Kn("srcset"),nr=Wn(er,tr,Kn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rr=Kn("script,style,template");class ir{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Xn.hasOwnProperty(t))return this.sanitizedSomething=!0,!rr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,s=t.toLowerCase();if(!nr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;er[s]&&(o=Gn(o)),tr[s]&&(r=o,o=(r=String(r)).split(",").map(e=>Gn(e.trim())).join(", ")),this.buf.push(" ",t,'="',ar(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Xn.hasOwnProperty(t)&&!Qn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ar(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const sr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function ar(e){return e.replace(/&/g,"&amp;").replace(sr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(or,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cr;function ur(e,t){let n=null;try{cr=cr||function(e){const t=new zn(e);return function(){try{return!!(new window.DOMParser).parseFromString(An(""),"text/html")}catch(e){return!1}}()?new Bn(t):t}(e);let r=t?String(t):"";n=cr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=cr.getInertBodyElement(r)}while(r!==s);return An((new ir).sanitizeChildren(lr(n)||n))}finally{if(n){const e=lr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function lr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var hr=(()=>((hr=hr||{})[hr.NONE=0]="NONE",hr[hr.HTML=1]="HTML",hr[hr.STYLE=2]="STYLE",hr[hr.SCRIPT=3]="SCRIPT",hr[hr.URL=4]="URL",hr[hr.RESOURCE_URL=5]="RESOURCE_URL",hr))();function dr(e){const t=function(){const e=je();return e&&e[12]}();return t?t.sanitize(hr.URL,e)||"":Mn(e,"URL")?Ln(e):Gn(_(e))}const pr="__ngContext__";function fr(e,t){e[pr]=t}function gr(e){const t=function(e){return e[pr]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function mr(e){return e.ngOriginalError}function yr(e,...t){e.error(...t)}class vr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=(i=e)&&i.ngErrorLogger||yr;var i;r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?e.ngDebugContext||this._findContext(mr(e)):null}_findOriginalError(e){let t=e&&mr(e);for(;t&&mr(t);)t=mr(t);return t||null}}const _r=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function wr(e){return e instanceof Function?e():e}var br=(()=>((br=br||{})[br.Important=1]="Important",br[br.DashCase=2]="DashCase",br))();function Tr(e,t){return undefined(e,t)}function Sr(e){const t=e[3];return he(t)?t[3]:t}function Er(e){return Cr(e[13])}function Ir(e){return Cr(e[4])}function Cr(e){for(;null!==e&&!he(e);)e=e[4];return e}function kr(e,t,n,r,i){if(null!=r){let s,o=!1;he(r)?s=r:le(r)&&(o=!0,r=r[0]);const a=xe(r);0===e&&null!==n?null==i?Lr(t,n,a):Rr(t,n,a,i||null,!0):1===e&&null!==n?Rr(t,n,a,i||null,!0):2===e?function(e,t,n){const r=Fr(e,t);r&&function(e,t,n,r){ke(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==xe(n)&&kr(t,e,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];zr(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Ar(e,t,n){return ke(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function xr(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,qe(i,-1)),n.splice(r,1)}function Or(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&xr(i,r),t>0&&(e[n-1][4]=r[4]);const s=on(e,10+t);!function(e,t){zr(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Pr(e,t){if(!(256&t[2])){const n=t[11];ke(n)&&n.destroyNode&&zr(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Nr(e[1],e);for(;t;){let n=null;if(le(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)le(t)&&Nr(t[1],t),t=t[3];null===t&&(t=e),le(t)&&Nr(t[1],t),n=t&&t[4]}t=n}}(t)}}function Nr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof wt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):xe(t[e]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)r[e]();t[7]=null}}(e,t),1===t[1].type&&ke(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&he(t[3])){n!==t[3]&&xr(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Dr(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===U.None||t===U.Emulated)return null}return Pe(r,n)}(e,t.parent,n)}function Rr(e,t,n,r,i){ke(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Lr(e,t,n){ke(e)?e.appendChild(t,n):t.appendChild(n)}function Mr(e,t,n,r,i){null!==r?Rr(e,t,n,r,i):Lr(e,t,n)}function Fr(e,t){return ke(e)?e.parentNode(t):t.parentNode}let Ur=function(e,t,n){return 40&e.type?Pe(e,n):null};function qr(e,t,n,r){const i=Dr(e,r,t),s=t[11],o=function(e,t,n){return Ur(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Mr(s,i,n[a],o,!1);else Mr(s,i,n,o,!1)}function Zr(e,t){if(null!==t){const n=t.type;if(3&n)return Pe(t,e);if(4&n)return jr(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Zr(e,n);{const n=e[t.index];return he(n)?jr(-1,n):xe(n)}}if(32&n)return Tr(t,e)()||xe(e[t.index]);{const n=Vr(e,t);return null!==n?Array.isArray(n)?n[0]:Zr(Sr(e[16]),n):Zr(e,t.next)}}return null}function Vr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function jr(e,t){const n=10+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Zr(e,r)}return t[7]}function Br(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===t&&(a&&fr(xe(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)Br(e,t,n.child,r,i,s,!1),kr(t,e,i,a,s);else if(32&c){const o=Tr(n,r);let c;for(;c=o();)kr(t,e,i,c,s);kr(t,e,i,a,s)}else 16&c?$r(e,t,r,n,i,s):kr(t,e,i,a,s);n=o?n.projectionNext:n.next}}function zr(e,t,n,r,i,s){Br(n,r,e.firstChild,t,i,s,!1)}function $r(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)kr(t,e,i,a[c],s);else Br(e,t,a,o[3],i,s,!0)}function Hr(e,t,n){ke(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Gr(e,t,n){ke(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Kr(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const Wr="ng-template";function Qr(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Kr(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Yr(e){return 4===e.type&&e.value!==Wr}function Jr(e,t,n){return t===(4!==e.type||n?e.value:Wr)}function Xr(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Tt(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Jr(e,c,n)||""===c&&1===t.length){if(ei(r))return!1;o=!0}}else{const u=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!Qr(e.attrs,u,n)){if(ei(r))return!1;o=!0}continue}const l=ti(8&r?"class":c,i,Yr(e),n);if(-1===l){if(ei(r))return!1;o=!0;continue}if(""!==u){let e;e=l>s?"":i[l+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==Kr(t,u,0)||2&r&&u!==e){if(ei(r))return!1;o=!0}}}}else{if(!o&&!ei(r)&&!ei(c))return!1;if(o&&ei(c))continue;o=!1,r=c|1&r}}return ei(r)||o}function ei(e){return 0==(1&e)}function ti(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ni(e,t,n=!1){for(let r=0;r<t.length;r++)if(Xr(e,t[r],n))return!0;return!1}function ri(e,t){return e?":not("+t.trim()+")":t}function ii(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ei(o)&&(t+=ri(s,i),i=""),r=o,s=s||!ei(r);n++}return""!==i&&(t+=ri(s,i)),t}const si={};function oi(e){ai(Be(),je(),ht()+e,We())}function ai(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&gt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&mt(t,r,0,n)}dt(n)}function ci(e,t){return e<<17|t<<2}function ui(e){return e>>17&32767}function li(e){return 2|e}function hi(e){return(131068&e)>>2}function di(e,t){return-131069&e|t<<2}function pi(e){return 1|e}function fi(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];nt(i),n.contentQueries(2,t[s],s)}}}function gi(e,t,n,r,i,s,o,a,c,u){const l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Ue(l),l[3]=l[15]=e,l[8]=n,l[10]=o||e&&e[10],l[11]=a||e&&e[11],l[12]=c||e&&e[12]||null,l[9]=u||e&&e[9]||null,l[6]=s,l[16]=2==t.type?e[16]:l,l}function mi(e,t,n,r,i){let s=e.data[t];if(null===s)s=function(e,t,n,r,i){const s=He(),o=Ke(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(e,t,n,r,i),Ze.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=function(){const e=Ze.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return Ge(s,!0),s}function yi(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function vi(e,t,n){st(t);try{const r=e.viewQuery;null!==r&&Ki(1,r,n);const i=e.template;null!==i&&bi(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&fi(e,t),e.staticViewQueries&&Ki(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)Bi(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,lt()}}function _i(e,t,n,r){const i=t[2];if(256==(256&i))return;st(t);const s=We();try{Ue(t),function(e){Ze.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&bi(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&gt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&mt(t,n,0,null),yt(t,0)}if(function(e){for(let t=Er(e);null!==t;t=Ir(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&qe(r,1),n[2]|=1024}}}(t),function(e){for(let t=Er(e);null!==t;t=Ir(t))for(let e=10;e<t.length;e++){const n=t[e],r=n[1];Me(n)&&_i(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&fi(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&gt(t,n)}else{const n=e.contentHooks;null!==n&&mt(t,n,1),yt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)dt(~r);else{const i=r,s=n[++e],o=n[++e];Xe(s,i),o(2,t[i])}}}finally{dt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Vi(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&Ki(2,c,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&gt(t,n)}else{const n=e.viewHooks;null!==n&&mt(t,n,2),yt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,qe(t[3],-1))}finally{lt()}}function wi(e,t,n,r){const i=t[10],s=!We(),o=Le(t);try{s&&!o&&i.begin&&i.begin(),o&&vi(e,t,r),_i(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function bi(e,t,n,r,i){const s=ht(),o=2&r;try{dt(-1),o&&t.length>20&&ai(e,t,20,We()),n(r,i)}finally{dt(s)}}function Ti(e,t,n){!Ve()||(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Nt(n,t),fr(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=ge(r);s&&Mi(t,n,r);const c=zt(t,e,a,n);fr(c,t),null!==o&&Ui(0,a-i,c,r,0,o),s&&(Re(n.index,t)[8]=c)}}(e,t,n,Pe(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ze.lFrame.currentDirectiveIndex;try{dt(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];et(n),(null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs)&&Pi(r,i)}}finally{dt(-1),et(o)}}(e,t,n))}function Si(e,t,n=Pe){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Ei(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ii(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ii(e,t,n,r,i,s,o,a,c,u){const l=20+r,h=l+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:si);return n}(l,h),p="function"==typeof u?u():u;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function Ci(e,t,n,r){const i=Qi(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Yi(e).push(r,i.length-1))}function ki(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Ai(e,t,n,r,i,s,o,a){const c=Pe(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(Xi(e,n,u,r,i),pe(t)&&function(e,t){const n=Re(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,ke(s)?s.setProperty(c,r,i):St(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function xi(e,t,n,r){let i=!1;if(Ve()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ni(n,o.selectors,!1)&&(i||(i=[]),Mt(Nt(n,t),e,o.type),ge(o)?(Ni(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ri(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,c=yi(e,t,s.length,null);for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=Et(n.mergedAttrs,u.hostAttrs),Li(e,n,t,c,u),Di(c,u,o),null!==u.contentQueries&&(n.flags|=8),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),!a&&(l.ngOnChanges||l.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let c=t.directiveStart;c<n;c++){const e=r[c],n=e.inputs,u=null===i||Yr(t)?null:qi(n,i);s.push(u),o=ki(n,c,o),a=ki(e.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new v("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=Et(n.mergedAttrs,n.attrs),i}function Oi(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Pi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ni(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Di(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ge(t)&&(n[""]=e)}}function Ri(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Li(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ye(i.type)),o=new wt(s,ge(i),null);e.blueprint[r]=o,n[r]=o,Oi(e,t,0,r,yi(e,n,i.hostVars,si),i)}function Mi(e,t,n){const r=Pe(t,e),i=Ei(n),s=e[10],o=zi(e,gi(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function Fi(e,t,n,r,i,s){const o=Pe(e,t);!function(e,t,n,r,i,s,o){if(null==s)ke(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?_(s):o(s,r||"",i);ke(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],o,s,e.value,n,r,i)}function Ui(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function qi(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Zi(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Vi(e,t){const n=Re(t,e);if(Me(n)){const e=n[1];80&n[2]?_i(e,n,e.template,n[8]):n[5]>0&&ji(n)}}function ji(e){for(let n=Er(e);null!==n;n=Ir(n))for(let e=10;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];_i(e,t,e.template,t[8])}else t[5]>0&&ji(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Re(t[n],e);Me(r)&&r[5]>0&&ji(r)}}function Bi(e,t){const n=Re(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),vi(r,n,n[8])}function zi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function $i(e){for(;e;){e[2]|=64;const t=Sr(e);if(me(e)&&!t)return e;e=t}return null}function Hi(e,t,n){const r=t[10];r.begin&&r.begin();try{_i(e,t,e.template,n)}catch(i){throw Ji(t,i),i}finally{r.end&&r.end()}}function Gi(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=gr(n),i=r[1];wi(i,r,i.template,n)}}(e[8])}function Ki(e,t,n){nt(0),t(e,n)}const Wi=(()=>Promise.resolve(null))();function Qi(e){return e[7]||(e[7]=[])}function Yi(e){return e.cleanup||(e.cleanup=[])}function Ji(e,t){const n=e[9],r=n?n.get(vr,null):null;r&&r.handleError(t)}function Xi(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=t[o],u=e.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function es(e,t,n){const r=Oe(t,e);!function(e,t,n){ke(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function ts(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=p(i,e):2==s&&(r=p(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const ns=new Xt("INJECTOR",-1);class rs{get(e,t=ln){if(t===ln){const t=new Error(`NullInjectorError: No provider for ${d(e)}!`);throw t.name="NullInjectorError",t}return t}}const is=new Xt("Set Injector scope."),ss={},os={};let as;function cs(){return void 0===as&&(as=new rs),as}function us(e,t=null,n=null,r){return new ls(e,n,t||cs(),r)}class ls{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&rn(t,n=>this.processProvider(n,e,t)),rn([e],e=>this.processInjectorType(e,[],i)),this.records.set(ns,ps(void 0,this));const s=this.records.get(is);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:d(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=ln,n=N.Default){this.assertNotDestroyed();const r=yn(this),i=R(void 0);try{if(!(n&N.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(s=e)||"object"==typeof s&&s instanceof Xt)&&I(e);t=n&&this.injectableDefInScope(n)?ps(hs(e),ss):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&N.Self?cs():this.parent).get(e,t=n&N.Optional&&t===ln?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[dn]=o[dn]||[]).unshift(d(e)),r)throw o;return Sn(o,e,"R3InjectorError",this.source)}throw o}finally{R(i),yn(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(d(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=m(e)))return!1;let r=k(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=k(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{rn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];rn(r,e=>this.processProvider(e,n,r||z))}}this.injectorDefTypes.add(s);const a=ye(s)||(()=>new s);this.records.set(s,ps(a,ss));const c=r.providers;if(null!=c&&!o){const t=e;rn(c,e=>this.processProvider(e,t,c))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=gs(e=m(e))?e:m(e&&e.provide);const i=fs(s=e)?ps(void 0,s.useValue):ps(ds(s),ss);var s;if(gs(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=ps(void 0,ss,!0),t.factory=()=>wn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){return t.value===ss&&(t.value=os,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var n}injectableDefInScope(e){if(!e.providedIn)return!1;const t=m(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function hs(e){const t=I(e),n=null!==t?t.factory:ye(e);if(null!==n)return n;if(e instanceof Xt)throw new Error(`Token ${d(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=function(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?");throw new Error(`Can't resolve all parameters for ${d(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[A]||e[O]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ds(e,t,n){let r;if(gs(e)){const t=m(e);return ye(t)||hs(t)}if(fs(e))r=()=>m(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...wn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>_n(m(e.useExisting));else{const t=m(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ye(t)||hs(t);r=()=>new t(...wn(e.deps))}return r}function ps(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function fs(e){return null!==e&&"object"==typeof e&&gn in e}function gs(e){return"function"==typeof e}const ms=function(e,t,n){return function(e,t=null,n=null,r){const i=us(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let ys=(()=>{class e{static create(e,t){return Array.isArray(e)?ms(e,t,""):ms(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=ln,e.NULL=new rs,e.\u0275prov=S({token:e,providedIn:"any",factory:()=>_n(ns)}),e.__NG_ELEMENT_ID__=-1,e})();function vs(e,t){ft(gr(e)[1],$e())}function _s(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(ge(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=ws(e.inputs),t.declaredInputs=ws(e.declaredInputs),t.outputs=ws(e.outputs);const n=i.hostBindings;n&&Ss(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&bs(e,s),o&&Ts(e,o),h(e.inputs,i.inputs),h(e.declaredInputs,i.declaredInputs),h(e.outputs,i.outputs),ge(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===_s&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Et(i.hostAttrs,n=Et(n,i.hostAttrs))}}(r)}function ws(e){return e===B?{}:e===z?[]:e}function bs(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Ts(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function Ss(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}let Es=null;function Is(){if(!Es){const e=j.Symbol;if(e&&e.iterator)Es=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Es=n)}}}return Es}class Cs{constructor(e){this.wrapped=e}static wrap(e){return new Cs(e)}static unwrap(e){return Cs.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Cs}}function ks(e){return!!As(e)&&(Array.isArray(e)||!(e instanceof Map)&&Is()in e)}function As(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function xs(e,t,n){return e[t]=n}function Os(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ps(e,t,n,r){const i=je();return Os(i,Je(),t)&&(Be(),Fi(pt(),i,e,t,n,r)),Ps}function Ns(e,t,n,r){return Os(e,Je(),n)?t+_(n)+r:si}function Ds(e,t,n,r,i,s,o,a){const c=je(),u=Be(),l=e+20,h=u.firstCreatePass?function(e,t,n,r,i,s,o,a,c){const u=t.consts,l=mi(t,e,4,o||null,Fe(u,a));xi(t,n,l,Fe(u,c)),ft(t,l);const h=l.tViews=Ii(2,l,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,u,c,t,n,r,i,s,o):u.data[l];Ge(h,!1);const d=c[11].createComment("");qr(u,c,d,h),fr(d,c),zi(c,c[l]=Zi(d,c,d,h)),fe(h)&&Ti(u,c,h),null!=o&&Si(c,h,a)}function Rs(e){return De(Ze.lFrame.contextLView,20+e)}function Ls(e,t=N.Default){const n=je();return null===n?_n(e,t):qt($e(),n,m(e),t)}function Ms(e,t,n){const r=je();return Os(r,Je(),t)&&Ai(Be(),pt(),r,e,t,r[11],n,!1),Ms}function Fs(e,t,n,r,i){const s=i?"class":"style";Xi(e,n,t.inputs[s],s,r)}function Us(e,t,n,r){const i=je(),s=Be(),o=20+e,a=i[11],c=i[o]=Ar(a,t,Ze.lFrame.currentNamespace),u=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,c=mi(t,e,2,i,Fe(a,s));return xi(t,n,c,Fe(a,o)),null!==c.attrs&&ts(c,c.attrs,!1),null!==c.mergedAttrs&&ts(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,i,0,t,n,r):s.data[o];Ge(u,!0);const l=u.mergedAttrs;null!==l&&bt(a,c,l);const h=u.classes;null!==h&&Gr(a,c,h);const d=u.styles;null!==d&&Hr(a,c,d),64!=(64&u.flags)&&qr(s,i,c,u),0===Ze.lFrame.elementDepthCount&&fr(c,i),Ze.lFrame.elementDepthCount++,fe(u)&&(Ti(s,i,u),function(e,t,n){if(de(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}(s,u,i)),null!==r&&Si(i,u)}function qs(){let e=$e();Ke()?Ze.lFrame.isParent=!1:(e=e.parent,Ge(e,!1));const t=e;Ze.lFrame.elementDepthCount--;const n=Be();n.firstCreatePass&&(ft(n,e),de(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Fs(n,t,je(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Fs(n,t,je(),t.stylesWithoutHost,!1)}function Zs(e,t,n,r){Us(e,t,n,r),qs()}function Vs(){return je()}function js(e){return!!e&&"function"==typeof e.then}function Bs(e){return!!e&&"function"==typeof e.subscribe}const zs=Bs;function $s(e,t,n,r){const i=je(),s=Be(),o=$e();return function(e,t,n,r,i,s,o,a){const c=fe(r),u=e.firstCreatePass&&Yi(e),l=t[8],h=Qi(t);let d=!0;if(3&r.type||a){const p=Pe(r,t),f=a?a(p):p,g=h.length,m=a?e=>a(xe(e[r.index])):r.index;if(ke(n)){let o=null;if(!a&&c&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,d=!1;else{s=Gs(r,t,l,s,!1);const e=n.listen(f,i,s);h.push(s,e),u&&u.push(i,m,g,g+1)}}else s=Gs(r,t,l,s,!0),f.addEventListener(i,s,o),h.push(s),u&&u.push(i,m,g,o)}else s=Gs(r,t,l,s,!1);const p=r.outputs;let f;if(d&&null!==p&&(f=p[i])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=t[f[n]][f[n+1]].subscribe(s),o=h.length;h.push(s,e),u&&u.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,e,t,!!n,r),$s}function Hs(e,t,n,r){try{return!1!==n(r)}catch(i){return Ji(e,i),!1}}function Gs(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?Re(e.index,t):t;0==(32&t[2])&&$i(o);let a=Hs(t,0,r,s),c=n.__ngNextListenerFn__;for(;c;)a=Hs(t,0,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Ks(e=1){return function(e){return(Ze.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ze.lFrame.contextLView))[8]}(e)}function Ws(e,t,n){return Qs(e,"",t,"",n),Ws}function Qs(e,t,n,r,i){const s=je(),o=Ns(s,t,n,r);return o!==si&&Ai(Be(),pt(),s,e,o,s[11],i,!1),Qs}function Ys(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?ui(s):hi(s),c=!1;for(;0!==a&&(!1===c||o);){const n=e[a+1];Js(e[a],t)&&(c=!0,e[a+1]=r?pi(n):li(n)),a=r?ui(n):hi(n)}c&&(e[n+1]=r?li(s):pi(s))}function Js(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&un(e,t)>=0}function Xs(e,t){return function(e,t,n,r){const i=je(),s=Be(),o=function(e){const t=Ze.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[ht()],o=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=function(e){const t=Ze.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=to(n=eo(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=eo(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==hi(r))return e[ui(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=eo(null,e,t,n[1],r),n=to(n,t.attrs,r),function(e,t,n,r){e[ui(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=to(r,e[s].hostAttrs,n);return to(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=ui(o),c=hi(o);e[r]=n;let u,l=!1;if(Array.isArray(n)){const e=n;u=e[1],(null===u||un(e,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const t=ui(e[a+1]);e[r+1]=ci(t,a),0!==t&&(e[t+1]=di(e[t+1],r)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=ci(a,0),0!==a&&(e[a+1]=di(e[a+1],r)),a=r;else e[r+1]=ci(c,0),0===a?a=r:e[c+1]=di(e[c+1],r),c=r;l&&(e[r+1]=li(e[r+1])),Ys(e,u,r,!0),Ys(e,u,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&un(s,t)>=0&&(n[r+1]=pi(n[r+1]))}(t,u,e,r,s),o=ci(a,c),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}(s,e,o,r),t!==si&&Os(i,o,t)&&function(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const c=e.data,u=c[a+1];ro(function(e){return 1==(1&e)}(u)?no(c,t,n,i,hi(u),o):void 0)||(ro(s)||function(e){return 2==(2&e)}(u)&&(s=no(c,null,n,i,a,o)),function(e,t,n,r,i){const s=ke(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:br.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=br.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Oe(ht(),n),i,s))}(s,s.data[ht()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=d(Ln(e)))),e}(t,n),r,o)}(e,t,null,!0),Xs}function eo(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=to(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function to(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),an(e,o,!!n||t[++s]))}return void 0===e?null:e}function no(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),c=s?t[1]:t,u=null===c;let l=n[i+1];l===si&&(l=u?z:void 0);let h=u?cn(l,r):c===r?l:void 0;if(s&&!ro(h)&&(h=cn(t,r)),ro(h)&&(a=h,o))return a;const d=e[i+1];i=o?ui(d):hi(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=cn(e,r))}return a}function ro(e){return void 0!==e}function io(e,t=""){const n=je(),r=Be(),i=e+20,s=r.firstCreatePass?mi(r,i,1,t,null):r.data[i],o=n[i]=function(e,t){return ke(e)?e.createText(t):e.createTextNode(t)}(n[11],t);qr(r,n,o,s),Ge(s,!1)}function so(e){return oo("",e,""),so}function oo(e,t,n){const r=je(),i=Ns(r,e,t,n);return i!==si&&es(r,ht(),i),oo}function ao(e,t,n){const r=je();return Os(r,Je(),t)&&Ai(Be(),pt(),r,e,t,r[11],n,!0),ao}const co=void 0;var uo=["en",[["a","p"],["AM","PM"],co],[["AM","PM"],co,co],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],co,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],co,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",co,"{1} 'at' {0}",co],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let lo={};function ho(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=fo(t);if(n)return n;const r=t.split("-")[0];if(n=fo(r),n)return n;if("en"===r)return uo;throw new Error(`Missing locale data for the locale "${e}".`)}function po(e){return ho(e)[go.PluralCase]}function fo(e){return e in lo||(lo[e]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[e]),lo[e]}var go=(()=>((go=go||{})[go.LocaleId=0]="LocaleId",go[go.DayPeriodsFormat=1]="DayPeriodsFormat",go[go.DayPeriodsStandalone=2]="DayPeriodsStandalone",go[go.DaysFormat=3]="DaysFormat",go[go.DaysStandalone=4]="DaysStandalone",go[go.MonthsFormat=5]="MonthsFormat",go[go.MonthsStandalone=6]="MonthsStandalone",go[go.Eras=7]="Eras",go[go.FirstDayOfWeek=8]="FirstDayOfWeek",go[go.WeekendRange=9]="WeekendRange",go[go.DateFormat=10]="DateFormat",go[go.TimeFormat=11]="TimeFormat",go[go.DateTimeFormat=12]="DateTimeFormat",go[go.NumberSymbols=13]="NumberSymbols",go[go.NumberFormats=14]="NumberFormats",go[go.CurrencyCode=15]="CurrencyCode",go[go.CurrencySymbol=16]="CurrencySymbol",go[go.CurrencyName=17]="CurrencyName",go[go.Currencies=18]="Currencies",go[go.Directionality=19]="Directionality",go[go.PluralCase=20]="PluralCase",go[go.ExtraData=21]="ExtraData",go))();const mo="en-US";let yo=mo;function vo(e){T(e,"Expected localeId to be defined"),"string"==typeof e&&(yo=e.toLowerCase().replace(/_/g,"-"))}function _o(e,t,n,r,i){if(e=m(e),Array.isArray(e))for(let s=0;s<e.length;s++)_o(e[s],t,n,r,i);else{const s=Be(),o=je();let a=gs(e)?e:m(e.provide),c=ds(e);const u=$e(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(gs(e)||!e.multi){const r=new wt(c,i,Ls),p=To(a,t,i?l:l+d,h);-1===p?(Mt(Nt(u,o),s,a),wo(s,e,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),o.push(r)):(n[p]=r,o[p]=r)}else{const p=To(a,t,l+d,h),f=To(a,t,l,l+d),g=p>=0&&n[p],m=f>=0&&n[f];if(i&&!m||!i&&!g){Mt(Nt(u,o),s,a);const l=function(e,t,n,r,i){const s=new wt(e,n,Ls);return s.multi=[],s.index=t,s.componentProviders=0,bo(s,i,r&&!n),s}(i?Eo:So,n.length,i,r,c);!i&&m&&(n[f].providerFactory=l),wo(s,e,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else wo(s,e,p>-1?p:f,bo(n[i?f:p],c,!i&&r));!i&&r&&m&&n[f].componentProviders++}}}function wo(e,t,n,r){const i=gs(t);if(i||function(e){return!!e.useClass}(t)){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function bo(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function To(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function So(e,t,n,r){return Io(this.multi,[])}function Eo(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=zt(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),Io(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],Io(i,s);return s}function Io(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Co(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=Be();if(r.firstCreatePass){const i=ge(e);_o(n,r.data,r.blueprint,i,!0),_o(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class ko{}const Ao="ngComponent";class xo{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${d(e)}. Did you add it to @NgModule.entryComponents?`);return t[Ao]=e,t}(e)}}let Oo=(()=>{class e{}return e.NULL=new xo,e})();function Po(...e){}function No(e,t){return new Ro(Pe(e,t))}const Do=function(){return No($e(),je())};let Ro=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Do,e})();function Lo(e){return e instanceof Ro?e.nativeElement:e}class Mo{}let Fo=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Uo(),e})();const Uo=function(){const e=je(),t=Re($e().index,e);return function(e){return e[11]}(le(t)?t:e)};let qo=(()=>{class e{}return e.\u0275prov=S({token:e,providedIn:"root",factory:()=>null}),e})();class Zo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Vo=new Zo("12.2.15");class jo{constructor(){}supports(e){return ks(e)}create(e){return new zo(e)}}const Bo=(e,t)=>t;class zo{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Bo}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<Ko(n,r,i)?t:n,o=Ko(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ks(e))throw new Error(`Error trying to diff '${d(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Is()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new $o(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Go),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Go),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $o{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ho{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Go{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Ho,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ko(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Wo{constructor(){}supports(e){return e instanceof Map||As(e)}create(){return new Qo}}class Qo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||As(e)))throw new Error(`Error trying to diff '${d(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Yo(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Yo{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jo(){return new Xo([new jo])}let Xo=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Jo()),deps:[[e,new Cn,new In]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(e){return e.name||typeof e}(e)}'`)}}return e.\u0275prov=S({token:e,providedIn:"root",factory:Jo}),e})();function ea(){return new ta([new Wo])}let ta=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||ea()),deps:[[e,new Cn,new In]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=S({token:e,providedIn:"root",factory:ea}),e})();function na(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(xe(s)),he(s))for(let e=10;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&na(t[1],t,n,r)}const o=n.type;if(8&o)na(e,t,n.child,r);else if(32&o){const e=Tr(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=Vr(t,n);if(Array.isArray(e))r.push(...e);else{const n=Sr(t[16]);na(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class ra{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return na(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(he(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Or(e,n),on(t,n))}this._attachedToViewContainer=!1}Pr(this._lView[1],this._lView)}onDestroy(e){Ci(this._lView[1],this._lView,null,e)}markForCheck(){$i(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Qe(!0);try{Hi(e,t,n)}finally{Qe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,zr(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class ia extends ra{constructor(e){super(e),this._view=e}detectChanges(){Gi(this._view)}checkNoChanges(){!function(e){Qe(!0);try{Gi(e)}finally{Qe(!1)}}(this._view)}get context(){return null}}const sa=function(e){return function(e,t,n){if(pe(e)&&!n){const n=Re(e.index,t);return new ra(n,n)}return 47&e.type?new ra(t[16],t):null}($e(),je(),16==(16&e))};let oa=(()=>{class e{}return e.__NG_ELEMENT_ID__=sa,e})();const aa=[new Wo],ca=new Xo([new jo]),ua=new ta(aa),la=function(){return fa($e(),je())};let ha=(()=>{class e{}return e.__NG_ELEMENT_ID__=la,e})();const da=ha,pa=class extends da{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=gi(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),vi(t,n,e),new ra(n)}};function fa(e,t){return 4&e.type?new pa(t,e,No(e,t)):null}class ga{}class ma{}const ya=function(){return Sa($e(),je())};let va=(()=>{class e{}return e.__NG_ELEMENT_ID__=ya,e})();const _a=va,wa=class extends _a{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return No(this._hostTNode,this._hostLView)}get injector(){return new Gt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Lt(this._hostTNode,this._hostLView);if(Ct(e)){const t=At(e,this._hostLView),n=kt(e);return new Gt(t[1].data[n+8],t)}return new Gt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=ba(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(ga,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(he(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new wa(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],sn(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=jr(i,s),a=n[11],c=Fr(a,s[7]);return null!==c&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,zr(e,r,n,1,i,s)}(r,s[6],a,n,c,o),e.attachToViewContainerRef(),sn(Ta(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=ba(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Or(this._lContainer,t);n&&(on(Ta(this._lContainer),t),Pr(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Or(this._lContainer,t);return n&&null!=on(Ta(this._lContainer),t)?new ra(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function ba(e){return e[8]}function Ta(e){return e[8]||(e[8]=[])}function Sa(e,t){let n;const r=t[e.index];if(he(r))n=r;else{let i;if(8&e.type)i=xe(r);else{const n=t[11];i=n.createComment("");const r=Pe(e,t);Rr(n,Fr(n,r),i,function(e,t){return ke(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Zi(r,t,i,e),zi(t,n)}return new wa(n,e,t)}const Ea={};class Ia extends Oo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ce(e);return new Aa(t,this.ngModule)}}function Ca(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const ka=new Xt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_r});class Aa extends ko{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ii).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Ca(this.componentDef.inputs)}get outputs(){return Ca(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,Ea,i);return s!==Ea||r===Ea?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Mo,Ae),o=i.get(qo,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(e,t,n){if(ke(e))return e.selectRootElement(t,n===U.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ar(s.createRenderer(null,this.componentDef),c,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h=function(e,t){return{components:[],scheduler:e||_r,clean:Wi,playerHandler:t||null,flags:0}}(),d=Ii(0,null,null,1,0,null,null,null,null,null),p=gi(null,d,h,l,null,null,s,a,o,i);let f,g;st(p);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=mi(o,20,2,"#host",null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(ts(a,c,!0),null!==e&&(bt(i,e,c),null!==a.classes&&Gr(i,e,a.classes),null!==a.styles&&Hr(i,e,a.styles)));const u=r.createRenderer(e,t),l=gi(n,Ei(t),null,t.onPush?64:16,n[20],a,r,u,s||null,null);return o.firstCreatePass&&(Mt(Nt(a,n),o,t.type),Ni(o,a),Ri(a,n.length,1)),zi(n,l),n[20]=l}(u,this.componentDef,p,s,a);if(u)if(n)bt(a,u,["ng-version",Vo.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!ei(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&bt(a,u,e),t&&t.length>0&&Gr(a,u,t.join(" "))}if(g=Ne(d,20),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}f=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=$e();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Li(e,r,t,yi(e,t,1,null),n));const i=zt(t,e,r.directiveStart,r);fr(i,t);const s=Pe(r,t);return s&&fr(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=$e();t.contentQueries(1,o,e.directiveStart)}const a=$e();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(dt(a.index),Oi(n[1],a,0,a.directiveStart,a.directiveEnd,t),Pi(t,o)),o}(e,this.componentDef,p,h,[vs]),vi(d,p,null)}finally{lt()}return new xa(this.componentType,f,No(g,p),p,g)}}class xa extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new ia(r),this.componentType=e}get injector(){return new Gt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Oa=new Map;class Pa extends ga{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ia(this);const n=ue(e),r=e[W]||null;r&&vo(r),this._bootstrapComponents=wr(n.bootstrap),this._r3Injector=us(e,t,[{provide:ga,useValue:this},{provide:Oo,useValue:this.componentFactoryResolver}],d(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ys.THROW_IF_NOT_FOUND,n=N.Default){return e===ys||e===ga||e===ns?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Na extends ma{constructor(e){super(),this.moduleType=e,null!==ue(e)&&function(e){const t=new Set;!function e(n){const r=ue(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${d(t)} vs ${d(t.name)}`)}(i,Oa.get(i),n),Oa.set(i,n));const s=wr(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Pa(this.moduleType,e)}}function Da(e,t,n){const r=Ye()+e,i=je();return i[r]===si?xs(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function Ra(e,t){const n=e[t];return n===si?void 0:n}function La(e,t,n,r,i,s,o){const a=t+n;return function(e,t,n,r){const i=Os(e,t,n);return Os(e,t+1,r)||i}(e,a,i,s)?xs(e,a+2,o?r.call(o,i,s):r(i,s)):Ra(e,a+2)}function Ma(e,t){const n=Be();let r;const i=e+20;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new v("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ye(r.type)),o=R(Ls);try{const e=Ot(!1),t=s();return Ot(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,je(),i,t),t}finally{R(o)}}function Fa(e,t,n){const r=e+20,i=je(),s=De(i,r);return Za(i,qa(i,r)?function(e,t,n,r,i,s){const o=t+n;return Os(e,o,i)?xs(e,o+1,s?r.call(s,i):r(i)):Ra(e,o+1)}(i,Ye(),t,s.transform,n,s):s.transform(n))}function Ua(e,t,n,r){const i=e+20,s=je(),o=De(s,i);return Za(s,qa(s,i)?La(s,Ye(),t,o.transform,n,r,o):o.transform(n,r))}function qa(e,t){return e[1].data[t].pure}function Za(e,t){return Cs.isWrapped(t)&&(t=Cs.unwrap(t),e[Ze.lFrame.bindingIndex]=si),t}function Va(e){return t=>{setTimeout(e,void 0,t)}}const ja=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,c=t||(()=>null),u=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),c=null===(s=t.error)||void 0===s?void 0:s.bind(t),u=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(c=Va(c),a&&(a=Va(a)),u&&(u=Va(u)));const l=super.subscribe({next:a,error:c,complete:u});return e instanceof i.w&&e.add(l),l}};function Ba(){return this._results[Is()]()}class za{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Is(),n=za.prototype;n[t]||(n[t]=Ba)}get changes(){return this._changes||(this._changes=new ja)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=nn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class $a{constructor(e){this.queryList=e,this.matches=null}clone(){return new $a(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ha{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ha(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==oc(e,t).matches&&this.queries[t].setDirty()}}class Ga{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Ka{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Ka(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Wa{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Wa(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Qa(t,i)),this.matchTNodeWithReadOption(e,t,Bt(t,e,i,!1,!1))}else n===ha?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Bt(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ro||r===va||r===ha&&4&t.type)this.addMatch(t.index,-2);else{const n=Bt(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Qa(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Ya(e,t,n,r){return-1===n?function(e,t){return 11&e.type?No(e,t):4&e.type?fa(e,t):null}(t,e):-2===n?function(e,t,n){return n===Ro?No(t,e):n===ha?fa(t,e):n===va?Sa(t,e):void 0}(e,t,r):zt(e,e[1],n,t)}function Ja(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:Ya(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function Xa(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Ja(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=10;e<o.length;e++){const t=o[e];t[17]===t[3]&&Xa(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];Xa(n[1],n,i,r)}}}}}return r}function ec(e){const t=je(),n=Be(),r=tt();nt(r+1);const i=oc(n,r);if(e.dirty&&Le(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Xa(n,t,r,[]):Ja(n,t,i,r);e.reset(s,Lo),e.notifyOnChanges()}return!0}return!1}function tc(e,t,n){const r=Be();r.firstCreatePass&&(sc(r,new Ga(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),ic(r,je(),t)}function nc(e,t,n,r){const i=Be();if(i.firstCreatePass){const s=$e();sc(i,new Ga(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}ic(i,je(),n)}function rc(){return e=je(),t=tt(),e[19].queries[t].queryList;var e,t}function ic(e,t,n){const r=new za(4==(4&n));Ci(e,t,r,r.destroy),null===t[19]&&(t[19]=new Ha),t[19].queries.push(new $a(r))}function sc(e,t,n){null===e.queries&&(e.queries=new Ka),e.queries.track(new Wa(t,n))}function oc(e,t){return e.queries.getByIndex(t)}const ac=new Xt("Application Initializer");let cc=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Po,this.reject=Po,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(js(t))e.push(t);else if(zs(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(_n(ac,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const uc=new Xt("AppId"),lc={provide:uc,useFactory:function(){return`${hc()}${hc()}${hc()}`},deps:[]};function hc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dc=new Xt("Platform Initializer"),pc=new Xt("Platform ID"),fc=new Xt("appBootstrapListener");let gc=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const mc=new Xt("LocaleId"),yc=new Xt("DefaultCurrencyCode");class vc{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const _c=function(e){return new Na(e)},wc=_c,bc=function(e){return Promise.resolve(_c(e))},Tc=function(e){const t=_c(e),n=wr(ue(e).declarations).reduce((e,t)=>{const n=ce(t);return n&&e.push(new Aa(n)),e},[]);return new vc(t,n)},Sc=Tc,Ec=function(e){return Promise.resolve(Tc(e))};let Ic=(()=>{class e{constructor(){this.compileModuleSync=wc,this.compileModuleAsync=bc,this.compileModuleAndAllComponentsSync=Sc,this.compileModuleAndAllComponentsAsync=Ec}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const Cc=(()=>Promise.resolve(0))();function kc(e){"undefined"==typeof Zone?Cc.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ac{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=j.requestAnimationFrame,t=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(j,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Pc(e),e.isCheckStableRunning=!0,Oc(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Pc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Nc(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Dc(e)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Nc(e),n.invoke(i,s,o,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),Dc(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Pc(e),Oc(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ac.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ac.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,xc,Po,Po);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const xc={};function Oc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Pc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Nc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Dc(e){e._nesting--,Oc(e)}class Rc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Lc=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ac.assertNotInAngularZone(),kc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kc(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(_n(Ac))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})(),Mc=(()=>{class e{constructor(){this._applications=new Map,qc.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return qc.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();class Fc{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Uc(e){qc=e}let qc=new Fc,Zc=!0,Vc=!1;function jc(){return Vc=!0,Zc}function Bc(){if(Vc)throw new Error("Cannot enable prod mode after platform setup.");Zc=!1}let zc;const $c=new Xt("AllowMultipleToken");class Hc{constructor(e,t){this.name=e,this.token=t}}function Gc(e,t,n=[]){const r=`Platform: ${t}`,i=new Xt(r);return(t=[])=>{let s=Kc();if(!s||s.injector.get($c,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:is,useValue:"platform"});!function(e){if(zc&&!zc.destroyed&&!zc.injector.get($c,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");zc=e.get(Wc);const t=e.get(dc,null);t&&t.forEach(e=>e())}(ys.create({providers:e,name:r}))}return function(e){const t=Kc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Kc(){return zc&&!zc.destroyed?zc:null}let Wc=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Rc:("zone.js"===e?void 0:e)||new Ac({enableLongStackTrace:jc(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:Ac,useValue:n}];return n.run(()=>{const i=ys.create({providers:r,parent:this.injector,name:e.moduleType.name}),s=e.create(i),o=s.injector.get(vr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{o.handleError(e)}});s.onDestroy(()=>{Jc(this._modules,s),e.unsubscribe()})}),function(e,n,r){try{const t=r();return js(t)?t.catch(t=>{throw n.runOutsideAngular(()=>e.handleError(t)),t}):t}catch(t){throw n.runOutsideAngular(()=>e.handleError(t)),t}}(o,n,()=>{const e=s.injector.get(cc);return e.runInitializers(),e.donePromise.then(()=>(vo(s.injector.get(mc,mo)||mo),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const n=Qc({},t);return function(e,t,n){const r=new Na(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Yc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${d(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(_n(ys))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function Qc(e,t){return Array.isArray(t)?t.reduce(Qc,e):Object.assign(Object.assign({},e),t)}let Yc=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),h=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Ac.assertNotInAngularZone(),kc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ac.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,h.pipe(e=>(0,c.x)()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.N);return r.source=t,r.subjectFactory=n,r}}(u)(e))))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof ko?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=function(e){return e.isBoundToModule}(n)?void 0:this._injector.get(ga),i=n.create(ys.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Lc,null),a=o&&i.injector.get(Mc);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Jc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Jc(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(fc,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(_n(Ac),_n(ys),_n(vr),_n(Oo),_n(cc))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function Jc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Xc{}class eu{}const tu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let nu=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||tu}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>ru(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>ru(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(_n(Ic),_n(eu,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function ru(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const iu=function(e){return null},su=Gc(null,"core",[{provide:pc,useValue:"unknown"},{provide:Wc,deps:[ys]},{provide:Mc,deps:[]},{provide:gc,deps:[]}]),ou=[{provide:Yc,useClass:Yc,deps:[Ac,ys,vr,Oo,cc]},{provide:ka,deps:[Ac],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:cc,useClass:cc,deps:[[new In,ac]]},{provide:Ic,useClass:Ic,deps:[]},lc,{provide:Xo,useFactory:function(){return ca},deps:[]},{provide:ta,useFactory:function(){return ua},deps:[]},{provide:mc,useFactory:function(e){return vo(e=e||"undefined"!=typeof $localize&&$localize.locale||mo),e},deps:[[new En(mc),new In,new Cn]]},{provide:yc,useValue:"USD"}];let au=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(_n(Yc))},e.\u0275mod=re({type:e}),e.\u0275inj=E({providers:ou}),e})()},8939:function(e,t,n){"use strict";n.d(t,{hO:function(){return g},xv:function(){return h},Dh:function(){return l},GT:function(){return c},cc:function(){return m},on:function(){return d},pX:function(){return a}});var r=n(3018),i=n(7841),s=n(8036);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),c=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class u{constructor(e){return e}}const l=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&p("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new u(o)}const p=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},f={provide:u,useFactory:d,deps:[l,r.R0b,[new r.FiY,h]]};let g=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:l,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[f]}),e})();function m(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(v("error",`${t} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),v("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}const y=!!e.hot,v=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8036:function(e,t,n){"use strict";n.d(t,{q4:function(){return Fn},iC:function(){return Kn},HU:function(){return Hn},vb:function(){return jn},JM:function(){return Vn}});var r=n(3018),i=n(2329),s=n(8239),o=n(8026),a=n(3854),c=n(3910),u=n(5422),l=n(6676);const h="@firebase/installations",d="0.5.4",p=`w:${d}`,f="FIS_v2",g=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function m(e){return e instanceof a.ZR&&e.code.includes("request-failed")}function y({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function v(e){return{token:e.token,requestStatus:2,expiresIn:I(e.expiresIn),creationTime:Date.now()}}function _(e,t){return w.apply(this,arguments)}function w(){return(w=(0,s.Z)(function*(e,t){const n=(yield t.json()).error;return g.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function b({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function T(e,{refreshToken:t}){const n=b(e);return n.append("Authorization",function(e){return`${f} ${e}`}(t)),n}function S(e){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function I(e){return Number(e.replace("s","000"))}function C(e,t){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(function*(e,{fid:t}){const n=y(e),r={method:"POST",headers:b(e),body:JSON.stringify({fid:t,authVersion:f,appId:e.appId,sdkVersion:p})},i=yield S(()=>fetch(n,r));if(i.ok){const e=yield i.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:v(e.authToken)}}throw yield _("Create Installation",i)})).apply(this,arguments)}function A(e){return new Promise(t=>{setTimeout(t,e)})}const x=/^[cdef][\w-]{21}$/;function O(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return x.test(t)?t:""}catch(e){return""}}function P(e){return`${e.appName}!${e.appId}`}const N=new Map;function D(e,t){const n=P(e);R(n,t),function(e,t){const n=(!L&&"BroadcastChannel"in self&&(L=new BroadcastChannel("[Firebase] FID Change"),L.onmessage=e=>{R(e.data.key,e.data.fid)}),L);n&&n.postMessage({key:e,fid:t}),0===N.size&&L&&(L.close(),L=null)}(n,t)}function R(e,t){const n=N.get(e);if(n)for(const r of n)r(t)}let L=null;const M="firebase-installations-store";let F=null;function U(){return F||(F=(0,l.openDb)("firebase-installations-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(M)}})),F}function q(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)(function*(e,t){const n=P(e),r=(yield U()).transaction(M,"readwrite"),i=r.objectStore(M),s=yield i.get(n);return yield i.put(t,n),yield r.complete,(!s||s.fid!==t.fid)&&D(e,t.fid),t})).apply(this,arguments)}function V(e){return j.apply(this,arguments)}function j(){return(j=(0,s.Z)(function*(e){const t=P(e),n=(yield U()).transaction(M,"readwrite");yield n.objectStore(M).delete(t),yield n.complete})).apply(this,arguments)}function B(e,t){return z.apply(this,arguments)}function z(){return(z=(0,s.Z)(function*(e,t){const n=P(e),r=(yield U()).transaction(M,"readwrite"),i=r.objectStore(M),s=yield i.get(n),o=t(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.complete,o&&(!s||s.fid!==o.fid)&&D(e,o.fid),o})).apply(this,arguments)}function $(e){return H.apply(this,arguments)}function H(){return(H=(0,s.Z)(function*(e){let t;const n=yield B(e,n=>{const r=G(n),i=K(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})).apply(this,arguments)}function G(e){return X(e||{fid:O(),registrationStatus:0})}function K(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(g.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return W.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Q(e)}:{installationEntry:t}}function W(){return(W=(0,s.Z)(function*(e,t){try{return q(e,yield C(e,t))}catch(n){throw m(n)&&409===n.customData.serverCode?yield V(e):yield q(e,{fid:t.fid,registrationStatus:0}),n}})).apply(this,arguments)}function Q(e){return Y.apply(this,arguments)}function Y(){return(Y=(0,s.Z)(function*(e){let t=yield J(e);for(;1===t.registrationStatus;)yield A(100),t=yield J(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=yield $(e);return n||t}return t})).apply(this,arguments)}function J(e){return B(e,e=>{if(!e)throw g.create("installation-not-found");return X(e)})}function X(e){return function(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=(0,s.Z)(function*({appConfig:e,platformLoggerProvider:t},n){const r=ne(e,n),i=T(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:p}})},a=yield S(()=>fetch(r,o));if(a.ok)return v(yield a.json());throw yield _("Generate Auth Token",a)})).apply(this,arguments)}function ne(e,{fid:t}){return`${y(e)}/${t}/authTokens:generate`}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,s.Z)(function*(e,t=!1){let n;const r=yield B(e.appConfig,r=>{if(!le(r))throw g.create("not-registered");const i=r.authToken;if(!t&&he(i))return r;if(1===i.requestStatus)return n=se(e,t),r;{if(!navigator.onLine)throw g.create("app-offline");const t=de(r);return n=ce(e,t),t}});return n?yield n:r.authToken})).apply(this,arguments)}function se(e,t){return oe.apply(this,arguments)}function oe(){return(oe=(0,s.Z)(function*(e,t){let n=yield ae(e.appConfig);for(;1===n.authToken.requestStatus;)yield A(100),n=yield ae(e.appConfig);const r=n.authToken;return 0===r.requestStatus?re(e,t):r})).apply(this,arguments)}function ae(e){return B(e,e=>{if(!le(e))throw g.create("not-registered");return function(e){return 1===e.requestStatus&&e.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ce(e,t){return ue.apply(this,arguments)}function ue(){return(ue=(0,s.Z)(function*(e,t){try{const n=yield ee(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield q(e.appConfig,r),n}catch(n){if(!m(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield q(e.appConfig,n)}else yield V(e.appConfig);throw n}})).apply(this,arguments)}function le(e){return void 0!==e&&2===e.registrationStatus}function he(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function de(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function pe(){return(pe=(0,s.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield $(t.appConfig);return r?r.catch(console.error):re(t).catch(console.error),n.fid})).apply(this,arguments)}function fe(){return(fe=(0,s.Z)(function*(e,t=!1){const n=e;return yield ge(n.appConfig),(yield re(n,t)).token})).apply(this,arguments)}function ge(e){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(e){const{registrationPromise:t}=yield $(e);t&&(yield t)})).apply(this,arguments)}function ye(e){return g.create("missing-app-config-values",{valueName:e})}const ve="installations";(0,o._registerComponent)(new c.wA(ve,e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw ye("App Configuration");if(!e.name)throw ye("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ye(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:(0,o._getProvider)(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new c.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,o._getProvider)(t,ve).getImmediate();return{getId:()=>function(e){return pe.apply(this,arguments)}(n),getToken:e=>function(e){return fe.apply(this,arguments)}(n,e)}},"PRIVATE")),(0,o.registerVersion)(h,d),(0,o.registerVersion)(h,d,"esm2017");const _e="@firebase/remote-config",we=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class be{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(t.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function Te(e=navigator){return e.languages&&e.languages[0]||e.language}class Se{constructor(e,t,n,r,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},o={sdk_version:t.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:t.appId,language_code:Te()},a={method:"POST",headers:s,body:JSON.stringify(o)},c=fetch(i,a),u=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let l;try{yield Promise.race([c,u]),l=yield c}catch(g){let e="fetch-client-network";throw"AbortError"===g.name&&(e="fetch-timeout"),we.create(e,{originalErrorMessage:g.message})}let h=l.status;const d=l.headers.get("ETag")||void 0;let p,f;if(200===l.status){let e;try{e=yield l.json()}catch(m){throw we.create("fetch-client-parse",{originalErrorMessage:m.message})}p=e.entries,f=e.state}if("INSTANCE_STATE_UNSPECIFIED"===f?h=500:"NO_CHANGE"===f?h=304:("NO_TEMPLATE"===f||"EMPTY_CONFIG"===f)&&(p={}),304!==h&&200!==h)throw we.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:p}})()}}class Ee{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,s.Z)(function*(){const n=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,n)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){var r=this;return(0,s.Z)(function*(){yield function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(we.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),t}catch(i){if(!function(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i))throw i;const t={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(t),r.attemptFetch(e,t)}})()}}class Ie{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ce(e,t){const n=e.target.error||void 0;return we.create(t,{originalErrorMessage:n&&n.message})}const ke="app_namespace_store";class Ae{constructor(e,t,n,r=function(){return new Promise((e,n)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=e=>{n(Ce(e,"storage-open"))},t.onsuccess=t=>{e(t.target.result)},t.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(ke,{keyPath:"compositeKey"})}}}catch(t){n(we.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([ke],"readonly").objectStore(ke),o=t.createCompositeKey(e);try{const e=s.get(o);e.onerror=e=>{i(Ce(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;r(t?t.value:void 0)}}catch(a){i(we.create("storage-get",{originalErrorMessage:a&&a.message}))}})})()}set(e,t){var n=this;return(0,s.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([ke],"readwrite").objectStore(ke),a=n.createCompositeKey(e);try{const e=o.put({compositeKey:a,value:t});e.onerror=e=>{s(Ce(e,"storage-set"))},e.onsuccess=()=>{i()}}catch(c){s(we.create("storage-set",{originalErrorMessage:c&&c.message}))}})})()}delete(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([ke],"readwrite").objectStore(ke),o=t.createCompositeKey(e);try{const e=s.delete(o);e.onerror=e=>{i(Ce(e,"storage-delete"))},e.onsuccess=()=>{r()}}catch(a){i(we.create("storage-delete",{originalErrorMessage:a&&a.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class xe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,s.Z)(function*(){const t=e.storage.getLastFetchStatus(),n=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),i=yield t;i&&(e.lastFetchStatus=i);const s=yield n;s&&(e.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(e.activeConfig=o)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Oe(){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new c.wA("remote-config",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw we.create("registration-window");if(!(0,a.hl)())throw we.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:c}=n.options;if(!i)throw we.create("registration-project-id");if(!s)throw we.create("registration-api-key");if(!c)throw we.create("registration-app-id");const l=new Ae(c,n.name,t=t||"firebase"),h=new xe(l),d=new u.Yd(_e);d.logLevel=u.in.ERROR;const p=new Se(r,o.SDK_VERSION,t,i,s,c),f=new Ee(p,l),g=new be(f,l,h,d),m=new Ie(n,g,h,l,d);return function(e){const t=(0,a.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(_e,"0.3.3"),(0,o.registerVersion)(_e,"0.3.3","esm2017");const Ne="/firebase-messaging-sw.js",De="/firebase-cloud-messaging-push-scope",Re="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Le="google.c.a.c_id",Me="google.c.a.c_l",Fe="google.c.a.ts",Ue="google.c.a.e";var qe=(()=>{return(e=qe||(qe={})).PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",qe;var e})();function Ze(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ve(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}const je="fcm_token_details_db",Be="fcm_token_object_Store";function ze(e){return $e.apply(this,arguments)}function $e(){return($e=(0,s.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e=>e.name).includes(je))return null;let t=null;return(yield(0,l.openDb)(je,5,function(){var n=(0,s.Z)(function*(n){var r;if(n.oldVersion<2||!n.objectStoreNames.contains(Be))return;const i=n.transaction.objectStore(Be),s=yield i.index("fcmSenderId").get(e);if(yield i.clear(),s)if(2===n.oldVersion){const e=s;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(r=e.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Ze(e.vapidKey)}}}else if(3===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ze(e.auth),p256dh:Ze(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ze(e.vapidKey)}}}else if(4===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ze(e.auth),p256dh:Ze(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ze(e.vapidKey)}}}});return function(e){return n.apply(this,arguments)}}())).close(),yield(0,l.deleteDb)(je),yield(0,l.deleteDb)("fcm_vapid_details_db"),yield(0,l.deleteDb)("undefined"),He(t)?t:null})).apply(this,arguments)}function He(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const Ge="firebase-messaging-store";let Ke=null;function We(){return Ke||(Ke=(0,l.openDb)("firebase-messaging-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(Ge)}})),Ke}function Qe(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,s.Z)(function*(e){const t=nt(e),n=yield(yield We()).transaction(Ge).objectStore(Ge).get(t);if(n)return n;{const t=yield ze(e.appConfig.senderId);if(t)return yield Je(e,t),t}})).apply(this,arguments)}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,s.Z)(function*(e,t){const n=nt(e),r=(yield We()).transaction(Ge,"readwrite");return yield r.objectStore(Ge).put(t,n),yield r.complete,t})).apply(this,arguments)}function et(e){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(e){const t=nt(e),n=(yield We()).transaction(Ge,"readwrite");yield n.objectStore(Ge).delete(t),yield n.complete})).apply(this,arguments)}function nt({appConfig:e}){return e.appId}const rt=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function it(e,t){return st.apply(this,arguments)}function st(){return(st=(0,s.Z)(function*(e,t){const n=yield ht(e),r=pt(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(lt(e.appConfig),i)).json()}catch(o){throw rt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw rt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw rt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function ot(e,t){return at.apply(this,arguments)}function at(){return(at=(0,s.Z)(function*(e,t){const n=yield ht(e),r=pt(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${lt(e.appConfig)}/${t.token}`,i)).json()}catch(o){throw rt.create("token-update-failed",{errorInfo:o})}if(s.error)throw rt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw rt.create("token-update-no-token");return s.token})).apply(this,arguments)}function ct(e,t){return ut.apply(this,arguments)}function ut(){return(ut=(0,s.Z)(function*(e,t){const n={method:"DELETE",headers:yield ht(e)};try{const r=yield(yield fetch(`${lt(e.appConfig)}/${t}`,n)).json();if(r.error)throw rt.create("token-unsubscribe-failed",{errorInfo:r.error.message})}catch(r){throw rt.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function lt({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}function ht(e){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function pt({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Re&&(i.web.applicationPubKey=r),i}const ft=6048e5;function gt(e){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(e){const t=yield St(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Ze(t.getKey("auth")),p256dh:Ze(t.getKey("p256dh"))},r=yield Qe(e.firebaseDependencies);if(r){if(It(r.subscriptionOptions,n))return Date.now()>=r.createTime+ft?_t(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield ct(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return bt(e.firebaseDependencies,n)}return bt(e.firebaseDependencies,n)})).apply(this,arguments)}function yt(e){return vt.apply(this,arguments)}function vt(){return(vt=(0,s.Z)(function*(e){const t=yield Qe(e.firebaseDependencies);t&&(yield ct(e.firebaseDependencies,t.token),yield et(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function _t(e,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(e,t){try{const n=yield ot(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield Je(e.firebaseDependencies,r),n}catch(n){throw yield yt(e),n}})).apply(this,arguments)}function bt(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,s.Z)(function*(e,t){const n={token:yield it(e,t),createTime:Date.now(),subscriptionOptions:t};return yield Je(e,n),n.token})).apply(this,arguments)}function St(e,t){return Et.apply(this,arguments)}function Et(){return(Et=(0,s.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ve(t)})})).apply(this,arguments)}function It(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function Ct(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){!t.data||(e.data=t.data)}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function kt(e){return"object"==typeof e&&!!e&&Le in e}function At(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function xt(e){return rt.create("missing-app-config-values",{valueName:e})}At("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),At("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ot{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw xt("App Configuration Object");if(!e.name)throw xt("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw xt(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}function Pt(e){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,s.Z)(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(Ne,{scope:De}),e.swRegistration.update().catch(()=>{})}catch(t){throw rt.create("failed-service-worker-registration",{browserErrorMessage:t.message})}})).apply(this,arguments)}function Dt(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(e,t){if(!t&&!e.swRegistration&&(yield Pt(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw rt.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function Lt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,s.Z)(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Re)})).apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(function*(e,t){if(!navigator)throw rt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rt.create("permission-blocked");return yield Lt(e,null==t?void 0:t.vapidKey),yield Dt(e,null==t?void 0:t.serviceWorkerRegistration),gt(e)})).apply(this,arguments)}function Ut(e,t,n){return qt.apply(this,arguments)}function qt(){return(qt=(0,s.Z)(function*(e,t,n){const r=Zt(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Le],message_name:n[Me],message_time:n[Fe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Zt(e){switch(e){case qe.NOTIFICATION_CLICKED:return"notification_open";case qe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Vt(){return(Vt=(0,s.Z)(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===qe.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(Ct(n)):e.onMessageHandler.next(Ct(n)));const r=n.data;kt(r)&&"1"===r[Ue]&&(yield Ut(e,n.messageType,r))})).apply(this,arguments)}const jt="@firebase/messaging";function Bt(){return zt.apply(this,arguments)}function zt(){return(zt=(0,s.Z)(function*(){return"undefined"!=typeof window&&(0,a.hl)()&&(yield(0,a.eu)())&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new c.wA("messaging",e=>{const t=new Ot(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function(e,t){return Vt.apply(this,arguments)}(t,e)),t},"PUBLIC")),(0,o._registerComponent)(new c.wA("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>function(e,t){return Ft.apply(this,arguments)}(t,e)}},"PRIVATE")),(0,o.registerVersion)(jt,"0.9.4"),(0,o.registerVersion)(jt,"0.9.4","esm2017");const $t="analytics",Ht="firebase_id",Gt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kt="https://www.googletagmanager.com/gtag/js",Wt=new u.Yd("@firebase/analytics");function Qt(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Yt(e,t){const n=document.createElement("script");n.src=`${Kt}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function Jt(e,t,n,r,i,s){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(function*(e,t,n,r,i,s){const o=r[i];try{if(o)yield t[o];else{const e=(yield Qt(n)).find(e=>e.measurementId===i);e&&(yield t[e.appId])}}catch(a){Wt.error(a)}e("config",i,s)})).apply(this,arguments)}function en(e,t,n,r,i){return tn.apply(this,arguments)}function tn(){return(tn=(0,s.Z)(function*(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=yield Qt(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",r,i||{})}catch(s){Wt.error(s)}})).apply(this,arguments)}function nn(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Kt))return t;return null}const rn=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),sn=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function on(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function an(e){return cn.apply(this,arguments)}function cn(){return(cn=(0,s.Z)(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:on(r)},s=Gt.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=yield o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()})).apply(this,arguments)}function un(e){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.Z)(function*(e,t=sn,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw rn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw rn.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new gn;return setTimeout((0,s.Z)(function*(){c.abort()}),void 0!==n?n:6e4),hn({appId:r,apiKey:i,measurementId:o},a,c,t)})).apply(this,arguments)}function hn(e,t,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,s.Z)(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=sn){const{appId:s,measurementId:o}=e;try{yield pn(r,t)}catch(c){if(o)return Wt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:s,measurementId:o};throw c}try{const t=yield an(e);return i.deleteThrottleMetadata(s),t}catch(c){if(!fn(c)){if(i.deleteThrottleMetadata(s),o)return Wt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:s,measurementId:o};throw c}const t=503===Number(c.customData.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return i.setThrottleMetadata(s,u),Wt.debug(`Calling attemptFetch again in ${t} millis`),hn(e,u,r,i)}})).apply(this,arguments)}function pn(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(rn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function fn(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class gn{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function mn(){return yn.apply(this,arguments)}function yn(){return(yn=(0,s.Z)(function*(){if(!(0,a.hl)())return Wt.warn(rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(e){return Wt.warn(rn.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0})).apply(this,arguments)}function vn(){return(vn=(0,s.Z)(function*(e,t,n,r,i,s,o){var a;const c=un(e);c.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Wt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Wt.error(e)),t.push(c);const u=mn().then(e=>{if(e)return r.getId()}),[l,h]=yield Promise.all([c,u]);nn()||Yt(s,l.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d[Ht]=h),i("config",l.measurementId,d),l.measurementId})).apply(this,arguments)}class _n{constructor(e){this.app=e}_delete(){return delete wn[this.app.options.appId],Promise.resolve()}}let wn={},bn=[];const Tn={};let Sn,En,In="dataLayer",Cn=!1;function kn(e,t,n){!function(){const e=[];if((0,a.ru)()&&e.push("This is a browser extension environment."),(0,a.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=rn.create("invalid-analytics-context",{errorInfo:t});Wt.warn(n.message)}}();const r=e.options.appId;if(!r)throw rn.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw rn.create("no-api-key");Wt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wn[r])throw rn.create("already-exists",{id:r});if(!Cn){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(In);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){function i(){return(i=(0,s.Z)(function*(i,s,o){try{"event"===i?yield en(e,t,n,s,o):"config"===i?yield Jt(e,t,n,r,s,o):e("set",s)}catch(a){Wt.error(a)}})).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(wn,bn,Tn,In,"gtag");En=e,Sn=t,Cn=!0}return wn[r]=function(e,t,n,r,i,s,o){return vn.apply(this,arguments)}(e,bn,Tn,t,Sn,In,n),new _n(e)}function An(){return(An=(0,s.Z)(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function xn(){return On.apply(this,arguments)}function On(){return(On=(0,s.Z)(function*(){if((0,a.ru)()||!(0,a.zI)()||!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}const Pn="@firebase/analytics";(0,o._registerComponent)(new c.wA($t,(e,{options:t})=>kn(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,o._registerComponent)(new c.wA("analytics-internal",function(e){try{const t=e.getProvider($t).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=(0,a.m9)(e),function(e,t,n,r,i){return An.apply(this,arguments)}(En,wn[e.app.options.appId],t,n,r).catch(e=>Wt.error(e))}(t,e,n,r)}}catch(t){throw rn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,o.registerVersion)(Pn,"0.7.4"),(0,o.registerVersion)(Pn,"0.7.4","esm2017");var Nn=n(7771),Dn=n(3637),Rn=n(3342),Ln=n(3101),Mn=n(309);const Fn=new r.GfV("7.2.0"),Un="__angularfire_symbol__analyticsIsSupported",qn="__angularfire_symbol__remoteConfigIsSupported",Zn="__angularfire_symbol__messagingIsSupported";function Vn(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter(e=>e.app===n);if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Un]||(globalThis[Un]=xn().then(e=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=e)),globalThis[Zn]||(globalThis[Zn]=Bt().then(e=>globalThis.__angularfire_symbol__messagingIsSupportedValue=e)),globalThis[qn]||(globalThis[qn]=Oe().then(e=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=e));const jn=(e,t)=>{const n=t?[t]:(0,i.C6)(),r=[];return n.forEach(t=>{t.container.getProvider(e).instances.forEach(e=>{r.includes(e)||r.push(e)})}),r};function Bn(){}class zn{constructor(e,t=Nn.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class $n{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bn,{},Bn,Bn)),t.pipe((0,Rn.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hn=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new zn(Zone.current)),this.insideAngular=e.run(()=>new zn(Zone.current,Dn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Gn(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function Kn(e){return Gn(),function(e){return function(t){return(t=t.lift(new $n(e.ngZone))).pipe((0,Ln.R)(e.outsideAngular),(0,Mn.QV)(e.insideAngular))}}(Gn())(e)}},3854:function(e,t,n){"use strict";n.d(t,{BH:function(){return u},LL:function(){return I},ZR:function(){return E},zI:function(){return S},US:function(){return i},tV:function(){return o},$s:function(){return F},r3:function(){return k},Sg:function(){return l},ne:function(){return R},vZ:function(){return x},ZB:function(){return a},pd:function(){return D},m9:function(){return U},z$:function(){return h},jU:function(){return f},ru:function(){return g},d:function(){return y},xb:function(){return A},w1:function(){return v},hl:function(){return b},uI:function(){return d},UG:function(){return p},b$:function(){return m},G6:function(){return w},Mn:function(){return _},xO:function(){return P},zd:function(){return N},eu:function(){return T}});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0;let u=(15&o)<<2|c>>6,l=63&c;a||(l=64,s||(u=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[u],n[l])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();r.push(t<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!c(n)||(e[n]=a(e[n],t[n]));return e}function c(e){return"__proto__"!==e}class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function l(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function p(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function f(){return"object"==typeof self&&self.self===self}function g(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){const e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return h().indexOf("MSAppHost/")>=0}function w(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b(){return"object"==typeof indexedDB}function T(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function S(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}}class I{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(C,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new E(r,`${this.serviceName}: ${s} (${r}).`,n)}}const C=/\{\$([^}]+)}/g;function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function A(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function x(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(O(n)&&O(s)){if(!x(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function O(e){return null!==e&&"object"==typeof e}function P(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function N(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function D(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function R(e,t){const n=new L(e,t);return n.subscribe.bind(n)}class L{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=M),void 0===r.error&&(r.error=M),void 0===r.complete&&(r.complete=M);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M(){}function F(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function U(e){return e&&e._delegate?e._delegate:e}},2329:function(e,t,n){"use strict";n.d(t,{Mq:function(){return r.getApp},C6:function(){return r.getApps}});var r=n(8026);(0,r.registerVersion)("firebase","9.6.1","app")},7841:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(3394);r.Z.registerVersion("firebase","9.6.1","app-compat")},2755:function(e,t,n){"use strict";n.r(t);var r=n(8239),i=n(3394),s=n(3854),o=n(8026);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var c=n(5422),u=n(3910);const l=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},d=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),p=new c.Yd("@firebase/auth");function f(e,...t){p.logLevel<=c.in.ERROR&&p.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function g(e,...t){throw _(e,...t)}function m(e,...t){return _(e,...t)}function y(e,t,n){const r=Object.assign(Object.assign({},h()),{[t]:n});return new s.LL("auth","Firebase",r).create(t,{appName:e.name})}function v(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&g(e,"argument-error"),y(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return d.create(e,...t)}function w(e,t,...n){if(!e)throw _(t,...n)}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function T(e,t){e||b(t)}const S=new Map;function E(e){T(e instanceof Function,"Expected a class definition");let t=S.get(e);return t?(T(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,S.set(e,t),t)}function I(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function C(){return"http:"===k()||"https:"===k()}function k(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class A{constructor(e,t){this.shortDelay=e,this.longDelay=t,T(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(C()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function x(e,t){T(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class O{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},N=new A(3e4,6e4);function D(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function R(e,t,n,r){return L.apply(this,arguments)}function L(){return(L=(0,r.Z)(function*(e,t,n,i,o={}){return M(e,o,(0,r.Z)(function*(){let r={},o={};i&&("GET"===t?o=i:r={body:JSON.stringify(i)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),O.fetch()(Z(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},r))}))})).apply(this,arguments)}function M(e,t,n){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},P),t);try{const t=new V(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw j(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw j(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw j(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw y(e,a,o);g(e,a)}}catch(i){if(i instanceof s.ZR)throw i;g(e,"network-request-failed")}})).apply(this,arguments)}function U(e,t,n,r){return q.apply(this,arguments)}function q(){return(q=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield R(e,t,n,r,i);return"mfaPendingCredential"in s&&g(e,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function Z(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?x(e.config,i):`${e.config.apiScheme}://${i}`}class V{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(m(this.auth,"timeout")),N.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function j(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=m(e,t,r);return i.customData._tokenResponse=n,i}function B(){return(B=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function z(e,t){return $.apply(this,arguments)}function $(){return($=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function H(e,t){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function K(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function W(){return(W=(0,r.Z)(function*(e,t=!1){const n=(0,s.m9)(e),r=yield n.getIdToken(t),i=Y(r);w(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:K(Q(i.auth_time)),issuedAtTime:K(Q(i.iat)),expirationTime:K(Q(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function Q(e){return 1e3*Number(e)}function Y(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return f("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(f("Failed to decode base64 JWT payload"),null)}catch(i){return f("Caught error parsing JWT payload as JSON",i),null}}function J(e,t){return X.apply(this,arguments)}function X(){return(X=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof s.ZR&&ee(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function ee({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class te{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class ne{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=K(this.lastLoginAt),this.creationTime=K(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield J(e,H(n,{idToken:r}));w(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ae(s.providerUserInfo):[],a=oe(e.providerData,o),c=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ne(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,u)})).apply(this,arguments)}function se(){return(se=(0,r.Z)(function*(e){const t=(0,s.m9)(e);yield re(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function oe(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function ae(e){return e.map(e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ce(){return(ce=(0,r.Z)(function*(e,t){const n=yield M(e,{},(0,r.Z)(function*(){const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Z(e,r,"/v1/token",`key=${i}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",O.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){w(e.idToken,"internal-error"),w(void 0!==e.idToken,"internal-error"),w(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Y(e);return w(t,"internal-error"),w(void 0!==t.exp,"internal-error"),w(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return w(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return ce.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ue;return n&&(w("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(w("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(w("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ue,this.toJSON())}_performRefresh(){return b("not implemented")}}function le(e,t){w("string"==typeof e||void 0===e,"internal-error",{appName:t})}class he{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new te(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new ne(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield J(t,t.stsTokenManager.getToken(t.auth,e));return w(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return W.apply(this,arguments)}(this,e)}reload(){return function(e){return se.apply(this,arguments)}(this)}_assign(e){this!==e&&(w(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new he(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield re(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield J(e,function(e,t){return B.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,u;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:_,isAnonymous:b,providerData:T,stsTokenManager:S}=t;w(v&&S,e,"internal-error");const E=ue.fromJSON(this.name,S);w("string"==typeof v,e,"internal-error"),le(l,e.name),le(h,e.name),w("boolean"==typeof _,e,"internal-error"),w("boolean"==typeof b,e,"internal-error"),le(d,e.name),le(p,e.name),le(f,e.name),le(g,e.name),le(m,e.name),le(y,e.name);const I=new he({uid:v,auth:e,email:h,emailVerified:_,displayName:l,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:E,createdAt:m,lastLoginAt:y});return T&&Array.isArray(T)&&(I.providerData=T.map(e=>Object.assign({},e))),g&&(I._redirectEventId=g),I}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new ue;r.updateFromServerResponse(t);const i=new he({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield re(i),i})()}}const de=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function pe(e,t,n){return`firebase:${e}:${t}:${n}`}class fe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=pe(this.userKey,r.apiKey,i),this.fullPersistenceKey=pe("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?he._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new fe(E(de),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||E(de);const o=pe(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=he._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(u){}const c=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(t){}});return function(t){return e.apply(this,arguments)}}())),new fe(s,e,n)):new fe(s,e,n)})()}}function ge(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_e(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(me(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(be(t))return"Blackberry";if(Te(t))return"Webos";if(ye(t))return"Safari";if((t.includes("chrome/")||ve(t))&&!t.includes("edge/"))return"Chrome";if(we(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function me(e=(0,s.z$)()){return/firefox\//i.test(e)}function ye(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ve(e=(0,s.z$)()){return/crios\//i.test(e)}function _e(e=(0,s.z$)()){return/iemobile/i.test(e)}function we(e=(0,s.z$)()){return/android/i.test(e)}function be(e=(0,s.z$)()){return/blackberry/i.test(e)}function Te(e=(0,s.z$)()){return/webos/i.test(e)}function Se(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function Ee(e=(0,s.z$)()){return Se(e)||we(e)||Te(e)||be(e)||/windows phone/i.test(e)||_e(e)}function Ie(e,t=[]){let n;switch(e){case"Browser":n=ge((0,s.z$)());break;case"Worker":n=`${ge((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Ce{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ae(this),this.idTokenSubscription=new Ae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=E(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r,i;if(!n._deleted&&(n.persistenceManager=yield fe.create(n,e),!n._deleted)){if(null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch(s){}yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,!n._deleted&&(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);(!i||i===s)&&(null==o?void 0:o.user)&&(r=o.user)}return r?r._redirectEventId?(w(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield re(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&w(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&w(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(E(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&E(e)||t._popupRedirectResolver;w(n,t,"argument-error"),t.redirectPersistenceManager=yield fe.create(t,[E(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return w(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,r.Z)(function*(){const t={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(t["X-Firebase-gmpid"]=e.app.options.appId),t})()}}function ke(e){return(0,s.m9)(e)}class Ae{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Oe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Pe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}function Ne(e,t){return De.apply(this,arguments)}function De(){return(De=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:resetPassword",D(e,t))})).apply(this,arguments)}function Re(e,t){return Le.apply(this,arguments)}function Le(){return(Le=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Me(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",D(e,t))})).apply(this,arguments)}function Ue(){return(Ue=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithPassword",D(e,t))})).apply(this,arguments)}function qe(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:sendOobCode",D(e,t))})).apply(this,arguments)}function Ve(e,t){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(function*(e,t){return qe(e,t)})).apply(this,arguments)}function Be(e,t){return ze.apply(this,arguments)}function ze(){return(ze=(0,r.Z)(function*(e,t){return qe(e,t)})).apply(this,arguments)}function $e(e,t){return He.apply(this,arguments)}function He(){return(He=(0,r.Z)(function*(e,t){return qe(e,t)})).apply(this,arguments)}function Ge(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(e,t){return qe(e,t)})).apply(this,arguments)}function We(){return(We=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))})).apply(this,arguments)}function Qe(){return(Qe=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))})).apply(this,arguments)}class Ye extends Pe{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ye(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ye(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return Ue.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return We.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:g(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Re(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return Qe.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:g(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithIdp",D(e,t))})).apply(this,arguments)}class et extends Pe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new et(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):g("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new et(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Je(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:sendVerificationCode",D(e,t))})).apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t))})).apply(this,arguments)}function it(){return(it=(0,r.Z)(function*(e,t){const n=yield U(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t));if(n.temporaryProof)throw j(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const st={USER_NOT_FOUND:"user-not-found"};function ot(){return(ot=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),st)})).apply(this,arguments)}class at extends Pe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new at({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new at({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return rt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return it.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return ot.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new at({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ct{constructor(e){var t,n,r,i,o,a;const c=(0,s.zd)((0,s.pd)(e)),u=null!==(t=c.apiKey)&&void 0!==t?t:null,l=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);w(u&&l&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=l,this.continueUrl=null!==(i=c.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new ct(t)}catch(n){return null}}}let ut=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Ye._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ct.parseLink(t);return w(n,"argument-error"),Ye._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class lt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ht extends lt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dt extends ht{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return w("providerId"in t&&"signInMethod"in t,"argument-error"),et._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return w(e.idToken||e.accessToken,"argument-error"),et._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return dt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return dt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!n&&!r&&!t&&!i||!o)return null;try{return new dt(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let pt=(()=>{class e extends ht{constructor(){super("facebook.com")}static credential(t){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),ft=(()=>{class e extends ht{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),gt=(()=>{class e extends ht{constructor(){super("github.com")}static credential(t){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class mt extends Pe{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Je(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new mt(n,i):null}static _create(e,t){return new mt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yt extends lt{constructor(e){w(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return yt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return yt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=mt.fromJSON(e);return w(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return mt._create(n,t)}catch(r){return null}}}let vt=(()=>{class e extends ht{constructor(){super("twitter.com")}static credential(t,n){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function _t(e,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signUp",D(e,t))})).apply(this,arguments)}class bt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield he._fromIdTokenResponse(e,n,i),s=Tt(n);return new bt({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=Tt(n);return new bt({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function Tt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function St(){return(St=(0,r.Z)(function*(e){var t;const n=ke(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new bt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield _t(n,{returnSecureToken:!0}),i=yield bt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Et extends s.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Et.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Et(e,t,n,r)}}function It(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw"auth/multi-factor-auth-required"===n.code?Et._fromErrorAndOperation(e,n,t,r):n})}function Ct(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function kt(){return(kt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);yield Ot(!0,n,t);const{providerUserInfo:r}=yield z(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=Ct(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function At(e,t){return xt.apply(this,arguments)}function xt(){return(xt=(0,r.Z)(function*(e,t,n=!1){const r=yield J(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return bt._forOperation(e,"link",r)})).apply(this,arguments)}function Ot(e,t,n){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,r.Z)(function*(e,t,n){yield re(t);const r=!1===e?"provider-already-linked":"no-such-provider";w(Ct(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function Nt(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=yield J(e,It(r,i,t,e),n);w(s.idToken,r,"internal-error");const o=Y(s.idToken);w(o,r,"internal-error");const{sub:a}=o;return w(e.uid===a,r,"user-mismatch"),bt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&g(r,"user-mismatch"),s}})).apply(this,arguments)}function Rt(e,t){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield It(e,r,t),s=yield bt._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Mt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,r.Z)(function*(e,t){return Rt(ke(e),t)})).apply(this,arguments)}function Ut(e,t){return qt.apply(this,arguments)}function qt(){return(qt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);return yield Ot(!1,n,t.providerId),At(n,t)})).apply(this,arguments)}function Zt(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(e,t){return Nt((0,s.m9)(e),t)})).apply(this,arguments)}function jt(e,t){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithCustomToken",D(e,t))})).apply(this,arguments)}function zt(){return(zt=(0,r.Z)(function*(e,t){const n=ke(e),r=yield jt(n,{token:t,returnSecureToken:!0}),i=yield bt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class $t{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ht._fromServerResponse(e,t):g(e,"internal-error")}}class Ht extends $t{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ht(t)}}function Gt(e,t,n){var r;w((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),w(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(w(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(w(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Kt(){return(Kt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&Gt(r,i,n),yield Be(r,i)})).apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(function*(e,t,n){yield Ne((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function Qt(){return(Qt=(0,r.Z)(function*(e,t){yield Me((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Yt(e,t){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r=yield Ne(n,{oobCode:t}),i=r.requestType;switch(w(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":w(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":w(r.mfaInfo,n,"internal-error");default:w(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=$t._fromServerResponse(ke(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(e,t){const{data:n}=yield Yt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t,n){const r=ke(e),i=yield _t(r,{returnSecureToken:!0,email:t,password:n}),s=yield bt._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};w(n.handleCodeInApp,r,"argument-error"),n&&Gt(r,i,n),yield $e(r,i)})).apply(this,arguments)}function nn(){return(nn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=ut.credentialWithLink(t,n||I());return w(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Mt(r,i)})).apply(this,arguments)}function rn(e,t){return sn.apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:createAuthUri",D(e,t))})).apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:C()?I():"http://localhost"},{signinMethods:r}=yield rn((0,s.m9)(e),n);return r||[]})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&Gt(n.auth,r,t);const{email:i}=yield Ve(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&Gt(r.auth,i,n);const{email:o}=yield Ge(r.auth,i);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function un(e,t){return ln.apply(this,arguments)}function ln(){return(ln=(0,r.Z)(function*(e,t){return R(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function hn(){return(hn=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield J(r,un(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function dn(e,t,n){return pn.apply(this,arguments)}function pn(){return(pn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield J(e,Re(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class fn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class gn extends fn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class mn extends fn{constructor(e,t){super(e,"facebook.com",t)}}class yn extends gn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class vn extends fn{constructor(e,t){super(e,"google.com",t)}}class _n extends gn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function wn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Y(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new fn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new mn(s,i);case"github.com":return new yn(s,i);case"google.com":return new vn(s,i);case"twitter.com":return new _n(s,i,e.screenName||null);case"custom":case"anonymous":return new fn(s,null);default:return new fn(s,r,i)}}(n)}class bn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new bn("enroll",e)}static _fromMfaPendingCredential(e){return new bn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return bn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return bn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Tn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ke(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(e=>$t._fromServerResponse(n,e));w(i.mfaPendingCredential,n,"internal-error");const o=bn._fromMfaPendingCredential(i.mfaPendingCredential);return new Tn(o,s,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield bt._fromIdTokenResponse(n,t.operationType,s);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return w(t.user,n,"internal-error"),bt._forOperation(t.user,t.operationType,s);default:g(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function Sn(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:start",D(e,t))}class En{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>$t._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new En(e)}getSession(){var e=this;return(0,r.Z)(function*(){return bn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield J(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield J(t.user,function(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:withdraw",D(e,t))}(t.user.auth,{idToken:r,mfaEnrollmentId:n}));t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(s){if("auth/user-token-expired"!==s.code)throw s}})()}}const In=new WeakMap,Cn="__sak";class kn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cn,"1"),this.storage.removeItem(Cn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const An=(()=>{class e extends kn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return ye(e)||Se(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ee(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),xn=(()=>{class e extends kn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let On=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),u=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function Pn(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class Nn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=Pn("",20);r.port1.start();const l=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function Dn(){return window}function Rn(){return void 0!==Dn().WorkerGlobalScope&&"function"==typeof Dn().importScripts}function Ln(){return(Ln=(0,r.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(di){return null}})).apply(this,arguments)}const Mn="firebaseLocalStorageDb",Fn="firebaseLocalStorage",Un="fbase_key";class qn{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zn(e,t){return e.transaction([Fn],t?"readwrite":"readonly").objectStore(Fn)}function Vn(){const e=indexedDB.open(Mn,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Fn,{keyPath:Un})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Fn)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Mn);return new qn(e).toPromise()}(),t(yield Vn()))}))})}function jn(e,t,n){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,r.Z)(function*(e,t,n){const r=Zn(e,!0).put({[Un]:t,value:n});return new qn(r).toPromise()})).apply(this,arguments)}function zn(){return(zn=(0,r.Z)(function*(e,t){const n=Zn(e,!1).get(t),r=yield new qn(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function $n(e,t){const n=Zn(e,!0).delete(t);return new qn(n).toPromise()}const Hn=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield Vn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return Rn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=On._getInstance(Rn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return Ln.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Nn(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);!r||(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){if(t.sender&&t.activeServiceWorker&&function(){var e;return(null===(e=null==navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield Vn();return yield jn(e,Cn,"1"),yield $n(e,Cn),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>jn(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return zn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>$n(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=Zn(e,!1).getAll();return new qn(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Gn(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:start",D(e,t))}function Kn(){return(Kn=(0,r.Z)(function*(e){return(yield R(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wn(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=m("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Qn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Yn=1e12;class Jn{constructor(e){this.auth=e,this.counter=Yn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Xn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Yn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Yn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Yn))||void 0===n||n.execute(),""})()}}class Xn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;w(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const er=Qn("rcb"),tr=new A(3e4,6e4);class nr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Dn().grecaptcha}load(e,t=""){return w((n=t).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Dn().grecaptcha):new Promise((n,r)=>{const i=Dn().setTimeout(()=>{r(m(e,"network-request-failed"))},tr.get());Dn()[er]=()=>{Dn().clearTimeout(i),delete Dn()[er];const s=Dn().grecaptcha;if(!s)return void r(m(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Wn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:er,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(m(e,"internal-error"))})});var n}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Dn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rr{load(e){return(0,r.Z)(function*(){return new Jn(e)})()}clearedOneInstance(){}}const ir="recaptcha",sr={theme:"light",type:"image"};class or{constructor(e,t=Object.assign({},sr),n){this.parameters=t,this.type=ir,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ke(n),this.isInvisible="invisible"===this.parameters.size,w("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;w(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rr:new nr,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{!t||(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){w(!this.parameters.sitekey,this.auth,"argument-error"),w(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),w("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=Dn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){w(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){w(C()&&!Rn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return Kn.apply(this,arguments)}(e.auth);w(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return w(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ar{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=at._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function cr(){return(cr=(0,r.Z)(function*(e,t,n){const r=ke(e),i=yield hr(r,t,(0,s.m9)(n));return new ar(i,e=>Mt(r,e))})).apply(this,arguments)}function ur(){return(ur=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);yield Ot(!1,r,"phone");const i=yield hr(r.auth,t,(0,s.m9)(n));return new ar(i,e=>Ut(r,e))})).apply(this,arguments)}function lr(){return(lr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=yield hr(r.auth,t,(0,s.m9)(n));return new ar(i,e=>Zt(r,e))})).apply(this,arguments)}function hr(e,t,n){return dr.apply(this,arguments)}function dr(){return(dr=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(w("string"==typeof i,e,"argument-error"),w(n.type===ir,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return w("enroll"===t.type,e,"internal-error"),(yield Sn(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{w("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return w(n,e,"missing-multi-factor-info"),(yield Gn(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield tt(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function pr(){return(pr=(0,r.Z)(function*(e,t){yield At((0,s.m9)(e),t)})).apply(this,arguments)}let fr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=ke(t)}verifyPhoneNumber(e,t){return hr(this.auth,e,(0,s.m9)(t))}static credential(e,t){return at._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?at._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function gr(e,t){return t?E(t):(w(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class mr extends Pe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Je(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Je(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Je(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yr(e){return Rt(e.auth,new mr(e),e.bypassAuthState)}function vr(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),Nt(n,new mr(e),e.bypassAuthState)}function _r(e){return wr.apply(this,arguments)}function wr(){return(wr=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),At(n,new mr(e),e.bypassAuthState)})).apply(this,arguments)}class br{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const c={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yr;case"linkViaPopup":case"linkViaRedirect":return _r;case"reauthViaPopup":case"reauthViaRedirect":return vr;default:g(this.auth,"internal-error")}}resolve(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Tr=new A(2e3,1e4);function Sr(){return(Sr=(0,r.Z)(function*(e,t,n){const r=ke(e);v(e,t,lt);const i=gr(r,n);return new Cr(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function Er(){return(Er=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,lt);const i=gr(r.auth,n);return new Cr(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function Ir(){return(Ir=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,lt);const i=gr(r.auth,n);return new Cr(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let Cr=(()=>{class e extends br{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return w(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){T(1===e.filter.length,"Popup operations only handle one event");const t=Pn();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(m(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(m(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(m(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,Tr.get())};e()}}return e.currentPopupAction=null,e})();const kr=new Map;class Ar extends br{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=kr.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return xr.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}kr.set(t.auth._key(),n)}return t.bypassAuthState||kr.set(t.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function xr(){return(xr=(0,r.Z)(function*(e,t){const n=Dr(t),r=Nr(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Or(e,t){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,r.Z)(function*(e,t){return Nr(e)._set(Dr(t),"true")})).apply(this,arguments)}function Nr(e){return E(e._redirectPersistence)}function Dr(e){return pe("pendingRedirect",e.config.apiKey,e.name)}function Rr(){return(Rr=(0,r.Z)(function*(e,t,n){const r=ke(e);v(e,t,lt);const i=gr(r,n);return yield Or(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,lt);const i=gr(r.auth,n);yield Or(i,r.auth);const o=yield Zr(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Mr(){return(Mr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);v(r.auth,t,lt);const i=gr(r.auth,n);yield Ot(!1,r,t.providerId),yield Or(i,r.auth);const o=yield Zr(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Fr(){return(Fr=(0,r.Z)(function*(e,t){return yield ke(e)._initializationPromise,Ur(e,t,!1)})).apply(this,arguments)}function Ur(e,t){return qr.apply(this,arguments)}function qr(){return(qr=(0,r.Z)(function*(e,t,n=!1){const r=ke(e),i=gr(r,t),s=yield new Ar(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})).apply(this,arguments)}function Zr(e){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,r.Z)(function*(e){const t=Pn(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class jr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!zr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(m(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Br(e))}saveEventToCache(e){this.cachedEventUids.add(Br(e)),this.lastProcessedEventTime=Date.now()}}function Br(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function zr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function $r(e){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,r.Z)(function*(e,t={}){return R(e,"GET","/v1/projects",t)})).apply(this,arguments)}const Gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kr=/^https?/;function Wr(){return(Wr=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield $r(e);for(const r of t)try{if(Qr(r))return}catch(n){}g(e,"unauthorized-domain")})).apply(this,arguments)}function Qr(e){const t=I(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Kr.test(n))return!1;if(Gr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Yr=new A(3e4,6e4);function Jr(){const e=Dn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Xr=null;function ei(e){return Xr=Xr||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Jr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jr(),n(m(e,"network-request-failed"))},timeout:Yr.get()})}if(null===(i=null===(r=Dn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Dn().gapi)||void 0===s?void 0:s.load)){const t=Qn("iframefcb");return Dn()[t]=()=>{gapi.load?o():n(m(e,"network-request-failed"))},Wn(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}o()}}).catch(e=>{throw Xr=null,e})}(e),Xr}const ti=new A(5e3,15e3),ni={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ri=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ii(e){const t=e.config;w(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?x(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},i=ri.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function si(){return(si=(0,r.Z)(function*(e){const t=yield ei(e),n=Dn().gapi;return w(n,e,"internal-error"),t.open({where:document.body,url:ii(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ni,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=m(e,"network-request-failed"),s=Dn().setTimeout(()=>{r(i)},ti.get());function o(){Dn().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const oi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ai{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ci(e,t,n,r,i,a){w(e.config.authDomain,e,"auth-domain-config-required"),w(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(t instanceof lt){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof ht){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const u=c;for(const s of Object.keys(u))void 0===u[s]&&delete u[s];return`${function({config:e}){return e.emulator?x(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(u).slice(1)}`}const ui="webStorageSupport";class li extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return b("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new li(e)}_finalizeEnroll(e,t,n){return function(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:finalize",D(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:finalize",D(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hi=(()=>{class e{constructor(){}static assertion(e){return li._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var di,pi="@firebase/auth";class fi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gi(){return window}function mi(){return(mi=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=gi();T(t.sessionId,"AuthEvent did not contain a session ID");const s=yield _i(t.sessionId),o={};return Se()?o.ibi=i.packageName:we()?o.apn=i.packageName:g(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ci(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function yi(){return(yi=(0,r.Z)(function*(e){const{BuildInfo:t}=gi(),n={};Se()?n.iosBundleId=t.packageName:we()?n.androidPackageName=t.packageName:g(e,"operation-not-supported-in-this-environment"),yield $r(e,n)})).apply(this,arguments)}function vi(){return(vi=(0,r.Z)(function*(e,t,n){const{cordova:r}=gi();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(m(e,"redirect-cancelled-by-user"))},2e3))}function l(){"visible"===(null==document?void 0:document.visibilityState)&&u()}t.addPassiveListener(c),document.addEventListener("resume",u,!1),we()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function _i(e){return wi.apply(this,arguments)}function wi(){return(wi=(0,r.Z)(function*(e){const t=bi(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function bi(e){if(T(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}di="Browser",(0,o._registerComponent)(new u.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{w(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),w(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:di,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ie(di)},s=new Ce(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(E);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new u.wA("auth-internal",e=>{const t=ke(e.getProvider("auth").getImmediate());return new fi(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(pi,"0.19.4",void 0),(0,o.registerVersion)(pi,"0.19.4","esm2017");class Ti extends jr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function Si(e){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,r.Z)(function*(e){const t=yield Ci()._get(ki(e));return t&&(yield Ci()._remove(ki(e))),t})).apply(this,arguments)}function Ii(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Ci(){return E(An)}function ki(e){return pe("authEvent",e.config.apiKey,e.name)}function Ai(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function xi(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:m("no-auth-event")}}function Oi(){var e;return(null===(e=null==self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Pi(e=(0,s.z$)()){return!("file:"!==Oi()&&"ionic:"!==Oi()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ni(){try{const e=self.localStorage,t=Pn();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null==document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(di){return Di()&&(0,s.hl)()}return!1}function Di(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ri(){return("http:"===Oi()||"https:"===Oi()||(0,s.ru)()||Pi())&&!((0,s.b$)()||(0,s.UG)())&&Ni()&&!Di()}function Li(){return Pi()&&"undefined"!=typeof document}function Mi(){return(Mi=(0,r.Z)(function*(){return!!Li()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Fi={LOCAL:"local",NONE:"none",SESSION:"session"},Ui=w,qi="persistence";function Zi(e){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,r.Z)(function*(e){yield e._initializationPromise;const t=ji(),n=pe(qi,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())})).apply(this,arguments)}function ji(){return"undefined"!=typeof window?window:null}const Bi=w;class zi{constructor(){this.browserResolver=E(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xn,this._completeRedirectFn=Ur}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;T(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=ci(e,t,n,I(),i);return function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},oi),{width:r.toString(),height:i.toString(),top:o,left:a}),l=(0,s.z$)().toLowerCase();n&&(c=ve(l)?"_blank":n),me(l)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return Se(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new ai(null);const d=window.open(t||"",c,h);w(d,e,"popup-blocked");try{d.focus()}catch(p){}return new ai(d)}(e,a,Pn())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s._originValidation(e),r=ci(e,t,n,I(),i),Dn().location.href=r,new Promise(()=>{});var r})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(T(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return si.apply(this,arguments)}(e),r=new jr(e);return n.register("authEvent",t=>(w(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ui,{type:ui},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[ui];void 0!==i&&t(!!i),g(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Wr.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ee()||ye()||Se()}}),this.cordovaResolver=E(class{constructor(){this._redirectPersistence=xn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ur}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new Ti(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){g(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,s,o,a,c,u,l;const h=gi();w("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),w(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),w("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),w("function"==typeof(null===(c=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),w("function"==typeof(null===(l=null===(u=null==h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),kr.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Ii(),postBody:null,tenantId:e.tenantId,error:m(e,"no-auth-event")}}(e,n,i);yield function(e,t){return Ci()._set(ki(e),t)}(e,a);const c=yield function(e,t,n){return mi.apply(this,arguments)}(e,a,t),u=yield function(e){const{cordova:t}=gi();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(c);return function(e,t,n){return vi.apply(this,arguments)}(e,r,u)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return yi.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=gi(),o=setTimeout((0,r.Z)(function*(){yield Si(e),t.onEvent(xi())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield Si(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Ai(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ai(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ai(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const s=Ai(i),o=s.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(s.firebaseError)):null,a=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],c=a?m(a):null;return c?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||xi())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const c=i,u=`${s.packageName.toLowerCase()}://`;gi().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(u)&&a({url:e}),"function"==typeof c)try{c(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=xn,this._completeRedirectFn=Ur}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Li()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return Mi.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function $i(e){return e.unwrap()}function Hi(e){return Gi(e)}function Gi(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return fr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=ft;break;case"facebook.com":r=pt;break;case"github.com":r=gt;break;case"twitter.com":r=vt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?mt._create(n,o):et._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new dt(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function Ki(e,t){return t.catch(t=>{throw t instanceof s.ZR&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Yi(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return w(t.customData.operationType,r,"argument-error"),w(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Tn._fromError(r,i)}(e,t));else if(r){const e=Gi(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.user;return{operationType:e.operationType,credential:Hi(e),additionalUserInfo:wn(e),user:Ji.getOrCreate(t)}})}function Wi(e,t){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>Ki(e,n.confirm(t))}})).apply(this,arguments)}class Yi{constructor(e,t){this.resolver=t,this.auth=function(e){return e.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ki($i(this.auth),this.resolver.resolveSignIn(e))}}class Ji{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return In.has(t)||In.set(t,En._fromUser(t)),In.get(t)}(e)}static getOrCreate(e){return Ji.USER_MAP.has(e)||Ji.USER_MAP.set(e,new Ji(e)),Ji.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return Ki(t.auth,Ut(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return Wi(n.auth,function(e,t,n){return ur.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return Ki(t.auth,function(e,t,n){return Ir.apply(this,arguments)}(t._delegate,e,zi))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Zi(ke(t.auth)),function(e,t,n){return function(e,t,n){return Mr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return Ki(t.auth,Zt(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Wi(this.auth,function(e,t,n){return lr.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Ki(this.auth,function(e,t,n){return Er.apply(this,arguments)}(this._delegate,e,zi))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Zi(ke(t.auth)),function(e,t,n){return function(e,t,n){return Lr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}sendEmailVerification(e){return function(e,t){return an.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return kt.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return dn((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return dn((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return pr.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return hn.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return cn.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ji.USER_MAP=new WeakMap;const Xi=w;let es=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Xi(n,"invalid-api-key",{appName:e.name});let r=[de];if("undefined"!=typeof window){r=function(e,t){const n=ji();if(!(null==n?void 0:n.sessionStorage))return[];const r=pe(qi,e,t);switch(n.sessionStorage.getItem(r)){case Fi.NONE:return[de];case Fi.LOCAL:return[Hn,xn];case Fi.SESSION:return[xn];default:return[]}}(n,e.name);for(const e of[Hn,An,xn])r.includes(e)||r.push(e)}Xi(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?zi:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(l),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ji.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=ke(e);w(r._canInitEmulator,r,"emulator-config-failed"),w(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=xe(t),{host:o,port:a}=function(e){const t=xe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Oe(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Oe(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return Qt.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Yt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Wt.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return Ki(n._delegate,function(e,t,n){return en.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return on.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=ct.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){Xi(Ri(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Fr.apply(this,arguments)}(e._delegate,zi);return t?Ki(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){ke(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=ts(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=ts(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return tn.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return Kt.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){Ui(Object.values(Fi).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Ui(t!==Fi.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Ui(t===Fi.NONE,e,"unsupported-persistence-type"):Di()?Ui(t===Fi.NONE||t===Fi.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Ui(t===Fi.NONE||Ni(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Fi.SESSION:n=xn;break;case Fi.LOCAL:n=(yield E(Hn)._isAvailable())?Hn:An;break;case Fi.NONE:n=de;break;default:return g("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ki(this._delegate,function(e){return St.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return Ki(this._delegate,Mt(this._delegate,e))}signInWithCustomToken(e){return Ki(this._delegate,function(e,t){return zt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Ki(this._delegate,function(e,t,n){return Mt((0,s.m9)(e),ut.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Ki(this._delegate,function(e,t,n){return nn.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Wi(this._delegate,function(e,t,n){return cr.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return Xi(Ri(),t._delegate,"operation-not-supported-in-this-environment"),Ki(t._delegate,function(e,t,n){return Sr.apply(this,arguments)}(t._delegate,e,zi))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return Xi(Ri(),t._delegate,"operation-not-supported-in-this-environment"),yield Zi(t._delegate),function(e,t,n){return function(e,t,n){return Rr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Xt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Fi,e})();function ts(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Ji.getOrCreate(e)),error:t,complete:n}}class ns{constructor(){this.providerId="phone",this._delegate=new fr($i(i.Z.auth()))}static credential(e,t){return fr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ns.PHONE_SIGN_IN_METHOD=fr.PHONE_SIGN_IN_METHOD,ns.PROVIDER_ID=fr.PROVIDER_ID;const rs=w;class is{constructor(e,t,n=i.Z.app()){var r;rs(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new or(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new u.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new es(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ut,FacebookAuthProvider:pt,GithubAuthProvider:gt,GoogleAuthProvider:ft,OAuthProvider:dt,SAMLAuthProvider:yt,PhoneAuthProvider:ns,PhoneMultiFactorGenerator:hi,RecaptchaVerifier:is,TwitterAuthProvider:vt,Auth:es,AuthCredential:Pe,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.4")}(i.Z)},6676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,s=new Promise(function(s,o){n(i=e[t].apply(e,r)).then(s,o)});return s.request=i,s}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new l(e,i.request)})}function s(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function c(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function u(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function p(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function f(e){this._db=e}s(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new l(e,t._request)})})})}),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,u].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[u,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),s=i.request;return s&&(s.onupgradeneeded=function(e){n&&n(new p(s.result,e.oldVersion,s.transaction))}),i.then(function(e){return new f(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},7574:function(e,t,n){"use strict";n.d(t,{y:function(){return u}});var r=n(7393),i=n(9181),s=n(6490),o=n(6554),a=n(4487);var c=n(2494);let u=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||c.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){c.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=l(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:function(e){return 0===e.length?a.y:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}(e)(this)}toPromise(e){return new(e=l(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function l(e){if(e||(e=c.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:function(e,t,n){"use strict";n.d(t,{c:function(){return s}});var r=n(2494),i=n(4449);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},9765:function(e,t,n){"use strict";n.d(t,{Yc:function(){return u},xQ:function(){return l}});var r=n(7574),i=n(7393),s=n(5319),o=n(7971),a=n(8858),c=n(9181);class u extends i.L{constructor(e){super(e),this.destination=e}}let l=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.b](){return new u(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends l{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},8858:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(5319);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},7393:function(e,t,n){"use strict";n.d(t,{L:function(){return u}});var r=n(9105),i=n(6490),s=n(5319),o=n(9181),a=n(2494),c=n(4449);class u extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof u?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new u(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class l extends u{constructor(e,t,n,s){super(),this._parentSubscriber=e;let o,a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,c.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(9796),i=n(1555),s=n(9105);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,s.m)(c)){n&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(d){e=e||[],d instanceof o?e=e.concat(u(d.errors)):e.push(d)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var c;function u(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((c=new a).closed=!0,c)},2494:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:function(e,t,n){"use strict";n.d(t,{IY:function(){return o},Ds:function(){return a},ft:function(){return c}});var r=n(7393),i=n(7574),s=n(7444);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function c(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},2441:function(e,t,n){"use strict";n.d(t,{c:function(){return a},N:function(){return c}});var r=n(9765),i=n(7574),s=n(5319),o=n(1307);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new u(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const c=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class u extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},9193:function(e,t,n){"use strict";n.d(t,{E:function(){return i},c:function(){return s}});var r=n(7574);const i=new r.y(e=>e.complete());function s(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},4402:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var r=n(7574),i=n(7444),s=n(5319),o=n(6554),a=n(4087),c=n(377),u=n(4072),l=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,u.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,l.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[c.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[c.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},6693:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(7574),i=n(5015),s=n(4087);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},6682:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(7574),i=n(4869),s=n(3282),o=n(6693);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},5917:function(e,t,n){"use strict";n.d(t,{of:function(){return o}});var r=n(4869),i=n(6693),s=n(4087);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,i.n)(e)}},8002:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(7393);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},3282:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var r=n(9773),i=n(4487);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},9773:function(e,t,n){"use strict";n.d(t,{zg:function(){return o}});var r=n(8002),i=n(4402),s=n(5345);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}class c extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:function(e,t,n){"use strict";n.d(t,{ht:function(){return l},QV:function(){return c}});var r=n(7393),i=n(9193),s=n(5917),o=n(7574);class a{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return e=this.error,new o.y(t=>t.error(e));case"C":return(0,i.c)()}var e;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new a("N",e):a.undefinedValueNotification}static createError(e){return new a("E",void 0,e)}static createComplete(){return a.completeNotification}}function c(e,t=0){return function(n){return n.lift(new u(e,t))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class u{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))}}class l extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},1307:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(7393);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}},3101:function(e,t,n){"use strict";n.d(t,{R:function(){return f}});var r=n(7574);let i=1;const s=Promise.resolve(),o={};function a(e){return e in o&&(delete o[e],!0)}const c={setImmediate(e){const t=i++;return o[t]=!0,s.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var u=n(6465),l=n(6102);const h=new class extends l.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends u.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=c.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(c.clearImmediate(t),e.scheduled=void 0)}});var d=n(9796);class p extends r.y{constructor(e,t=0,n=h){var r;super(),this.source=e,this.delayTime=t,this.scheduler=n,(!(!(0,d.k)(r=t)&&r-parseFloat(r)+1>=0)||t<0)&&(this.delayTime=0),(!n||"function"!=typeof n.schedule)&&(this.scheduler=h)}static create(e,t=0,n=h){return new p(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(p.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function f(e,t=0){return function(n){return n.lift(new g(e,t))}}class g{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new p(t,this.delay,this.scheduler).subscribe(e)}}},3342:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(7393);function i(){}var s=n(9105);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))}}class c extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i,this._tapError=t.error||i,this._tapComplete=t.complete||i)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},4087:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(7574),i=n(5319);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var r=n(5319);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},6102:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},3637:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(6465);const i=new(n(6102).v)(r.o)},7771:function(e,t,n){"use strict";n.d(t,{c:function(){return o},N:function(){return s}});var r=n(6465),i=n(6102);const s=new class extends i.v{}(class extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),o=s},377:function(e,t,n){"use strict";n.d(t,{hZ:function(){return r}});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:function(e,t,n){"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:function(){return r}})},4487:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},9796:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},1555:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:function(){return r}})},4072:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:function(){return r}})},4869:function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:function(){return r}})},7444:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var r=n(5015),i=n(4449),s=n(377),o=n(6554),a=n(9489),c=n(4072),u=n(1555);const l=e=>{if(e&&"function"==typeof e[o.L])return(e=>t=>{const n=e[o.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)})(e);if((0,a.z)(e))return(0,r.V)(e);if((0,c.t)(e))return(e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t))(e);if(e&&"function"==typeof e[s.hZ])return(e=>t=>{const n=e[s.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t})(e);{const t=`You provided ${(0,u.K)(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}}},5015:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},2938:function(e,t,n){"use strict";var r=n(3018);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:c,token:e,providedIn:"platform"}),e})();function c(){return(0,r.LFG)(l)}const u=new r.OlP("Location Initialized");let l=(()=>{class e extends a{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:d,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function d(){return new l((0,r.LFG)(o))}function p(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function f(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}let m=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:y,token:e,providedIn:"root"}),e})();function y(e){const t=(0,r.LFG)(o).location;return new _((0,r.LFG)(a),t&&t.origin||"")}const v=new r.OlP("appBaseHref");let _=(()=>{class e extends m{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return p(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),w=(()=>{class e extends m{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=p(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=f(S(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+g(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,S(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(m),r.LFG(a))},e.normalizeQueryParams=g,e.joinWithSlash=p,e.stripTrailingSlash=f,e.\u0275prov=(0,r.Yz7)({factory:T,token:e,providedIn:"root"}),e})();function T(){return new b((0,r.LFG)(m),(0,r.LFG)(a))}function S(e){return e.replace(/\/index.html$/,"")}const E={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var I=(()=>((I=I||{})[I.Decimal=0]="Decimal",I[I.Percent=1]="Percent",I[I.Currency=2]="Currency",I[I.Scientific=3]="Scientific",I))(),C=(()=>((C=C||{})[C.Zero=0]="Zero",C[C.One=1]="One",C[C.Two=2]="Two",C[C.Few=3]="Few",C[C.Many=4]="Many",C[C.Other=5]="Other",C))(),k=(()=>((k=k||{})[k.Decimal=0]="Decimal",k[k.Group=1]="Group",k[k.List=2]="List",k[k.PercentSign=3]="PercentSign",k[k.PlusSign=4]="PlusSign",k[k.MinusSign=5]="MinusSign",k[k.Exponential=6]="Exponential",k[k.SuperscriptingExponent=7]="SuperscriptingExponent",k[k.PerMille=8]="PerMille",k[k.Infinity=9]="Infinity",k[k.NaN=10]="NaN",k[k.TimeSeparator=11]="TimeSeparator",k[k.CurrencyDecimal=12]="CurrencyDecimal",k[k.CurrencyGroup=13]="CurrencyGroup",k))();function A(e,t){const n=(0,r.cg1)(e),i=n[r.wAp.NumberSymbols][t];if(void 0===i){if(t===k.CurrencyDecimal)return n[r.wAp.NumberSymbols][k.Decimal];if(t===k.CurrencyGroup)return n[r.wAp.NumberSymbols][k.Group]}return i}const x=r.kL8;const O=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function P(e,t,n,i,s){const o=function(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<c.length;l++){const e=c.charAt(l);"0"===e?n.minFrac=n.maxFrac=l+1:"#"===e?n.maxFrac=l+1:n.posSuf+=e}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const e=i.length-n.posPre.length-n.posSuf.length,t=s.indexOf("#");n.negPre=s.substr(0,t).replace(/'/g,""),n.negSuf=s.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return(0,r.cg1)(e)[r.wAp.NumberFormats][t]}(t,I.Currency),A(t,k.MinusSign));return o.minFrac=function(e){let t;const n=E[e];return n&&(t=n[2]),"number"==typeof t?t:2}(i),o.maxFrac=o.minFrac,function(e,t,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(e)){let u=function(e){let t,n,r,i,s,o=Math.abs(e)+"",a=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;"0"===o.charAt(r);r++);if(r===(s=o.length))t=[0],n=1;else{for(s--;"0"===o.charAt(s);)s--;for(n-=r,t=[],i=0;r<=s;r++,i++)t[i]=Number(o.charAt(r))}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);o&&(u=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(u));let l=t.minInt,h=t.minFrac,d=t.maxFrac;if(s){const e=s.match(O);if(null===e)throw new Error(`${s} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(l=N(t)),null!=n&&(h=N(n)),null!=r?d=N(r):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const s=Math.min(Math.max(t,i),n);let o=s+e.integerLen,a=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(let e=o;e<r.length;e++)r[e]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let e=1;e<o;e++)r[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const u=t+e.integerLen,l=r.reduceRight(function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,c&&(0===r[n]&&n>=u?r.pop():c=!1),t>=10?1:0},0);l&&(r.unshift(l),e.integerLen++)}(u,h,d);let p=u.digits,f=u.integerLen;const g=u.exponent;let m=[];for(c=p.every(e=>!e);f<l;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?m=p.splice(f,p.length):(m=p,p=[0]);const y=[];for(p.length>=t.lgSize&&y.unshift(p.splice(-t.lgSize,p.length).join(""));p.length>t.gSize;)y.unshift(p.splice(-t.gSize,p.length).join(""));p.length&&y.unshift(p.join("")),a=y.join(A(n,r)),m.length&&(a+=A(n,i)+m.join("")),g&&(a+=A(n,k.Exponential)+"+"+g)}else a=A(n,k.Infinity);return a=e<0&&!c?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(e,o,t,k.CurrencyGroup,k.CurrencyDecimal,s).replace("\xa4",n).replace("\xa4","").trim()}function N(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class D{}let R=(()=>{class e extends D{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(x(t||this.locale)(e)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function L(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}class M{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let F=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(e){return e.name||typeof e}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new M(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new U(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new U(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class U{constructor(e,t){this.record=e,this.view=t}}let q=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Z,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){V("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){V("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Z{constructor(){this.$implicit=null,this.ngIf=null}}function V(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}function j(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(e)}'`)}let B=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw j(e,t);return t.toUpperCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Yjl({name:"uppercase",type:e,pure:!0}),e})(),z=(()=>{class e{constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(t,n=this._defaultCurrencyCode,i="symbol",s,o){if(!function(e){return!(null==e||""===e||e!=e)}(t))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function(e,t,n="en"){const i=function(e){return(0,r.cg1)(e)[r.wAp.Currencies]}(n)[e]||E[e]||[],s=i[1];return"narrow"===t&&"string"==typeof s?s:i[0]||e}(a,"symbol"===i?"wide":"narrow",o):i);try{return P(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),o,a,n,s)}catch(c){throw j(e,c.message)}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.soG,16),r.Y36(r.EJc,16))},e.\u0275pipe=r.Yjl({name:"currency",type:e,pure:!0}),e})();let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:D,useClass:R}]}),e})();function H(e){return"server"===e}let G=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new K((0,r.LFG)(o),window)}),e})();class K{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=W(this.window.history)||W(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function W(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Q{}class Y extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new Y,i||(i=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(X=X||document.querySelector("base"),X?X.getAttribute("href"):null);return null==t?null:function(e){J=J||document.createElement("a"),J.setAttribute("href",e);const t=J.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){X=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return L(document.cookie,e)}}let J,X=null;const ee=new r.OlP("TRANSITION_ID"),te=[{provide:r.ip1,useFactory:function(e,t,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let e=0;e<r.length;e++)n.remove(r[e])})}},deps:[ee,o,r.zs3],multi:!0}];class ne{static init(){(0,r.VLi)(new ne)}addToWindow(e){r.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(e=>{const t=r.dqk.getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let re=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ie=new r.OlP("EventManagerPlugins");let se=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ie),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class oe{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let ae=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ce=(()=>{class e extends ae{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(ue),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ue))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function ue(e){s().remove(e)}const le={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},he=/%COMP%/g;function de(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?de(e,i,n):(i=i.replace(he,e),n.push(i))}return n}function pe(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let fe=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ge(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new me(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case r.ifc.ShadowDom:return new ye(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=de(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(se),r.LFG(ce),r.LFG(r.AFp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class ge{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(le[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=le[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=le[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(r.JOm.DashCase|r.JOm.Important)?e.style.setProperty(t,n,i&r.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pe(n)):this.eventManager.addEventListener(e,t,pe(n))}}class me extends ge{constructor(e,t,n,r){super(e),this.component=n;const i=de(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(he,r+"-"+n.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(he,e)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class ye extends ge{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=de(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ve=(()=>{class e extends oe{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const _e=["alt","control","meta","shift"],we={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},be={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Te={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Se=(()=>{class e extends oe{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(_e.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&be.hasOwnProperty(t)&&(t=be[t]))}return we[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),_e.forEach(r=>{r!=n&&Te[r](e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Ee=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){Y.makeCurrent(),ne.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),Ie=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:ie,useClass:ve,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:ie,useClass:Se,multi:!0,deps:[o]},[],{provide:fe,useClass:fe,deps:[se,ce,r.AFp]},{provide:r.FYo,useExisting:fe},{provide:ae,useExisting:ce},{provide:ce,useClass:ce,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:se,useClass:se,deps:[ie,r.R0b]},{provide:Q,useClass:re,deps:[]},[]];let Ce=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:r.AFp,useValue:t.appId},{provide:ee,useExisting:r.AFp},te]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(e,12))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:Ie,imports:[$,r.hGG]}),e})();"undefined"!=typeof window&&window;var ke=n(5917),Ae=n(7574),xe=n(9773);function Oe(e,t){return(0,xe.zg)(e,t,1)}var Pe=n(7393);function Ne(e,t){return function(n){return n.lift(new De(e,t))}}class De{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Re(e,this.predicate,this.thisArg))}}class Re extends Pe.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}var Le=n(8002);class Me{}class Fe{}class Ue{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ue?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ue;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ue?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class qe{encodeKey(e){return je(e)}encodeValue(e){return je(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Ze=/%(\d[a-f0-9])/gi,Ve={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function je(e){return encodeURIComponent(e).replace(Ze,(e,t)=>{var n;return null!==(n=Ve[t])&&void 0!==n?n:e})}function Be(e){return`${e}`}class ze{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const r=e.indexOf("="),[i,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(e=>{t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ze({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Be(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(Be(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class $e{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function He(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Ge(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Ke(e){return"undefined"!=typeof FormData&&e instanceof FormData}class We{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ue),this.context||(this.context=new $e),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new ze,this.urlWithParams=t}serializeBody(){return null===this.body?null:He(this.body)||Ge(this.body)||Ke(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ke(this.body)?null:Ge(this.body)?this.body.type||null:He(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const l=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),u)),new We(n,r,s,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var Qe=(()=>((Qe=Qe||{})[Qe.Sent=0]="Sent",Qe[Qe.UploadProgress=1]="UploadProgress",Qe[Qe.ResponseHeader=2]="ResponseHeader",Qe[Qe.DownloadProgress=3]="DownloadProgress",Qe[Qe.Response=4]="Response",Qe[Qe.User=5]="User",Qe))();class Ye{constructor(e,t=200,n="OK"){this.headers=e.headers||new Ue,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Je extends Ye{constructor(e={}){super(e),this.type=Qe.ResponseHeader}clone(e={}){return new Je({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Xe extends Ye{constructor(e={}){super(e),this.type=Qe.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Xe({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class et extends Ye{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function tt(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let nt=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof We)r=e;else{let i,s;i=n.headers instanceof Ue?n.headers:new Ue(n.headers),n.params&&(s=n.params instanceof ze?n.params:new ze({fromObject:n.params})),r=new We(e,t,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,ke.of)(r).pipe(Oe(e=>this.handler.handle(e)));if(e instanceof We||"events"===n.observe)return i;const s=i.pipe(Ne(e=>e instanceof Xe));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe((0,Le.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe((0,Le.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe((0,Le.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe((0,Le.U)(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new ze).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,tt(n,t))}post(e,t,n={}){return this.request("POST",e,tt(n,t))}put(e,t,n={}){return this.request("PUT",e,tt(n,t))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Me))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class rt{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const it=new r.OlP("HTTP_INTERCEPTORS");let st=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ot=/^\)\]\}',?\n/;let at=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ae.y(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Ue(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new Je({headers:s,status:t,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof c){const e=c;c=c.replace(ot,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=e,u&&(u=!1,c={error:l,text:c})}}u?(t.next(new Xe({body:c,headers:r,status:i,statusText:o,url:a||void 0})),t.complete()):t.error(new et({error:c,headers:r,status:i,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=s(),i=new et({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let c=!1;const u=r=>{c||(t.next(s()),c=!0);let i={type:Qe.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&!!n.responseText&&(i.partialText=n.responseText),t.next(i)},l=e=>{let n={type:Qe.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),e.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),t.next({type:Qe.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),e.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Q))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ct=new r.OlP("XSRF_COOKIE_NAME"),ut=new r.OlP("XSRF_HEADER_NAME");class lt{}let ht=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=L(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(r.Lbi),r.LFG(ct))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),dt=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(lt),r.LFG(ut))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),pt=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(it,[]);this.chain=e.reduceRight((e,t)=>new rt(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Fe),r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ft=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:dt,useClass:st}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:ct,useValue:t.cookieName}:[],t.headerName?{provide:ut,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[dt,{provide:it,useExisting:dt,multi:!0},{provide:lt,useClass:ht},{provide:ct,useValue:"XSRF-TOKEN"},{provide:ut,useValue:"X-XSRF-TOKEN"}]}),e})(),gt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[nt,{provide:Me,useClass:pt},at,{provide:Fe,useExisting:at}],imports:[[ft.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();var mt=n(4402),yt=n(9796),vt=n(1555);function _t(e,t){return new Ae.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=(0,mt.D)(e[a]);let u=!1;n.add(c.subscribe({next:e=>{u||(u=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{s++,(s===r||!u)&&(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}let wt=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),bt=(()=>{class e extends wt{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const Tt=new r.OlP("NgValueAccessor"),St={provide:Tt,useExisting:(0,r.Gpc)(()=>It),multi:!0},Et=new r.OlP("CompositionEventMode");let It=(()=>{class e extends wt{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=s()?s().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Et,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([St]),r.qOj]}),e})();function Ct(e){return null==e||0===e.length}const kt=new r.OlP("NgValidators"),At=new r.OlP("NgAsyncValidators"),xt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Ot(e){return null!=e}function Pt(e){const t=(0,r.QGY)(e)?(0,mt.D)(e):e;return(0,r.CqO)(t),t}function Nt(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Dt(e,t){return t.map(t=>t(e))}function Rt(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function Lt(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Ot);return 0==t.length?null:function(e){return Nt(Dt(e,t))}}(Rt(e)):null}function Mt(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Ot);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,yt.k)(t))return _t(t,null);if((0,vt.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return _t(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return _t(e=1===e.length&&(0,yt.k)(e[0])?e[0]:e,null).pipe((0,Le.U)(e=>t(...e)))}return _t(e,null)}(Dt(e,t).map(Pt)).pipe((0,Le.U)(Nt))}}(Rt(e)):null}function Ft(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Ut(e){return e?Array.isArray(e)?e:[e]:[]}function qt(e,t){return Array.isArray(e)?e.includes(t):e===t}function Zt(e,t){const n=Ut(t);return Ut(e).forEach(e=>{qt(n,e)||n.push(e)}),n}function Vt(e,t){return Ut(t).filter(t=>!qt(e,t))}let jt=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Lt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Mt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),Bt=(()=>{class e extends jt{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class zt extends jt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $t{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}let Ht=(()=>{class e extends $t{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(zt,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),Gt=(()=>{class e extends $t{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Bt,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[r.qOj]}),e})();function Kt(e,t){Qt(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Yt(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Yt(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Wt(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Qt(e,t){const n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(Ft(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(Ft(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Wt(t._rawValidators,i),Wt(t._rawAsyncValidators,i)}function Yt(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Jt(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Xt="VALID",en="INVALID",tn="PENDING",nn="DISABLED";function rn(e){return(cn(e)?e.validators:e)||null}function sn(e){return Array.isArray(e)?Lt(e):e||null}function on(e,t){return(cn(t)?t.asyncValidators:e)||null}function an(e){return Array.isArray(e)?Mt(e):e||null}function cn(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class un{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=sn(this._rawValidators),this._composedAsyncValidatorFn=an(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xt}get invalid(){return this.status===en}get pending(){return this.status==tn}get disabled(){return this.status===nn}get enabled(){return this.status!==nn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=sn(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=an(e)}addValidators(e){this.setValidators(Zt(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Zt(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Vt(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Vt(e,this._rawAsyncValidators))}hasValidator(e){return qt(this._rawValidators,e)}hasAsyncValidator(e){return qt(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=tn,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nn,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xt,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xt||this.status===tn)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nn:Xt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=tn,this._hasOwnPendingAsyncValidator=!0;const t=Pt(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=e;return t.forEach(e=>{r=r instanceof hn?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof dn&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?nn:this.errors?en:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tn)?tn:this._anyControlsHaveStatus(en)?en:Xt}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cn(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ln extends un{constructor(e=null,t,n){super(rn(t),on(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Jt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Jt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class hn extends un{constructor(e,t,n){super(rn(t),on(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof ln?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class dn extends un{constructor(e,t,n){super(rn(t),on(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof ln?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const pn={provide:Bt,useExisting:(0,r.Gpc)(()=>gn)},fn=(()=>Promise.resolve(null))();let gn=(()=>{class e extends Bt{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new hn({},Lt(e),Mt(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){fn.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Kt(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){fn.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),Jt(this._directives,e)})}addFormGroup(e){fn.then(()=>{const t=this._findContainer(e.path),n=new hn({});(function(e,t){Qt(e,t)})(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){fn.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){fn.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(kt,10),r.Y36(At,10))},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([pn]),r.qOj]}),e})();const mn={provide:zt,useExisting:(0,r.Gpc)(()=>vn)},yn=(()=>Promise.resolve(null))();let vn=(()=>{class e extends zt{constructor(e,t,n,i){super(),this.control=new ln,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===It?n=e:function(e){return Object.getPrototypeOf(e.constructor)===bt}(e)?r=e:i=e}),i||r||n||null}(0,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(e,t){return[...t.path,e]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){yn.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;yn.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Bt,9),r.Y36(kt,10),r.Y36(At,10),r.Y36(Tt,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([mn]),r.qOj,r.TTD]}),e})(),_n=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),wn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const bn={provide:kt,useExisting:(0,r.Gpc)(()=>Tn),multi:!0};let Tn=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(e){return Ct(e.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&r.uIk("required",t.required?"":null)},inputs:{required:"required"},features:[r._Bn([bn])]}),e})();const Sn={provide:kt,useExisting:(0,r.Gpc)(()=>En),multi:!0};let En=(()=>{class e{constructor(){this._enabled=!1}set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?function(e){return Ct(e.value)||xt.test(e.value)?null:{email:!0}}(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[r._Bn([Sn])]}),e})(),In=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[wn]]}),e})(),Cn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[In]}),e})();class kn{constructor(e,t,n,r){this.email=e,this.id=t,this._token=n,this._tokenExpirationDate=r}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}var An=n(3342),xn=n(9765),On=n(7971);class Pn extends xn.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new On.N;return this._value}next(e){super.next(this._value=e)}}const Nn={apiKey:"AIzaSyCPoBazzJYQDR_kUMlfSLFNHTrkSYJK3HI",authDomain:"e-commerce-ad30b.firebaseapp.com",projectId:"e-commerce-ad30b",storageBucket:"e-commerce-ad30b.appspot.com",messagingSenderId:"387390102055",appId:"1:387390102055:web:c227788ad5b4aa60b2cc02"};var Dn=n(4869);class Rn extends Pe.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Ln extends Pe.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Mn=n(7444);function Fn(e,t,n,r,i=new Ln(e,n,r)){if(!i.closed)return t instanceof Ae.y?t.subscribe(i):(0,Mn.s)(t)(i)}var Un=n(6693);const qn={};class Zn{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Vn(e,this.resultSelector))}}class Vn extends Rn{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(qn),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(Fn(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===qn?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const jn=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var Bn=n(3282);function zn(...e){return(0,Bn.J)(1)((0,ke.of)(...e))}var $n=n(9193);function Hn(e){return new Ae.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,mt.D)(n):(0,$n.c)()).subscribe(t)})}var Gn=n(2441),Kn=n(5345);function Wn(e,t){return"function"==typeof t?n=>n.pipe(Wn((n,r)=>(0,mt.D)(e(n,r)).pipe((0,Le.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new Qn(e))}class Qn{constructor(e){this.project=e}call(e,t){return t.subscribe(new Yn(e,this.project))}}class Yn extends Kn.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new Kn.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Kn.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Jn=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function Xn(e){return t=>0===e?(0,$n.c)():t.lift(new er(e))}class er{constructor(e){if(this.total=e,this.total<0)throw new Jn}call(e,t){return t.subscribe(new tr(e,this.total))}}class tr extends Pe.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function nr(...e){const t=e[e.length-1];return(0,Dn.K)(t)?(e.pop(),n=>zn(e,n,t)):t=>zn(e,t)}function rr(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ir(e,t,n))}}class ir{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new sr(e,this.accumulator,this.seed,this.hasSeed))}}class sr extends Pe.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function or(e){return function(t){const n=new ar(e),r=t.lift(n);return n.caught=r}}class ar{constructor(e){this.selector=e}call(e,t){return t.subscribe(new cr(e,this.selector,this.caught))}}class cr extends Kn.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new Kn.IY(this);this.add(r);const i=(0,Kn.ft)(n,r);i!==r&&this.add(i)}}}function ur(e){return function(t){return 0===e?(0,$n.c)():t.lift(new lr(e))}}class lr{constructor(e){if(this.total=e,this.total<0)throw new Jn}call(e,t){return t.subscribe(new hr(e,this.total))}}class hr extends Pe.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function dr(e=gr){return t=>t.lift(new pr(e))}class pr{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new fr(e,this.errorFactory))}}class fr extends Pe.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function gr(){return new jn}function mr(e=null){return t=>t.lift(new yr(e))}class yr{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new vr(e,this.defaultValue))}}class vr extends Pe.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var _r=n(4487);function wr(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ne((t,n)=>e(t,n,r)):_r.y,Xn(1),n?mr(t):dr(()=>new jn))}var br=n(1307),Tr=n(5319);class Sr{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Er(e,this.callback))}}class Er extends Pe.L{constructor(e,t){super(e),this.add(new Tr.w(t))}}class Ir{constructor(e,t){this.id=e,this.url=t}}class Cr extends Ir{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kr extends Ir{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ar extends Ir{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xr extends Ir{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Or extends Ir{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pr extends Ir{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nr extends Ir{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dr extends Ir{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rr extends Ir{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lr{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mr{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fr{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qr{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zr{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vr{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const jr="primary";class Br{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function zr(e){return new Br(e)}const $r="ngNavigationCancelingError";function Hr(e){const t=Error("NavigationCancelingError: "+e);return t[$r]=!0,t}function Gr(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Kr(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Wr(e[i],t[i]))return!1;return!0}function Wr(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Qr(e){return Array.prototype.concat.apply([],e)}function Yr(e){return e.length>0?e[e.length-1]:null}function Jr(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Xr(e){return(0,r.CqO)(e)?e:(0,r.QGY)(e)?(0,mt.D)(Promise.resolve(e)):(0,ke.of)(e)}const ei={exact:function e(t,n,r){if(!ui(t.segments,n.segments)||!si(t.segments,n.segments,r)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!e(t.children[i],n.children[i],r))return!1;return!0},subset:ri},ti={exact:function(e,t){return Kr(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Wr(e[n],t[n]))},ignored:()=>!0};function ni(e,t,n){return ei[n.paths](e.root,t.root,n.matrixParams)&&ti[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function ri(e,t,n){return ii(e,t,t.segments,n)}function ii(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!ui(i,n)||t.hasChildren()||!si(i,n,r))}if(e.segments.length===n.length){if(!ui(e.segments,n)||!si(e.segments,n,r))return!1;for(const n in t.children)if(!e.children[n]||!ri(e.children[n],t.children[n],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(ui(e.segments,i)&&si(e.segments,i,r)&&e.children[jr])&&ii(e.children[jr],t,s,r)}}function si(e,t,n){return t.every((t,r)=>ti[n](e[r].parameters,t.parameters))}class oi{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zr(this.queryParams)),this._queryParamMap}toString(){return di.serialize(this)}}class ai{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Jr(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pi(this)}}class ci{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=zr(this.parameters)),this._parameterMap}toString(){return wi(this)}}function ui(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class li{}class hi{parse(e){const t=new Ii(e);return new oi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${fi(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${mi(t)}=${mi(e)}`).join("&"):`${mi(t)}=${mi(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const di=new hi;function pi(e){return e.segments.map(e=>wi(e)).join("/")}function fi(e,t){if(!e.hasChildren())return pi(e);if(t){const t=e.children[jr]?fi(e.children[jr],!1):"",n=[];return Jr(e.children,(e,t)=>{t!==jr&&n.push(`${t}:${fi(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Jr(e.children,(e,r)=>{r===jr&&(n=n.concat(t(e,r)))}),Jr(e.children,(e,r)=>{r!==jr&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===jr?[fi(e.children[jr],!1)]:[`${n}:${fi(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[jr]?`${pi(e)}/${t[0]}`:`${pi(e)}/(${t.join("//")})`}}function gi(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mi(e){return gi(e).replace(/%3B/gi,";")}function yi(e){return gi(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vi(e){return decodeURIComponent(e)}function _i(e){return vi(e.replace(/\+/g,"%20"))}function wi(e){return`${yi(e.path)}${function(e){return Object.keys(e).map(t=>`;${yi(t)}=${yi(e[t])}`).join("")}(e.parameters)}`}const bi=/^[^\/()?;=#]+/;function Ti(e){const t=e.match(bi);return t?t[0]:""}const Si=/^[^=?&#]+/,Ei=/^[^?&#]+/;class Ii{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ai([],{}):new ai([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[jr]=new ai(e,t)),n}parseSegment(){const e=Ti(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ci(vi(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ti(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Ti(this.remaining);e&&(n=e,this.capture(n))}e[vi(t)]=vi(n)}parseQueryParam(e){const t=function(e){const t=e.match(Si);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Ei);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=_i(t),i=_i(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ti(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=jr);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[jr]:new ai([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ci{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ki(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=ki(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ai(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Ai(e,this._root).map(e=>e.value)}}function ki(e,t){if(e===t.value)return t;for(const n of t.children){const t=ki(e,n);if(t)return t}return null}function Ai(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Ai(e,n);if(r.length)return r.unshift(t),r}return[]}class xi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Oi(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Pi extends Ci{constructor(e,t){super(e),this.snapshot=t,Fi(this,e)}toString(){return this.snapshot.toString()}}function Ni(e,t){const n=function(e,t){const n=new Li([],{},{},"",{},jr,t,null,e.root,-1,{});return new Mi("",new xi(n,[]))}(e,t),r=new Pn([new ci("",{})]),i=new Pn({}),s=new Pn({}),o=new Pn({}),a=new Pn(""),c=new Di(r,i,o,a,s,jr,t,n.root);return c.snapshot=n.root,new Pi(new xi(c,[]),n)}class Di{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Le.U)(e=>zr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Le.U)(e=>zr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ri(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Li{constructor(e,t,n,r,i,s,o,a,c,u,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mi extends Ci{constructor(e,t){super(t),this.url=e,Fi(this,t)}toString(){return Ui(this._root)}}function Fi(e,t){t.value._routerState=e,t.children.forEach(t=>Fi(e,t))}function Ui(e){const t=e.children.length>0?` { ${e.children.map(Ui).join(", ")} } `:"";return`${e.value}${t}`}function qi(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Kr(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Kr(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Kr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Kr(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Zi(e,t){return Kr(e.params,t.params)&&function(e,t){return ui(e,t)&&e.every((e,n)=>Kr(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||Zi(e.parent,t.parent))}function Vi(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return Vi(e,t,r);return Vi(e,t)})}(e,t,n);return new xi(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return ji(t,e),e}}const n=function(e){return new Di(new Pn(e.url),new Pn(e.params),new Pn(e.queryParams),new Pn(e.fragment),new Pn(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(t=>Vi(e,t));return new xi(n,r)}}function ji(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)ji(e.children[n],t.children[n])}function Bi(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function zi(e){return"object"==typeof e&&null!=e&&e.outlets}function $i(e,t,n,r,i){let s={};return r&&Jr(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new oi(n.root===e?t:Hi(n.root,e,t),s,i)}function Hi(e,t,n){const r={};return Jr(e.children,(e,i)=>{r[i]=e===t?n:Hi(e,t,n)}),new ai(e.segments,r)}class Gi{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Bi(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(zi);if(r&&r!==Yr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ki{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Wi(e,t,n){if(e||(e=new ai([],{})),0===e.segments.length&&e.hasChildren())return Qi(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(zi(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!es(a,c,t))return s;r+=2}else{if(!es(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new ai(e.segments.slice(0,r.pathIndex),{});return t.children[jr]=new ai(e.segments.slice(r.pathIndex),e.children),Qi(t,0,i)}return r.match&&0===i.length?new ai(e.segments,{}):r.match&&!e.hasChildren()?Yi(e,t,n):r.match?Qi(e,0,i):Yi(e,t,n)}function Qi(e,t,n){if(0===n.length)return new ai(e.segments,{});{const r=function(e){return zi(e[0])?e[0].outlets:{[jr]:e}}(n),i={};return Jr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Wi(e.children[r],t,n))}),Jr(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new ai(e.segments,i)}}function Yi(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(zi(s)){const e=Ji(s.outlets);return new ai(r,e)}if(0===i&&Bi(n[0])){r.push(new ci(e.segments[t].path,Xi(n[0]))),i++;continue}const o=zi(s)?s.outlets[jr]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Bi(a)?(r.push(new ci(o,Xi(a))),i+=2):(r.push(new ci(o,{})),i++)}return new ai(r,{})}function Ji(e){const t={};return Jr(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Yi(new ai([],{}),0,e))}),t}function Xi(e){const t={};return Jr(e,(e,n)=>t[n]=`${e}`),t}function es(e,t,n){return e==n.path&&Kr(t,n.parameters)}class ts{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),qi(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Oi(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Jr(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Oi(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=Oi(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Zr(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Ur(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(qi(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),ns(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function ns(e){qi(e.value),e.children.forEach(ns)}class rs{constructor(e,t){this.routes=e,this.module=t}}function is(e){return"function"==typeof e}function ss(e){return e instanceof oi}const os=Symbol("INITIAL_VALUE");function as(){return Wn(e=>function(...e){let t,n;return(0,Dn.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,yt.k)(e[0])&&(e=e[0]),(0,Un.n)(e,n).lift(new Zn(t))}(e.map(e=>e.pipe(Xn(1),nr(os)))).pipe(rr((e,t)=>{let n=!1;return t.reduce((e,r,i)=>e!==os?e:(r===os&&(n=!0),n||!1!==r&&i!==t.length-1&&!ss(r)?e:r),e)},os),Ne(e=>e!==os),(0,Le.U)(e=>ss(e)?e:!0===e),Xn(1)))}let cs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[ao]},encapsulation:2}),e})();function us(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];ls(r,hs(t,r))}}function ls(e,t){e.children&&us(e.children,t)}function hs(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function ds(e){const t=e.children&&e.children.map(ds),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==jr&&(n.component=cs),n}function ps(e){return e.outlet||jr}function fs(e,t){const n=e.filter(e=>ps(e)===t);return n.push(...e.filter(e=>ps(e)!==t)),n}const gs={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ms(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},gs):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Gr)(n,e,t);if(!i)return Object.assign({},gs);const s={};Jr(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ys(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>vs(e,t,n)&&ps(n)!==jr)}(e,n,r)){const i=new ai(t,function(e,t,n,r){const i={};i[jr]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&ps(s)!==jr){const n=new ai([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[ps(s)]=n}return i}(e,t,r,new ai(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>vs(e,t,n))}(e,n,r)){const s=new ai(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(vs(e,n,a)&&!i[ps(a)]){const n=new ai([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[ps(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new ai(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function vs(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function _s(e,t,n,r){return!!(ps(e)===r||r!==jr&&vs(t,n,e))&&("**"===e.path||ms(t,e,n).matched)}function ws(e,t,n){return 0===t.length&&!e.children[n]}class bs{constructor(e){this.segmentGroup=e||null}}class Ts{constructor(e){this.urlTree=e}}function Ss(e){return new Ae.y(t=>t.error(new bs(e)))}function Es(e){return new Ae.y(t=>t.error(new Ts(e)))}function Is(e){return new Ae.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Cs{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(r.h0i)}apply(){const e=ys(this.urlTree.root,[],[],this.config).segmentGroup,t=new ai(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,jr).pipe((0,Le.U)(e=>this.createUrlTree(ks(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(or(e=>{if(e instanceof Ts)return this.allowRedirects=!1,this.match(e.urlTree);throw e instanceof bs?this.noMatchError(e):e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,jr).pipe((0,Le.U)(t=>this.createUrlTree(ks(t),e.queryParams,e.fragment))).pipe(or(e=>{throw e instanceof bs?this.noMatchError(e):e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new ai([],{[jr]:e}):e;return new oi(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,Le.U)(e=>new ai([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,mt.D)(r).pipe(Oe(r=>{const i=n.children[r],s=fs(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,Le.U)(e=>({segment:e,outlet:r})))}),rr((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ne((t,n)=>e(t,n,r)):_r.y,ur(1),n?mr(t):dr(()=>new jn))}())}expandSegment(e,t,n,r,i,s){return(0,mt.D)(n).pipe(Oe(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(or(e=>{if(e instanceof bs)return(0,ke.of)(null);throw e}))),wr(e=>!!e),or((e,n)=>{if(e instanceof jn||"EmptyError"===e.name){if(ws(t,r,i))return(0,ke.of)(new ai([],{}));throw new bs(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return _s(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):Ss(t):Ss(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Es(i):this.lineralizeSegments(n,i).pipe((0,xe.zg)(n=>{const i=new ai(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=ms(t,r,i);if(!o)return Ss(t);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Es(l):this.lineralizeSegments(r,l).pipe((0,xe.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,ke.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,Le.U)(e=>(n._loadedConfig=e,new ai(r,{})))):(0,ke.of)(new ai(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=ms(t,n,r);if(!s)return Ss(t);const c=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,xe.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:u}=ys(t,o,c,s),l=new ai(a.segments,a.children);if(0===u.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe((0,Le.U)(e=>new ai(o,e)));if(0===s.length&&0===u.length)return(0,ke.of)(new ai(o,{}));const h=ps(n)===i;return this.expandSegment(r,l,s,u,h?jr:i,!0).pipe((0,Le.U)(e=>new ai(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,ke.of)(new rs(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,ke.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,xe.zg)(n=>{return n?this.configLoader.load(e.injector,t).pipe((0,Le.U)(e=>(t._loadedConfig=e,e))):(r=t,new Ae.y(e=>e.error(Hr(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):(0,ke.of)(new rs([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,ke.of)(!0);const i=r.map(r=>{const i=e.get(r);let s;if((o=i)&&is(o.canLoad))s=i.canLoad(t,n);else{if(!is(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}var o;return Xr(s)});return(0,ke.of)(i).pipe(as(),(0,An.b)(e=>{if(!ss(e))return;const t=Hr(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,Le.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,ke.of)(n);if(r.numberOfChildren>1||!r.children[jr])return Is(e.redirectTo);r=r.children[jr]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new oi(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Jr(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return Jr(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new ai(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function ks(e){const t={};for(const n of Object.keys(e.children)){const r=ks(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children[jr]){const t=e.children[jr];return new ai(e.segments.concat(t.segments),t.children)}return e}(new ai(e.segments,t))}class As{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xs{constructor(e,t){this.component=e,this.route=t}}function Os(e,t,n){const r=e._root;return Ns(r,t?t._root:null,n,[r.value])}function Ps(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Ns(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Oi(t);return e.children.forEach(e=>{(function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ui(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ui(e.url,t.url)||!Kr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zi(e,t)||!Kr(e.queryParams,t.queryParams);case"paramsChange":default:return!Zi(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new As(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ns(e,t,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xs(a.outlet.component,o))}else o&&Ds(t,a,i),i.canActivateChecks.push(new As(r)),Ns(e,null,s.component?a?a.children:null:n,r,i)})(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),Jr(s,(e,t)=>Ds(e,n.getContext(t),i)),i}function Ds(e,t,n){const r=Oi(e),i=e.value;Jr(r,(e,r)=>{Ds(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new xs(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class Rs{}function Ls(e){return new Ae.y(t=>t.error(e))}class Ms{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=ys(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,jr);if(null===t)return null;const n=new Li([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},jr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xi(n,t),i=new Mi(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=Ri(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=fs(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Us(n);return r.sort((e,t)=>e.value.outlet===jr?-1:t.value.outlet===jr?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return ws(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!_s(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?Yr(n).parameters:{};i=new Li(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vs(e),ps(e),e.component,e,qs(t),Zs(t)+n.length,js(e))}else{const r=ms(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Li(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vs(e),ps(e),e.component,e,qs(t),Zs(t)+s.length,js(e))}const a=(l=e).children?l.children:l.loadChildren?l._loadedConfig.routes:[],{segmentGroup:c,slicedSegments:u}=ys(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);var l;if(0===u.length&&c.hasChildren()){const e=this.processChildren(a,c);return null===e?null:[new xi(i,e)]}if(0===a.length&&0===u.length)return[new xi(i,[])];const h=ps(e)===r,d=this.processSegment(a,c,u,h?jr:r);return null===d?null:[new xi(i,d)]}}function Fs(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Us(e){const t=[],n=new Set;for(const r of e){if(!Fs(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=Us(r.children);t.push(new xi(r.value,e))}return t.filter(e=>!n.has(e))}function qs(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Zs(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Vs(e){return e.data||{}}function js(e){return e.resolve||{}}function Bs(e){return Wn(t=>{const n=e(t);return n?(0,mt.D)(n).pipe((0,Le.U)(()=>t)):(0,ke.of)(t)})}class zs extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const $s=new r.OlP("ROUTES");class Hs{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,Le.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new rs(Qr(i.injector.get($s,void 0,r.XFs.Self|r.XFs.Optional)).map(ds),i)}),or(e=>{throw t._loader$=void 0,e}));return t._loader$=new Gn.c(n,()=>new xn.xQ).pipe((0,br.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,mt.D)(this.loader.load(e)):Xr(e()).pipe((0,xe.zg)(e=>e instanceof r.YKP?(0,ke.of)(e):(0,mt.D)(this.compiler.compileModuleAsync(e))))}}class Gs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ks,this.attachRef=null}}class Ks{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Gs,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Ws{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Qs(e){throw e}function Ys(e,t,n){return t.parse("/")}function Js(e,t){return(0,ke.of)(null)}const Xs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let to=(()=>{class e{constructor(e,t,n,i,s,o,a,c){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xn.xQ,this.errorHandler=Qs,this.malformedUriErrorHandler=Ys,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Js,afterPreactivation:Js},this.urlHandlingStrategy=new Ws,this.routeReuseStrategy=new zs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const u=s.get(r.R0b);this.isNgZoneEnabled=u instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new oi(new ai([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hs(o,a,e=>this.triggerEvent(new Lr(e)),e=>this.triggerEvent(new Mr(e))),this.routerState=Ni(this.currentUrlTree,this.rootComponentType),this.transitions=new Pn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe(Ne(e=>0!==e.id),(0,Le.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Wn(e=>{let n=!1,r=!1;return(0,ke.of)(e).pipe((0,An.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Wn(e=>{const n=this.browserUrlTree.toString(),i=!this.navigated||e.extractedUrl.toString()!==n||n!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return no(e.source)&&(this.browserUrlTree=e.extractedUrl),(0,ke.of)(e).pipe(Wn(e=>{const n=this.transitions.getValue();return t.next(new Cr(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?$n.E:Promise.resolve(e)}),function(e,t,n,r){return Wn(i=>function(e,t,n,r,i){return new Cs(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe((0,Le.U)(e=>Object.assign(Object.assign({},i),{urlAfterRedirects:e}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,An.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,s){return(0,xe.zg)(o=>function(e,t,n,i,s="emptyOnly",o="legacy"){try{const r=new Ms(e,t,n,i,s,o).recognize();return null===r?Ls(new Rs):(0,ke.of)(r)}catch(r){return Ls(r)}}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),i,s).pipe((0,Le.U)(e=>Object.assign(Object.assign({},o),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,An.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new Or(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new Cr(n,this.serializeUrl(r),i,s);t.next(a);const c=Ni(r,this.rootComponentType).snapshot;return(0,ke.of)(Object.assign(Object.assign({},e),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),$n.E}),Bs(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,An.b)(e=>{const t=new Pr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,Le.U)(e=>Object.assign(Object.assign({},e),{guards:Os(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,xe.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,ke.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,mt.D)(e).pipe((0,xe.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,ke.of)(!0);const o=s.map(s=>{const o=Ps(s,t,i);let a;if(function(e){return e&&is(e.canDeactivate)}(o))a=Xr(o.canDeactivate(e,t,n,r));else{if(!is(o))throw new Error("Invalid CanDeactivate guard");a=Xr(o(e,t,n,r))}return a.pipe(wr())});return(0,ke.of)(o).pipe(as())}(e.component,e.route,n,t,r)),wr(e=>!0!==e,!0))}(o,r,i,e).pipe((0,xe.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,mt.D)(t).pipe(Oe(t=>zn(function(e,t){return null!==e&&t&&t(new Fr(e)),(0,ke.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new qr(e)),(0,ke.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Hn(()=>{const i=t.guards.map(i=>{const s=Ps(i,t.node,n);let o;if(function(e){return e&&is(e.canActivateChild)}(s))o=Xr(s.canActivateChild(r,e));else{if(!is(s))throw new Error("Invalid CanActivateChild guard");o=Xr(s(r,e))}return o.pipe(wr())});return(0,ke.of)(i).pipe(as())}));return(0,ke.of)(i).pipe(as())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,ke.of)(!0);const i=r.map(r=>Hn(()=>{const i=Ps(r,t,n);let s;if(function(e){return e&&is(e.canActivate)}(i))s=Xr(i.canActivate(t,e));else{if(!is(i))throw new Error("Invalid CanActivate guard");s=Xr(i(t,e))}return s.pipe(wr())}));return(0,ke.of)(i).pipe(as())}(e,t.route,n))),wr(e=>!0!==e,!0))}(r,s,e,t):(0,ke.of)(n)),(0,Le.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,An.b)(e=>{if(ss(e.guardsResult)){const t=Hr(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new Nr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Ne(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),Bs(e=>{if(e.guards.canActivateChecks.length)return(0,ke.of)(e).pipe((0,An.b)(e=>{const t=new Dr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Wn(e=>{let t=!1;return(0,ke.of)(e).pipe(function(e,t){return(0,xe.zg)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return(0,ke.of)(n);let s=0;return(0,mt.D)(i).pipe(Oe(n=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,ke.of)({});const s={};return(0,mt.D)(i).pipe((0,xe.zg)(i=>function(e,t,n,r){const i=Ps(e,t,r);return Xr(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,An.b)(e=>{s[i]=e}))),ur(1),(0,xe.zg)(()=>Object.keys(s).length===i.length?(0,ke.of)(s):$n.E))}(e._resolve,e,t,r).pipe((0,Le.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Ri(e,n).resolve),null)))}(n.route,r,e,t)),(0,An.b)(()=>s++),ur(1),(0,xe.zg)(e=>s===i.length?(0,ke.of)(n):$n.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,An.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}))}),(0,An.b)(e=>{const t=new Rr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Bs(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Le.U)(e=>{const t=function(e,t,n){const r=Vi(e,t._root,n?n._root:void 0);return new Pi(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,An.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(e.urlAfterRedirects,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),((e,t,n)=>(0,Le.U)(r=>(new ts(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),(0,An.b)({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new Sr(e))}(()=>{var t;if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}(null===(t=this.currentNavigation)||void 0===t?void 0:t.id)===e.id&&(this.currentNavigation=null)}),or(n=>{if(r=!0,function(e){return e&&e[$r]}(n)){const r=ss(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const i=new Ar(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree),r={skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||no(e.source)};this.scheduleNavigation(t,"imperative",null,r,{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new xr(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}return $n.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return t.transitionId!==e.transitionId||!n||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){us(e),this.config=e.map(ds),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,n,r,i){if(0===n.length)return $i(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Gi(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Jr(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Gi(n,t,r)}(n);if(s.toRoot())return $i(t.root,new ai([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new Ki(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new Ki(e,e===t.root,0)}const r=Bi(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Ki(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Qi(o.segmentGroup,o.index,s.commands):Wi(o.segmentGroup,o.index,s.commands);return $i(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,u,null!=c?c:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=ss(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},Xs):!1===t?Object.assign({},eo):t,ss(e))return ni(this.currentUrlTree,e,n);const r=this.parseUrl(e);return ni(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new kr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,t,n,r,i){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),c=no(t)&&a&&!no(a.source),u=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(c&&u)return Promise.resolve(!0);let l,h,d;i?(l=i.resolve,h=i.reject,d=i.promise):d=new Promise((e,t)=>{l=e,h=t});const p=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),f=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):f=0,this.setTransition({id:p,targetPageId:f,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:l,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new Ar(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.DyG),r.LFG(li),r.LFG(Ks),r.LFG(b),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function no(e){return"imperative"!==e}let ro=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new xn.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:so(this.skipLocationChange),replaceUrl:so(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:so(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(to),r.Y36(Di),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})(),io=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new xn.xQ,this.subscription=e.events.subscribe(e=>{e instanceof kr&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i||"string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:so(this.skipLocationChange),replaceUrl:so(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:so(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(to),r.Y36(Di),r.Y36(m))},e.\u0275dir=r.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(r.Ikx("href",t.href,r.LSH),r.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})();function so(e){return""===e||!!e}let oo=(()=>{class e{constructor(e,t,n,r,i,s){this.router=e,this.element=t,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(e=>{e instanceof kr&&this.update()})}ngAfterContentInit(){(0,ke.of)(this.links.changes,this.linksWithHrefs.changes,(0,ke.of)(null)).pipe((0,Bn.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(e=>!!e).map(e=>e.onChanges);this.linkInputChangesSubscription=(0,mt.D)(t).pipe((0,Bn.J)()).subscribe(e=>{this.isActive!==this.isLinkActive(this.router)(e)&&this.update()})}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){const t=function(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>e.isActive(n.urlTree,t)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(to),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(ro,8),r.Y36(io,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){if(1&e&&(r.Suo(n,ro,5),r.Suo(n,io,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.links=e),r.iGM(e=r.CRH())&&(t.linksWithHrefs=e)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.TTD]}),e})(),ao=(()=>{class e{constructor(e,t,n,i,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||jr,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new co(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Ks),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},e.\u0275dir=r.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class co{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Di?this.route:e===Ks?this.childContexts:this.parent.get(e,t)}}class uo{}class lo{preload(e,t){return(0,ke.of)(null)}}let ho=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Hs(t,n,t=>e.triggerEvent(new Lr(t)),t=>e.triggerEvent(new Mr(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ne(e=>e instanceof kr),Oe(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,mt.D)(n).pipe((0,Bn.J)(),(0,Le.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,ke.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,xe.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(to),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(uo))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),po=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Cr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof kr&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Vr&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Vr(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(to),r.LFG(G),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const fo=new r.OlP("ROUTER_CONFIGURATION"),go=new r.OlP("ROUTER_FORROOT_GUARD"),mo=[b,{provide:li,useClass:hi},{provide:to,useFactory:function(e,t,n,r,i,s,o,a={},c,u){const l=new to(null,e,t,n,r,i,s,Qr(o));return c&&(l.urlHandlingStrategy=c),u&&(l.routeReuseStrategy=u),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[li,Ks,b,r.zs3,r.v3s,r.Sil,$s,fo,[class{},new r.FiY],[class{},new r.FiY]]},Ks,{provide:Di,useFactory:function(e){return e.routerState.root},deps:[to]},{provide:r.v3s,useClass:r.EAV},ho,lo,class{preload(e,t){return t().pipe(or(()=>(0,ke.of)(null)))}},{provide:fo,useValue:{enableTracing:!1}}];function yo(){return new r.PXZ("Router",to)}let vo=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[mo,To(t),{provide:go,useFactory:bo,deps:[[to,new r.FiY,new r.tp0]]},{provide:fo,useValue:n||{}},{provide:m,useFactory:wo,deps:[a,[new r.tBr(v),new r.FiY],fo]},{provide:po,useFactory:_o,deps:[to,G,fo]},{provide:uo,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:lo},{provide:r.PXZ,multi:!0,useFactory:yo},[So,{provide:r.ip1,multi:!0,useFactory:Eo,deps:[So]},{provide:Co,useFactory:Io,deps:[So]},{provide:r.tb,multi:!0,useExisting:Co}]]}}static forChild(t){return{ngModule:e,providers:[To(t)]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(go,8),r.LFG(to,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function _o(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new po(e,t,n)}function wo(e,t,n={}){return n.useHash?new w(e,t):new _(e,t)}function bo(e){return"guarded"}function To(e){return[{provide:r.deG,multi:!0,useValue:e},{provide:$s,multi:!0,useValue:e}]}let So=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xn.xQ}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(to),r=this.injector.get(fo);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,ke.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(fo),n=this.injector.get(ho),i=this.injector.get(po),s=this.injector.get(to),o=this.injector.get(r.z2F);e===o.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function Eo(e){return e.appInitializer.bind(e)}function Io(e){return e.bootstrapListener.bind(e)}const Co=new r.OlP("Router Initializer");let ko=(()=>{class e{constructor(e,t){this.http=e,this.router=t,this.apiKey="AIzaSyCPoBazzJYQDR_kUMlfSLFNHTrkSYJK3HI",this.urlLogIn="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCPoBazzJYQDR_kUMlfSLFNHTrkSYJK3HI",this.url="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCPoBazzJYQDR_kUMlfSLFNHTrkSYJK3HI",this.user=new Pn(null)}signUp(e,t){return this.http.post(this.url,{email:e,password:t,returnSecureToken:!0}).pipe((0,An.b)(e=>{this.handleAuthentication(e.email,e.userId,e.idToken,+e.expiresln)}))}logIn(e,t){return this.http.post(this.urlLogIn,{email:e,password:t,returnSecureToken:!0}).pipe((0,An.b)(e=>{this.handleAuthentication(e.email,e.localid,e.idToken,+e.expiresln)}))}autoLogin(){const e=JSON.parse(localStorage.getItem("user"));if(!e)return;const t=new kn(e.email,e.id="2",e._token,new Date(e._tokenExpirationDate));null==t.token&&this.user.next(t)}handleAuthentication(e,t,n,r){const i=new Date((new Date).getTime()+1e3*r),s=new kn(e,t,n,i);this.user.next(s),localStorage.setItem("user",JSON.stringify(s))}logOut(){this.user.next(null),localStorage.removeItem("user")}isLoggedIn(){return localStorage.getItem("user")}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(nt),r.LFG(to))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ao,xo=new Uint8Array(16);function Oo(){if(!Ao&&!(Ao="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ao(xo)}for(var Po=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,No=function(e){return"string"==typeof e&&Po.test(e)},Do=[],Ro=0;Ro<256;++Ro)Do.push((Ro+256).toString(16).substr(1));var Lo=function(e,t,n){var r=(e=e||{}).random||(e.rng||Oo)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Do[e[t+0]]+Do[e[t+1]]+Do[e[t+2]]+Do[e[t+3]]+"-"+Do[e[t+4]]+Do[e[t+5]]+"-"+Do[e[t+6]]+Do[e[t+7]]+"-"+Do[e[t+8]]+Do[e[t+9]]+"-"+Do[e[t+10]]+Do[e[t+11]]+Do[e[t+12]]+Do[e[t+13]]+Do[e[t+14]]+Do[e[t+15]]).toLowerCase();if(!No(n))throw TypeError("Stringified UUID is invalid");return n}(r)},Mo=n(3637),Fo=n(8036);function Uo(){return e=>e.lift(new qo)}class qo{call(e,t){return t.subscribe(new Zo(e))}}class Zo extends Pe.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class Vo{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new jo(e,this.compare,this.keySelector))}}class jo extends Pe.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}var Bo,zo=n(8939),$o=(n(2755),n(3394)),Ho=n(8239),Go=n(8026),Ko=n(3910),Wo=n(5422),Qo=n(3854),Yo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Jo={},Xo=Xo||{},ea=Yo||self;function ta(){}function na(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ra(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ia="closure_uid_"+(1e9*Math.random()>>>0),sa=0;function oa(e,t,n){return e.call.apply(e.bind,arguments)}function aa(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ca(e,t,n){return(ca=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oa:aa).apply(null,arguments)}function ua(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function la(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function ha(){this.s=this.s,this.o=this.o}var da={};ha.prototype.s=!1,ha.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ia)&&e[ia]||(e[ia]=++sa)}(this);delete da[e]}},ha.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pa=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},fa=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function ga(e){return Array.prototype.concat.apply([],arguments)}function ma(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function ya(e){return/^[\s\xa0]*$/.test(e)}var va,_a=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function wa(e,t){return-1!=e.indexOf(t)}function ba(e,t){return e<t?-1:e>t?1:0}e:{var Ta=ea.navigator;if(Ta){var Sa=Ta.userAgent;if(Sa){va=Sa;break e}}va=""}function Ea(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ia(e){const t={};for(const n in e)t[n]=e[n];return t}var Ca="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ca.length;t++)n=Ca[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Aa(e){return Aa[" "](e),e}Aa[" "]=ta;var xa,Oa,Pa=wa(va,"Opera"),Na=wa(va,"Trident")||wa(va,"MSIE"),Da=wa(va,"Edge"),Ra=Da||Na,La=wa(va,"Gecko")&&!(wa(va.toLowerCase(),"webkit")&&!wa(va,"Edge"))&&!(wa(va,"Trident")||wa(va,"MSIE"))&&!wa(va,"Edge"),Ma=wa(va.toLowerCase(),"webkit")&&!wa(va,"Edge");function Fa(){var e=ea.document;return e?e.documentMode:void 0}e:{var Ua="",qa=(Oa=va,La?/rv:([^\);]+)(\)|;)/.exec(Oa):Da?/Edge\/([\d\.]+)/.exec(Oa):Na?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Oa):Ma?/WebKit\/(\S+)/.exec(Oa):Pa?/(?:Version)[ \/]?(\S+)/.exec(Oa):void 0);if(qa&&(Ua=qa?qa[1]:""),Na){var Za=Fa();if(null!=Za&&Za>parseFloat(Ua)){xa=String(Za);break e}}xa=Ua}var Va={};function ja(){return e=Va,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=_a(String(xa)).split("."),n=_a("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=ba(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||ba(0==i[2].length,0==s[2].length)||ba(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}var Ba=ea.document&&Na&&(Fa()||parseInt(xa,10))||void 0,za=function(){if(!ea.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ea.addEventListener("test",ta,t),ea.removeEventListener("test",ta,t)}catch(n){}return e}();function $a(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ha(e,t){if($a.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(La){e:{try{Aa(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Ga[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ha.Z.h.call(this)}}$a.prototype.h=function(){this.defaultPrevented=!0},la(Ha,$a);var Ga={2:"touch",3:"pen",4:"mouse"};Ha.prototype.h=function(){Ha.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ka="closure_listenable_"+(1e6*Math.random()|0),Wa=0;function Qa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Wa,this.ca=this.fa=!1}function Ya(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ja(e){this.src=e,this.g={},this.h=0}function Xa(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=pa(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ya(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ec(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Ja.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=ec(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Qa(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var tc="closure_lm_"+(1e6*Math.random()|0),nc={};function rc(e,t,n,r,i){if(r&&r.once)return sc(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)rc(e,t[s],n,r,i);return null}return n=dc(n),e&&e[Ka]?e.N(t,n,ra(r)?!!r.capture:!!r,i):ic(e,t,n,!1,r,i)}function ic(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=ra(i)?!!i.capture:!!i,a=lc(e);if(a||(e[tc]=a=new Ja(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=uc;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)za||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(cc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function sc(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)sc(e,t[s],n,r,i);return null}return n=dc(n),e&&e[Ka]?e.O(t,n,ra(r)?!!r.capture:!!r,i):ic(e,t,n,!0,r,i)}function oc(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)oc(e,t[s],n,r,i);else r=ra(r)?!!r.capture:!!r,n=dc(n),e&&e[Ka]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=ec(s=e.g[t],n,r,i))&&(Ya(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=lc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ec(t,n,r,i)),(n=-1<e?t[e]:null)&&ac(n))}function ac(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ka])Xa(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(cc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=lc(t))?(Xa(n,e),0==n.h&&(n.src=null,t[tc]=null)):Ya(e)}}}function cc(e){return e in nc?nc[e]:nc[e]="on"+e}function uc(e,t){if(e.ca)e=!0;else{t=new Ha(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ac(e),e=n.call(r,t)}return e}function lc(e){return(e=e[tc])instanceof Ja?e:null}var hc="__closure_events_fn_"+(1e9*Math.random()>>>0);function dc(e){return"function"==typeof e?e:(e[hc]||(e[hc]=function(t){return e.handleEvent(t)}),e[hc])}function pc(){ha.call(this),this.i=new Ja(this),this.P=this,this.I=null}function fc(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new $a(t,e);else if(t instanceof $a)t.target=t.target||e;else{var i=t;ka(t=new $a(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=gc(o,r,!0,t)&&i}if(i=gc(o=t.g=e,r,!0,t)&&i,i=gc(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=gc(o=t.g=n[s],r,!1,t)&&i}function gc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&Xa(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}la(pc,ha),pc.prototype[Ka]=!0,pc.prototype.removeEventListener=function(e,t,n,r){oc(this,e,t,n,r)},pc.prototype.M=function(){if(pc.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ya(n[r]);delete t.g[e],t.h--}}this.I=null},pc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var mc=ea.JSON.stringify;function yc(){var e=Ec;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var vc,_c=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new wc,e=>e.reset());class wc{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function bc(e){ea.setTimeout(()=>{throw e},0)}function Tc(e,t){vc||function(){var e=ea.Promise.resolve(void 0);vc=function(){e.then(Ic)}}(),Sc||(vc(),Sc=!0),Ec.add(e,t)}var Sc=!1,Ec=new class{constructor(){this.h=this.g=null}add(e,t){const n=_c.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Ic(){for(var e;e=yc();){try{e.h.call(e.g)}catch(n){bc(n)}var t=_c;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Sc=!1}function Cc(e,t){pc.call(this),this.h=e||1,this.g=t||ea,this.j=ca(this.kb,this),this.l=Date.now()}function kc(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ac(e,t,n){if("function"==typeof e)n&&(e=ca(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ca(e.handleEvent,e)}return 2147483647<Number(t)?-1:ea.setTimeout(e,t||0)}function xc(e){e.g=Ac(()=>{e.g=null,e.i&&(e.i=!1,xc(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}la(Cc,pc),(Bo=Cc.prototype).da=!1,Bo.S=null,Bo.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),fc(this,"tick"),this.da&&(kc(this),this.start()))}},Bo.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Bo.M=function(){Cc.Z.M.call(this),kc(this),delete this.g};class Oc extends ha{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xc(this)}M(){super.M(),this.g&&(ea.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pc(e){ha.call(this),this.h=e,this.g={}}la(Pc,ha);var Nc=[];function Dc(e,t,n,r){Array.isArray(n)||(n&&(Nc[0]=n.toString()),n=Nc);for(var i=0;i<n.length;i++){var s=rc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Rc(e){Ea(e.g,function(e,t){this.g.hasOwnProperty(t)&&ac(e)},e),e.g={}}function Lc(){this.g=!0}function Mc(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return mc(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Pc.prototype.M=function(){Pc.Z.M.call(this),Rc(this)},Pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lc.prototype.Aa=function(){this.g=!1},Lc.prototype.info=function(){};var Fc={},Uc=null;function qc(){return Uc=Uc||new pc}function Zc(e){$a.call(this,Fc.Ma,e)}function Vc(e){const t=qc();fc(t,new Zc(t,e))}function jc(e,t){$a.call(this,Fc.STAT_EVENT,e),this.stat=t}function Bc(e){const t=qc();fc(t,new jc(t,e))}function zc(e,t){$a.call(this,Fc.Na,e),this.size=t}function $c(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return ea.setTimeout(function(){e()},t)}Fc.Ma="serverreachability",la(Zc,$a),Fc.STAT_EVENT="statevent",la(jc,$a),Fc.Na="timingevent",la(zc,$a);var Hc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Gc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Kc(){}function Wc(){}Kc.prototype.h=null;var Qc,Yc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Jc(){$a.call(this,"d")}function Xc(){$a.call(this,"c")}function eu(){}function tu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Pc(this),this.P=ru,this.W=new Cc(e=Ra?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new nu}function nu(){this.i=null,this.g="",this.h=!1}la(Jc,$a),la(Xc,$a),la(eu,Kc),eu.prototype.g=function(){return new XMLHttpRequest},eu.prototype.i=function(){return{}},Qc=new eu;var ru=45e3,iu={},su={};function ou(e,t,n){e.K=1,e.v=xu(Su(t)),e.s=n,e.U=!0,au(e,null)}function au(e,t){e.F=Date.now(),hu(e),e.A=Su(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ju(n.h,"t",r),e.C=0,n=e.l.H,e.h=new nu,e.g=jl(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Oc(ca(e.Ia,e,e.g),e.O)),Dc(e.V,e.g,"readystatechange",e.gb),t=e.H?Ia(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Vc(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function cu(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function uu(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=lu(e,n),r==su){4==t&&(e.o=4,Bc(14),i=!1),Mc(e.j,e.m,null,"[Incomplete Response]");break}if(r==iu){e.o=4,Bc(15),Mc(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Mc(e.j,e.m,r,null),mu(e,r)}cu(e)&&r!=su&&r!=iu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Bc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rl(t),t.L=!0,Bc(11))):(Mc(e.j,e.m,n,"[Invalid Chunked Response]"),gu(e),fu(e))}function lu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?su:(n=Number(t.substring(n,r)),isNaN(n)?iu:(r+=1)+n>t.length?su:(t=t.substr(r,n),e.C=r+n,t))}function hu(e){e.Y=Date.now()+e.P,du(e,e.P)}function du(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=$c(ca(e.eb,e),t)}function pu(e){e.B&&(ea.clearTimeout(e.B),e.B=null)}function fu(e){0==e.l.G||e.I||Fl(e.l,e)}function gu(e){pu(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,kc(e.W),Rc(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function mu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ku(n.i,e)))if(n.I=e.N,!e.J&&Ku(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=$c(ca(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<e.F))break e;Ml(n),Il(n)}Dl(n),Bc(18)}if(1>=Gu(n.i)&&n.ka){try{n.ka()}catch(u){}n.ka=void 0}}else ql(n,11)}else if((e.J||n.g==e)&&Ml(n),!ya(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=u[5];null!=l&&"number"==typeof l&&0<l&&(n.K=r=1.5*l,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(wa(e,"spdy")||wa(e,"quic")||wa(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Wu(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Au(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=Vl(r,r.H?r.la:null,r.W),o.J){Qu(r.i,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(pu(a),hu(a)),r.g=o}else Nl(r);0<n.l.length&&Al(n)}else"stop"!=u[0]&&"close"!=u[0]||ql(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?ql(n,7):El(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}Vc(4)}catch(u){}}function yu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(na(e)||"string"==typeof e)fa(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(na(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(na(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function vu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof vu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function _u(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];wu(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)wu(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function wu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Bo=tu.prototype).setTimeout=function(e){this.P=e},Bo.gb=function(e){e=e.target;const t=this.L;t&&3==_l(e)?t.l():this.Ia(e)},Bo.Ia=function(e){try{if(e==this.g)e:{const l=_l(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>l)&&(3!=l||Ra||this.g&&(this.h.h||this.g.ga()||wl(this.g)))){this.I||4!=l||7==t||Vc(8==t||0>=h?3:2),pu(this);var n=this.g.ba();this.N=n;t:if(cu(this)){var r=wl(this.g);e="";var i=r.length,s=4==_l(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){gu(this),fu(this);var o="";break t}this.h.i=new ea.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ya(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Bc(12),gu(this),fu(this);break e}Mc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mu(this,n)}this.U?(uu(this,l,o),Ra&&this.i&&3==l&&(Dc(this.V,this.W,"tick",this.fb),this.W.start())):(Mc(this.j,this.m,o,null),mu(this,o)),4==l&&gu(this),this.i&&!this.I&&(4==l?Fl(this.l,this):(this.i=!1,hu(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Bc(12)):(this.o=0,Bc(13)),gu(this),fu(this)}}}catch(l){}},Bo.fb=function(){if(this.g){var e=_l(this.g),t=this.g.ga();this.C<t.length&&(pu(this),uu(this,e,t),this.i&&4!=e&&hu(this))}},Bo.cancel=function(){this.I=!0,gu(this)},Bo.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Vc(3),Bc(17)),gu(this),this.o=2,fu(this)):du(this,this.Y-e)},(Bo=vu.prototype).R=function(){_u(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Bo.T=function(){return _u(this),this.g.concat()},Bo.get=function(e,t){return wu(this.h,e)?this.h[e]:t},Bo.set=function(e,t){wu(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Bo.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var bu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tu(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Tu){this.g=void 0!==t?t:e.g,Eu(this,e.j),this.s=e.s,Iu(this,e.i),Cu(this,e.m),this.l=e.l,t=e.h;var n=new Uu;n.i=t.i,t.g&&(n.g=new vu(t.g),n.h=t.h),ku(this,n),this.o=e.o}else e&&(n=String(e).match(bu))?(this.g=!!t,Eu(this,n[1]||"",!0),this.s=Ou(n[2]||""),Iu(this,n[3]||"",!0),Cu(this,n[4]),this.l=Ou(n[5]||"",!0),ku(this,n[6]||"",!0),this.o=Ou(n[7]||"")):(this.g=!!t,this.h=new Uu(null,this.g))}function Su(e){return new Tu(e)}function Eu(e,t,n){e.j=n?Ou(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Iu(e,t,n){e.i=n?Ou(t,!0):t}function Cu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ku(e,t,n){t instanceof Uu?(e.h=t,function(e,t){t&&!e.j&&(qu(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Zu(this,t),ju(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Pu(t,Mu)),e.h=new Uu(t,e.g))}function Au(e,t,n){e.h.set(t,n)}function xu(e){return Au(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ou(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Pu(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Nu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Nu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Pu(t,Du,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Pu(t,Du,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Pu(n,"/"==n.charAt(0)?Lu:Ru,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Pu(n,Fu)),e.join("")};var Du=/[#\/\?@]/g,Ru=/[#\?:]/g,Lu=/[#\?]/g,Mu=/[#\?@]/g,Fu=/#/g;function Uu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qu(e){e.g||(e.g=new vu,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Zu(e,t){qu(e),t=Bu(e,t),wu(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,wu((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&_u(e)))}function Vu(e,t){return qu(e),t=Bu(e,t),wu(e.g.h,t)}function ju(e,t,n){Zu(e,t),0<n.length&&(e.i=null,e.g.set(Bu(e,t),ma(n)),e.h+=n.length)}function Bu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function zu(e){this.l=e||$u,e=ea.PerformanceNavigationTiming?0<(e=ea.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(ea.g&&ea.g.Ea&&ea.g.Ea()&&ea.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Bo=Uu.prototype).add=function(e,t){qu(this),this.i=null,e=Bu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Bo.forEach=function(e,t){qu(this),this.g.forEach(function(n,r){fa(n,function(n){e.call(t,n,r,this)},this)},this)},Bo.T=function(){qu(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},Bo.R=function(e){qu(this);var t=[];if("string"==typeof e)Vu(this,e)&&(t=ga(t,this.g.get(Bu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ga(t,e[n])}return t},Bo.set=function(e,t){return qu(this),this.i=null,Vu(this,e=Bu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Bo.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Bo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var $u=10;function Hu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Gu(e){return e.h?1:e.g?e.g.size:0}function Ku(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Wu(e,t){e.g?e.g.add(t):e.h=t}function Qu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Yu(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return ma(e.i)}function Ju(){}function Xu(){this.g=new Ju}function el(e,t,n){const r=n||"";try{yu(e,function(e,n){let i=e;ra(e)&&(i=mc(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function tl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function nl(e){this.l=e.$b||null,this.j=e.ib||!1}function rl(e,t){pc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=il,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zu.prototype.cancel=function(){if(this.i=Yu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Ju.prototype.stringify=function(e){return ea.JSON.stringify(e,void 0)},Ju.prototype.parse=function(e){return ea.JSON.parse(e,void 0)},la(nl,Kc),nl.prototype.g=function(){return new rl(this.l,this.j)},nl.prototype.i=function(e){return function(){return e}}({}),la(rl,pc);var il=0;function sl(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ol(e){e.readyState=4,e.l=null,e.j=null,e.A=null,al(e)}function al(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Bo=rl.prototype).open=function(e,t){if(this.readyState!=il)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,al(this)},Bo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ea).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Bo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ol(this)),this.readyState=il},Bo.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,al(this)),this.g&&(this.readyState=3,al(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ea.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sl(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Bo.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ol(this):al(this),3==this.readyState&&sl(this)}},Bo.Ua=function(e){this.g&&(this.response=this.responseText=e,ol(this))},Bo.Ta=function(e){this.g&&(this.response=e,ol(this))},Bo.ha=function(){this.g&&ol(this)},Bo.setRequestHeader=function(e,t){this.v.append(e,t)},Bo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Bo.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(rl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var cl=ea.JSON.parse;function ul(e){pc.call(this),this.headers=new vu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ll,this.K=this.L=!1}la(ul,pc);var ll="",hl=/^https?$/i,dl=["POST","PUT"];function pl(e){return"content-type"==e.toLowerCase()}function fl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,gl(e),yl(e)}function gl(e){e.D||(e.D=!0,fc(e,"complete"),fc(e,"error"))}function ml(e){if(e.h&&void 0!==Xo&&(!e.C[1]||4!=_l(e)||2!=e.ba()))if(e.v&&4==_l(e))Ac(e.Fa,0,e);else if(fc(e,"readystatechange"),4==_l(e)){e.h=!1;try{const c=e.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===c){var i=String(e.H).match(bu)[1]||null;if(!i&&ea.self&&ea.self.location){var s=ea.self.location.protocol;i=s.substr(0,s.length-1)}r=!hl.test(i?i.toLowerCase():"")}n=r}if(n)fc(e,"complete"),fc(e,"success");else{e.m=6;try{var o=2<_l(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",gl(e)}}finally{yl(e)}}}function yl(e,t){if(e.g){vl(e);const r=e.g,i=e.C[0]?ta:null;e.g=null,e.C=null,t||fc(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function vl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ea.clearTimeout(e.A),e.A=null)}function _l(e){return e.g?e.g.readyState:0}function wl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ll:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function bl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Ea(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Au(e,t,n))}function Tl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Sl(e){this.za=0,this.l=[],this.h=new Lc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Tl("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Tl("baseRetryDelayMs",5e3,e),this.$a=Tl("retryDelaySeedMs",1e4,e),this.Ya=Tl("forwardChannelMaxRetries",2,e),this.ra=Tl("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new zu(e&&e.concurrentRequestLimit),this.Ca=new Xu,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function El(e){if(Cl(e),3==e.G){var t=e.V++,n=Su(e.F);Au(n,"SID",e.J),Au(n,"RID",t),Au(n,"TYPE","terminate"),Ol(e,n),(t=new tu(e,e.h,t,void 0)).K=2,t.v=xu(Su(n)),n=!1,ea.navigator&&ea.navigator.sendBeacon&&(n=ea.navigator.sendBeacon(t.v.toString(),"")),!n&&ea.Image&&((new Image).src=t.v,n=!0),n||(t.g=jl(t.l,null),t.g.ea(t.v)),t.F=Date.now(),hu(t)}Zl(e)}function Il(e){e.g&&(Rl(e),e.g.cancel(),e.g=null)}function Cl(e){Il(e),e.u&&(ea.clearTimeout(e.u),e.u=null),Ml(e),e.i.cancel(),e.m&&("number"==typeof e.m&&ea.clearTimeout(e.m),e.m=null)}function kl(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Al(e)}function Al(e){Hu(e.i)||e.m||(e.m=!0,Tc(e.Ha,e),e.C=0)}function xl(e,t){var n;n=t?t.m:e.V++;const r=Su(e.F);Au(r,"SID",e.J),Au(r,"RID",n),Au(r,"AID",e.U),Ol(e,r),e.o&&e.s&&bl(r,e.o,e.s),n=new tu(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Pl(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Wu(e.i,n),ou(n,r,t)}function Ol(e,t){e.j&&yu({},function(e,n){Au(t,n,e)})}function Pl(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ca(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].h;const c=i[a].g;if(n-=t,0>n)t=Math.max(0,i[a].h-100),o=!1;else try{el(c,e,"req"+n+"_")}catch(s){r&&r(c)}}if(o){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Nl(e){e.g||e.u||(e.Y=1,Tc(e.Ga,e),e.A=0)}function Dl(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=$c(ca(e.Ga,e),Ul(e,e.A)),e.A++,0))}function Rl(e){null!=e.B&&(ea.clearTimeout(e.B),e.B=null)}function Ll(e){e.g=new tu(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Su(e.oa);Au(t,"RID","rpc"),Au(t,"SID",e.J),Au(t,"CI",e.N?"0":"1"),Au(t,"AID",e.U),Ol(e,t),Au(t,"TYPE","xmlhttp"),e.o&&e.s&&bl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=xu(Su(t)),n.s=null,n.U=!0,au(n,e)}function Ml(e){null!=e.v&&(ea.clearTimeout(e.v),e.v=null)}function Fl(e,t){var n=null;if(e.g==t){Ml(e),Rl(e),e.g=null;var r=2}else{if(!Ku(e.i,t))return;n=t.D,Qu(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;fc(r=qc(),new zc(r,n,t,i)),Al(e)}else Nl(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Gu(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=$c(ca(e.Ha,e,t),Ul(e,e.C)),e.C++,0)))}(e,t)||2==r&&Dl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ql(e,5);break;case 4:ql(e,10);break;case 3:ql(e,6);break;default:ql(e,2)}}function Ul(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ql(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ca(e.jb,e);n||(n=new Tu("//www.google.com/images/cleardot.gif"),ea.location&&"http"==ea.location.protocol||Eu(n,"https"),xu(n)),function(e,t){const n=new Lc;if(ea.Image){const r=new Image;r.onload=ua(tl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ua(tl,n,r,"TestLoadImage: error",!1,t),r.onabort=ua(tl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ua(tl,n,r,"TestLoadImage: timeout",!1,t),ea.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Bc(2);e.G=0,e.j&&e.j.va(t),Zl(e),Cl(e)}function Zl(e){e.G=0,e.I=-1,e.j&&((0!=Yu(e.i).length||0!=e.l.length)&&(e.i.i.length=0,ma(e.l),e.l.length=0),e.j.ua())}function Vl(e,t,n){let r=function(e){return e instanceof Tu?Su(e):new Tu(e,void 0)}(n);if(""!=r.i)t&&Iu(r,t+"."+r.i),Cu(r,r.m);else{const e=ea.location;r=function(e,t,n,r){var i=new Tu(null,void 0);return e&&Eu(i,e),t&&Iu(i,t),n&&Cu(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Ea(e.aa,function(e,t){Au(r,t,e)}),n=e.sa,(t=e.D)&&n&&Au(r,t,n),Au(r,"VER",e.ma),Ol(e,r),r}function jl(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ul(n&&e.Ba&&!e.qa?new nl({ib:!0}):e.qa)).L=e.H,t}function Bl(){}function zl(){if(Na&&!(10<=Number(Ba)))throw Error("Environmental error: no available transport.")}function $l(e,t){pc.call(this),this.g=new Sl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ya(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ya(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Kl(this)}function Hl(e){Jc.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Gl(){Xc.call(this),this.status=1}function Kl(e){this.g=e}(Bo=ul.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qc.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Qc),this.g.onreadystatechange=ca(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void fl(this,s)}e=n||"";const i=new vu(this.headers);r&&yu(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=pl;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=ea.FormData&&e instanceof ea.FormData,!(0<=pa(dl,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vl(this),0<this.B&&((this.K=function(e){return Na&&ja()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ca(this.pa,this)):this.A=Ac(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){fl(this,s)}},Bo.pa=function(){void 0!==Xo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fc(this,"timeout"),this.abort(8))},Bo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,fc(this,"complete"),fc(this,"abort"),yl(this))},Bo.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yl(this,!0)),ul.Z.M.call(this)},Bo.Fa=function(){this.s||(this.F||this.v||this.l?ml(this):this.cb())},Bo.cb=function(){ml(this)},Bo.ba=function(){try{return 2<_l(this)?this.g.status:-1}catch(Oa){return-1}},Bo.ga=function(){try{return this.g?this.g.responseText:""}catch(Oa){return""}},Bo.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),cl(t)}},Bo.Da=function(){return this.m},Bo.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Bo=Sl.prototype).ma=8,Bo.G=1,Bo.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Bo.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new tu(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=Ia(s),ka(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Pl(this,i,t),Au(n=Su(this.F),"RID",e),Au(n,"CVER",22),this.D&&Au(n,"X-HTTP-Session-Id",this.D),Ol(this,n),this.o&&s&&bl(n,this.o,s),Wu(this.i,i),this.Ra&&Au(n,"TYPE","init"),this.ja?(Au(n,"$req",t),Au(n,"SID","null"),i.$=!0,ou(i,n,null)):ou(i,n,t),this.G=2}}else 3==this.G&&(e?xl(this,e):0==this.l.length||Hu(this.i)||xl(this))},Bo.Ga=function(){if(this.u=null,Ll(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=$c(ca(this.bb,this),e)}},Bo.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Bc(10),Il(this),Ll(this))},Bo.ab=function(){null!=this.v&&(this.v=null,Il(this),Dl(this),Bc(19))},Bo.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Bc(2)):(this.h.info("Failed to ping google.com"),Bc(1))},(Bo=Bl.prototype).xa=function(){},Bo.wa=function(){},Bo.va=function(){},Bo.ua=function(){},Bo.Oa=function(){},zl.prototype.g=function(e,t){return new $l(e,t)},la($l,pc),$l.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Tc(ca(e.hb,e,t))),Bc(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Vl(e,null,e.W),Al(e)},$l.prototype.close=function(){El(this.g)},$l.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,kl(this.g,t)}else this.v?((t={}).__data__=mc(e),kl(this.g,t)):kl(this.g,e)},$l.prototype.M=function(){this.g.j=null,delete this.j,El(this.g),delete this.g,$l.Z.M.call(this)},la(Hl,Jc),la(Gl,Xc),la(Kl,Bl),Kl.prototype.xa=function(){fc(this.g,"a")},Kl.prototype.wa=function(e){fc(this.g,new Hl(e))},Kl.prototype.va=function(e){fc(this.g,new Gl(e))},Kl.prototype.ua=function(){fc(this.g,"b")},zl.prototype.createWebChannel=zl.prototype.g,$l.prototype.send=$l.prototype.u,$l.prototype.open=$l.prototype.m,$l.prototype.close=$l.prototype.close,Hc.NO_ERROR=0,Hc.TIMEOUT=8,Hc.HTTP_ERROR=6,Gc.COMPLETE="complete",Wc.EventType=Yc,Yc.OPEN="a",Yc.CLOSE="b",Yc.ERROR="c",Yc.MESSAGE="d",pc.prototype.listen=pc.prototype.N,ul.prototype.listenOnce=ul.prototype.O,ul.prototype.getLastError=ul.prototype.La,ul.prototype.getLastErrorCode=ul.prototype.Da,ul.prototype.getStatus=ul.prototype.ba,ul.prototype.getResponseJson=ul.prototype.Qa,ul.prototype.getResponseText=ul.prototype.ga,ul.prototype.send=ul.prototype.ea;var Wl=Jo.createWebChannelTransport=function(){return new zl},Ql=Jo.getStatEventTarget=function(){return qc()},Yl=Jo.ErrorCode=Hc,Jl=Jo.EventType=Gc,Xl=Jo.Event=Fc,eh=Jo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},th=Jo.FetchXmlHttpFactory=nl,nh=Jo.WebChannel=Wc,rh=Jo.XhrIo=ul;const ih="@firebase/firestore";class sh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sh.UNAUTHENTICATED=new sh(null),sh.GOOGLE_CREDENTIALS=new sh("google-credentials-uid"),sh.FIRST_PARTY=new sh("first-party-uid"),sh.MOCK_USER=new sh("mock-user");let oh="9.6.1";const ah=new Wo.Yd("@firebase/firestore");function ch(){return ah.logLevel}function uh(e,...t){if(ah.logLevel<=Wo.in.DEBUG){const n=t.map(dh);ah.debug(`Firestore (${oh}): ${e}`,...n)}}function lh(e,...t){if(ah.logLevel<=Wo.in.ERROR){const n=t.map(dh);ah.error(`Firestore (${oh}): ${e}`,...n)}}function hh(e,...t){if(ah.logLevel<=Wo.in.WARN){const n=t.map(dh);ah.warn(`Firestore (${oh}): ${e}`,...n)}}function dh(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function ph(e="Unexpected state"){const t=`FIRESTORE (${oh}) INTERNAL ASSERTION FAILED: `+e;throw lh(t),new Error(t)}function fh(e,t){e||ph()}function gh(e,t){return e}const mh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yh extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vh{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _h{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sh.UNAUTHENTICATED))}shutdown(){}}class bh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Th{constructor(e){this.t=e,this.currentUser=sh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new vh;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vh,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const t=s;e.enqueueRetryable((0,Ho.Z)(function*(){yield t.promise,yield i(n.currentUser)}))},a=e=>{uh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(uh("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vh)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(uh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(fh("string"==typeof t.accessToken),new _h(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fh(null===e||"string"==typeof e),new sh(e)}}class Sh{constructor(e,t,n){this.type="FirstParty",this.user=sh.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Eh{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Sh(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(sh.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ih{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ch{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable(()=>{return null!=(e=n).error&&uh("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`),t(e.token);var e})};const n=e=>{uh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):uh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(fh("string"==typeof e.token),new Ih(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class kh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Ah(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}kh.I=-1;class xh{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Ah(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Oh(e,t){return e<t?-1:e>t?1:0}function Ph(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function Nh(e){return e+"\0"}class Dh{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yh(mh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yh(mh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new yh(mh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yh(mh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dh.fromMillis(Date.now())}static fromDate(e){return Dh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Dh(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oh(this.nanoseconds,e.nanoseconds):Oh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rh{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rh(e)}static min(){return new Rh(new Dh(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Lh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Mh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Fh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Uh{constructor(e,t,n){void 0===t?t=0:t>e.length&&ph(),void 0===n?n=e.length-t:n>e.length-t&&ph(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Uh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Uh?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class qh extends Uh{construct(e,t,n){return new qh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new yh(mh.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new qh(t)}static emptyPath(){return new qh([])}}const Zh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vh extends Uh{construct(e,t,n){return new Vh(e,t,n)}static isValidIdentifier(e){return Zh.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vh.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new yh(mh.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new yh(mh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new yh(mh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new yh(mh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vh(t)}static emptyPath(){return new Vh([])}}class jh{constructor(e){this.fields=e,e.sort(Vh.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ph(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Bh{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Bh(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Bh(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bh.EMPTY_BYTE_STRING=new Bh("");const zh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $h(e){if(fh(!!e),"string"==typeof e){let t=0;const n=zh.exec(e);if(fh(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Hh(e.seconds),nanos:Hh(e.nanos)}}function Hh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gh(e){return"string"==typeof e?Bh.fromBase64String(e):Bh.fromUint8Array(e)}function Kh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wh(e){const t=e.mapValue.fields.__previous_value__;return Kh(t)?Wh(t):t}function Qh(e){const t=$h(e.mapValue.fields.__local_write_time__.timestampValue);return new Dh(t.seconds,t.nanos)}function Yh(e){return null==e}function Jh(e){return 0===e&&1/e==-1/0}function Xh(e){return"number"==typeof e&&Number.isInteger(e)&&!Jh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class ed{constructor(e){this.path=e}static fromPath(e){return new ed(qh.fromString(e))}static fromName(e){return new ed(qh.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===qh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ed(new qh(e.slice()))}}function td(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Kh(e)?4:10:ph()}function nd(e,t){const n=td(e);if(n!==td(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qh(e).isEqual(Qh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=$h(e.timestampValue),r=$h(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,Gh(e.bytesValue).isEqual(Gh(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Hh(e.geoPointValue.latitude)===Hh(t.geoPointValue.latitude)&&Hh(e.geoPointValue.longitude)===Hh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Hh(e.integerValue)===Hh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Hh(e.doubleValue),r=Hh(t.doubleValue);return n===r?Jh(n)===Jh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ph(e.arrayValue.values||[],t.arrayValue.values||[],nd);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Lh(n)!==Lh(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!nd(n[i],r[i])))return!1;return!0}(e,t);default:return ph()}var r}function rd(e,t){return void 0!==(e.values||[]).find(e=>nd(e,t))}function id(e,t){const n=td(e),r=td(t);if(n!==r)return Oh(n,r);switch(n){case 0:return 0;case 1:return Oh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Hh(e.integerValue||e.doubleValue),r=Hh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return sd(e.timestampValue,t.timestampValue);case 4:return sd(Qh(e),Qh(t));case 5:return Oh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Gh(e),r=Gh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Oh(n[i],r[i]);if(0!==e)return e}return Oh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Oh(Hh(e.latitude),Hh(t.latitude));return 0!==n?n:Oh(Hh(e.longitude),Hh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=id(n[i],r[i]);if(e)return e}return Oh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Oh(r[o],s[o]);if(0!==e)return e;const t=id(n[r[o]],i[s[o]]);if(0!==t)return t}return Oh(r.length,s.length)}(e.mapValue,t.mapValue);default:throw ph()}}function sd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Oh(e,t);const n=$h(e),r=$h(t),i=Oh(n.seconds,r.seconds);return 0!==i?i:Oh(n.nanos,r.nanos)}function od(e){return ad(e)}function ad(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=$h(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Gh(e.bytesValue).toBase64():"referenceValue"in e?ed.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ad(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ad(e.fields[i])}`;return n+"}"}(e.mapValue):ph();var t}function cd(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ud(e){return!!e&&"integerValue"in e}function ld(e){return!!e&&"arrayValue"in e}function hd(e){return!!e&&"nullValue"in e}function dd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pd(e){return!!e&&"mapValue"in e}function fd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Mh(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=fd(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=fd(e.arrayValue.values[n]);return t}return Object.assign({},e)}class gd{constructor(e){this.value=e}static empty(){return new gd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!pd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fd(t)}setAll(e){let t=Vh.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=fd(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());pd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];pd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Mh(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new gd(fd(this.value))}}function md(e){const t=[];return Mh(e.fields,(e,n)=>{const r=new Vh([e]);if(pd(n)){const e=md(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new jh(t)}class yd{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new yd(e,0,Rh.min(),gd.empty(),0)}static newFoundDocument(e,t,n){return new yd(e,1,t,n,0)}static newNoDocument(e,t){return new yd(e,2,t,gd.empty(),0)}static newUnknownDocument(e,t){return new yd(e,3,t,gd.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new yd(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vd{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.R=null}}function _d(e,t=null,n=[],r=[],i=null,s=null,o=null){return new vd(e,t,n,r,i,s,o)}function wd(e){const t=gh(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+od(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),Yh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Dd(t.startAt)),t.endAt&&(e+="|ub:",e+=Dd(t.endAt)),t.R=e}return t.R}function bd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Ld(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!nd(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fd(e.startAt,t.startAt)&&Fd(e.endAt,t.endAt)}function Td(e){return ed.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Sd extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new Ed(e,t,n):"array-contains"===t?new Ad(e,n):"in"===t?new xd(e,n):"not-in"===t?new Od(e,n):"array-contains-any"===t?new Pd(e,n):new Sd(e,t,n)}static P(e,t,n){return"in"===t?new Id(e,n):new Cd(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(id(t,this.value)):null!==t&&td(this.value)===td(t)&&this.v(id(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ph()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ed extends Sd{constructor(e,t,n){super(e,t,n),this.key=ed.fromName(n.referenceValue)}matches(e){const t=ed.comparator(e.key,this.key);return this.v(t)}}class Id extends Sd{constructor(e,t){super(e,"in",t),this.keys=kd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cd extends Sd{constructor(e,t){super(e,"not-in",t),this.keys=kd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ed.fromName(e.referenceValue))}class Ad extends Sd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ld(t)&&rd(t.arrayValue,this.value)}}class xd extends Sd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rd(this.value.arrayValue,t)}}class Od extends Sd{constructor(e,t){super(e,"not-in",t)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rd(this.value.arrayValue,t)}}class Pd extends Sd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ld(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>rd(this.value.arrayValue,e))}}class Nd{constructor(e,t){this.position=e,this.before=t}}function Dd(e){return`${e.before?"b":"a"}:${e.position.map(e=>od(e)).join(",")}`}class Rd{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ld(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Md(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?ed.comparator(ed.fromName(o.referenceValue),n.key):id(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Fd(e,t){if(null===e)return null===t;if(null===t||e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!nd(e.position[n],t.position[n]))return!1;return!0}class Ud{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.S=null,this.D=null}}function qd(e,t,n,r,i,s,o,a){return new Ud(e,t,n,r,i,s,o,a)}function Zd(e){return new Ud(e)}function Vd(e){return!Yh(e.limit)&&"F"===e.limitType}function jd(e){return!Yh(e.limit)&&"L"===e.limitType}function Bd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function zd(e){for(const t of e.filters)if(t.V())return t.field;return null}function $d(e){return null!==e.collectionGroup}function Hd(e){const t=gh(e);if(null===t.S){t.S=[];const e=zd(t),n=Bd(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new Rd(e)),t.S.push(new Rd(Vh.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Rd(Vh.keyField(),e))}}}return t.S}function Gd(e){const t=gh(e);if(!t.D)if("F"===t.limitType)t.D=_d(t.path,t.collectionGroup,Hd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Hd(t))e.push(new Rd(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Nd(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Nd(t.startAt.position,!t.startAt.before):null;t.D=_d(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.D}function Kd(e,t,n){return new Ud(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Wd(e,t){return bd(Gd(e),Gd(t))&&e.limitType===t.limitType}function Qd(e){return`${wd(Gd(e))}|lt:${e.limitType}`}function Yd(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${od(t.value)}`;var t}).join(", ")}]`),Yh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: "+Dd(e.startAt)),e.endAt&&(t+=", endAt: "+Dd(e.endAt)),`Target(${t})`}(Gd(e))}; limitType=${e.limitType})`}function Jd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ed.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!Md(n.startAt,Hd(n),r)||n.endAt&&Md(n.endAt,Hd(n),r)));var n,r}function Xd(e){return(t,n)=>{let r=!1;for(const i of Hd(e)){const e=ep(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ep(e,t,n){const r=e.field.isKeyField()?ed.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?id(r,i):ph()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ph()}}function tp(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(t)?"-0":t}}function np(e){return{integerValue:""+e}}function rp(e,t){return Xh(t)?np(t):tp(e,t)}class ip{constructor(){this._=void 0}}function sp(e,t,n){return e instanceof cp?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof up?lp(e,t):e instanceof hp?dp(e,t):function(e,t){const n=ap(e,t),r=fp(n)+fp(e.N);return ud(n)&&ud(e.N)?np(r):tp(e.k,r)}(e,t)}function op(e,t,n){return e instanceof up?lp(e,t):e instanceof hp?dp(e,t):n}function ap(e,t){return e instanceof pp?ud(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}class cp extends ip{}class up extends ip{constructor(e){super(),this.elements=e}}function lp(e,t){const n=gp(t);for(const r of e.elements)n.some(e=>nd(e,r))||n.push(r);return{arrayValue:{values:n}}}class hp extends ip{constructor(e){super(),this.elements=e}}function dp(e,t){let n=gp(t);for(const r of e.elements)n=n.filter(e=>!nd(e,r));return{arrayValue:{values:n}}}class pp extends ip{constructor(e,t){super(),this.k=e,this.N=t}}function fp(e){return Hh(e.integerValue||e.doubleValue)}function gp(e){return ld(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class mp{constructor(e,t){this.field=e,this.transform=t}}class yp{constructor(e,t){this.version=e,this.transformResults=t}}class vp{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vp}static exists(e){return new vp(void 0,e)}static updateTime(e){return new vp(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _p(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class wp{}function bp(e,t,n){e instanceof Cp?function(e,t,n){const r=e.value.clone(),i=xp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof kp?function(e,t,n){if(!_p(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=xp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ap(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}function Tp(e,t,n){var r;e instanceof Cp?function(e,t,n){if(!_p(e.precondition,t))return;const r=e.value.clone(),i=Op(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ip(t),r).setHasLocalMutations()}(e,t,n):e instanceof kp?function(e,t,n){if(!_p(e.precondition,t))return;const r=Op(e.fieldTransforms,n,t),i=t.data;i.setAll(Ap(e)),i.setAll(r),t.convertToFoundDocument(Ip(t),i).setHasLocalMutations()}(e,t,n):_p(e.precondition,r=t)&&r.convertToNoDocument(Rh.min())}function Sp(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ap(r.transform,e||null);null!=i&&(null==n&&(n=gd.empty()),n.set(r.field,i))}return n||null}function Ep(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(n=e.fieldTransforms)&&void 0===r||n&&r&&Ph(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(r=t.transform,(n=e.transform)instanceof up&&r instanceof up||n instanceof hp&&r instanceof hp?Ph(n.elements,r.elements,nd):n instanceof pp&&r instanceof pp?nd(n.N,r.N):n instanceof cp&&r instanceof cp);var n,r}(e,t))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function Ip(e){return e.isFoundDocument()?e.version:Rh.min()}class Cp extends wp{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class kp extends wp{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Ap(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function xp(e,t,n){const r=new Map;fh(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,op(o,a,n[i]))}return r}function Op(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,sp(e,s,t))}return r}class Pp extends wp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Np extends wp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Dp{constructor(e){this.count=e}}var Rp,Lp;function Mp(e){switch(e){default:return ph();case mh.CANCELLED:case mh.UNKNOWN:case mh.DEADLINE_EXCEEDED:case mh.RESOURCE_EXHAUSTED:case mh.INTERNAL:case mh.UNAVAILABLE:case mh.UNAUTHENTICATED:return!1;case mh.INVALID_ARGUMENT:case mh.NOT_FOUND:case mh.ALREADY_EXISTS:case mh.PERMISSION_DENIED:case mh.FAILED_PRECONDITION:case mh.ABORTED:case mh.OUT_OF_RANGE:case mh.UNIMPLEMENTED:case mh.DATA_LOSS:return!0}}function Fp(e){if(void 0===e)return lh("GRPC error has no .code"),mh.UNKNOWN;switch(e){case Rp.OK:return mh.OK;case Rp.CANCELLED:return mh.CANCELLED;case Rp.UNKNOWN:return mh.UNKNOWN;case Rp.DEADLINE_EXCEEDED:return mh.DEADLINE_EXCEEDED;case Rp.RESOURCE_EXHAUSTED:return mh.RESOURCE_EXHAUSTED;case Rp.INTERNAL:return mh.INTERNAL;case Rp.UNAVAILABLE:return mh.UNAVAILABLE;case Rp.UNAUTHENTICATED:return mh.UNAUTHENTICATED;case Rp.INVALID_ARGUMENT:return mh.INVALID_ARGUMENT;case Rp.NOT_FOUND:return mh.NOT_FOUND;case Rp.ALREADY_EXISTS:return mh.ALREADY_EXISTS;case Rp.PERMISSION_DENIED:return mh.PERMISSION_DENIED;case Rp.FAILED_PRECONDITION:return mh.FAILED_PRECONDITION;case Rp.ABORTED:return mh.ABORTED;case Rp.OUT_OF_RANGE:return mh.OUT_OF_RANGE;case Rp.UNIMPLEMENTED:return mh.UNIMPLEMENTED;case Rp.DATA_LOSS:return mh.DATA_LOSS;default:return ph()}}(Lp=Rp||(Rp={}))[Lp.OK=0]="OK",Lp[Lp.CANCELLED=1]="CANCELLED",Lp[Lp.UNKNOWN=2]="UNKNOWN",Lp[Lp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lp[Lp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lp[Lp.NOT_FOUND=5]="NOT_FOUND",Lp[Lp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lp[Lp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lp[Lp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lp[Lp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lp[Lp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lp[Lp.ABORTED=10]="ABORTED",Lp[Lp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lp[Lp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lp[Lp.INTERNAL=13]="INTERNAL",Lp[Lp.UNAVAILABLE=14]="UNAVAILABLE",Lp[Lp.DATA_LOSS=15]="DATA_LOSS";class Up{constructor(e,t){this.comparator=e,this.root=t||Zp.EMPTY}insert(e,t){return new Up(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zp.BLACK,null,null))}remove(e){return new Up(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zp.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qp(this.root,e,this.comparator,!1)}getReverseIterator(){return new qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qp(this.root,e,this.comparator,!0)}}class qp{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zp{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Zp.RED,this.left=null!=r?r:Zp.EMPTY,this.right=null!=i?i:Zp.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Zp(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zp.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Zp.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zp.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zp.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ph();const e=this.left.check();if(e!==this.right.check())throw ph();return e+(this.isRed()?0:1)}}Zp.EMPTY=null,Zp.RED=!0,Zp.BLACK=!1,Zp.EMPTY=new class{constructor(){this.size=0}get key(){throw ph()}get value(){throw ph()}get color(){throw ph()}get left(){throw ph()}get right(){throw ph()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Zp(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vp{constructor(e){this.comparator=e,this.data=new Up(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jp(this.data.getIterator())}getIteratorFrom(e){return new jp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Vp)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vp(this.comparator);return t.data=e,t}}class jp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Bp=new Up(ed.comparator);function zp(){return Bp}const $p=new Up(ed.comparator);function Hp(){return $p}const Gp=new Up(ed.comparator);function Kp(){return Gp}const Wp=new Vp(ed.comparator);function Qp(...e){let t=Wp;for(const n of e)t=t.add(n);return t}const Yp=new Vp(Oh);function Jp(){return Yp}class Xp{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,ef.createSynthesizedTargetChangeForCurrentChange(e,t)),new Xp(Rh.min(),n,Jp(),zp(),Qp())}}class ef{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ef(Bh.EMPTY_BYTE_STRING,t,Qp(),Qp(),Qp())}}class tf{constructor(e,t,n,r){this.$=e,this.removedTargetIds=t,this.key=n,this.F=r}}class nf{constructor(e,t){this.targetId=e,this.O=t}}class rf{constructor(e,t,n=Bh.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class sf{constructor(){this.M=0,this.L=cf(),this.B=Bh.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Qp(),t=Qp(),n=Qp();return this.L.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ph()}}),new ef(this.B,this.U,e,t,n)}H(){this.q=!1,this.L=cf()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class of{constructor(e){this.et=e,this.nt=new Map,this.st=zp(),this.it=af(),this.rt=new Vp(Oh)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,t=>{const n=this.ht(t);switch(e.state){case 0:this.lt(t)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(t);break;case 3:this.lt(t)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),n.W(e.resumeToken));break;default:ph()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((e,n)=>{this.lt(n)&&t(n)})}dt(e){const t=e.targetId,n=e.O.count,r=this.wt(t);if(r){const e=r.target;if(Td(e))if(0===n){const n=new ed(e.path);this.ct(t,n,yd.newNoDocument(n,Rh.min()))}else fh(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Td(i.target)){const t=new ed(i.target.path);null!==this.st.get(t)||this.yt(r,t)||this.ct(r,t,yd.newNoDocument(t,e))}n.j&&(t.set(r,n.G()),n.H())}});let n=Qp();this.it.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new Xp(e,t,this.rt,this.st,n);return this.st=zp(),this.it=af(),this.rt=new Vp(Oh),r}at(e,t){if(!this.lt(e))return;const n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new sf,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new Vp(Oh),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||uh("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new sf),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function af(){return new Up(ed.comparator)}function cf(){return new Up(ed.comparator)}const uf={asc:"ASCENDING",desc:"DESCENDING"},lf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class hf{constructor(e,t){this.databaseId=e,this.C=t}}function df(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pf(e,t){return e.C?t.toBase64():t.toUint8Array()}function ff(e,t){return df(e,t.toTimestamp())}function gf(e){return fh(!!e),Rh.fromTimestamp(function(e){const t=$h(e);return new Dh(t.seconds,t.nanos)}(e))}function mf(e,t){return(n=e,new qh(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function yf(e){const t=qh.fromString(e);return fh(Vf(t)),t}function vf(e,t){return mf(e.databaseId,t.path)}function _f(e,t){const n=yf(t);if(n.get(1)!==e.databaseId.projectId)throw new yh(mh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yh(mh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ed(Sf(n))}function wf(e,t){return mf(e.databaseId,t)}function bf(e){const t=yf(e);return 4===t.length?qh.emptyPath():Sf(t)}function Tf(e){return new qh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sf(e){return fh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ef(e,t,n){return{name:vf(e,t),fields:n.value.mapValue.fields}}function If(e,t,n){const r=_f(e,t.name),i=gf(t.updateTime),s=new gd({mapValue:{fields:t.fields}}),o=yd.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Cf(e,t){let n;if(t instanceof Cp)n={update:Ef(e,t.key,t.value)};else if(t instanceof Pp)n={delete:vf(e,t.key)};else if(t instanceof kp)n={update:Ef(e,t.key,t.data),updateMask:Zf(t.fieldMask)};else{if(!(t instanceof Np))return ph();n={verify:vf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof cp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof up)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof hp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pp)return{fieldPath:t.field.canonicalString(),increment:n.N};throw ph()}(0,e))),t.precondition.isNone||(n.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:ff(e,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ph()),n;var r}function kf(e,t){const n=t.currentDocument?void 0!==(i=t.currentDocument).updateTime?vp.updateTime(gf(i.updateTime)):void 0!==i.exists?vp.exists(i.exists):vp.none():vp.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(fh("REQUEST_TIME"===t.setToServerValue),n=new cp):"appendMissingElements"in t?n=new up(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new hp(t.removeAllFromArray.values||[]):"increment"in t?n=new pp(e,t.increment):ph();const r=Vh.fromServerFormat(t.fieldPath);return new mp(r,n)}(e,t)):[];var i;if(t.update){const i=_f(e,t.update.name),s=new gd({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=new jh((t.updateMask.fieldPaths||[]).map(e=>Vh.fromServerFormat(e)));return new kp(i,s,e,n,r)}return new Cp(i,s,n,r)}if(t.delete){const r=_f(e,t.delete);return new Pp(r,n)}if(t.verify){const r=_f(e,t.verify);return new Np(r,n)}return ph()}function Af(e,t){return{documents:[wf(e,t.path)]}}function xf(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=wf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=wf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(dd(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NAN"}};if(hd(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dd(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NOT_NAN"}};if(hd(e.value))return{unaryFilter:{field:Mf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mf(e.field),op:Lf(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>{return{field:Mf((t=e).field),direction:Rf(t.dir)};var t})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(a=t.limit,e.C||Yh(a)?a:{value:a});var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Nf(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Nf(t.endAt)),n}function Of(e){let t=bf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fh(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Pf(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>{return new Rd(Ff((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Yh(t)?null:t}(n.limit));let c=null;n.startAt&&(c=Df(n.startAt));let u=null;return n.endAt&&(u=Df(n.endAt)),qd(t,i,o,s,a,"F",c,u)}function Pf(e){return e?void 0!==e.unaryFilter?[qf(e)]:void 0!==e.fieldFilter?[Uf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>Pf(e)).reduce((e,t)=>e.concat(t)):ph():[]}function Nf(e){return{before:e.before,values:e.position}}function Df(e){return new Nd(e.values||[],!!e.before)}function Rf(e){return uf[e]}function Lf(e){return lf[e]}function Mf(e){return{fieldPath:e.canonicalString()}}function Ff(e){return Vh.fromServerFormat(e.fieldPath)}function Uf(e){return Sd.create(Ff(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ph()}}(e.fieldFilter.op),e.fieldFilter.value)}function qf(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ff(e.unaryFilter.field);return Sd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ff(e.unaryFilter.field);return Sd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ff(e.unaryFilter.field);return Sd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ff(e.unaryFilter.field);return Sd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ph()}}function Zf(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Vf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function jf(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=zf(t)),t=Bf(e.get(n),t);return zf(t)}function Bf(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function zf(e){return e+"\x01\x01"}function $f(e){const t=e.length;if(fh(t>=2),2===t)return fh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),qh.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&ph(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:ph()}s=t+2}return new qh(r)}class Hf{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Gf{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}Gf.store="owner",Gf.key="owner";class Kf{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}Kf.store="mutationQueues",Kf.keyPath="userId";class Wf{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Wf.store="mutations",Wf.keyPath="batchId",Wf.userMutationsIndex="userMutationsIndex",Wf.userMutationsKeyPath=["userId","batchId"];class Qf{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,jf(t)]}static key(e,t,n){return[e,jf(t),n]}}Qf.store="documentMutations",Qf.PLACEHOLDER=new Qf;class Yf{constructor(e,t){this.path=e,this.readTime=t}}class Jf{constructor(e,t){this.path=e,this.version=t}}class Xf{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Xf.store="remoteDocuments",Xf.readTimeIndex="readTimeIndex",Xf.readTimeIndexPath="readTime",Xf.collectionReadTimeIndex="collectionReadTimeIndex",Xf.collectionReadTimeIndexPath=["parentPath","readTime"];class eg{constructor(e){this.byteSize=e}}eg.store="remoteDocumentGlobal",eg.key="remoteDocumentGlobalKey";class tg{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}tg.store="targets",tg.keyPath="targetId",tg.queryTargetsIndexName="queryTargetsIndex",tg.queryTargetsKeyPath=["canonicalId","targetId"];class ng{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}ng.store="targetDocuments",ng.keyPath=["targetId","path"],ng.documentTargetsIndex="documentTargetsIndex",ng.documentTargetsKeyPath=["path","targetId"];class rg{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}rg.key="targetGlobalKey",rg.store="targetGlobal";class ig{constructor(e,t){this.collectionId=e,this.parent=t}}ig.store="collectionParents",ig.keyPath=["collectionId","parent"];class sg{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}sg.store="clientMetadata",sg.keyPath="clientId";class og{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}og.store="bundles",og.keyPath="bundleId";class ag{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}ag.store="namedQueries",ag.keyPath="name";const cg=[Kf.store,Wf.store,Qf.store,Xf.store,tg.store,Gf.store,rg.store,ng.store,sg.store,eg.store,ig.store,og.store,ag.store],ug="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class hg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ph(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new hg((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof hg?t:hg.resolve(t)}catch(t){return hg.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):hg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):hg.reject(t)}static resolve(e){return new hg((t,n)=>{t(e)})}static reject(e){return new hg((t,n)=>{n(e)})}static waitFor(e){return new hg((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=hg.resolve(!1);for(const n of e)t=t.next(e=>e?hg.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class dg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new vh,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new gg(e,t.error)):this.It.resolve()},this.transaction.onerror=t=>{const n=wg(t.target.error);this.It.reject(new gg(e,n))}}static open(e,t,n,r){try{return new dg(t,e.transaction(r,n))}catch(i){throw new gg(t,i)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(uh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new yg(t)}}class pg{constructor(e,t,n){this.name=e,this.version=t,this.Rt=n,12.2===pg.Pt((0,Qo.z$)())&&lh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return uh("SimpleDb","Removing database:",e),vg(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Qo.hl)())return!1;if(pg.vt())return!0;const e=(0,Qo.z$)(),t=pg.Pt(e),n=0<t&&t<10,r=pg.Vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Ct(e){var t=this;return(0,Ho.Z)(function*(){return t.db||(uh("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new gg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new yh(mh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new yh(mh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new gg(e,n))},i.onupgradeneeded=e=>{uh("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.Rt.Nt(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{uh("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=e=>t.kt(e)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,Ho.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.Ct(e);const t=dg.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).catch(e=>(t.abort(e),hg.reject(e))).toPromise();return o.catch(()=>{}),yield t.At,o}catch(a){const e="FirebaseError"!==a.name&&o<3;if(uh("SimpleDb","Transaction failed with error:",a.message,"Retrying:",e),i.close(),!e)return Promise.reject(a)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fg{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return vg(this.$t.delete())}}class gg extends yh{constructor(e,t){super(mh.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function mg(e){return"IndexedDbTransactionError"===e.name}class yg{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(uh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(uh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),vg(n)}add(e){return uh("SimpleDb","ADD",this.store.name,e,e),vg(this.store.add(e))}get(e){return vg(this.store.get(e)).next(t=>(void 0===t&&(t=null),uh("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return uh("SimpleDb","DELETE",this.store.name,e),vg(this.store.delete(e))}count(){return uh("SimpleDb","COUNT",this.store.name),vg(this.store.count())}Bt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(e,t)=>{r.push(t)}).next(()=>r)}qt(e,t){uh("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Kt=!1;const r=this.cursor(n);return this.Ut(r,(e,t,n)=>n.delete())}jt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Ut(r,t)}Qt(e){const t=this.cursor({});return new hg((n,r)=>{t.onerror=e=>{const t=wg(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Ut(e,t){const n=[];return new hg((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new fg(i),o=t(i.primaryKey,i.value,s);if(o instanceof hg){const e=o.catch(e=>(s.done(),hg.reject(e)));n.push(e)}s.isDone?r():null===s.Mt?i.continue():i.continue(s.Mt)}}).next(()=>hg.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vg(e){return new hg((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=wg(e.target.error);n(t)}})}let _g=!1;function wg(e){const t=pg.Pt((0,Qo.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new yh("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _g||(_g=!0,setTimeout(()=>{throw e},0)),e}}return e}class bg extends lg{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Tg(e,t){const n=gh(e);return pg.Dt(n.Wt,t)}class Sg{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&bp(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Tp(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Tp(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Rh.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qp())}isEqual(e){return this.batchId===e.batchId&&Ph(this.mutations,e.mutations,(e,t)=>Ep(e,t))&&Ph(this.baseMutations,e.baseMutations,(e,t)=>Ep(e,t))}}class Eg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){fh(e.mutations.length===n.length);let r=Kp();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Eg(e,t,n,r)}}class Ig{constructor(e,t,n,r,i=Rh.min(),s=Rh.min(),o=Bh.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Ig(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ig(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ig(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Cg{constructor(e){this.Gt=e}}function kg(e,t){if(t.document)return If(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=ed.fromSegments(t.noDocument.path),n=Ng(t.noDocument.readTime),r=yd.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=ed.fromSegments(t.unknownDocument.path),n=Ng(t.unknownDocument.version);return yd.newUnknownDocument(e,n)}return ph()}function Ag(e,t,n){const r=xg(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n={name:vf(s=e.Gt,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:df(s,o.version.toTimestamp())};return new Xf(null,null,n,t.hasCommittedMutations,r,i)}var s,o;if(t.isNoDocument()){const e=t.key.path.toArray(),n=Pg(t.version),s=t.hasCommittedMutations;return new Xf(null,new Yf(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Pg(t.version);return new Xf(new Jf(e,n),null,null,!0,r,i)}return ph()}function xg(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Og(e){const t=new Dh(e[0],e[1]);return Rh.fromTimestamp(t)}function Pg(e){const t=e.toTimestamp();return new Hf(t.seconds,t.nanoseconds)}function Ng(e){const t=new Dh(e.seconds,e.nanoseconds);return Rh.fromTimestamp(t)}function Dg(e,t){const n=(t.baseMutations||[]).map(t=>kf(e.Gt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>kf(e.Gt,t)),i=Dh.fromMillis(t.localWriteTimeMs);return new Sg(t.batchId,i,n,r)}function Rg(e){const t=Ng(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ng(e.lastLimboFreeSnapshotVersion):Rh.min();let r;var i;return void 0!==e.query.documents?(fh(1===(i=e.query).documents.length),r=Gd(Zd(bf(i.documents[0])))):r=Gd(Of(e.query)),new Ig(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Bh.fromBase64String(e.resumeToken))}function Lg(e,t){const n=Pg(t.snapshotVersion),r=Pg(t.lastLimboFreeSnapshotVersion);let i;i=Td(t.target)?Af(e.Gt,t.target):xf(e.Gt,t.target);const s=t.resumeToken.toBase64();return new tg(t.targetId,wd(t.target),n,s,t.sequenceNumber,r,i)}function Mg(e){const t=Of({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Kd(t,t.limit,"L"):t}class Fg{getBundleMetadata(e,t){return Ug(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:Ng(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Ug(e).put({bundleId:(n=t).id,createTime:Pg(gf(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return qg(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:Mg(t.bundledQuery),readTime:Ng(t.readTime)};var t})}saveNamedQuery(e,t){return qg(e).put({name:(n=t).name,readTime:Pg(gf(n.readTime)),bundledQuery:n.bundledQuery});var n}}function Ug(e){return Tg(e,og.store)}function qg(e){return Tg(e,ag.store)}class Zg{constructor(){this.zt=new Vg}addToCollectionParentIndex(e,t){return this.zt.add(t),hg.resolve()}getCollectionParents(e,t){return hg.resolve(this.zt.getEntries(t))}}class Vg{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Vp(qh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Vp(qh.comparator)).toArray()}}class jg{constructor(){this.Ht=new Vg}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const i={collectionId:n,parent:jf(r)};return Bg(e).put(i)}return hg.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Nh(t),""],!1,!0);return Bg(e).Bt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push($f(r.parent))}return n})}}function Bg(e){return Tg(e,ig.store)}const zg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $g{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new $g(e,$g.DEFAULT_COLLECTION_PERCENTILE,$g.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Hg(e,t,n){const r=e.store(Wf.store),i=e.store(Qf.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.jt({range:o},(e,t,n)=>(a++,n.delete()));s.push(c.next(()=>{fh(1===a)}));const u=[];for(const l of n.mutations){const e=Qf.key(t,l.key.path,n.batchId);s.push(i.delete(e)),u.push(l.key)}return hg.waitFor(s).next(()=>u)}function Gg(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ph();t=e.noDocument}return JSON.stringify(t).length}$g.DEFAULT_COLLECTION_PERCENTILE=10,$g.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$g.DEFAULT=new $g(41943040,$g.DEFAULT_COLLECTION_PERCENTILE,$g.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$g.DISABLED=new $g(-1,0,0);class Kg{constructor(e,t,n,r){this.userId=e,this.k=t,this.Jt=n,this.referenceDelegate=r,this.Yt={}}static Xt(e,t,n,r){fh(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Kg(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qg(e).jt({index:Wf.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=Yg(e),s=Qg(e);return s.add({}).next(o=>{fh("number"==typeof o);const a=new Sg(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map(t=>Cf(e.Gt,t)),i=n.mutations.map(t=>Cf(e.Gt,t));return new Wf(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.k,this.userId,a),u=[];let l=new Vp((e,t)=>Oh(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Qf.key(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),u.push(s.put(c)),u.push(i.put(t,Qf.PLACEHOLDER))}return l.forEach(t=>{u.push(this.Jt.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Yt[o]=a.keys()}),hg.waitFor(u).next(()=>a)})}lookupMutationBatch(e,t){return Qg(e).get(t).next(e=>e?(fh(e.userId===this.userId),Dg(this.k,e)):null)}Zt(e,t){return this.Yt[t]?hg.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Yt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Qg(e).jt({index:Wf.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(fh(t.batchId>=n),i=Dg(this.k,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Qg(e).jt({index:Wf.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qg(e).Bt(Wf.userMutationsIndex,t).next(e=>e.map(e=>Dg(this.k,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Qf.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Yg(e).jt({range:r},(n,r,s)=>{const[o,a,c]=n,u=$f(a);if(o===this.userId&&t.path.isEqual(u))return Qg(e).get(c).next(e=>{if(!e)throw ph();fh(e.userId===this.userId),i.push(Dg(this.k,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Vp(Oh);const r=[];return t.forEach(t=>{const i=Qf.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Yg(e).jt({range:s},(e,r,i)=>{const[s,o,a]=e,c=$f(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()});r.push(o)}),hg.waitFor(r).next(()=>this.te(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Qf.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Vp(Oh);return Yg(e).jt({range:s},(e,t,i)=>{const[s,a,c]=e,u=$f(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(c)):i.done()}).next(()=>this.te(e,o))}te(e,t){const n=[],r=[];return t.forEach(t=>{r.push(Qg(e).get(t).next(e=>{if(null===e)throw ph();fh(e.userId===this.userId),n.push(Dg(this.k,e))}))}),hg.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return Hg(e.Wt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),hg.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return hg.resolve();const n=IDBKeyRange.lowerBound(Qf.prefixForUser(this.userId)),r=[];return Yg(e).jt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=$f(e[1]);r.push(t)}else n.done()}).next(()=>{fh(0===r.length)})})}containsKey(e,t){return Wg(e,this.userId,t)}ne(e){return Jg(e).get(this.userId).next(e=>e||new Kf(this.userId,-1,""))}}function Wg(e,t,n){const r=Qf.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Yg(e).jt({range:s,Kt:!0},(e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function Qg(e){return Tg(e,Wf.store)}function Yg(e){return Tg(e,Qf.store)}function Jg(e){return Tg(e,Kf.store)}class Xg{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Xg(0)}static re(){return new Xg(-1)}}class em{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const n=new Xg(t.highestTargetId);return t.highestTargetId=n.next(),this.ae(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(e=>Rh.fromTimestamp(new Dh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.oe(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.ae(e,r)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.oe(e).next(n=>(n.targetCount+=1,this.ue(t,n),this.ae(e,n))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>tm(e).delete(t.targetId)).next(()=>this.oe(e)).next(t=>(fh(t.targetCount>0),t.targetCount-=1,this.ae(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return tm(e).jt((s,o)=>{const a=Rg(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>hg.waitFor(i)).next(()=>r)}forEachTarget(e,t){return tm(e).jt((e,n)=>{const r=Rg(n);t(r)})}oe(e){return nm(e).get(rg.key).next(e=>(fh(null!==e),e))}ae(e,t){return nm(e).put(rg.key,t)}ce(e,t){return tm(e).put(Lg(this.k,t))}ue(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.oe(e).next(e=>e.targetCount)}getTargetData(e,t){const n=wd(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return tm(e).jt({range:r,index:tg.queryTargetsIndexName},(e,n,r)=>{const s=Rg(n);bd(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=rm(e);return t.forEach(t=>{const s=jf(t.path);r.push(i.put(new ng(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),hg.waitFor(r)}removeMatchingKeys(e,t,n){const r=rm(e);return hg.forEach(t,t=>{const i=jf(t.path);return hg.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=rm(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=rm(e);let i=Qp();return r.jt({range:n,Kt:!0},(e,t,n)=>{const r=$f(e[1]),s=new ed(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=jf(t.path),r=IDBKeyRange.bound([n],[Nh(n)],!1,!0);let i=0;return rm(e).jt({index:ng.documentTargetsIndex,Kt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Et(e,t){return tm(e).get(t).next(e=>e?Rg(e):null)}}function tm(e){return Tg(e,tg.store)}function nm(e){return Tg(e,rg.store)}function rm(e){return Tg(e,ng.store)}function im(e){return sm.apply(this,arguments)}function sm(){return(sm=(0,Ho.Z)(function*(e){if(e.code!==mh.FAILED_PRECONDITION||e.message!==ug)throw e;uh("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function om([e,t],[n,r]){const i=Oh(e,n);return 0===i?Oh(t,r):i}class am{constructor(e){this.he=e,this.buffer=new Vp(om),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();om(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cm{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const n=this.we?3e5:6e4;uh("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Ho.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(n){mg(n)?uh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield im(n)}yield t.me(e)}))}}class um{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return hg.resolve(kh.I);const n=new am(t);return this.ge.forEachTarget(e,e=>n.de(e.sequenceNumber)).next(()=>this.ge.pe(e,e=>n.de(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.ge.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(uh("LruGarbageCollector","Garbage collection skipped; disabled"),hg.resolve(zg)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(uh("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zg):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let n,r,i,s,o,a,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(uh("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),ch()<=Wo.in.DEBUG&&uh("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+`ms\n\tRemoved ${i} targets in `+(a-o)+`ms\n\tRemoved ${e} documents in `+(c-a)+`ms\nTotal Duration: ${c-u}ms`),hg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class lm{constructor(e,t){this.db=e,this.garbageCollector=new um(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Ee(e){let t=0;return this.pe(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(e,n)=>t(n))}addReference(e,t,n){return hm(e,n)}removeReference(e,t,n){return hm(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return hm(e,t)}Ae(e,t){return function(e,t){let n=!1;return Jg(e).Qt(r=>Wg(e,r,t).next(e=>(e&&(n=!0),hg.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ie(e,(s,o)=>{if(o<=t){const t=this.Ae(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),rm(e).delete([0,jf(s.path)])))});r.push(t)}}).next(()=>hg.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return hm(e,t)}Ie(e,t){const n=rm(e);let r,i=kh.I;return n.jt({index:ng.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==kh.I&&t(new ed($f(r)),i),i=o,r=s):i=kh.I}).next(()=>{i!==kh.I&&t(new ed($f(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hm(e,t){return rm(e).put((n=e.currentSequenceNumber,new ng(0,jf(t.path),n)));var n}class dm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Mh(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Fh(this.inner)}}class pm{constructor(){this.changes=new dm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Rh.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:yd.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?hg.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fm{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,n){return ym(e).put(vm(t),n)}removeEntry(e,t){const n=ym(e),r=vm(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Re(e,n)))}getEntry(e,t){return ym(e).get(vm(t)).next(e=>this.Pe(t,e))}be(e,t){return ym(e).get(vm(t)).next(e=>({document:this.Pe(t,e),size:Gg(e)}))}getEntries(e,t){let n=zp();return this.ve(e,t,(e,t)=>{const r=this.Pe(e,t);n=n.insert(e,r)}).next(()=>n)}Ve(e,t){let n=zp(),r=new Up(ed.comparator);return this.ve(e,t,(e,t)=>{const i=this.Pe(e,t);n=n.insert(e,i),r=r.insert(e,Gg(t))}).next(()=>({documents:n,Se:r}))}ve(e,t,n){if(t.isEmpty())return hg.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return ym(e).jt({range:r},(e,t,r)=>{const o=ed.fromSegments(e);for(;s&&ed.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Lt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=zp();const i=t.path.length+1,s={};if(n.isEqual(Rh.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=xg(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Xf.collectionReadTimeIndex}return ym(e).jt(s,(e,n,s)=>{if(e.length!==i)return;const o=kg(this.k,n);t.path.isPrefixOf(o.key.path)?Jd(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new gm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return mm(e).get(eg.key).next(e=>(fh(!!e),e))}Re(e,t){return mm(e).put(eg.key,t)}Pe(e,t){if(t){const e=kg(this.k,t);if(!e.isNoDocument()||!e.version.isEqual(Rh.min()))return e}return yd.newInvalidDocument(e)}}class gm extends pm{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new dm(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new Vp((e,t)=>Oh(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.Ce.get(i);if(s.document.isValidDocument()){const a=Ag(this.De.k,s.document,this.getReadTime(i));r=r.add(i.path.popLast()),n+=Gg(a)-o,t.push(this.De.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=Ag(this.De.k,yd.newNoDocument(i,Rh.min()),this.getReadTime(i));t.push(this.De.addEntry(e,i,n))}else t.push(this.De.removeEntry(e,i))}),r.forEach(n=>{t.push(this.De.Jt.addToCollectionParentIndex(e,n))}),t.push(this.De.updateMetadata(e,n)),hg.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next(e=>(this.Ce.set(t,e.size),e.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:e,Se:t})=>(t.forEach((e,t)=>{this.Ce.set(e,t)}),e))}}function mm(e){return Tg(e,eg.store)}function ym(e){return Tg(e,Xf.store)}function vm(e){return e.path.toArray()}class _m{constructor(e){this.k=e}Nt(e,t,n,r){fh(n<r&&n>=0&&r<=11);const i=new dg("createOrUpgrade",t);var s;n<1&&r>=1&&(e.createObjectStore(Gf.store),(s=e).createObjectStore(Kf.store,{keyPath:Kf.keyPath}),s.createObjectStore(Wf.store,{keyPath:Wf.keyPath,autoIncrement:!0}).createIndex(Wf.userMutationsIndex,Wf.userMutationsKeyPath,{unique:!0}),s.createObjectStore(Qf.store),wm(e),function(e){e.createObjectStore(Xf.store)}(e));let o=hg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(ng.store),e.deleteObjectStore(tg.store),e.deleteObjectStore(rg.store)}(e),wm(e)),o=o.next(()=>function(e){const t=e.store(rg.store),n=new rg(0,0,Rh.min().toTimestamp(),0);return t.put(rg.key,n)}(i))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>function(e,t){return t.store(Wf.store).Bt().next(n=>{e.deleteObjectStore(Wf.store),e.createObjectStore(Wf.store,{keyPath:Wf.keyPath,autoIncrement:!0}).createIndex(Wf.userMutationsIndex,Wf.userMutationsKeyPath,{unique:!0});const r=t.store(Wf.store),i=n.map(e=>r.put(e));return hg.waitFor(i)})}(e,i))),o=o.next(()=>{!function(e){e.createObjectStore(sg.store,{keyPath:sg.keyPath})}(e)})),n<5&&r>=5&&(o=o.next(()=>this.Ne(i))),n<6&&r>=6&&(o=o.next(()=>(function(e){e.createObjectStore(eg.store)}(e),this.ke(i)))),n<7&&r>=7&&(o=o.next(()=>this.xe(i))),n<8&&r>=8&&(o=o.next(()=>this.$e(e,i))),n<9&&r>=9&&(o=o.next(()=>{(function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")})(e),function(e){const t=e.objectStore(Xf.store);t.createIndex(Xf.readTimeIndex,Xf.readTimeIndexPath,{unique:!1}),t.createIndex(Xf.collectionReadTimeIndex,Xf.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(o=o.next(()=>this.Fe(i))),n<11&&r>=11&&(o=o.next(()=>{(function(e){e.createObjectStore(og.store,{keyPath:og.keyPath})})(e),function(e){e.createObjectStore(ag.store,{keyPath:ag.keyPath})}(e)})),o}ke(e){let t=0;return e.store(Xf.store).jt((e,n)=>{t+=Gg(n)}).next(()=>{const n=new eg(t);return e.store(eg.store).put(eg.key,n)})}Ne(e){const t=e.store(Kf.store),n=e.store(Wf.store);return t.Bt().next(t=>hg.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Bt(Wf.userMutationsIndex,r).next(n=>hg.forEach(n,n=>{fh(n.userId===t.userId);const r=Dg(this.k,n);return Hg(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(ng.store),n=e.store(Xf.store);return e.store(rg.store).get(rg.key).next(e=>{const r=[];return n.jt((n,i)=>{const s=new qh(n),o=[0,jf(s)];r.push(t.get(o).next(n=>n?hg.resolve():t.put(new ng(0,jf(s),e.highestListenSequenceNumber))))}).next(()=>hg.waitFor(r))})}$e(e,t){e.createObjectStore(ig.store,{keyPath:ig.keyPath});const n=t.store(ig.store),r=new Vg,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:jf(r)})}};return t.store(Xf.store).jt({Kt:!0},(e,t)=>{const n=new qh(e);return i(n.popLast())}).next(()=>t.store(Qf.store).jt({Kt:!0},([e,t,n],r)=>{const s=$f(t);return i(s.popLast())}))}Fe(e){const t=e.store(tg.store);return t.jt((e,n)=>{const r=Rg(n),i=Lg(this.k,r);return t.put(i)})}}function wm(e){e.createObjectStore(ng.store,{keyPath:ng.keyPath}).createIndex(ng.documentTargetsIndex,ng.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(tg.store,{keyPath:tg.keyPath}).createIndex(tg.queryTargetsIndexName,tg.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(rg.store)}const bm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Tm{constructor(e,t,n,r,i,s,o,a,c,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Me=c,this.Le=u,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=e=>Promise.resolve(),!Tm.bt())throw new yh(mh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lm(this,r),this.Ge=t+"main",this.k=new Cg(a),this.ze=new pg(this.Ge,11,new _m(this.k)),this.He=new em(this.referenceDelegate,this.k),this.Jt=new jg,this.Je=new fm(this.k,this.Jt),this.Ye=new Fg,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===u&&lh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new yh(mh.FAILED_PRECONDITION,bm);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new kh(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var n=(0,Ho.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,Ho.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Ho.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Em(e).put(new sg(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.an(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(mg(e))return uh("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return uh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return Sm(e).get(Gf.key).next(e=>hg.resolve(this.un(e)))}hn(e){return Em(e).delete(this.clientId)}ln(){var e=this;return(0,Ho.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=Tg(t,sg.store);return n.Bt().next(t=>{const r=e.dn(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return hg.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.Xe)for(const n of t)e.Xe.removeItem(e.wn(n.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?hg.resolve(!0):Sm(e).get(Gf.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new yh(mh.FAILED_PRECONDITION,bm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Em(e).Bt().next(e=>void 0===this.dn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&uh("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,Ho.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Gf.store,sg.store],t=>{const n=new bg(t,kh.I);return e.an(n).next(()=>e.hn(n))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(e=>this.fn(e.updateTimeMs,t)&&!this._n(e.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>Em(e).Bt().next(e=>this.dn(e,18e5).map(e=>e.clientId)))}get started(){return this.Ue}getMutationQueue(e){return Kg.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,n){let r;return uh("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",cg,i=>(r=new bg(i,this.Be?this.Be.next():kh.I),"readwrite-primary"===t?this.rn(r).next(e=>!!e||this.on(r)).next(t=>{if(!t)throw lh(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new yh(mh.FAILED_PRECONDITION,ug);return n(r)}).next(e=>this.cn(r).next(()=>e)):this.En(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}En(e){return Sm(e).get(Gf.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new yh(mh.FAILED_PRECONDITION,bm)})}cn(e){const t=new Gf(this.clientId,this.allowTabSynchronization,Date.now());return Sm(e).put(Gf.key,t)}static bt(){return pg.bt()}an(e){const t=Sm(e);return t.get(Gf.key).next(e=>this.un(e)?(uh("IndexedDbPersistence","Releasing primary lease."),t.delete(Gf.key)):hg.resolve())}fn(e,t){const n=Date.now();return!(e<n-t||e>n&&(lh(`Detected an update time that is in the future: ${e} > ${n}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Qo.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return uh("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return lh("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){lh("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sm(e){return Tg(e,Gf.store)}function Em(e){return Tg(e,sg.store)}function Im(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Cm{constructor(e,t){this.progress=e,this.In=t}}class km{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Pn(e,t,n))}Pn(e,t,n){return this.Je.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}vn(e,t){return this.Je.getEntries(e,t).next(t=>this.Vn(e,t).next(()=>t))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return ed.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Sn(e,t.path):$d(t)?this.Dn(e,t,n):this.Cn(e,t,n);var r}Sn(e,t){return this.Rn(e,new ed(t)).next(e=>{let t=Hp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Dn(e,t,n){const r=t.collectionGroup;let i=Hp();return this.Jt.getCollectionParents(e,r).next(s=>hg.forEach(s,s=>{const o=(a=t,c=s.child(r),new Ud(c,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));var a,c;return this.Cn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Cn(e,t,n){let r,i;return this.Je.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Nn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=yd.newInvalidDocument(n),r=r.insert(n,i)),Tp(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{Jd(t,n)||(r=r.remove(e))}),r))}Nn(e,t,n){let r=Qp();for(const s of t)for(const e of s.mutations)e instanceof kp&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.Je.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class Am{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=r}static $n(e,t){let n=Qp(),r=Qp();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Am(e,t.fromCache,n,r)}}class xm{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Rh.min())?this.Mn(e,t):this.On.vn(e,r).next(i=>{const s=this.Ln(t,i);return(Vd(t)||jd(t))&&this.Bn(t.limitType,s,r,n)?this.Mn(e,t):(ch()<=Wo.in.DEBUG&&uh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Yd(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))});var i}Ln(e,t){let n=new Vp(Xd(e));return t.forEach((t,r)=>{Jd(e,r)&&(n=n.add(r))}),n}Bn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mn(e,t){return ch()<=Wo.in.DEBUG&&uh("QueryEngine","Using full collection scan to execute query:",Yd(t)),this.On.getDocumentsMatchingQuery(e,t,Rh.min())}}class Om{constructor(e,t,n,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new Up(Oh),this.Kn=new dm(e=>wd(e),bd),this.jn=Rh.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new km(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function Pm(e,t,n,r){return new Om(e,t,n,r)}function Nm(e,t){return Dm.apply(this,arguments)}function Dm(){return(Dm=(0,Ho.Z)(function*(e,t){const n=gh(e);let r=n.An,i=n.Wn;const s=yield n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.An.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new km(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=Qp();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.vn(e,o).next(e=>({Gn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.An=r,n.Wn=i,n.Un.Fn(n.Wn),s})).apply(this,arguments)}function Rm(e,t){const n=gh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=hg.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);fh(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.An.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.An.performConsistencyCheck(e)).next(()=>n.Wn.vn(e,r))})}function Lm(e){const t=gh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function Mm(e,t){const n=gh(e),r=t.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.He.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.He.addMatchingKeys(e,t.addedDocuments,s)));const c=t.resumeToken;if(c.approximateByteSize()>0){const d=a.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,d),u=a,h=t,fh((l=d).resumeToken.approximateByteSize()>0),(0===u.resumeToken.approximateByteSize()||l.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size>0)&&o.push(n.He.updateTargetData(e,d))}var u,l,h});let a=zp();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Fm(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(Rh.min())){const t=n.He.getLastRemoteSnapshotVersion(e).next(t=>n.He.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return hg.waitFor(o).next(()=>s.apply(e)).next(()=>n.Wn.Vn(e,a)).next(()=>a)}).then(e=>(n.qn=i,e))}function Fm(e,t,n,r,i){let s=Qp();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=zp();return n.forEach((n,o)=>{const a=e.get(n),c=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Rh.min())?(t.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,c),s=s.insert(n,o)):uh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Um(e,t){const n=gh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)))}function qm(e,t){const n=gh(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.He.getTargetData(e,t).next(i=>i?(r=i,hg.resolve(r)):n.He.allocateTargetId(e).next(i=>(r=new Ig(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e})}function Zm(e,t,n){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,Ho.Z)(function*(e,t,n){const r=gh(e),i=r.qn.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(o){if(!mg(o))throw o;uh("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.qn=r.qn.remove(t),r.Kn.delete(i.target)})).apply(this,arguments)}function jm(e,t,n){const r=gh(e);let i=Rh.min(),s=Qp();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=gh(e),i=r.Kn.get(n);return void 0!==i?hg.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Gd(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Un.getDocumentsMatchingQuery(e,t,n?i:Rh.min(),n?s:Qp())).next(e=>({documents:e,zn:s})))}function Bm(e,t){const n=gh(e),r=gh(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Et(e,t).next(e=>e?e.target:null))}function zm(e){const t=gh(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=gh(e);let i=zp(),s=xg(n);const o=ym(t),a=IDBKeyRange.lowerBound(s,!0);return o.jt({index:Xf.readTimeIndex,range:a},(e,t)=>{const n=kg(r.k,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({In:i,readTime:Og(s)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:n})=>(t.jn=n,e))}function $m(){return($m=(0,Ho.Z)(function*(e){const t=gh(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=ym(e);let n=Rh.min();return t.jt({index:Xf.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=Og(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.jn=e})})).apply(this,arguments)}function Hm(){return(Hm=(0,Ho.Z)(function*(e,t,n,r){const i=gh(e);let s=Qp(),o=zp(),a=Kp();for(const h of n){const e=t.Hn(h.metadata.name);h.document&&(s=s.add(e)),o=o.insert(e,t.Jn(h)),a=a.insert(e,t.Yn(h.metadata.readTime))}const c=i.Qn.newChangeBuffer({trackRemovals:!0}),u=yield qm(i,(l=r,Gd(Zd(qh.fromString(`__bundle__/docs/${l}`)))));var l;return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>Fm(e,c,o,Rh.min(),a).next(t=>(c.apply(e),t)).next(t=>i.He.removeMatchingKeysForTargetId(e,u.targetId).next(()=>i.He.addMatchingKeys(e,s,u.targetId)).next(()=>i.Wn.Vn(e,t)).next(()=>t)))})).apply(this,arguments)}function Gm(e,t){return Km.apply(this,arguments)}function Km(){return(Km=(0,Ho.Z)(function*(e,t,n=Qp()){const r=yield qm(e,Gd(Mg(t.bundledQuery))),i=gh(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=gf(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ye.saveNamedQuery(e,t);const o=r.withResumeToken(Bh.EMPTY_BYTE_STRING,s);return i.qn=i.qn.insert(o.targetId,o),i.He.updateTargetData(e,o).next(()=>i.He.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.He.addMatchingKeys(e,n,r.targetId)).next(()=>i.Ye.saveNamedQuery(e,t))})})).apply(this,arguments)}class Wm{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return hg.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:gf(n.createTime)}),hg.resolve()}getNamedQuery(e,t){return hg.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(n=t).name,query:Mg(n.bundledQuery),readTime:gf(n.readTime)}),hg.resolve();var n}}class Qm{constructor(){this.ts=new Vp(Ym.es),this.ns=new Vp(Ym.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new Ym(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.os(new Ym(e,t))}cs(e,t){e.forEach(e=>this.removeReference(e,t))}us(e){const t=new ed(new qh([])),n=new Ym(t,e),r=new Ym(t,e+1),i=[];return this.ns.forEachInRange([n,r],e=>{this.os(e),i.push(e.key)}),i}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new ed(new qh([])),n=new Ym(t,e),r=new Ym(t,e+1);let i=Qp();return this.ns.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Ym(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ym{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return ed.comparator(e.key,t.key)||Oh(e.fs,t.fs)}static ss(e,t){return Oh(e.fs,t.fs)||ed.comparator(e.key,t.key)}}class Jm{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Vp(Ym.es)}checkEmpty(e){return hg.resolve(0===this.An.length)}addMutationBatch(e,t,n,r){const i=this.ds;this.ds++;const s=new Sg(i,t,n,r);this.An.push(s);for(const o of r)this.ws=this.ws.add(new Ym(o.key,i)),this.Jt.addToCollectionParentIndex(e,o.key.path.popLast());return hg.resolve(s)}lookupMutationBatch(e,t){return hg.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=this.gs(t+1),r=n<0?0:n;return hg.resolve(this.An.length>r?this.An[r]:null)}getHighestUnacknowledgedBatchId(){return hg.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return hg.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ym(t,0),r=new Ym(t,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],e=>{const t=this._s(e.fs);i.push(t)}),hg.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Vp(Oh);return t.forEach(e=>{const t=new Ym(e,0),r=new Ym(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,r],e=>{n=n.add(e.fs)})}),hg.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ed.isDocumentKey(i)||(i=i.child(""));const s=new Ym(new ed(i),0);let o=new Vp(Oh);return this.ws.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)},s),hg.resolve(this.ys(o))}ys(e){const t=[];return e.forEach(e=>{const n=this._s(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){fh(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return hg.forEach(t.mutations,r=>{const i=new Ym(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ws=n})}ee(e){}containsKey(e,t){const n=new Ym(t,0),r=this.ws.firstAfterOrEqual(n);return hg.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return hg.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class Xm{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Up(ed.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return hg.resolve(n?n.document.clone():yd.newInvalidDocument(t))}getEntries(e,t){let n=zp();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():yd.newInvalidDocument(e))}),hg.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=zp();const i=new ed(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||Jd(t,i)&&(r=r.insert(i.key,i.clone()))}return hg.resolve(r)}Es(e,t){return hg.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ey(this)}getSize(e){return hg.resolve(this.size)}}class ey extends pm{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(n))):this.De.removeEntry(n)}),hg.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class ty{constructor(e){this.persistence=e,this.Is=new dm(e=>wd(e),bd),this.lastRemoteSnapshotVersion=Rh.min(),this.highestTargetId=0,this.As=0,this.Rs=new Qm,this.targetCount=0,this.Ps=Xg.ie()}forEachTarget(e,t){return this.Is.forEach((e,n)=>t(n)),hg.resolve()}getLastRemoteSnapshotVersion(e){return hg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return hg.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),hg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),hg.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new Xg(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,hg.resolve()}updateTargetData(e,t){return this.ce(t),hg.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,hg.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Is.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Is.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),hg.waitFor(i).next(()=>r)}getTargetCount(e){return hg.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return hg.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),hg.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),hg.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),hg.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return hg.resolve(n)}containsKey(e,t){return hg.resolve(this.Rs.containsKey(t))}}class ny{constructor(e,t){this.bs={},this.Be=new kh(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new ty(this),this.Jt=new Zg,this.Je=new Xm(this.Jt,e=>this.referenceDelegate.vs(e)),this.k=new Cg(t),this.Ye=new Wm(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new Jm(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){uh("MemoryPersistence","Starting transaction:",e);const r=new ry(this.Be.next());return this.referenceDelegate.Vs(),n(r).next(e=>this.referenceDelegate.Ss(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ds(e,t){return hg.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class ry extends lg{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Cs=new Qm,this.Ns=null}static ks(e){return new iy(e)}get xs(){if(this.Ns)return this.Ns;throw ph()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),hg.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),hg.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),hg.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hg.forEach(this.xs,n=>{const r=ed.fromPath(n);return this.$s(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return hg.or([()=>hg.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function sy(e,t){return`firestore_clients_${e}_${t}`}function oy(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function ay(e,t){return`firestore_targets_${e}_${t}`}class cy{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Fs(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new yh(r.error.code,r.error.message))),s?new cy(e,t,r.state,i):(lh("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uy{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Fs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new yh(n.error.code,n.error.message))),i?new uy(e,n.state,r):(lh("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ly{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Jp();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Xh(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new ly(e,i):(lh("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hy{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hy(t.clientId,t.onlineState):(lh("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dy{constructor(){this.activeTargetIds=Jp()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class py{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Up(Oh),this.started=!1,this.js=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=sy(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new dy),this.Gs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ho.Z)(function*(){const t=yield e.syncEngine.Tn();for(const r of t){if(r===e.Bs)continue;const t=e.getItem(sy(e.persistenceKey,r));if(t){const n=ly.Fs(r,t);n&&(e.Ks=e.Ks.insert(n.clientId,n))}}e.Xs();const n=e.storage.getItem(e.Js);if(n){const t=e.Zs(n);t&&e.ti(t)}for(const r of e.js)e.qs(r);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,n){this.ni(e,t,n),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(ay(this.persistenceKey,e));if(n){const r=uy.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ay(this.persistenceKey,e))}updateQueryState(e,t,n){this.ri(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.si(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return uh("SharedClientState","READ",e,t),t}setItem(e,t){uh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){uh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const n=e;if(n.storageArea===this.storage){if(uh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void lh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ho.Z)(function*(){if(t.started){if(null!==n.key)if(t.Gs.test(n.key)){if(null==n.newValue){const e=t.ci(n.key);return t.ui(e,null)}{const e=t.hi(n.key,n.newValue);if(e)return t.ui(e.clientId,e)}}else if(t.zs.test(n.key)){if(null!==n.newValue){const e=t.li(n.key,n.newValue);if(e)return t.fi(e)}}else if(t.Hs.test(n.key)){if(null!==n.newValue){const e=t.di(n.key,n.newValue);if(e)return t.wi(e)}}else if(n.key===t.Js){if(null!==n.newValue){const e=t.Zs(n.newValue);if(e)return t.ti(e)}}else if(n.key===t.Ws){const e=function(e){let t=kh.I;if(null!=e)try{const n=JSON.parse(e);fh("number"==typeof n),t=n}catch(n){lh("SharedClientState","Failed to read sequence number from WebStorage",n)}return t}(n.newValue);e!==kh.I&&t.sequenceNumberHandler(e)}else if(n.key===t.Ys)return t.syncEngine._i()}else t.js.push(n)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,n){const r=new cy(this.currentUser,e,t,n),i=oy(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}si(e){const t=oy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,n){const r=ay(this.persistenceKey,e),i=new uy(e,t,n);this.setItem(r,i.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const n=this.ci(e);return ly.Fs(n,t)}li(e,t){const n=this.zs.exec(e),r=Number(n[1]);return cy.Fs(new sh(void 0!==n[2]?n[2]:null),r,t)}di(e,t){const n=this.Hs.exec(e),r=Number(n[1]);return uy.Fs(r,t)}Zs(e){return hy.Fs(e)}fi(e){var t=this;return(0,Ho.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);uh("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const n=t?this.Ks.insert(e,t):this.Ks.remove(e),r=this.ei(this.Ks),i=this.ei(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.yi(s,o).then(()=>{this.Ks=n})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=Jp();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class fy{constructor(){this.pi=new dy,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new dy,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class gy{Ei(e){}shutdown(){}}class my{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){uh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){uh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vy{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class _y extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,r,i){const s=this.Ui(e,t);uh("RestConnection","Sending: ",s,n);const o={};return this.qi(o,r,i),this.Ki(e,s,o,n).then(e=>(uh("RestConnection","Received: ",e),e),t=>{throw hh("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t})}ji(e,t,n,r,i){return this.Bi(e,t,n,r,i)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+oh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Ui(e,t){return`${this.Mi}/v1/${t}:${yy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,r){return new Promise((i,s)=>{const o=new rh;o.listenOnce(Jl.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Yl.NO_ERROR:const t=o.getResponseJson();uh("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Yl.TIMEOUT:uh("Connection",'RPC "'+e+'" timed out'),s(new yh(mh.DEADLINE_EXCEEDED,"Request time out"));break;case Yl.HTTP_ERROR:const n=o.getStatus();if(uh("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(mh).indexOf(t)>=0?t:mh.UNKNOWN}(e.status);s(new yh(t,e.message))}else s(new yh(mh.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new yh(mh.UNAVAILABLE,"Connection failed."));break;default:ph()}}finally{uh("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}Qi(e,t,n){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Wl(),s=Ql(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new th({})),this.qi(o.initMessageHeaders,t,n),(0,Qo.uI)()||(0,Qo.b$)()||(0,Qo.d)()||(0,Qo.w1)()||(0,Qo.Mn)()||(0,Qo.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");uh("Connection","Creating WebChannel: "+a,o);const c=i.createWebChannel(a,o);let u=!1,l=!1;const h=new vy({Vi:e=>{l?uh("Connection","Not sending because WebChannel is closed:",e):(u||(uh("Connection","Opening WebChannel transport."),c.open(),u=!0),uh("Connection","WebChannel sending:",e),c.send(e))},Si:()=>c.close()}),d=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return d(c,nh.EventType.OPEN,()=>{l||uh("Connection","WebChannel transport opened.")}),d(c,nh.EventType.CLOSE,()=>{l||(l=!0,uh("Connection","WebChannel transport closed"),h.Fi())}),d(c,nh.EventType.ERROR,e=>{l||(l=!0,hh("Connection","WebChannel transport errored:",e),h.Fi(new yh(mh.UNAVAILABLE,"The operation could not be completed")))}),d(c,nh.EventType.MESSAGE,e=>{var t;if(!l){const n=e.data[0];fh(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){uh("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Rp[e];if(void 0!==t)return Fp(t)}(e),n=i.message;void 0===t&&(t=mh.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),l=!0,h.Fi(new yh(t,n)),c.close()}else uh("Connection","WebChannel received:",n),h.Oi(n)}}),d(s,Xl.STAT_EVENT,e=>{e.stat===eh.PROXY?uh("Connection","Detected buffering proxy"):e.stat===eh.NOPROXY&&uh("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function wy(){return"undefined"!=typeof window?window:null}function by(){return"undefined"!=typeof document?document:null}function Ty(e){return new hf(e,!0)}class Sy{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-n);r>0&&uh("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Ey{constructor(e,t,n,r,i,s,o,a){this.Oe=e,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Sy(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,Ho.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,Ho.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var n=this;return(0,Ho.Z)(function*(){n.yr(),n.pr(),n.ur.cancel(),n.rr++,4!==e?n.ur.reset():t&&t.code===mh.RESOURCE_EXHAUSTED?(lh(t.toString()),lh("Using maximum backoff delay to prevent overloading the backend."),n.ur.Xi()):t&&t.code===mh.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.Tr(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.rr===t&&this.Ir(e,n)},t=>{e(()=>{const e=new yh(mh.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)})})}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{n(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(e=>{n(()=>this.Ar(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}dr(){var e=this;this.state=5,this.ur.Zi((0,Ho.Z)(function*(){e.state=0,e.start()}))}Ar(e){return uh("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():(uh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Iy extends Ey{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.k=i}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(e,t){let n;if("targetChange"in t){const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:ph(),s=t.targetChange.targetIds||[],o=function(e,t){return e.C?(fh(void 0===t||"string"==typeof t),Bh.fromBase64String(t||"")):(fh(void 0===t||t instanceof Uint8Array),Bh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,c=a&&function(e){const t=void 0===e.code?mh.UNKNOWN:Fp(e.code);return new yh(t,e.message||"")}(a);n=new rf(i,s,o,c||null)}else if("documentChange"in t){const r=t.documentChange,i=_f(e,r.document.name),s=gf(r.document.updateTime),o=new gd({mapValue:{fields:r.document.fields}}),a=yd.newFoundDocument(i,s,o);n=new tf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=_f(e,r.document),s=r.readTime?gf(r.readTime):Rh.min(),o=yd.newNoDocument(i,s);n=new tf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=_f(e,r.document);n=new tf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return ph();{const e=t.filter,r=new Dp(e.count||0);n=new nf(e.targetId,r)}}var r;return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Rh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Rh.min():t.readTime?gf(t.readTime):Rh.min()}(e);return this.listener.Pr(t,n)}br(e){const t={};t.database=Tf(this.k),t.addTarget=function(e,t){let n;const r=t.target;return n=Td(r)?{documents:Af(e,r)}:{query:xf(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=pf(e,t.resumeToken):t.snapshotVersion.compareTo(Rh.min())>0&&(n.readTime=df(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ph()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.gr(t)}vr(e){const t={};t.database=Tf(this.k),t.removeTarget=e,this.gr(t)}}class Cy extends Ey{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(fh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(e,t){return e&&e.length>0?(fh(void 0!==t),e.map(e=>function(e,t){let n=gf(e.updateTime?e.updateTime:t);return n.isEqual(Rh.min())&&(n=gf(t)),new yp(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=gf(e.commitTime);return this.listener.Cr(n,t)}return fh(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Tf(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Cf(this.k,e))};this.gr(t)}}class ky extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=r,this.$r=!1}Fr(){if(this.$r)throw new yh(mh.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.ir.Bi(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===mh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yh(mh.UNKNOWN,e.toString())})}ji(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.ir.ji(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===mh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yh(mh.UNKNOWN,e.toString())})}terminate(){this.$r=!0}}class Ay{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(lh(t),this.Lr=!1):uh("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class xy{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei(e=>{n.enqueueAndForget((0,Ho.Z)(function*(){var e;Zy(s)&&(uh("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,Ho.Z)(function*(e){const t=gh(e);t.Gr.add(4),yield Ny(t),t.Jr.set("Unknown"),t.Gr.delete(4),yield Oy(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.Jr=new Ay(n,r)}}function Oy(e){return Py.apply(this,arguments)}function Py(){return(Py=(0,Ho.Z)(function*(e){if(Zy(e))for(const t of e.zr)yield t(!0)})).apply(this,arguments)}function Ny(e){return Dy.apply(this,arguments)}function Dy(){return(Dy=(0,Ho.Z)(function*(e){for(const t of e.zr)yield t(!1)})).apply(this,arguments)}function Ry(e,t){const n=gh(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),qy(n)?Uy(n):pv(n).lr()&&My(n,t))}function Ly(e,t){const n=gh(e),r=pv(n);n.Wr.delete(t),r.lr()&&Fy(n,t),0===n.Wr.size&&(r.lr()?r._r():Zy(n)&&n.Jr.set("Unknown"))}function My(e,t){e.Yr.X(t.targetId),pv(e).br(t)}function Fy(e,t){e.Yr.X(t),pv(e).vr(t)}function Uy(e){e.Yr=new of({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Wr.get(t)||null}),pv(e).start(),e.Jr.Br()}function qy(e){return Zy(e)&&!pv(e).hr()&&e.Wr.size>0}function Zy(e){return 0===gh(e).Gr.size}function Vy(e){e.Yr=void 0}function jy(e){return By.apply(this,arguments)}function By(){return(By=(0,Ho.Z)(function*(e){e.Wr.forEach((t,n)=>{My(e,t)})})).apply(this,arguments)}function zy(e,t){return $y.apply(this,arguments)}function $y(){return($y=(0,Ho.Z)(function*(e,t){Vy(e),qy(e)?(e.Jr.Kr(t),Uy(e)):e.Jr.set("Unknown")})).apply(this,arguments)}function Hy(e,t,n){return Gy.apply(this,arguments)}function Gy(){return(Gy=(0,Ho.Z)(function*(e,t,n){if(e.Jr.set("Online"),t instanceof rf&&2===t.state&&t.cause)try{yield(r=(0,Ho.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.Wr.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.Wr.delete(r),e.Yr.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(r){uh("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield Ky(e,r)}else if(t instanceof tf?e.Yr.ot(t):t instanceof nf?e.Yr.dt(t):e.Yr.ut(t),!n.isEqual(Rh.min()))try{const t=yield Lm(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.Yr.gt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.Wr.get(t);if(!n)return;e.Wr.set(t,n.withResumeToken(Bh.EMPTY_BYTE_STRING,n.snapshotVersion)),Fy(e,t);const r=new Ig(n.target,t,1,n.sequenceNumber);My(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(r){uh("RemoteStore","Failed to raise snapshot:",r),yield Ky(e,r)}var r})).apply(this,arguments)}function Ky(e,t,n){return Wy.apply(this,arguments)}function Wy(){return(Wy=(0,Ho.Z)(function*(e,t,n){if(!mg(t))throw t;e.Gr.add(1),yield Ny(e),e.Jr.set("Offline"),n||(n=()=>Lm(e.localStore)),e.asyncQueue.enqueueRetryable((0,Ho.Z)(function*(){uh("RemoteStore","Retrying IndexedDB access"),yield n(),e.Gr.delete(1),yield Oy(e)}))})).apply(this,arguments)}function Qy(e,t){return t().catch(n=>Ky(e,n,t))}function Yy(e){return Jy.apply(this,arguments)}function Jy(){return(Jy=(0,Ho.Z)(function*(e){const t=gh(e),n=fv(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;Xy(t);)try{const e=yield Um(t.localStore,r);if(null===e){0===t.Qr.length&&n._r();break}r=e.batchId,ev(t,e)}catch(i){yield Ky(t,i)}tv(t)&&nv(t)})).apply(this,arguments)}function Xy(e){return Zy(e)&&e.Qr.length<10}function ev(e,t){e.Qr.push(t);const n=fv(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function tv(e){return Zy(e)&&!fv(e).hr()&&e.Qr.length>0}function nv(e){fv(e).start()}function rv(e){return iv.apply(this,arguments)}function iv(){return(iv=(0,Ho.Z)(function*(e){fv(e).kr()})).apply(this,arguments)}function sv(e){return ov.apply(this,arguments)}function ov(){return(ov=(0,Ho.Z)(function*(e){const t=fv(e);for(const n of e.Qr)t.Dr(n.mutations)})).apply(this,arguments)}function av(e,t,n){return cv.apply(this,arguments)}function cv(){return(cv=(0,Ho.Z)(function*(e,t,n){const r=e.Qr.shift(),i=Eg.from(r,t,n);yield Qy(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield Yy(e)})).apply(this,arguments)}function uv(e,t){return lv.apply(this,arguments)}function lv(){return(lv=(0,Ho.Z)(function*(e,t){var n;t&&fv(e).Sr&&(yield(n=(0,Ho.Z)(function*(e,t){if(Mp(n=t.code)&&n!==mh.ABORTED){const n=e.Qr.shift();fv(e).wr(),yield Qy(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield Yy(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),tv(e)&&nv(e)})).apply(this,arguments)}function hv(e,t){return dv.apply(this,arguments)}function dv(){return(dv=(0,Ho.Z)(function*(e,t){const n=gh(e);t?(n.Gr.delete(2),yield Oy(n)):t||(n.Gr.add(2),yield Ny(n),n.Jr.set("Unknown"))})).apply(this,arguments)}function pv(e){return e.Xr||(e.Xr=function(e,t,n){const r=gh(e);return r.Fr(),new Iy(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:jy.bind(null,e),Ni:zy.bind(null,e),Pr:Hy.bind(null,e)}),e.zr.push(function(){var t=(0,Ho.Z)(function*(t){t?(e.Xr.wr(),qy(e)?Uy(e):e.Jr.set("Unknown")):(yield e.Xr.stop(),Vy(e))});return function(e){return t.apply(this,arguments)}}())),e.Xr}function fv(e){return e.Zr||(e.Zr=function(e,t,n){const r=gh(e);return r.Fr(),new Cy(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:rv.bind(null,e),Ni:uv.bind(null,e),Nr:sv.bind(null,e),Cr:av.bind(null,e)}),e.zr.push(function(){var t=(0,Ho.Z)(function*(t){t?(e.Zr.wr(),yield Yy(e)):(yield e.Zr.stop(),e.Qr.length>0&&(uh("RemoteStore",`Stopping write stream with ${e.Qr.length} pending writes`),e.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),e.Zr}class gv{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new vh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new gv(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yh(mh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mv(e,t){if(lh("AsyncQueue",`${t}: ${e}`),mg(e))return new yh(mh.UNAVAILABLE,`${t}: ${e}`);throw e}class yv{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ed.comparator(t.key,n.key):(e,t)=>ed.comparator(e.key,t.key),this.keyedMap=Hp(),this.sortedSet=new Up(this.comparator)}static emptySet(e){return new yv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new yv;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class vv{constructor(){this.eo=new Up(ed.comparator)}track(e){const t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):ph():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,n)=>{e.push(n)}),e}}class _v{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new _v(e,t,yv.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class wv{constructor(){this.so=void 0,this.listeners=[]}}class bv{constructor(){this.queries=new dm(e=>Qd(e),Wd),this.onlineState="Unknown",this.io=new Set}}function Tv(e,t){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,Ho.Z)(function*(e,t){const n=gh(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new wv),i)try{s.so=yield n.onListen(r)}catch(o){const e=mv(o,`Initialization of query '${Yd(t.query)}' failed`);return void t.onError(e)}n.queries.set(r,s),s.listeners.push(t),t.ro(n.onlineState),s.so&&t.oo(s.so)&&Av(n)})).apply(this,arguments)}function Ev(e,t){return Iv.apply(this,arguments)}function Iv(){return(Iv=(0,Ho.Z)(function*(e,t){const n=gh(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function Cv(e,t){const n=gh(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.oo(i)&&(r=!0);e.so=i}}r&&Av(n)}function kv(e,t,n){const r=gh(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Av(e){e.io.forEach(e=>{e.next()})}class xv{constructor(e,t,n){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new _v(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=_v.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class Ov{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class Pv{constructor(e){this.k=e}Hn(e){return _f(this.k,e)}Jn(e){return e.metadata.exists?If(this.k,e.document,!1):yd.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return gf(e)}}class Nv{constructor(e,t,n){this.mo=e,this.localStore=t,this.k=n,this.queries=[],this.documents=[],this.progress=Dv(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,n=new Pv(this.k);for(const r of e)if(r.metadata.queries){const e=n.Hn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Qp()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,Ho.Z)(function*(){const t=yield function(e,t,n,r){return Hm.apply(this,arguments)}(e.localStore,new Pv(e.k),e.documents,e.mo.id),n=e.po(e.documents);for(const r of e.queries)yield Gm(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",new Cm(Object.assign({},e.progress),t)})()}}function Dv(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Rv{constructor(e){this.key=e}}class Lv{constructor(e){this.key=e}}class Mv{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=Qp(),this.mutatedKeys=Qp(),this.Ao=Xd(e),this.Ro=new yv(this.Ao)}get Po(){return this.To}bo(e,t){const n=t?t.vo:new vv,r=t?t.Ro:this.Ro;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=Vd(this.query)&&r.size===this.query.limit?r.last():null,c=jd(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),l=Jd(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let p=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),p=!0):this.Vo(u,l)||(n.track({type:2,doc:l}),p=!0,(a&&this.Ao(l,a)>0||c&&this.Ao(l,c)<0)&&(o=!0)):!u&&l?(n.track({type:0,doc:l}),p=!0):u&&!l&&(n.track({type:1,doc:u}),p=!0,(a||c)&&(o=!0)),p&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),Vd(this.query)||jd(this.query))for(;s.size>this.query.limit;){const e=Vd(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ro:s,vo:n,Bn:o,mutatedKeys:i}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const i=e.vo.no();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ph()}};return n(e)-n(t)}(e.type,t.type)||this.Ao(e.doc,t.doc)),this.So(n);const s=t?this.Do():[],o=0===this.Io.size&&this.current?1:0,a=o!==this.Eo;return this.Eo=o,0!==i.length||a?{snapshot:new _v(this.query,e.Ro,r,i,e.mutatedKeys,0===o,a,!1),Co:s}:{Co:s}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new vv,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(e=>this.To=this.To.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Qp(),this.Ro.forEach(e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))});const t=[];return e.forEach(e=>{this.Io.has(e)||t.push(new Lv(e))}),this.Io.forEach(n=>{e.has(n)||t.push(new Rv(n))}),t}ko(e){this.To=e.zn,this.Io=Qp();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return _v.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class Fv{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Uv{constructor(e){this.key=e,this.$o=!1}}class qv{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Fo={},this.Oo=new dm(e=>Qd(e),Wd),this.Mo=new Map,this.Lo=new Set,this.Bo=new Up(ed.comparator),this.Uo=new Map,this.qo=new Qm,this.Ko={},this.jo=new Map,this.Qo=Xg.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Zv(e,t){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,Ho.Z)(function*(e,t){const n=O_(e);let r,i;const s=n.Oo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const e=yield qm(n.localStore,Gd(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield jv(n,t,r,"current"===s),n.isPrimaryClient&&Ry(n.remoteStore,e)}return i})).apply(this,arguments)}function jv(e,t,n,r){return Bv.apply(this,arguments)}function Bv(){return(Bv=(0,Ho.Z)(function*(e,t,n,r){e.Go=(t,n,r)=>{return(i=(0,Ho.Z)(function*(e,t,n,r){let i=t.view.bo(n);i.Bn&&(i=yield jm(e.localStore,t.query,!1).then(({documents:e})=>t.view.bo(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return a_(e,t.targetId,o.Co),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield jm(e.localStore,t,!0),s=new Mv(t,i.zn),o=s.bo(i.documents),a=ef.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=s.applyChanges(o,e.isPrimaryClient,a);a_(e,n,c.Co);const u=new Fv(t,n,s);return e.Oo.set(t,u),e.Mo.has(n)?e.Mo.get(n).push(t):e.Mo.set(n,[t]),c.snapshot})).apply(this,arguments)}function zv(e,t){return $v.apply(this,arguments)}function $v(){return($v=(0,Ho.Z)(function*(e,t){const n=gh(e),r=n.Oo.get(t),i=n.Mo.get(r.targetId);if(i.length>1)return n.Mo.set(r.targetId,i.filter(e=>!Wd(e,t))),void n.Oo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ly(n.remoteStore,r.targetId),s_(n,r.targetId)}).catch(im))):(s_(n,r.targetId),yield Zm(n.localStore,r.targetId,!0))})).apply(this,arguments)}function Hv(){return(Hv=(0,Ho.Z)(function*(e,t,n){const r=P_(e);try{const e=yield function(e,t){const n=gh(e),r=Dh.now(),i=t.reduce((e,t)=>e.add(t.key),Qp());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Wn.vn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=Sp(e,s.get(e.key));null!=t&&o.push(new kp(e.key,t,md(t.value.mapValue),vp.exists(!0)))}return n.An.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ko[e.currentUser.toKey()];r||(r=new Up(Oh)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(r,e.batchId,n),yield l_(r,e.changes),yield Yy(r.remoteStore)}catch(i){const e=mv(i,"Failed to persist write");n.reject(e)}})).apply(this,arguments)}function Gv(e,t){return Kv.apply(this,arguments)}function Kv(){return(Kv=(0,Ho.Z)(function*(e,t){const n=gh(e);try{const e=yield Mm(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Uo.get(t);r&&(fh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.$o=!0:e.modifiedDocuments.size>0?fh(r.$o):e.removedDocuments.size>0&&(fh(r.$o),r.$o=!1))}),yield l_(n,e,t)}catch(r){yield im(r)}})).apply(this,arguments)}function Wv(e,t,n){const r=gh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Oo.forEach((n,r)=>{const i=r.view.ro(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=gh(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.ro(t)&&(r=!0)}),r&&Av(n)}(r.eventManager,t),e.length&&r.Fo.Pr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Qv(e,t,n){return Yv.apply(this,arguments)}function Yv(){return(Yv=(0,Ho.Z)(function*(e,t,n){const r=gh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Uo.get(t),s=i&&i.key;if(s){let e=new Up(ed.comparator);e=e.insert(s,yd.newNoDocument(s,Rh.min()));const n=Qp().add(s),i=new Xp(Rh.min(),new Map,new Vp(Oh),e,n);yield Gv(r,i),r.Bo=r.Bo.remove(s),r.Uo.delete(t),u_(r)}else yield Zm(r.localStore,t,!1).then(()=>s_(r,t,n)).catch(im)})).apply(this,arguments)}function Jv(e,t){return Xv.apply(this,arguments)}function Xv(){return(Xv=(0,Ho.Z)(function*(e,t){const n=gh(e),r=t.batch.batchId;try{const e=yield Rm(n.localStore,t);i_(n,r,null),r_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield l_(n,e)}catch(i){yield im(i)}})).apply(this,arguments)}function e_(e,t,n){return t_.apply(this,arguments)}function t_(){return(t_=(0,Ho.Z)(function*(e,t,n){const r=gh(e);try{const e=yield function(e,t){const n=gh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.An.lookupMutationBatch(e,t).next(t=>(fh(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t))).next(()=>n.An.performConsistencyCheck(e)).next(()=>n.Wn.vn(e,r))})}(r.localStore,t);i_(r,t,n),r_(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield l_(r,e)}catch(i){yield im(i)}})).apply(this,arguments)}function n_(){return(n_=(0,Ho.Z)(function*(e,t){const n=gh(e);Zy(n.remoteStore)||uh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=gh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.An.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.jo.get(e)||[];r.push(t),n.jo.set(e,r)}catch(r){const e=mv(r,"Initialization of waitForPendingWrites() operation failed");t.reject(e)}})).apply(this,arguments)}function r_(e,t){(e.jo.get(t)||[]).forEach(e=>{e.resolve()}),e.jo.delete(t)}function i_(e,t,n){const r=gh(e);let i=r.Ko[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function s_(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Mo.get(t))e.Oo.delete(r),n&&e.Fo.zo(r,n);e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach(t=>{e.qo.containsKey(t)||o_(e,t)})}function o_(e,t){e.Lo.delete(t.path.canonicalString());const n=e.Bo.get(t);null!==n&&(Ly(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),u_(e))}function a_(e,t,n){for(const r of n)r instanceof Rv?(e.qo.addReference(r.key,t),c_(e,r)):r instanceof Lv?(uh("SyncEngine","Document no longer in limbo: "+r.key),e.qo.removeReference(r.key,t),e.qo.containsKey(r.key)||o_(e,r.key)):ph()}function c_(e,t){const n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(uh("SyncEngine","New document in limbo: "+n),e.Lo.add(r),u_(e))}function u_(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){const t=e.Lo.values().next().value;e.Lo.delete(t);const n=new ed(qh.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Uv(n)),e.Bo=e.Bo.insert(n,r),Ry(e.remoteStore,new Ig(Gd(Zd(n.path)),r,2,kh.I))}}function l_(e,t,n){return h_.apply(this,arguments)}function h_(){return(h_=(0,Ho.Z)(function*(e,t,n){const r=gh(e),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((e,a)=>{o.push(r.Go(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Am.$n(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.Fo.Pr(i),yield(a=(0,Ho.Z)(function*(e,t){const n=gh(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>hg.forEach(t,t=>hg.forEach(t.kn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>hg.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!mg(r))throw r;uh("LocalStore","Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.qn.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.qn=n.qn.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function d_(e,t){return p_.apply(this,arguments)}function p_(){return(p_=(0,Ho.Z)(function*(e,t){const n=gh(e);if(!n.currentUser.isEqual(t)){uh("SyncEngine","User change. New user:",t.toKey());const e=yield Nm(n.localStore,t);n.currentUser=t,(r=n).jo.forEach(e=>{e.forEach(e=>{e.reject(new yh(mh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.jo.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield l_(n,e.Gn)}var r})).apply(this,arguments)}function f_(e,t){const n=gh(e),r=n.Uo.get(t);if(r&&r.$o)return Qp().add(r.key);{let e=Qp();const r=n.Mo.get(t);if(!r)return e;for(const t of r){const r=n.Oo.get(t);e=e.unionWith(r.view.Po)}return e}}function g_(e,t){return m_.apply(this,arguments)}function m_(){return(m_=(0,Ho.Z)(function*(e,t){const n=gh(e),r=yield jm(n.localStore,t.query,!0),i=t.view.ko(r);return n.isPrimaryClient&&a_(n,t.targetId,i.Co),i})).apply(this,arguments)}function y_(e){return v_.apply(this,arguments)}function v_(){return(v_=(0,Ho.Z)(function*(e){const t=gh(e);return zm(t.localStore).then(e=>l_(t,e))})).apply(this,arguments)}function __(e,t,n,r){return w_.apply(this,arguments)}function w_(){return(w_=(0,Ho.Z)(function*(e,t,n,r){const i=gh(e),s=yield function(e,t){const n=gh(e),r=gh(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Zt(e,t).next(t=>t?n.Wn.vn(e,t):hg.resolve(null)))}(i.localStore,t);var o;null!==s?("pending"===n?yield Yy(i.remoteStore):"acknowledged"===n||"rejected"===n?(i_(i,t,r||null),r_(i,t),o=t,gh(gh(i.localStore).An).ee(o)):ph(),yield l_(i,s)):uh("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function b_(){return(b_=(0,Ho.Z)(function*(e,t){const n=gh(e);if(O_(n),P_(n),!0===t&&!0!==n.Wo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield T_(n,e.toArray());n.Wo=!0,yield hv(n.remoteStore,!0);for(const r of t)Ry(n.remoteStore,r)}else if(!1===t&&!1!==n.Wo){const e=[];let t=Promise.resolve();n.Mo.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(s_(n,i),Zm(n.localStore,i,!0))),Ly(n.remoteStore,i)}),yield t,yield T_(n,e),function(e){const t=gh(e);t.Uo.forEach((e,n)=>{Ly(t.remoteStore,n)}),t.qo.hs(),t.Uo=new Map,t.Bo=new Up(ed.comparator)}(n),n.Wo=!1,yield hv(n.remoteStore,!1)}})).apply(this,arguments)}function T_(e,t,n){return S_.apply(this,arguments)}function S_(){return(S_=(0,Ho.Z)(function*(e,t,n){const r=gh(e),i=[],s=[];for(const o of t){let e;const t=r.Mo.get(o);if(t&&0!==t.length){e=yield qm(r.localStore,Gd(t[0]));for(const e of t){const t=r.Oo.get(e),n=yield g_(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield Bm(r.localStore,o);e=yield qm(r.localStore,t),yield jv(r,E_(t),o,!1)}i.push(e)}return r.Fo.Pr(s),i})).apply(this,arguments)}function E_(e){return qd(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function I_(e){const t=gh(e);return gh(gh(t.localStore).persistence).Tn()}function C_(e,t,n,r){return k_.apply(this,arguments)}function k_(){return(k_=(0,Ho.Z)(function*(e,t,n,r){const i=gh(e);if(i.Wo)uh("SyncEngine","Ignoring unexpected query state notification.");else if(i.Mo.has(t))switch(n){case"current":case"not-current":{const e=yield zm(i.localStore),r=Xp.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield l_(i,e,r);break}case"rejected":yield Zm(i.localStore,t,!0),s_(i,t,r);break;default:ph()}})).apply(this,arguments)}function A_(e,t,n){return x_.apply(this,arguments)}function x_(){return(x_=(0,Ho.Z)(function*(e,t,n){const r=O_(e);if(r.Wo){for(const e of t){if(r.Mo.has(e)){uh("SyncEngine","Adding an already active target "+e);continue}const t=yield Bm(r.localStore,e),n=yield qm(r.localStore,t);yield jv(r,E_(t),n.targetId,!1),Ry(r.remoteStore,n)}for(const e of n)r.Mo.has(e)&&(yield Zm(r.localStore,e,!1).then(()=>{Ly(r.remoteStore,e),s_(r,e)}).catch(im))}})).apply(this,arguments)}function O_(e){const t=gh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=f_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Qv.bind(null,t),t.Fo.Pr=Cv.bind(null,t.eventManager),t.Fo.zo=kv.bind(null,t.eventManager),t}function P_(e){const t=gh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Jv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=e_.bind(null,t),t}class N_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ho.Z)(function*(){t.k=Ty(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return Pm(this.persistence,new xm,e.initialUser,this.k)}Yo(e){return new ny(iy.ks,this.k)}Jo(e){return new fy}terminate(){var e=this;return(0,Ho.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class D_ extends N_{constructor(e,t,n){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,Ho.Z)(function*(){yield t().call(n,e),yield function(e){return $m.apply(this,arguments)}(n.localStore),yield n.ta.initialize(n,e),yield P_(n.ta.syncEngine),yield Yy(n.ta.remoteStore),yield n.persistence.sn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Zo(e){return Pm(this.persistence,new xm,e.initialUser,this.k)}Xo(e){return new cm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=Im(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?$g.withCacheSize(this.cacheSizeBytes):$g.DEFAULT;return new Tm(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,wy(),by(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new fy}}class R_ extends D_{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,Ho.Z)(function*(){yield t().call(n,e);const r=n.ta.syncEngine;n.sharedClientState instanceof py&&(n.sharedClientState.syncEngine={mi:__.bind(null,r),gi:C_.bind(null,r),yi:A_.bind(null,r),Tn:I_.bind(null,r),_i:y_.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.sn(function(){var e=(0,Ho.Z)(function*(e){yield function(e,t){return b_.apply(this,arguments)}(n.ta.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}Jo(e){const t=wy();if(!py.bt(t))throw new yh(mh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Im(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new py(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class L_{initialize(e,t){var n=this;return(0,Ho.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>Wv(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=d_.bind(null,n.syncEngine),yield hv(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bv}createDatastore(e){const t=Ty(e.databaseInfo.databaseId),n=new _y(e.databaseInfo);return new ky(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Wv(this.syncEngine,e,0),s=my.bt()?new my:new gy,new xy(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new qv(e,t,n,r,i,s);return o&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ho.Z)(function*(e){const t=gh(e);uh("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),yield Ny(t),t.Hr.shutdown(),t.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function M_(e,t=10240){let n=0;return{read:()=>(0,Ho.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,Ho.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class F_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class U_{constructor(e,t){this.sa=e,this.k=t,this.metadata=new vh,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(e=>{e&&e._o()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.sa.cancel()}getMetadata(){var e=this;return(0,Ho.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,Ho.Z)(function*(){return yield e.getMetadata(),e.ra()})()}ra(){var e=this;return(0,Ho.Z)(function*(){const t=yield e.oa();if(null===t)return null;const n=e.ia.decode(t),r=Number(n);isNaN(r)&&e.aa(`length string (${n}) is not valid number`);const i=yield e.ca(r);return new Ov(JSON.parse(i),t.length+r)})()}ua(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oa(){var e=this;return(0,Ho.Z)(function*(){for(;e.ua()<0&&!(yield e.ha()););if(0===e.buffer.length)return null;const t=e.ua();t<0&&e.aa("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}ca(e){var t=this;return(0,Ho.Z)(function*(){for(;t.buffer.length<e;)(yield t.ha())&&t.aa("Reached the end of bundle when more is expected.");const n=t.ia.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}ha(){var e=this;return(0,Ho.Z)(function*(){const t=yield e.sa.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class q_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ho.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new yh(mh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,Ho.Z)(function*(e,t){const n=gh(e),r=Tf(n.k)+"/documents",i={documents:t.map(e=>vf(n.k,e))},s=yield n.ji("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){fh(!!t.found);const n=_f(e,t.found.name),r=gf(t.found.updateTime),i=new gd({mapValue:{fields:t.found.fields}});return yd.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){fh(!!t.missing),fh(!!t.readTime);const n=_f(e,t.missing),r=gf(t.readTime);return yd.newNoDocument(n,r)}(e,t):ph()}(n.k,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());fh(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ho.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=ed.fromPath(n);e.mutations.push(new Np(r,e.precondition(r)))}),yield(n=(0,Ho.Z)(function*(e,t){const n=gh(e),r=Tf(n.k)+"/documents",i={writes:t.map(e=>Cf(n.k,e))};yield n.Bi("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ph();t=Rh.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new yh(mh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?vp.updateTime(t):vp.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rh.min()))throw new yh(mh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vp.updateTime(t)}return vp.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Z_{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.la=5,this.ur=new Sy(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var e=this;this.ur.Zi((0,Ho.Z)(function*(){const t=new q_(e.datastore),n=e.da(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.wa(t)}))}).catch(t=>{e.wa(t)})}))}da(e){try{const t=this.updateFunction(e);return!Yh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Mp(t)}return!1}}class V_{constructor(e,t,n,r){var i=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=sh.UNAUTHENTICATED,this.clientId=xh.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var e=(0,Ho.Z)(function*(e){uh("FirestoreClient","Received user=",e.uid),yield i.authCredentialListener(e),i.user=e});return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(n,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,Ho.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yh(mh.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new vh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ho.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(n){const e=mv(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function j_(e,t){return B_.apply(this,arguments)}function B_(){return(B_=(0,Ho.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),uh("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,Ho.Z)(function*(e){r.isEqual(e)||(yield Nm(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function z_(e,t){return $_.apply(this,arguments)}function $_(){return($_=(0,Ho.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield H_(e);uh("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>{return(n=(0,Ho.Z)(function*(e,t){const n=gh(e);n.asyncQueue.verifyOperationInProgress(),uh("RemoteStore","RemoteStore received new credentials");const r=Zy(n);n.Gr.add(3),yield Ny(n),r&&n.Jr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),yield Oy(n)}),function(e,t){return n.apply(this,arguments)})(t.remoteStore,e);var n}),e.onlineComponents=t})).apply(this,arguments)}function H_(e){return G_.apply(this,arguments)}function G_(){return(G_=(0,Ho.Z)(function*(e){return e.offlineComponents||(uh("FirestoreClient","Using default OfflineComponentProvider"),yield j_(e,new N_)),e.offlineComponents})).apply(this,arguments)}function K_(e){return W_.apply(this,arguments)}function W_(){return(W_=(0,Ho.Z)(function*(e){return e.onlineComponents||(uh("FirestoreClient","Using default OnlineComponentProvider"),yield z_(e,new L_)),e.onlineComponents})).apply(this,arguments)}function Q_(e){return H_(e).then(e=>e.persistence)}function Y_(e){return H_(e).then(e=>e.localStore)}function J_(e){return K_(e).then(e=>e.remoteStore)}function X_(e){return K_(e).then(e=>e.syncEngine)}function ew(e){return tw.apply(this,arguments)}function tw(){return(tw=(0,Ho.Z)(function*(e){const t=yield K_(e),n=t.eventManager;return n.onListen=Zv.bind(null,t.syncEngine),n.onUnlisten=zv.bind(null,t.syncEngine),n})).apply(this,arguments)}function nw(e,t,n={}){const r=new vh;return e.asyncQueue.enqueueAndForget((0,Ho.Z)(function*(){return function(e,t,n,r,i){const s=new F_({next:s=>{t.enqueueAndForget(()=>Ev(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new yh(mh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new yh(mh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new xv(Zd(n.path),s,{includeMetadataChanges:!0,wo:!0});return Tv(e,o)}(yield ew(e),e.asyncQueue,t,n,r)})),r.promise}function rw(e,t,n={}){const r=new vh;return e.asyncQueue.enqueueAndForget((0,Ho.Z)(function*(){return function(e,t,n,r,i){const s=new F_({next:n=>{t.enqueueAndForget(()=>Ev(e,o)),n.fromCache&&"server"===r.source?i.reject(new yh(mh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new xv(n,s,{includeMetadataChanges:!0,wo:!0});return Tv(e,o)}(yield ew(e),e.asyncQueue,t,n,r)})),r.promise}class iw{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class sw{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sw&&e.projectId===this.projectId&&e.database===this.database}}const ow=new Map;function aw(e,t,n){if(!n)throw new yh(mh.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function cw(e,t,n,r){if(!0===t&&!0===r)throw new yh(mh.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function uw(e){if(!ed.isDocumentKey(e))throw new yh(mh.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function lw(e){if(ed.isDocumentKey(e))throw new yh(mh.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function hw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":ph()}function dw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yh(mh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hw(e);throw new yh(mh.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function pw(e,t){if(t<=0)throw new yh(mh.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class fw{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new yh(mh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yh(mh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,cw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gw{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fw({}),this._settingsFrozen=!1,e instanceof sw?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yh(mh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sw(e.options.projectId)}(e))}get app(){if(!this._app)throw new yh(mh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yh(mh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wh;switch(e.type){case"gapi":const t=e.client;return fh(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Eh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new yh(mh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ow.get(e);t&&(uh("ComponentProvider","Removing Datastore"),ow.delete(e),t.terminate())}(this),Promise.resolve()}}class mw{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mw(this.firestore,e,this._key)}}class yw{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new yw(this.firestore,e,this._query)}}class vw extends yw{constructor(e,t,n){super(e,t,Zd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mw(this.firestore,null,new ed(e))}withConverter(e){return new vw(this.firestore,e,this._path)}}function _w(e,t,...n){if(e=(0,Qo.m9)(e),aw("collection","path",t),e instanceof gw){const r=qh.fromString(t,...n);return lw(r),new vw(e,null,r)}{if(!(e instanceof mw||e instanceof vw))throw new yh(mh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(qh.fromString(t,...n));return lw(r),new vw(e.firestore,null,r)}}function ww(e,t,...n){if(e=(0,Qo.m9)(e),1===arguments.length&&(t=xh.A()),aw("doc","path",t),e instanceof gw){const r=qh.fromString(t,...n);return uw(r),new mw(e,null,new ed(r))}{if(!(e instanceof mw||e instanceof vw))throw new yh(mh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(qh.fromString(t,...n));return uw(r),new mw(e.firestore,e instanceof vw?e.converter:null,new ed(r))}}function bw(e,t){return e=(0,Qo.m9)(e),t=(0,Qo.m9)(t),(e instanceof mw||e instanceof vw)&&(t instanceof mw||t instanceof vw)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Tw(e,t){return e=(0,Qo.m9)(e),t=(0,Qo.m9)(t),e instanceof yw&&t instanceof yw&&e.firestore===t.firestore&&Wd(e._query,t._query)&&e.converter===t.converter}class Sw{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Sy(this,"async_queue_retry"),this.Ra=()=>{const e=by();e&&uh("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=by();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=by();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new vh;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return(0,Ho.Z)(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(t){if(!mg(t))throw t;uh("AsyncQueue","Operation failed with retryable error: "+t)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(e=>{throw this.Ta=e,this.Ea=!1,lh("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.Ea=!1,e))));return this.ma=t,t}enqueueAfterDelay(e,t,n){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const r=gv.createAndSchedule(this,e,t,n,e=>this.Va(e));return this.pa.push(r),r}Pa(){this.Ta&&ph()}verifyOperationInProgress(){}Sa(){var e=this;return(0,Ho.Z)(function*(){let t;do{t=e.ma,yield t}while(t!==e.ma)})()}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function Ew(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Iw{constructor(){this._progressObserver={},this._taskCompletionResolver=new vh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Cw extends gw{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Sw,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Aw(this),this._firestoreClient.terminate()}}function kw(e){return e._firestoreClient||Aw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Aw(e){var t;const n=e._freezeSettings(),r=(i=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",new iw(e._databaseId,i,e._persistenceKey,(s=n).host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams));var i,s;e._firestoreClient=new V_(e._authCredentials,e._appCheckCredentials,e._queue,r)}function xw(e,t,n){const r=new vh;return e.asyncQueue.enqueue((0,Ho.Z)(function*(){try{yield j_(e,n),yield z_(e,t),r.resolve()}catch(s){if(!("FirebaseError"===(i=s).name?i.code===mh.FAILED_PRECONDITION||i.code===mh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var i})).then(()=>r.promise)}function Ow(e){if(e._initialized||e._terminated)throw new yh(mh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Pw{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new yh(mh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vh(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nw(Bh.fromBase64String(e))}catch(t){throw new yh(mh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nw(Bh.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dw{constructor(e){this._methodName=e}}class Rw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yh(mh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yh(mh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oh(this._lat,e._lat)||Oh(this._long,e._long)}}const Lw=/^__.*__$/;class Mw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new kp(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cp(e,this.data,t,this.fieldTransforms)}}class Fw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new kp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Uw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ph()}}class qw{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ka(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new qw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}La(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return sb(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(Uw(this.xa)&&Lw.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class Zw{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||Ty(e)}ja(e,t,n,r=!1){return new qw({xa:e,methodName:t,Ka:n,path:Vh.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Vw(e){const t=e._freezeSettings(),n=Ty(e._databaseId);return new Zw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jw(e,t,n,r,i,s={}){const o=e.ja(s.merge||s.mergeFields?2:0,t,n,i);tb("Data must be an object, but it was:",o,r);const a=Xw(r,o);let c,u;if(s.merge)c=new jh(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=nb(t,r,n);if(!o.contains(i))throw new yh(mh.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);ob(e,i)||e.push(i)}c=new jh(e),u=o.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,u=o.fieldTransforms;return new Mw(new gd(a),c,u)}class Bw extends Dw{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bw}}function zw(e,t,n){return new qw({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}class $w extends Dw{_toFieldTransform(e){return new mp(e.path,new cp)}isEqual(e){return e instanceof $w}}class Hw extends Dw{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=zw(this,e,!0),n=this.Qa.map(e=>Jw(e,t)),r=new up(n);return new mp(e.path,r)}isEqual(e){return this===e}}class Gw extends Dw{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=zw(this,e,!0),n=this.Qa.map(e=>Jw(e,t)),r=new hp(n);return new mp(e.path,r)}isEqual(e){return this===e}}class Kw extends Dw{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new pp(e.k,rp(e.k,this.Wa));return new mp(e.path,t)}isEqual(e){return this===e}}function Ww(e,t,n,r){const i=e.ja(1,t,n);tb("Data must be an object, but it was:",i,r);const s=[],o=gd.empty();Mh(r,(e,r)=>{const a=ib(t,e,n);r=(0,Qo.m9)(r);const c=i.La(a);if(r instanceof Bw)s.push(a);else{const e=Jw(r,c);null!=e&&(s.push(a),o.set(a,e))}});const a=new jh(s);return new Fw(o,a,i.fieldTransforms)}function Qw(e,t,n,r,i,s){const o=e.ja(1,t,n),a=[nb(t,r,n)],c=[i];if(s.length%2!=0)throw new yh(mh.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(nb(t,s[d])),c.push(s[d+1]);const u=[],l=gd.empty();for(let d=a.length-1;d>=0;--d)if(!ob(u,a[d])){const e=a[d];let t=c[d];t=(0,Qo.m9)(t);const n=o.La(e);if(t instanceof Bw)u.push(e);else{const r=Jw(t,n);null!=r&&(u.push(e),l.set(e,r))}}const h=new jh(u);return new Fw(l,h,o.fieldTransforms)}function Yw(e,t,n,r=!1){return Jw(n,e.ja(r?4:3,t))}function Jw(e,t){if(eb(e=(0,Qo.m9)(e)))return tb("Unsupported field value:",t,e),Xw(e,t);if(e instanceof Dw)return function(e,t){if(!Uw(t.xa))throw t.Ua(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Ua(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Jw(i,t.Ba(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Qo.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rp(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Dh.fromDate(e);return{timestampValue:df(t.k,n)}}if(e instanceof Dh){const n=new Dh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:df(t.k,n)}}if(e instanceof Rw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Nw)return{bytesValue:pf(t.k,e._byteString)};if(e instanceof mw){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Ua(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:mf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua(`Unsupported field value: ${hw(e)}`)}(e,t)}function Xw(e,t){const n={};return Fh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Mh(e,(e,r)=>{const i=Jw(r,t.Fa(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function eb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Dh||e instanceof Rw||e instanceof Nw||e instanceof mw||e instanceof Dw)}function tb(e,t,n){if(!eb(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=hw(n);throw t.Ua("an object"===r?e+" a custom object":e+" "+r)}var r}function nb(e,t,n){if((t=(0,Qo.m9)(t))instanceof Pw)return t._internalPath;if("string"==typeof t)return ib(e,t);throw sb("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const rb=new RegExp("[~\\*/\\[\\]]");function ib(e,t,n){if(t.search(rb)>=0)throw sb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Pw(...t.split("."))._internalPath}catch(r){throw sb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function sb(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new yh(mh.INVALID_ARGUMENT,a+e+c)}function ob(e,t){return e.some(e=>e.isEqual(t))}class ab{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mw(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ub("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cb extends ab{data(){return super.data()}}function ub(e,t){return"string"==typeof t?ib(e,t):t instanceof Pw?t._internalPath:t._delegate._internalPath}class lb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hb extends ab{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new db(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(ub("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class db extends hb{data(e={}){return super.data(e)}}class pb{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new lb(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new db(this._firestore,this._userDataWriter,n.key,n,new lb(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new yh(mh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new db(e._firestore,e._userDataWriter,n.doc.key,n.doc,new lb(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new db(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:fb(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ph()}}function gb(e,t){return e instanceof hb&&t instanceof hb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof pb&&t instanceof pb&&e._firestore===t._firestore&&Tw(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function mb(e){if(jd(e)&&0===e.explicitOrderBy.length)throw new yh(mh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yb{}function vb(e,...t){for(const n of t)e=n._apply(e);return e}class _b extends yb{constructor(e,t,n){super(),this.Ga=e,this.za=t,this.Ha=n,this.type="where"}_apply(e){const t=Vw(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new yh(mh.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){Cb(o,s);const t=[];for(const n of o)t.push(Ib(r,e,n));a={arrayValue:{values:t}}}else a=Ib(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Cb(o,s),a=Yw(n,"where",o,"in"===s||"not-in"===s);const c=Sd.create(i,s,a);return function(e,t){if(t.V()){const n=zd(e);if(null!==n&&!n.isEqual(t.field))throw new yh(mh.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Bd(e);null!==r&&kb(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new yh(mh.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new yw(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Ud(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class wb extends yb{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new yh(mh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new yh(mh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Rd(t,n);return function(e,t){if(null===Bd(e)){const n=zd(e);null!==n&&kb(0,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new yw(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ud(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class bb extends yb{constructor(e,t,n){super(),this.type=e,this.Ya=t,this.Xa=n}_apply(e){return new yw(e.firestore,e.converter,Kd(e._query,this.Ya,this.Xa))}}class Tb extends yb{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=Eb(e,this.type,this.Za,this.tc);return new yw(e.firestore,e.converter,(r=t,new Ud((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,r,n.endAt)));var n,r}}class Sb extends yb{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=Eb(e,this.type,this.Za,this.tc);return new yw(e.firestore,e.converter,(r=t,new Ud((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,r)));var n,r}}function Eb(e,t,n,r){if(n[0]=(0,Qo.m9)(n[0]),n[0]instanceof ab)return function(e,t,n,r,i){if(!r)throw new yh(mh.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of Hd(e))if(o.field.isKeyField())s.push(cd(t,r.key));else{const e=r.data.field(o.field);if(Kh(e))throw new yh(mh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new yh(mh.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Nd(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Vw(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new yh(mh.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new yh(mh.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!$d(e)&&-1!==s.indexOf("/"))throw new yh(mh.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(qh.fromString(s));if(!ed.isDocumentKey(n))throw new yh(mh.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new ed(n);a.push(cd(t,i))}else{const e=Yw(n,r,s);a.push(e)}}return new Nd(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Ib(e,t,n){if("string"==typeof(n=(0,Qo.m9)(n))){if(""===n)throw new yh(mh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!$d(t)&&-1!==n.indexOf("/"))throw new yh(mh.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(qh.fromString(n));if(!ed.isDocumentKey(r))throw new yh(mh.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cd(e,new ed(r))}if(n instanceof mw)return cd(e,n._key);throw new yh(mh.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${hw(n)}.`)}function Cb(e,t){if(!Array.isArray(e)||0===e.length)throw new yh(mh.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new yh(mh.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function kb(e,t,n){if(!n.isEqual(t))throw new yh(mh.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Ab{convertValue(e,t="none"){switch(td(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ph()}}convertObject(e,t){const n={};return Mh(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Rw(Hh(e.latitude),Hh(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Wh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Qh(e));default:return null}}convertTimestamp(e){const t=$h(e);return new Dh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=qh.fromString(e);fh(Vf(n));const r=new sw(n.get(1),n.get(3)),i=new ed(n.popFirst(5));return r.isEqual(t)||lh(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function xb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ob extends Ab{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mw(this.firestore,null,t)}}class Pb{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vw(e)}set(e,t,n){this._verifyNotCommitted();const r=Nb(e,this._firestore),i=xb(r.converter,t,n),s=jw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,vp.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=Nb(e,this._firestore);let s;return s="string"==typeof(t=(0,Qo.m9)(t))||t instanceof Pw?Qw(this._dataReader,"WriteBatch.update",i._key,t,n,r):Ww(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,vp.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Nb(e,this._firestore);return this._mutations=this._mutations.concat(new Pp(t._key,vp.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yh(mh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nb(e,t){if((e=(0,Qo.m9)(e)).firestore!==t)throw new yh(mh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Db extends Ab{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mw(this.firestore,null,t)}}function Rb(e,t,n){e=dw(e,mw);const r=dw(e.firestore,Cw),i=xb(e.converter,t,n);return Fb(r,[jw(Vw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vp.none())])}function Lb(e,t,n,...r){e=dw(e,mw);const i=dw(e.firestore,Cw),s=Vw(i);let o;return o="string"==typeof(t=(0,Qo.m9)(t))||t instanceof Pw?Qw(s,"updateDoc",e._key,t,n,r):Ww(s,"updateDoc",e._key,t),Fb(i,[o.toMutation(e._key,vp.exists(!0))])}function Mb(e,...t){var n,r,i;e=(0,Qo.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||Ew(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Ew(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let c,u,l;if(e instanceof mw)u=dw(e.firestore,Cw),l=Zd(e._key.path),c={next:n=>{t[o]&&t[o](Ub(u,e,n))},error:t[o+1],complete:t[o+2]};else{const n=dw(e,yw);u=dw(n.firestore,Cw),l=n._query;const r=new Db(u);c={next:e=>{t[o]&&t[o](new pb(u,r,n,e))},error:t[o+1],complete:t[o+2]},mb(e._query)}return function(e,t,n,r){const i=new F_(r),s=new xv(t,i,n);return e.asyncQueue.enqueueAndForget((0,Ho.Z)(function*(){return Tv(yield ew(e),s)})),()=>{i.na(),e.asyncQueue.enqueueAndForget((0,Ho.Z)(function*(){return Ev(yield ew(e),s)}))}}(kw(u),l,a,c)}function Fb(e,t){return function(e,t){const n=new vh;return e.asyncQueue.enqueueAndForget((0,Ho.Z)(function*(){return function(e,t,n){return Hv.apply(this,arguments)}(yield X_(e),t,n)})),n.promise}(kw(e),t)}function Ub(e,t,n){const r=n.docs.get(t._key),i=new Db(e);return new hb(e,i,t._key,r,new lb(n.hasPendingWrites,n.fromCache),t.converter)}class qb extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vw(e)}get(e){const t=Nb(e,this._firestore),n=new Ob(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return ph();const r=e[0];if(r.isFoundDocument())return new ab(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new ab(this._firestore,n,t._key,null,t.converter);throw ph()})}set(e,t,n){const r=Nb(e,this._firestore),i=xb(r.converter,t,n),s=jw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=Nb(e,this._firestore);let s;return s="string"==typeof(t=(0,Qo.m9)(t))||t instanceof Pw?Qw(this._dataReader,"Transaction.update",i._key,t,n,r):Ww(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=Nb(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Nb(e,this._firestore),n=new Db(this._firestore);return super.get(e).then(e=>new hb(this._firestore,n,t._key,e._document,new lb(!1,!1),t.converter))}}function Zb(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new yh("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function Vb(){if("undefined"==typeof Uint8Array)throw new yh("unimplemented","Uint8Arrays are not available in this environment.")}function jb(){if("undefined"==typeof atob)throw new yh("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){oh=Go.SDK_VERSION,(0,Go._registerComponent)(new Ko.wA("firestore",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new Cw(r,new Th(e.getProvider("auth-internal")),new Ch(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i},"PUBLIC")),(0,Go.registerVersion)(ih,"3.4.1",e),(0,Go.registerVersion)(ih,"3.4.1","esm2017")}();class Bb{constructor(e){this._delegate=e}static fromBase64String(e){return jb(),new Bb(Nw.fromBase64String(e))}static fromUint8Array(e){return Vb(),new Bb(Nw.fromUint8Array(e))}toBase64(){return jb(),this._delegate.toBase64()}toUint8Array(){return Vb(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class $b{enableIndexedDbPersistence(e,t){return function(e,t){Ow(e=dw(e,Cw));const n=kw(e),r=e._freezeSettings(),i=new L_;return xw(n,i,new D_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Ow(e=dw(e,Cw));const t=kw(e),n=e._freezeSettings(),r=new L_;return xw(t,r,new R_(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new yh(mh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new vh;return e._queue.enqueueAndForgetEvenWhileRestricted((0,Ho.Z)(function*(){try{yield(n=(0,Ho.Z)(function*(e){if(!pg.bt())return Promise.resolve();const t=e+"main";yield pg.delete(t)}),function(e){return n.apply(this,arguments)})(Im(e._databaseId,e._persistenceKey)),t.resolve()}catch(n){t.reject(n)}var n})),t.promise}(e._delegate)}}class Hb{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof sw||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&hh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=dw(e,gw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&hh("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=sh.MOCK_USER;else{t=(0,Qo.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new yh(mh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new sh(s)}e._authCredentials=new bh(new _h(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,Ho.Z)(function*(){const t=yield Q_(e),n=yield J_(e);return t.setNetworkEnabled(!0),function(e){const t=gh(e);return t.Gr.delete(0),Oy(t)}(n)}))}(kw(e=dw(e,Cw)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,Ho.Z)(function*(){const t=yield Q_(e),n=yield J_(e);return t.setNetworkEnabled(!1),(r=(0,Ho.Z)(function*(e){const t=gh(e);t.Gr.add(0),yield Ny(t),t.Jr.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(kw(e=dw(e,Cw)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,cw("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new vh;return e.asyncQueue.enqueueAndForget((0,Ho.Z)(function*(){return function(e,t){return n_.apply(this,arguments)}(yield X_(e),t)})),t.promise}(kw(e=dw(e,Cw)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new F_(t);return e.asyncQueue.enqueueAndForget((0,Ho.Z)(function*(){return t=yield ew(e),r=n,gh(t).io.add(r),void r.next();var t,r})),()=>{n.na(),e.asyncQueue.enqueueAndForget((0,Ho.Z)(function*(){return t=yield ew(e),r=n,void gh(t).io.delete(r);var t,r}))}}(kw(e=dw(e,Cw)),Ew(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new yh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new oT(this,_w(this._delegate,e))}catch(t){throw Jb(t,"collection()","Firestore.collection()")}}doc(e){try{return new Yb(this,ww(this._delegate,e))}catch(t){throw Jb(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rT(this,function(e,t){if(e=dw(e,gw),aw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new yh(mh.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new yw(e,null,(n=t,new Ud(qh.emptyPath(),n)));var n}(this._delegate,e))}catch(t){throw Jb(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new vh;return e.asyncQueue.enqueueAndForget((0,Ho.Z)(function*(){const r=yield(i=e,K_(i).then(e=>e.datastore));var i;new Z_(e.asyncQueue,r,t,n).run()})),n.promise}(kw(e=dw(e,Cw)),n=>t(new qb(e,n)))}(this._delegate,t=>e(new Kb(this,t)))}batch(){return kw(this._delegate),new Wb(new Pb(this._delegate,e=>Fb(this._delegate,e)))}loadBundle(e){return function(e,t){const n=kw(e=dw(e,Cw)),r=new Iw;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,r=function(e,t){if(e instanceof Uint8Array)return M_(e,t);if(e instanceof ArrayBuffer)return M_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),new U_(r,t);var r}(n,Ty(t));e.asyncQueue.enqueueAndForget((0,Ho.Z)(function*(){!function(e,t,n){const r=gh(e);var i;(i=(0,Ho.Z)(function*(e,t,n){try{const i=yield t.getMetadata();if(yield function(e,t){const n=gh(e),r=gf(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Ye.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,i))return yield t.close(),void n._completeWith((r=i,{taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}));n._updateProgress(Dv(i));const s=new Nv(i,e.localStore,t.k);let o=yield t.Ho();for(;o;){const e=yield s.yo(o);e&&n._updateProgress(e),o=yield t.Ho()}const a=yield s.complete();yield l_(e,a.In,void 0),yield function(e,t){const n=gh(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Ye.saveBundleMetadata(e,t))}(e.localStore,i),n._completeWith(a.progress)}catch(i){hh("SyncEngine",`Loading bundle failed with ${i}`),n._failWith(i)}var r}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield X_(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,Ho.Z)(function*(){return function(e,t){const n=gh(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Ye.getNamedQuery(e,t))}(yield Y_(e),t)}))}(kw(e=dw(e,Cw)),t).then(t=>t?new yw(e,null,t.query):null)}(this._delegate,e).then(e=>e?new rT(this,e):null)}}class Gb extends Ab{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bb(new Nw(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Yb.forKey(t,this.firestore,null)}}class Kb{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Gb(e)}get(e){const t=aT(e);return this._delegate.get(t).then(e=>new tT(this._firestore,new hb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=aT(e);return n?(Zb("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=aT(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=aT(e);return this._delegate.delete(t),this}}class Wb{constructor(e){this._delegate=e}set(e,t,n){const r=aT(e);return n?(Zb("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=aT(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=aT(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qb{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new db(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new nT(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Qb.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Qb(e,new Gb(e),t),r.set(t,i)),i}}Qb.INSTANCES=new WeakMap;class Yb{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Gb(e)}static forPath(e,t,n){if(e.length%2!=0)throw new yh("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Yb(t,new mw(t._delegate,n,new ed(e)))}static forKey(e,t,n){return new Yb(t,new mw(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new oT(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new oT(this.firestore,_w(this._delegate,e))}catch(t){throw Jb(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qo.m9)(e))instanceof mw&&bw(this._delegate,e)}set(e,t){t=Zb("DocumentReference.set",t);try{return t?Rb(this._delegate,e,t):Rb(this._delegate,e)}catch(n){throw Jb(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?Lb(this._delegate,e):Lb(this._delegate,e,t,...n)}catch(r){throw Jb(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return Fb(dw(e.firestore,Cw),[new Pp(e._key,vp.none())])}(this._delegate)}onSnapshot(...e){const t=Xb(e),n=eT(e,e=>new tT(this.firestore,new hb(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return Mb(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=dw(e,mw);const t=dw(e.firestore,Cw),n=kw(t),r=new Db(t);return function(e,t){const n=new vh;return e.asyncQueue.enqueueAndForget((0,Ho.Z)(function*(){return(r=(0,Ho.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=gh(e);return n.persistence.runTransaction("read document","readonly",e=>n.Wn.Rn(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new yh(mh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(r){const e=mv(r,`Failed to get document '${t} from cache`);n.reject(e)}}),function(e,t,n){return r.apply(this,arguments)})(yield Y_(e),t,n);var r})),n.promise}(n,e._key).then(n=>new hb(t,r,e._key,n,new lb(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=dw(e,mw);const t=dw(e.firestore,Cw);return nw(kw(t),e._key,{source:"server"}).then(n=>Ub(t,e,n))}(this._delegate):function(e){e=dw(e,mw);const t=dw(e.firestore,Cw);return nw(kw(t),e._key).then(n=>Ub(t,e,n))}(this._delegate),t.then(e=>new tT(this.firestore,new hb(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new Yb(this.firestore,this._delegate.withConverter(e?Qb.getInstance(this.firestore,e):null))}}function Jb(e,t,n){return e.message=e.message.replace(t,n),e}function Xb(e){for(const t of e)if("object"==typeof t&&!zb(t))return t;return{}}function eT(e,t){var n,r;let i;return i=zb(e[0])?e[0]:zb(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class tT{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Yb(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return gb(this._delegate,e._delegate)}}class nT extends tT{data(e){const t=this._delegate.data(e);return function(e,t){e||ph()}(void 0!==t),t}}class rT{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Gb(e)}where(e,t,n){try{return new rT(this.firestore,vb(this._delegate,function(e,t,n){const r=t,i=ub("where",e);return new _b(i,r,n)}(e,t,n)))}catch(r){throw Jb(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new rT(this.firestore,vb(this._delegate,function(e,t="asc"){const n=t,r=ub("orderBy",e);return new wb(r,n)}(e,t)))}catch(n){throw Jb(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rT(this.firestore,vb(this._delegate,function(e){return pw("limit",e),new bb("limit",e,"F")}(e)))}catch(t){throw Jb(t,"limit()","Query.limit()")}}limitToLast(e){try{return new rT(this.firestore,vb(this._delegate,function(e){return pw("limitToLast",e),new bb("limitToLast",e,"L")}(e)))}catch(t){throw Jb(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rT(this.firestore,vb(this._delegate,function(...e){return new Tb("startAt",e,!0)}(...e)))}catch(t){throw Jb(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rT(this.firestore,vb(this._delegate,function(...e){return new Tb("startAfter",e,!1)}(...e)))}catch(t){throw Jb(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rT(this.firestore,vb(this._delegate,function(...e){return new Sb("endBefore",e,!0)}(...e)))}catch(t){throw Jb(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rT(this.firestore,vb(this._delegate,function(...e){return new Sb("endAt",e,!1)}(...e)))}catch(t){throw Jb(t,"endAt()","Query.endAt()")}}isEqual(e){return Tw(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=dw(e,yw);const t=dw(e.firestore,Cw),n=kw(t),r=new Db(t);return function(e,t){const n=new vh;return e.asyncQueue.enqueueAndForget((0,Ho.Z)(function*(){return(r=(0,Ho.Z)(function*(e,t,n){try{const r=yield jm(e,t,!0),i=new Mv(t,r.zn),s=i.bo(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(r){const e=mv(r,`Failed to execute query '${t} against cache`);n.reject(e)}}),function(e,t,n){return r.apply(this,arguments)})(yield Y_(e),t,n);var r})),n.promise}(n,e._query).then(n=>new pb(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=dw(e,yw);const t=dw(e.firestore,Cw),n=kw(t),r=new Db(t);return rw(n,e._query,{source:"server"}).then(n=>new pb(t,r,e,n))}(this._delegate):function(e){e=dw(e,yw);const t=dw(e.firestore,Cw),n=kw(t),r=new Db(t);return mb(e._query),rw(n,e._query).then(n=>new pb(t,r,e,n))}(this._delegate),t.then(e=>new sT(this.firestore,new pb(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=Xb(e),n=eT(e,e=>new sT(this.firestore,new pb(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return Mb(this._delegate,t,n)}withConverter(e){return new rT(this.firestore,this._delegate.withConverter(e?Qb.getInstance(this.firestore,e):null))}}class iT{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new nT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new rT(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new nT(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new iT(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new nT(this._firestore,n))})}isEqual(e){return gb(this._delegate,e._delegate)}}class oT extends rT{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Yb(this.firestore,e):null}doc(e){try{return new Yb(this.firestore,void 0===e?ww(this._delegate):ww(this._delegate,e))}catch(t){throw Jb(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=dw(e.firestore,Cw),r=ww(e),i=xb(e.converter,t);return Fb(n,[jw(Vw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vp.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new Yb(this.firestore,e))}isEqual(e){return bw(this._delegate,e._delegate)}withConverter(e){return new oT(this.firestore,this._delegate.withConverter(e?Qb.getInstance(this.firestore,e):null))}}function aT(e){return dw(e,mw)}class cT{constructor(...e){this._delegate=new Pw(...e)}static documentId(){return new cT(Vh.keyField().canonicalString())}isEqual(e){return(e=(0,Qo.m9)(e))instanceof Pw&&this._delegate._internalPath.isEqual(e._internalPath)}}class uT{constructor(e){this._delegate=e}static serverTimestamp(){const e=new $w("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new uT(e)}static delete(){const e=new Bw("deleteField");return e._methodName="FieldValue.delete",new uT(e)}static arrayUnion(...e){const t=function(...e){return new Hw("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new uT(t)}static arrayRemove(...e){const t=function(...e){return new Gw("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new uT(t)}static increment(e){const t=function(e){return new Kw("increment",e)}(e);return t._methodName="FieldValue.increment",new uT(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const lT={Firestore:Hb,GeoPoint:Rw,Timestamp:Dh,Blob:Bb,Transaction:Kb,WriteBatch:Wb,DocumentReference:Yb,DocumentSnapshot:tT,Query:rT,QueryDocumentSnapshot:nT,QuerySnapshot:sT,CollectionReference:oT,FieldPath:cT,FieldValue:uT,setLogLevel:function(e){!function(e){ah.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){(function(e,t){e.INTERNAL.registerComponent(new Ko.wA("firestore-compat",e=>((e,t)=>new Hb(e,t,new $b))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},lT)))})(e),e.registerVersion("@firebase/firestore-compat","0.1.10")}($o.Z);var hT=n(6682),dT=n(309),pT=n(7771),fT=n(8858);class gT extends xn.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new mT(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new On.N;if(this.isStopped||this.hasError?s=Tr.w.EMPTY:(this.observers.push(e),s=new fT.W(this,e)),r&&e.add(e=new dT.ht(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||pT.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class mT{constructor(e,t){this.time=e,this.value=t}}function yT(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(u){let l;o++,!i||a?(a=!1,i=new gT(e,t,r),l=i.subscribe(this),s=u.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){c=!0,s=void 0,i.complete()}}),c&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function vT(e,t){return t?Wn(()=>e,t):Wn(()=>e)}var _T=n(3101);n(2329);const wT=new Map,bT={activated:!1,tokenObservers:[]},TT={initialized:!1,enabled:!1};function ST(e){return wT.get(e)||bT}function ET(e,t){wT.set(e,t)}function IT(){return TT}class CT{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ho.Z)(function*(){t.stop();try{t.pending=new Qo.BH,yield function(e){return new Promise(t=>{setTimeout(t,e)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qo.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(n){t.retryPolicy(n)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const kT=new Qo.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function AT(e){if(!ST(e).activated)throw kT.create("use-before-activation",{appName:e.name})}function xT(e,t){return OT.apply(this,arguments)}function OT(){return(OT=(0,Ho.Z)(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(t),headers:r};let o,a;try{o=yield fetch(e,s)}catch(h){throw kT.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw kT.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw kT.create("fetch-parse-error",{originalErrorMessage:h.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw kT.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+u,issuedAtTimeMillis:l}})).apply(this,arguments)}function PT(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const NT="firebase-app-check-store";let DT=null;function RT(){return DT||(DT=new Promise((e,t)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(kT.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(NT,{keyPath:"compositeKey"})}}}catch(n){t(kT.create("storage-open",{originalErrorMessage:n.message}))}}),DT)}function LT(){return(LT=(0,Ho.Z)(function*(e,t){const n=(yield RT()).transaction(NT,"readwrite"),r=n.objectStore(NT).put({compositeKey:e,value:t});return new Promise((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(kT.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}const MT=new Wo.Yd("@firebase/app-check");function FT(e,t){return(0,Qo.hl)()?function(e,t){return function(e,t){return LT.apply(this,arguments)}(function(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(e=>{MT.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function UT(){return IT().enabled}function qT(){return ZT.apply(this,arguments)}function ZT(){return(ZT=(0,Ho.Z)(function*(){const e=IT();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const VT={error:"UNKNOWN_ERROR"};function jT(e){return Qo.US.encodeString(JSON.stringify(e),!1)}function BT(e){return zT.apply(this,arguments)}function zT(){return(zT=(0,Ho.Z)(function*(e,t=!1){const n=e.app;AT(n);const r=ST(n);let i,s=r.token;if(!s){const e=yield r.cachedTokenPromise;e&&KT(e)&&(s=e)}if(!t&&s&&KT(s))return{token:s.token};let o,a=!1;if(UT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=xT(PT(n,yield qT()),e.platformLoggerProvider).then(e=>(r.exchangeTokenPromise=void 0,e)),a=!0);const t=yield r.exchangeTokenPromise;return yield FT(n,t),ET(n,Object.assign(Object.assign({},r),{token:t})),{token:t.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(e=>(r.exchangeTokenPromise=void 0,e)),a=!0),s=yield r.exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?MT.warn(c.message):MT.error(c),i=c}return s?(o={token:s.token},ET(n,Object.assign(Object.assign({},r),{token:s})),yield FT(n,s)):o=WT(i),a&&GT(n,o),o})).apply(this,arguments)}function $T(e,t){const n=ST(e),r=n.tokenObservers.filter(e=>e.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),ET(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function HT(e){const{app:t}=e,n=ST(t);let r=n.tokenRefresher;r||(r=function(e){const{app:t}=e;return new CT((0,Ho.Z)(function*(){let n;if(n=ST(t).token?yield BT(e,!0):yield BT(e),n.error)throw n.error}),()=>!0,()=>{const e=ST(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(e),ET(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function GT(e,t){const n=ST(e).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function KT(e){return e.expireTimeMillis-Date.now()>0}function WT(e){return{token:jT(VT),error:e}}class QT{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=ST(this.app);for(const t of e)$T(this.app,t.next);return Promise.resolve()}}const YT="app-check-internal";(0,Go._registerComponent)(new Ko.wA("app-check",e=>function(e,t){return new QT(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(YT).initialize()})),(0,Go._registerComponent)(new Ko.wA(YT,e=>function(e){return{getToken:t=>BT(e,t),addTokenListener:t=>function(e,t,n,r){const{app:i}=e,s=ST(i),o={next:n,error:r,type:t};if(ET(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&KT(s.token)){const t=s.token;Promise.resolve().then(()=>{n({token:t.token}),HT(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>HT(e))}(e,"INTERNAL",t),removeTokenListener:t=>$T(e.app,t)}}(e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Go.registerVersion)("@firebase/app-check","0.5.2");class JT{constructor(){return(0,Fo.vb)("app-check")}}"undefined"!=typeof window&&window;var XT=n(7841);const eS=new r.OlP("angularfire2.auth.use-emulator"),tS=new r.OlP("angularfire2.auth.settings"),nS=new r.OlP("angularfire2.auth.tenant-id"),rS=new r.OlP("angularfire2.auth.langugage-code"),iS=new r.OlP("angularfire2.auth.use-device-language"),sS=new r.OlP("angularfire.auth.persistence"),oS=(e,t,n,r,i,s,o,a)=>(0,zo.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const c=t.runOutsideAngular(()=>e.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,s&&c.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))c.settings[e]=t;return a&&c.setPersistence(a),c},[n,r,i,s,o,a]);let aS=(()=>{class e{constructor(e,t,r,i,s,o,a,c,u,l,h,d){const p=new xn.xQ,f=(0,ke.of)(void 0).pipe((0,dT.QV)(s.outsideAngular),Wn(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,2755)))),(0,Le.U)(()=>(0,zo.on)(e,i,t)),(0,Le.U)(e=>oS(e,i,o,c,u,l,a,h)),yT({bufferSize:1,refCount:!1}));if(H(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ke.of)(null);else{f.pipe(wr()).subscribe();const e=f.pipe(Wn(e=>e.getRedirectResult().then(e=>e,()=>null)),Fo.iC,yT({bufferSize:1,refCount:!1})),t=f.pipe(Wn(e=>new Ae.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=f.pipe(Wn(e=>new Ae.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(vT(t),(0,_T.R)(s.outsideAngular),(0,dT.QV)(s.insideAngular)),this.user=e.pipe(vT(n),(0,_T.R)(s.outsideAngular),(0,dT.QV)(s.insideAngular)),this.idToken=this.user.pipe(Wn(e=>e?(0,mt.D)(e.getIdToken()):(0,ke.of)(null))),this.idTokenResult=this.user.pipe(Wn(e=>e?(0,mt.D)(e.getIdTokenResult()):(0,ke.of)(null))),this.credential=(0,hT.T)(e,p,this.authState.pipe(Ne(e=>!e))).pipe((0,Le.U)(e=>(null==e?void 0:e.user)?e:null),(0,_T.R)(s.outsideAngular),(0,dT.QV)(s.insideAngular))}return(0,zo.pX)(this,f,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>p.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(zo.Dh),r.LFG(zo.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Fo.HU),r.LFG(eS,8),r.LFG(tS,8),r.LFG(nS,8),r.LFG(rS,8),r.LFG(iS,8),r.LFG(sS,8),r.LFG(JT,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function cS(e,t){return function(e,t=Mo.z){return new Ae.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function uS(e,t){return cS(e,t).pipe((0,Le.U)(e=>({payload:e,type:"query"})))}function lS(e,t){return uS(e,t).pipe(nr(void 0),Uo(),(0,Le.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function hS(e,t,n){return lS(e,n).pipe(rr((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return dS(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return dS(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return dS(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),e=>e.lift(new Vo(void 0,void 0)),(0,Le.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function dS(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function pS(e){return(!e||0===e.length)&&(e=["added","removed","modified"]),e}class fS{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=lS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Le.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(nr(void 0),Uo(),Ne(([e,t])=>t.length>0||!e),(0,Le.U)(([e,t])=>t),Fo.iC)}auditTrail(e){return this.stateChanges(e).pipe(rr((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=pS(e);return hS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fo.iC)}valueChanges(e={}){return uS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),Fo.iC)}get(e){return(0,mt.D)(this.query.get(e)).pipe(Fo.iC)}add(e){return this.ref.add(e)}doc(e){return new gS(this.ref.doc(e),this.afs)}}class gS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=bS(n,t);return new fS(r,i,this.afs)}snapshotChanges(){return function(e,t){return cS(e,t).pipe(nr(void 0),Uo(),(0,Le.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fo.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Le.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,mt.D)(this.ref.get(e)).pipe(Fo.iC)}}class mS{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?lS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),Ne(e=>e.length>0),Fo.iC):lS(this.query,this.afs.schedulers.outsideAngular).pipe(Fo.iC)}auditTrail(e){return this.stateChanges(e).pipe(rr((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=pS(e);return hS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fo.iC)}valueChanges(e={}){return uS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),Fo.iC)}get(e){return(0,mt.D)(this.query.get(e)).pipe(Fo.iC)}}const yS=new r.OlP("angularfire2.enableFirestorePersistence"),vS=new r.OlP("angularfire2.firestore.persistenceSettings"),_S=new r.OlP("angularfire2.firestore.settings"),wS=new r.OlP("angularfire2.firestore.use-emulator");function bS(e,t=(e=>e)){return{query:t(e),ref:e}}let TS=(()=>{class e{constructor(e,t,n,r,i,s,o,a,c,u,l,h,d,p,f,g,m){this.schedulers=o;const y=(0,zo.on)(e,s,t),v=c;u&&oS(y,s,l,d,p,f,h,g),[this.firestore,this.persistenceEnabled$]=(0,zo.cc)(`${y.name}.firestore`,"AngularFirestore",y.name,()=>{const e=s.runOutsideAngular(()=>y.firestore());if(r&&e.settings(r),v&&e.useEmulator(...v),n&&!H(i)){const t=()=>{try{return(0,mt.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,ke.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,ke.of)(!1)]},[r,v,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=bS(n,t),s=this.schedulers.ngZone.run(()=>r);return new fS(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new mS(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new gS(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(zo.Dh),r.LFG(zo.xv,8),r.LFG(yS,8),r.LFG(_S,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Fo.HU),r.LFG(vS,8),r.LFG(wS,8),r.LFG(aS,8),r.LFG(eS,8),r.LFG(tS,8),r.LFG(nS,8),r.LFG(rS,8),r.LFG(iS,8),r.LFG(sS,8),r.LFG(JT,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),SS=(()=>{class e{constructor(){XT.Z.registerVersion("angularfire",Fo.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:yS,useValue:!0},{provide:vS,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[TS]}),e})(),ES=(()=>{class e{constructor(e,t){this.afs=e,this.http=t,this.itemsColletionForBicycle=this.afs.collection("bicycles"),this.itemsColletionForParts=this.afs.collection("parts"),this.itemsColletionForAccessories=this.afs.collection("accessories"),this.itemsColletionForClothing=this.afs.collection("clothing"),this.bicycles=[],this.accessoriesData=[],this.partsData=[],this.clothingData=[],this.bikeImgsPage1=[],this.bikeImgsPage2=[],this.bikeImgs=[],this.parts=[],this.accessories=[],this.clothing=[],this.client_id="uSqHNuvq55SqP0cICoLzjGSpxCCEz9sZ92JKI9yvsrE"}getBicyclesPage1(){return this.http.get(`https://api.unsplash.com/collections/iuAONw1hf3k/photos/?query=''&per_page=20&client_id=${this.client_id}&page=1`).pipe((0,Le.U)(e=>e.map(e=>e.urls.small)))}getBicyclesPage2(){return this.http.get(`https://api.unsplash.com/collections/iuAONw1hf3k/photos/?query=''&per_page=20&client_id=${this.client_id}&page=2`).pipe((0,Le.U)(e=>e.map(e=>e.urls.small)))}getParts(){return this.http.get(`https://api.unsplash.com/collections/MkltW8eSTkQ/photos/?query=''&per_page=20&client_id=${this.client_id}`).pipe((0,Le.U)(e=>e.map(e=>e.urls.small)))}getAccessories(){return this.http.get(`https://api.unsplash.com/collections/-_X6rVMs3UA/photos/?query=''&per_page=20&client_id=${this.client_id}`).pipe((0,Le.U)(e=>e.map(e=>e.urls.small)))}getClothing(){return this.http.get(`https://api.unsplash.com/collections/VzcUWJHRjgA/photos/?query=''&per_page=20&client_id=${this.client_id}`).pipe((0,Le.U)(e=>e.map(e=>e.urls.small)))}makeBrand(e){for(var t="",n=["Hannondale","Kube","Katch","Marinu","Zona","Harley","Biancho"],r=n.length,i=0;i<e;i++)t+=n[Math.floor(Math.random()*r)];return t}makeid(e){for(var t="",n="ABCDEFG",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t}getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}makeDesc(e){for(var t="",n=["The Lifestyle comes with a simple Shimano 7-speed drivetrain. The gearing is perfect for moderate hills and long distances on flat surfaces. Alloy linear-pull brakes offer excellent stopping power on the pavement. With the double-wall alloy rims paired with 27.5 x 1.95 inches tires, you'll have a sturdy set up with some extra cushion underneath you.","This model comes with the new Shimano Deore M6100 12-Speed drivetrain with a single chainring setup which can be usually seen on significantly more expensive bikes. There are a few benefits of this system - it makes shifting much simpler because handlebars occupy only one shifter and the overall weight is significantly lower compared with double or triple chainrings setup. The crankset comes with 32 teeth narrow-wide chainring for firm chain retention. The new 12-speed cassette uses Beam Spider construction to keep the weight down while increasing gearing range. Using new Micro Spline freehub body and HyperGlide+ tooth profile, the 10-51T cassette delivers advanced shifting performance. Lastly, the ride is significantly quieter, with a clutch equipped derailleur which perfectly secures the chain and eliminates any bouncing.","The bike comes equipped with a 120mm travel SR Suntour XCR 32 air suspension fork with thru-axle to give the bike greater control while descending rough terrain at high speeds. With the increased travel in the fork, the head tube and stem length have been shortened to preserve the neutral riding position that Polygons are known for. There has been no compromise on the popular handling characteristics of the bike, yet the additional travel ensures the bike is more forgiving in more technical environments. The Shimano M201 hydraulic disc brakes offer excellent modulation, fierce stopping power and yet are simple to service.",'All too often, corners are cut to meet price-points in the entry-level road bike market, but the Allez redefines what it means to be "entry level." Focusing on weight, refinement, and reliability like nothing else in its class, the Allez is the first to make these technologies accessible to everyone. Whether you\'re just getting into road cycling, commuting, or looking for a new bike, the Allez is just as performance-packed as it is versatile.',"Entry-level road bikes often times feature either alloy or cheap carbon fiber forks that greatly detract from the overall ride quality. But with a full FACT carbon fiber fork, the Allez is better handling, smoother riding, and lower in weight, floating over rough chip-seal and carving through corners like a slalom skier.","This Allez also features integrated rack and fender mounts, allowing you to get weight of your backpack off you and onto a lightweight rack. This not only makes for a good road bike, but it also enables you to transform it into a fast commuter.","Boasting contemporary race geometry, English-threaded bottom bracket shell, shortened chainstay, replaceable derailleur hanger, and substantial mud clearance, the Nature Cross now features a Columbus Futura carbon fork with adjustable rake, tapered head and steerer tubes, and clearance for 700c x 42mm tires."],r=n.length,i=0;i<e;i++)t+=n[Math.floor(Math.random()*r)];return t}createBicycles(){this.getBicyclesPage1().subscribe(e=>{this.bikeImgsPage1=e}),this.getBicyclesPage2().subscribe(e=>{this.bikeImgsPage2=e}),setTimeout(()=>{this.bikeImgs=[...this.bikeImgsPage1,...this.bikeImgsPage2];for(let e=0;e<40;e++)this.bicycles.push({img:this.bikeImgs[e]}),e%3==0&&(this.bicycles[e].categorie="Road Bike"),e%3==1&&(this.bicycles[e].categorie="City Bike"),e%3==2&&(this.bicycles[e].categorie="Mountain Bike"),this.bicycles[e].id=Lo(),this.bicycles[e].title=this.makeBrand(1)+" "+this.makeid(1)+this.getRandomInt(1e3,9999),this.bicycles[e].price=this.getRandomInt(500,900),this.bicycles[e].description=this.makeDesc(1),this.itemsColletionForBicycle.add(this.bicycles[e])},3e3)}createParts(){this.getParts().subscribe(e=>{this.parts=e}),setTimeout(()=>{for(let e=0;e<20;e++)this.partsData.push({img:this.parts[e]}),this.partsData[e].id=Lo(),this.partsData[e].title="Model "+this.makeid(1)+this.getRandomInt(1e3,9999),this.partsData[e].price=this.getRandomInt(30,300),this.partsData[e].description=this.makeDesc(1),this.itemsColletionForParts.add(this.partsData[e])},3e3)}createAccessories(){this.getAccessories().subscribe(e=>{this.accessories=e}),setTimeout(()=>{for(let e=0;e<20;e++)this.accessoriesData.push({img:this.accessories[e]}),this.accessoriesData[e].id=Lo(),this.accessoriesData[e].title="Model "+this.makeid(1)+this.getRandomInt(1e3,9999),this.accessoriesData[e].price=this.getRandomInt(30,300),this.accessoriesData[e].description=this.makeDesc(1),this.itemsColletionForAccessories.add(this.accessoriesData[e])},3e3)}createClothing(){this.getClothing().subscribe(e=>{this.clothing=e}),setTimeout(()=>{for(let e=0;e<20;e++)this.clothingData.push({img:this.clothing[e]}),this.clothingData[e].id=Lo(),this.clothingData[e].title="Model "+this.makeid(1)+this.getRandomInt(1e3,9999),this.clothingData[e].price=this.getRandomInt(30,300),this.clothingData[e].description=this.makeDesc(1),this.itemsColletionForClothing.add(this.clothingData[e])},3e3)}postData(){this.createBicycles(),this.createParts(),this.createAccessories(),this.createClothing()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(TS),r.LFG(nt))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),IS=(()=>{class e{constructor(e,t){this.authService=e,this.databaseService=t,this.test=[]}ngOnInit(){this.authService.autoLogin()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ko),r.Y36(ES))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:[ao],styles:[""]}),e})();const CS=function(){return["/home"]};let kS=(()=>{class e{constructor(e,t){this.authService=e,this.router=t}ngOnInit(){}onLogin(e){e.invalid?this.error_message="input is invalid. Please check your email adress or password!":(console.log(e.value),this.authService.logIn(e.value.email,e.value.password).subscribe(e=>{this.router.navigate(["/shopfor"])},e=>{this.error_message="input is invalid. Please check your email adress or password!"}))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ko),r.Y36(to))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"main-main"],[1,"main"],[3,"ngSubmit"],["loginForm","ngForm"],["ngModel","","type","email","name","email","required","","email","","placeholder","Email"],["ngModel","","type","password","name","password","required","","minlenght","4","placeholder","Password"],[1,"btn"],[1,"errors"],["routerLinkActive","router-link-active",3,"routerLink"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r._uU(3,"LOGIN"),r.qZA(),r.TgZ(4,"form",2,3),r.NdJ("ngSubmit",function(){r.CHM(e);const n=r.MAs(5);return t.onLogin(n)}),r._UZ(6,"input",4),r._UZ(7,"input",5),r.TgZ(8,"button",6),r._uU(9,"LOG IN"),r.qZA(),r.TgZ(10,"div",7),r._uU(11),r.qZA(),r.TgZ(12,"div"),r._uU(13,"or "),r.TgZ(14,"a",8),r._uU(15,"Return to Store"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(11),r.Oqu(t.error_message),r.xp6(3),r.Q6J("routerLink",r.DdM(2,CS)))},directives:[_n,Gt,gn,It,Ht,vn,Tn,En,io,oo],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main[_ngcontent-%COMP%]{width:30%;padding:30px 0}.main-main[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}input[_ngcontent-%COMP%]{border:none;padding:10px;margin:10px 0}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.errors[_ngcontent-%COMP%]{color:red}"]}),e})();const AS=function(){return["/home"]};let xS=(()=>{class e{constructor(e,t){this.authService=e,this.router=t}ngOnInit(){}onSubmit(e){e.invalid&&(this.error_message="Registeriation is unsuccessful! Email must be valid and password must have more than 6 characters."),this.authService.signUp(e.value.email,e.value.password).subscribe(e=>{this.router.navigate(["/shopfor"])},e=>{this.error_message="Registeriation unsuccessful! Email must be valid and password must have more than 6 characters."})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ko),r.Y36(to))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-createaccount"]],decls:16,vars:3,consts:[[1,"main-main"],[1,"main"],[3,"ngSubmit"],["authForm","ngForm"],["ngModel","","type","email","name","email","required","","email","","placeholder","Email"],["ngModel","","type","password","name","password","required","","minlenght","4","placeholder","Password"],[1,"btn"],[1,"errors"],["routerLinkActive","router-link-active",3,"routerLink"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r._uU(3,"CREATE ACCOUNT"),r.qZA(),r.TgZ(4,"form",2,3),r.NdJ("ngSubmit",function(){r.CHM(e);const n=r.MAs(5);return t.onSubmit(n)}),r._UZ(6,"input",4),r._UZ(7,"input",5),r.TgZ(8,"button",6),r._uU(9,"SIGN UP"),r.qZA(),r.TgZ(10,"div",7),r._uU(11),r.qZA(),r.TgZ(12,"div"),r._uU(13,"or "),r.TgZ(14,"a",8),r._uU(15,"Return to Store"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(11),r.Oqu(t.error_message),r.xp6(3),r.Q6J("routerLink",r.DdM(2,AS)))},directives:[_n,Gt,gn,It,Ht,vn,Tn,En,io,oo],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main[_ngcontent-%COMP%]{width:30%;padding:30px 0}.main-main[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}input[_ngcontent-%COMP%]{border:none;padding:10px;margin:10px 0}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.errors[_ngcontent-%COMP%]{color:red}"]}),e})(),OS=(()=>{class e{constructor(e,t){this.afs=e,this.http=t,this.items=["Bikes","Parts","Accessories","Clothing"],this.biketypes=["Road Bike","Mountain Bike","City Bike"],this.mainImages=[],this.bikePage1=[],this.bikePage2=[],this.parts=[],this.accessories=[],this.clothing=[],this.homeProducts=[],this.afs.collection("bicycles").valueChanges().subscribe(e=>{e.slice(0,20).map(e=>{this.bikePage1.push(e)}),this.homeProducts[0]=this.bikePage1[2]}),this.afs.collection("bicycles").valueChanges().subscribe(e=>{e.slice(21,41).map(e=>{this.bikePage2.push(e)})}),this.afs.collection("parts").valueChanges().subscribe(e=>{e.slice(0,20).map(e=>{this.parts.push(e)}),this.homeProducts[1]=this.parts[2]}),this.afs.collection("clothing").valueChanges().subscribe(e=>{e.slice(0,20).map(e=>{this.clothing.push(e)}),this.homeProducts[3]=this.clothing[1]}),this.afs.collection("accessories").valueChanges().subscribe(e=>{e.slice(0,20).map(e=>{this.accessories.push(e)}),this.homeProducts[2]=this.accessories[1]}),this.afs.collection("mainimages").valueChanges().subscribe(e=>{e.map(e=>{this.mainImages.push(e)})})}getDataFromCate(e){this.getData=e}getToDetail(e,t){this.toDetailData=e,this.toCategorieName=t}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(TS),r.LFG(nt))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const PS=["el"],NS=["first"],DS=["second"],RS=["carousel_nav"];let LS=(()=>{class e{constructor(e){this.itemService=e}next(){var e=this.map.nativeElement,t=e.querySelectorAll(".current_slide")[0],n=t.nextElementSibling;if(null!==n){e.style.transform="translateX(-"+n.style.left+")",t.classList.remove("current_slide"),n.classList.add("current_slide");var r=this.nav.nativeElement.querySelectorAll(".current")[0],i=r.nextElementSibling;r.classList.remove("current"),i.classList.add("current")}}previous(){var e=this.map.nativeElement,t=e.querySelectorAll(".current_slide")[0],n=t.previousElementSibling;if(null!==n){e.style.transform="translateX("+n.style.left+")",t.classList.remove("current_slide"),n.classList.add("current_slide");var r=this.nav.nativeElement.querySelectorAll(".current")[0],i=r.previousElementSibling;r.classList.remove("current"),i.classList.add("current")}}ngOnInit(){this.mainImages=this.itemService.mainImages}ngAfterViewInit(){var e=this.first.nativeElement.getBoundingClientRect().width;Array.from(this.map.nativeElement.children).forEach((t,n)=>{t.style.left=e*n+"px"})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(OS))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-slide"]],viewQuery:function(e,t){if(1&e&&(r.Gf(PS,5),r.Gf(NS,5),r.Gf(DS,5),r.Gf(RS,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.map=e.first),r.iGM(e=r.CRH())&&(t.first=e.first),r.iGM(e=r.CRH())&&(t.second=e.first),r.iGM(e=r.CRH())&&(t.nav=e.first)}},decls:19,vars:2,consts:[[1,"carousel"],[1,"top_section"],[1,"carousel_button","car-left",3,"click"],[1,"fas","fa-chevron-left"],[1,"carousel_track_container"],[1,"carousel_track"],["el",""],[1,"carousel_slide","current_slide"],["first",""],["alt","Slides",1,"carousel_image",3,"src"],[1,"carousel_slide","test"],["second",""],[1,"carousel_button","car-right",3,"click"],[1,"fas","fa-chevron-right"],[1,"carousel_nav","bottom_section"],["carousel_nav",""],[1,"carousel_indicator","current"],[1,"carousel_indicator"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"button",2),r.NdJ("click",function(){return t.previous()}),r._UZ(3,"i",3),r.qZA(),r.TgZ(4,"div",4),r.TgZ(5,"ul",5,6),r.TgZ(7,"li",7,8),r._UZ(9,"img",9),r.qZA(),r.TgZ(10,"li",10,11),r._UZ(12,"img",9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"button",12),r.NdJ("click",function(){return t.next()}),r._UZ(14,"i",13),r.qZA(),r.qZA(),r.TgZ(15,"div",14,15),r._UZ(17,"button",16),r._UZ(18,"button",17),r.qZA(),r.qZA()),2&e&&(r.xp6(9),r.s9C("src",t.mainImages[0].img,r.LSH),r.xp6(3),r.s9C("src",t.mainImages[1].img,r.LSH))},styles:[".carousel[_ngcontent-%COMP%]{height:45vh;width:80%;margin:0 auto;z-index:-1}@media (max-width: 760px){.carousel[_ngcontent-%COMP%]{width:100%!important;height:35vh!important}.carousel_track_container[_ngcontent-%COMP%]{height:30vh!important}.top_section[_ngcontent-%COMP%]{padding:30 20px!important}}@media (max-width: 360px){.carousel[_ngcontent-%COMP%]{height:25vh!important}.carousel_track_container[_ngcontent-%COMP%]{height:20vh!important}.top_section[_ngcontent-%COMP%]{padding:20 50px!important}}.top_section[_ngcontent-%COMP%]{padding:30px}.carousel_track_container[_ngcontent-%COMP%]{position:relative;width:100%;height:40vh;overflow:hidden;border-radius:10px}.carousel_track[_ngcontent-%COMP%]{list-style:none;height:100%;padding:0;margin:0;position:relative;transition:all ease-in-out 1s}.carousel_slide[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:100%}.carousel_image[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.carousel_button[_ngcontent-%COMP%]{background:transparent;border:0;cursor:pointer;margin:0 10px;transition:all ease-in-out .3s}.carousel_button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;opacity:.5;transition:all ease-in-out .3s}.carousel_button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{font-size:2.5em;opacity:.2}.top_section[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center}.bottom_section[_ngcontent-%COMP%]{display:flex;justify-content:center}.carousel_indicator[_ngcontent-%COMP%]{border:none;border-radius:50%;width:10px;height:10px;background:black;opacity:.5;margin:5px}.current[_ngcontent-%COMP%]{opacity:.7}.hide[_ngcontent-%COMP%]{display:none}"]}),e})();function MS(e,t){if(1&e&&(r.TgZ(0,"div",9),r._UZ(1,"img",10),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.qZA()),2&e){const e=t.index,n=r.oxw();r.MGl("routerLink","/",n.routerpath[e],""),r.xp6(1),r.s9C("src",n.homeProducts[e].img,r.LSH),r.xp6(2),r.Oqu(n.categories[e])}}const FS=function(){return["/details"]};function US(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",12),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().index;return r.oxw().toDetail(t,"bikePage1")}),r._UZ(1,"img",13),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.TgZ(4,"div"),r._uU(5),r.ALo(6,"currency"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().index,t=r.oxw();r.Q6J("routerLink",r.DdM(7,FS)),r.xp6(1),r.s9C("src",t.bikePage1[e].img,r.LSH),r.xp6(2),r.Oqu(t.bikePage1[e].title),r.xp6(2),r.Oqu(r.xi3(6,4,t.bikePage1[e].price,"EUR"))}}function qS(e,t){if(1&e&&r.YNc(0,US,7,8,"div",11),2&e){const e=t.index,n=r.oxw();r.Q6J("ngIf",e<5&&!n.isMobile||e<3&&n.isMobile)}}function ZS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",12),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().index;return r.oxw().toDetail(t,"parts")}),r._UZ(1,"img",13),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.TgZ(4,"div"),r._uU(5),r.ALo(6,"currency"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().index,t=r.oxw();r.Q6J("routerLink",r.DdM(7,FS)),r.xp6(1),r.s9C("src",t.parts[e].img,r.LSH),r.xp6(2),r.Oqu(t.parts[e].title),r.xp6(2),r.Oqu(r.xi3(6,4,t.parts[e].price,"EUR"))}}function VS(e,t){if(1&e&&r.YNc(0,ZS,7,8,"div",11),2&e){const e=t.index,n=r.oxw();r.Q6J("ngIf",e<5&&!n.isMobile||e<3&&n.isMobile)}}function jS(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",12),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().index;return r.oxw().toDetail(t,"accessories")}),r._UZ(1,"img",13),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.TgZ(4,"div"),r._uU(5),r.ALo(6,"currency"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().index,t=r.oxw();r.Q6J("routerLink",r.DdM(7,FS)),r.xp6(1),r.s9C("src",t.accessories[e].img,r.LSH),r.xp6(2),r.Oqu(t.accessories[e].title),r.xp6(2),r.Oqu(r.xi3(6,4,t.accessories[e].price,"EUR"))}}function BS(e,t){if(1&e&&r.YNc(0,jS,7,8,"div",11),2&e){const e=t.index,n=r.oxw();r.Q6J("ngIf",e<5&&!n.isMobile||e<3&&n.isMobile)}}const zS=function(){return["/categories"]},$S=function(){return["/parts"]},HS=function(){return["/accessories"]};let GS=(()=>{class e{constructor(e,t){this.http=e,this.itemService=t,this.isMobile=!1,this.routerpath=["categories","parts","accessories","clothing"],this.categories=[],this.homeProducts=this.itemService.homeProducts,this.categories=this.itemService.items,this.bikePage1=this.itemService.bikePage1,this.parts=this.itemService.parts,this.accessories=this.itemService.accessories}ngOnInit(){window.onresize=()=>this.isMobile=window.innerWidth<=400,document.documentElement.clientWidth<400&&(this.isMobile=!0)}toDetail(e,t){return"bikePage1"==t?this.itemService.getToDetail(this.bikePage1[e].id,t):"parts"==t?this.itemService.getToDetail(this.parts[e].id,t):"accessories"==t?this.itemService.getToDetail(this.accessories[e].id,t):void 0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(nt),r.Y36(OS))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-shopfor"]],decls:39,vars:16,consts:[[1,"main"],[1,"body"],[1,"line"],[1,"title"],[1,"left"],[1,"categories"],["ngFor","",3,"ngForOf"],[1,"right"],["routerLinkActive","router-link-active",3,"routerLink"],["routerLinkActive","router-link-active",1,"card",3,"routerLink"],["alt","lens",1,"shopforimg",3,"src"],["class","card-two","routerLinkActive","router-link-active",3,"routerLink","click",4,"ngIf"],["routerLinkActive","router-link-active",1,"card-two",3,"routerLink","click"],["alt","lens",1,"bikesimg",3,"src"]],template:function(e,t){1&e&&(r._UZ(0,"app-slide"),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r._UZ(3,"div",2),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r._uU(6,"SHOP FOR"),r.qZA(),r.qZA(),r.TgZ(7,"div",5),r.YNc(8,MS,4,3,"ng-template",6),r.qZA(),r.TgZ(9,"div",1),r._UZ(10,"div",2),r.qZA(),r.TgZ(11,"div",3),r.TgZ(12,"div",4),r._uU(13),r.qZA(),r.TgZ(14,"div",7),r.TgZ(15,"a",8),r._uU(16),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"div",5),r.YNc(18,qS,1,1,"ng-template",6),r.qZA(),r.TgZ(19,"div",1),r._UZ(20,"div",2),r.qZA(),r.TgZ(21,"div",3),r.TgZ(22,"div",4),r._uU(23),r.qZA(),r.TgZ(24,"div",7),r.TgZ(25,"a",8),r._uU(26),r.qZA(),r.qZA(),r.qZA(),r.TgZ(27,"div",5),r.YNc(28,VS,1,1,"ng-template",6),r.qZA(),r.TgZ(29,"div",1),r._UZ(30,"div",2),r.qZA(),r.TgZ(31,"div",3),r.TgZ(32,"div",4),r._uU(33),r.qZA(),r.TgZ(34,"div",7),r.TgZ(35,"a",8),r._uU(36),r.qZA(),r.qZA(),r.qZA(),r.TgZ(37,"div",5),r.YNc(38,BS,1,1,"ng-template",6),r.qZA(),r.qZA()),2&e&&(r.xp6(8),r.Q6J("ngForOf",t.homeProducts),r.xp6(5),r.Oqu(t.categories[0]),r.xp6(2),r.Q6J("routerLink",r.DdM(13,zS)),r.xp6(1),r.hij("More ",t.categories[0]," >"),r.xp6(2),r.Q6J("ngForOf",t.bikePage1),r.xp6(5),r.Oqu(t.categories[1]),r.xp6(2),r.Q6J("routerLink",r.DdM(14,$S)),r.xp6(1),r.hij("More ",t.categories[1],">"),r.xp6(2),r.Q6J("ngForOf",t.parts),r.xp6(5),r.Oqu(t.categories[2]),r.xp6(2),r.Q6J("routerLink",r.DdM(15,HS)),r.xp6(1),r.hij("More ",t.categories[2],">"),r.xp6(2),r.Q6J("ngForOf",t.accessories))},directives:[LS,F,io,oo,ro,q],pipes:[z],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:column}.body[_ngcontent-%COMP%]{padding-top:40px;display:flex;flex-direction:row;justify-content:center}.line[_ngcontent-%COMP%]{width:95%;border-top:solid;border-width:1px;border-color:#cccbcb}.title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.categories[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.card[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:center;flex-direction:column;align-items:center;background-color:#ededed;cursor:pointer;width:22%}@media (max-width: 760px){.categories[_ngcontent-%COMP%]{flex-wrap:wrap}.card[_ngcontent-%COMP%]{margin:5%;width:40%}.shopforimg[_ngcontent-%COMP%]{height:50%}}@media (max-width: 400px){.categories[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.card-two[_ngcontent-%COMP%]{width:30%!important;font-size:small}}.card-two[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:center;flex-direction:column;align-items:center;background-color:#ededed;cursor:pointer;width:18%}.shopforimg[_ngcontent-%COMP%]{height:70%;width:100%;-o-object-fit:cover;object-fit:cover}.bikesimg[_ngcontent-%COMP%]{width:100%;height:70%;-o-object-fit:cover;object-fit:cover}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#000}"]}),e})(),KS=(()=>{class e{constructor(){this.items=[],this.cartCount=0,this.total=0}addToCart(e,t=1){let n=this.items.find(t=>t.product.id==e.id);null!=n?n.quantity+=t:this.items.push(new WS(e,t)),this.calculate()}calculate(){this.cartCount=0,this.total=0,this.items.forEach(e=>{this.cartCount+=e.quantity,this.total+=e.quantity*e.product.price}),localStorage.setItem("items",JSON.stringify(this.items)),localStorage.setItem("total",JSON.stringify(this.total)),localStorage.setItem("cartCount",JSON.stringify(this.cartCount))}autoGetLocalStorage(){const e=JSON.parse(localStorage.getItem("items"));e&&(this.items=e,this.total=JSON.parse(localStorage.getItem("total")),this.cartCount=JSON.parse(localStorage.getItem("cartCount")))}removeItem(e){let t=this.items.findIndex(t=>t.product.id==e);this.items.splice(t,1),this.calculate()}updateQuantity(e,t){let n=this.items.find(t=>t.product.id==e.id);null!=n&&(n.quantity=t),this.calculate()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class WS{constructor(e,t){this.product=e,this.quantity=t}}let QS=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-horizontalline"]],decls:2,vars:0,consts:[[1,"body"],[1,"line"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"div",1),r.qZA())},styles:[".body[_ngcontent-%COMP%]{padding-top:40px;display:flex;flex-direction:row;justify-content:center}.line[_ngcontent-%COMP%]{width:95%;border-top:solid;border-width:1px;border-color:#cccbcb}"]}),e})(),YS=(()=>{class e{constructor(e,t){this.itemService=e,this.cart=t}ngOnInit(){if(this.selectedId=this.itemService.toDetailData,"bikePage1"==this.itemService.toCategorieName){var e=this.itemService.bikePage1.findIndex(e=>e.id===this.selectedId);this.data=this.itemService.bikePage1[e]}"parts"==this.itemService.toCategorieName&&(e=this.itemService.parts.findIndex(e=>e.id===this.selectedId),this.data=this.itemService.parts[e]),"accessories"==this.itemService.toCategorieName&&(e=this.itemService.accessories.findIndex(e=>e.id===this.selectedId),this.data=this.itemService.accessories[e]),"clothing"==this.itemService.toCategorieName&&(e=this.itemService.clothing.findIndex(e=>e.id===this.selectedId),this.data=this.itemService.clothing[e])}addToCart(e){return this.cart.addToCart(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(OS),r.Y36(KS))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-details"]],decls:15,vars:7,consts:[[1,"main"],[1,"main-row"],["alt","lens",3,"src"],[1,"mr-right"],[1,"title"],[1,"price"],[1,"btn",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"app-horizontalline"),r.TgZ(2,"div",1),r._UZ(3,"img",2),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r._uU(6),r.qZA(),r.TgZ(7,"div",5),r._uU(8),r.ALo(9,"currency"),r.qZA(),r.TgZ(10,"button",6),r.NdJ("click",function(){return t.addToCart(t.data)}),r._uU(11,"ADD TO CART"),r.qZA(),r._UZ(12,"app-horizontalline"),r.TgZ(13,"div"),r._uU(14),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.s9C("src",t.data.img,r.LSH),r.xp6(3),r.Oqu(t.data.title),r.xp6(2),r.Oqu(r.xi3(9,4,t.data.price,"EUR")),r.xp6(6),r.Oqu(t.data.description))},directives:[QS],pipes:[z],styles:[".main-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.main-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:15px}img[_ngcontent-%COMP%]{width:40%;height:60%;margin-right:30px;-o-object-fit:cover;object-fit:cover;border-radius:5px}.mr-right[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn[_ngcontent-%COMP%]{width:150px;background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}@media only screen and (max-width: 400px){.main-row[_ngcontent-%COMP%]{display:flex;flex-direction:column}img[_ngcontent-%COMP%]{margin-top:10px;width:80%!important;height:auto}}"]}),e})();const JS=["navm"],XS=["body"],eE=["cartHTML"],tE=function(){return["/login"]};function nE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",34),r.NdJ("click",function(){return r.CHM(e),r.oxw().onClose()}),r.TgZ(1,"a",9),r._uU(2,"Sign in"),r.qZA(),r.qZA()}2&e&&(r.xp6(1),r.Q6J("routerLink",r.DdM(1,tE)))}const rE=function(){return["/signup"]};function iE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",34),r.NdJ("click",function(){return r.CHM(e),r.oxw().onClose()}),r.TgZ(1,"a",9),r._uU(2,"Create an Account"),r.qZA(),r.qZA()}2&e&&(r.xp6(1),r.Q6J("routerLink",r.DdM(1,rE)))}const sE=function(){return["/shopfor"]};function oE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",34),r.NdJ("click",function(){return r.CHM(e),r.oxw().onClose()}),r.TgZ(1,"a",35),r.NdJ("click",function(){return r.CHM(e),r.oxw().logOut()}),r._uU(2,"Logout"),r.qZA(),r.qZA()}2&e&&(r.xp6(1),r.Q6J("routerLink",r.DdM(1,sE)))}function aE(e,t){1&e&&(r.TgZ(0,"div",36),r.TgZ(1,"a",9),r._uU(2,"Sign in"),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("routerLink",r.DdM(1,tE)))}function cE(e,t){1&e&&(r.TgZ(0,"div",37),r._uU(1,"or"),r.qZA())}function uE(e,t){1&e&&(r.TgZ(0,"div",38),r.TgZ(1,"a",9),r._uU(2,"Create an Account"),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("routerLink",r.DdM(1,rE)))}function lE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",38),r.TgZ(1,"a",35),r.NdJ("click",function(){return r.CHM(e),r.oxw().logOut()}),r._uU(2,"Logout"),r.qZA(),r.qZA()}2&e&&(r.xp6(1),r.Q6J("routerLink",r.DdM(1,sE)))}function hE(e,t){if(1&e&&(r.TgZ(0,"div",39),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Oqu(e.cart.cartCount)}}const dE=function(){return["/"]},pE=function(){return["/categories"]},fE=function(){return["/parts"]},gE=function(){return["/accessories"]},mE=function(){return["/clothing"]},yE=function(){return["/cart"]};let vE=(()=>{class e{constructor(e,t,n){this.itemservice=e,this.cart=t,this.authService=n,this.validCartCount=!0,this.isAuthenticated=!0}ngOnInit(){this.cart.autoGetLocalStorage(),this.items=this.itemservice.items,this.biketypes=this.itemservice.biketypes,this.authService.user.subscribe(e=>{e||(this.isAuthenticated=!1),e&&(this.isAuthenticated=!0)})}ngOnChanges(){}logOut(){this.authService.logOut()}openNavm(){this.navm.nativeElement.classList.add("show"),this.body.nativeElement.classList.add("show"),this.cartHTML.nativeElement.classList.add("show")}onClose(){this.navm.nativeElement.classList.remove("show"),this.body.nativeElement.classList.remove("show"),this.cartHTML.nativeElement.classList.remove("show")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(OS),r.Y36(KS),r.Y36(ko))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-navbar"]],viewQuery:function(e,t){if(1&e&&(r.Gf(JS,5),r.Gf(XS,5),r.Gf(eE,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.navm=e.first),r.iGM(e=r.CRH())&&(t.body=e.first),r.iGM(e=r.CRH())&&(t.cartHTML=e.first)}},features:[r.TTD],decls:70,vars:54,consts:[[1,"body"],["body",""],[1,"main"],[1,"navbar"],["navbar",""],[1,"navm"],["navm",""],[1,"navm-first"],[1,"icon",3,"click"],["routerLinkActive","router-link-active",3,"routerLink"],[3,"click"],[1,"fas","fa-times"],[1,"navm-list"],[1,"navm-items",3,"click"],["class","",3,"click",4,"ngIf"],[1,"hamburger",3,"click"],[1,"fas","fa-bars"],[1,"icon"],[1,"right"],[1,"right-search","right-search2"],["class","right-text bold",4,"ngIf"],["class","right-middle right-text",4,"ngIf"],[1,"right-cart","right-search"],["class","right-right-text bold",4,"ngIf"],["routerLinkActive","router-link-active",1,"cart",3,"routerLink"],["cartHTML",""],[1,"fas","fa-shopping-basket"],["class","cart-circle",4,"ngIf"],[1,"categories2"],[1,"categories"],[1,"all"],[1,"cameras"],[1,"camerasc"],[1,"cameras2"],[1,"",3,"click"],["routerLinkActive","router-link-active",3,"routerLink","click"],[1,"right-text","bold"],[1,"right-middle","right-text"],[1,"right-right-text","bold"],[1,"cart-circle"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0,1),r.TgZ(2,"div",2),r.TgZ(3,"div",3,4),r.TgZ(5,"div",5,6),r.TgZ(7,"div",7),r.TgZ(8,"div",8),r.NdJ("click",function(){return t.onClose()}),r.TgZ(9,"a",9),r._uU(10,"Bike SHOP"),r.qZA(),r.qZA(),r.TgZ(11,"div",10),r.NdJ("click",function(){return t.onClose()}),r._UZ(12,"i",11),r.qZA(),r.qZA(),r.TgZ(13,"ul",12),r.TgZ(14,"div",13),r.NdJ("click",function(){return t.onClose()}),r.TgZ(15,"a",9),r._uU(16),r.ALo(17,"uppercase"),r.qZA(),r.qZA(),r.TgZ(18,"div",13),r.NdJ("click",function(){return t.onClose()}),r.TgZ(19,"a",9),r._uU(20),r.ALo(21,"uppercase"),r.qZA(),r.qZA(),r.TgZ(22,"div",13),r.NdJ("click",function(){return t.onClose()}),r.TgZ(23,"a",9),r._uU(24),r.ALo(25,"uppercase"),r.qZA(),r.qZA(),r.TgZ(26,"div",13),r.NdJ("click",function(){return t.onClose()}),r.TgZ(27,"a",9),r._uU(28),r.ALo(29,"uppercase"),r.qZA(),r.qZA(),r.YNc(30,nE,3,2,"div",14),r.YNc(31,iE,3,2,"div",14),r.YNc(32,oE,3,2,"div",14),r.qZA(),r.qZA(),r.TgZ(33,"div",15),r.NdJ("click",function(){return t.openNavm()}),r._UZ(34,"i",16),r.qZA(),r.TgZ(35,"div",17),r.TgZ(36,"a",9),r._uU(37,"Bike SHOP"),r.qZA(),r.qZA(),r.TgZ(38,"div",18),r.TgZ(39,"div",19),r.YNc(40,aE,3,2,"div",20),r.qZA(),r.YNc(41,cE,2,0,"div",21),r.TgZ(42,"div",22),r.YNc(43,uE,3,2,"div",23),r.YNc(44,lE,3,2,"div",23),r.TgZ(45,"div",24,25),r._UZ(47,"i",26),r._uU(48,"CART"),r.YNc(49,hE,2,1,"div",27),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(50,"div",28),r.TgZ(51,"div",29),r.TgZ(52,"div",30),r.TgZ(53,"div",31),r.TgZ(54,"a",9),r._uU(55),r.ALo(56,"uppercase"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(57,"div"),r.TgZ(58,"div",32),r.TgZ(59,"a",9),r._uU(60),r.ALo(61,"uppercase"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(62,"div",33),r.TgZ(63,"a",9),r._uU(64),r.ALo(65,"uppercase"),r.qZA(),r.qZA(),r.TgZ(66,"div"),r.TgZ(67,"a",9),r._uU(68),r.ALo(69,"uppercase"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(9),r.Q6J("routerLink",r.DdM(43,dE)),r.xp6(6),r.Q6J("routerLink",r.DdM(44,pE)),r.xp6(1),r.Oqu(r.lcZ(17,27,t.items[0])),r.xp6(3),r.Q6J("routerLink",r.DdM(45,fE)),r.xp6(1),r.Oqu(r.lcZ(21,29,t.items[1])),r.xp6(3),r.Q6J("routerLink",r.DdM(46,gE)),r.xp6(1),r.Oqu(r.lcZ(25,31,t.items[2])),r.xp6(3),r.Q6J("routerLink",r.DdM(47,mE)),r.xp6(1),r.Oqu(r.lcZ(29,33,t.items[3])),r.xp6(2),r.Q6J("ngIf",!t.isAuthenticated),r.xp6(1),r.Q6J("ngIf",!t.isAuthenticated),r.xp6(1),r.Q6J("ngIf",t.isAuthenticated),r.xp6(4),r.Q6J("routerLink",r.DdM(48,dE)),r.xp6(4),r.Q6J("ngIf",!t.isAuthenticated),r.xp6(1),r.Q6J("ngIf",!t.isAuthenticated),r.xp6(2),r.Q6J("ngIf",!t.isAuthenticated),r.xp6(1),r.Q6J("ngIf",t.isAuthenticated),r.xp6(1),r.Q6J("routerLink",r.DdM(49,yE)),r.xp6(4),r.Q6J("ngIf",t.validCartCount),r.xp6(5),r.Q6J("routerLink",r.DdM(50,pE)),r.xp6(1),r.Oqu(r.lcZ(56,35,t.items[0])),r.xp6(4),r.Q6J("routerLink",r.DdM(51,fE)),r.xp6(1),r.Oqu(r.lcZ(61,37,t.items[1])),r.xp6(3),r.Q6J("routerLink",r.DdM(52,gE)),r.xp6(1),r.Oqu(r.lcZ(65,39,t.items[2])),r.xp6(3),r.Q6J("routerLink",r.DdM(53,mE)),r.xp6(1),r.Oqu(r.lcZ(69,41,t.items[3])))},directives:[io,oo,q,ro],pipes:[B],styles:['@import"https://fonts.googleapis.com/css2?family=Pacifico&display=swap";.bold[_ngcontent-%COMP%]{font-weight:bold}.body[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.main[_ngcontent-%COMP%]{width:1000px}#cart-mobile[_ngcontent-%COMP%]{display:none}.navbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:5% 0;color:#fbf4e9;position:relative}a[_ngcontent-%COMP%]{text-decoration:none;color:#fbf4e9}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fbf4e9}.icon[_ngcontent-%COMP%]{font-size:30px;font-family:"Pacifico",cursive}.right[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;width:60%}input[type=search][_ngcontent-%COMP%]::-webkit-search-decoration, input[type=search][_ngcontent-%COMP%]::-webkit-search-cancel-button, input[type=search][_ngcontent-%COMP%]::-webkit-search-results-button, input[type=search][_ngcontent-%COMP%]::-webkit-search-results-decoration{display:none}.cart[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:10px 15px;background-color:#021320;border-radius:30px;font-size:15px;cursor:pointer;position:relative}.fa-shopping-basket[_ngcontent-%COMP%]{margin-right:7px}.right-cart[_ngcontent-%COMP%]{display:flex;flex-direction:column}.right-text[_ngcontent-%COMP%]{margin-bottom:10px;font-size:10px;margin-right:10px}.right-right-text[_ngcontent-%COMP%]{margin-bottom:10px;font-size:10px;margin-left:10px}.right-middle[_ngcontent-%COMP%]{margin:0 10px}.right-search[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.cart-circle[_ngcontent-%COMP%]{border-radius:50%;width:25px;height:25px;line-height:27px;text-align:center;background-color:#c23e3e;position:absolute;right:-10px;top:-10px;color:#0b283d}.categories2[_ngcontent-%COMP%]{position:relative}.categories[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;width:80%;font-size:13px;color:#f3f1f5;padding-bottom:15px;font-weight:200}.fa-chevron-down[_ngcontent-%COMP%]{margin-left:5px}.all[_ngcontent-%COMP%]:hover   .dropdown[_ngcontent-%COMP%], .cameras[_ngcontent-%COMP%]:hover   .dropdown[_ngcontent-%COMP%]:hover{display:block;height:auto}.dropdown[_ngcontent-%COMP%]{position:absolute;top:20px;display:none;background-color:#fff;width:15%;padding:20px;transform:all .1s ease-in-out}.dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;font-size:13px;color:#7b7bb4;font-weight:500;margin-bottom:20px;cursor:pointer}.categories[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer}.toggle-menu[_ngcontent-%COMP%]{display:none}.navm[_ngcontent-%COMP%]{background-color:#0b283d;width:80%;height:100vh;z-index:9990;position:fixed;top:0;left:-100%;padding:5px 15px;transition:all .5s linear}.navm-first[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.navm-first[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:30px!important}.navm-first[_ngcontent-%COMP%]   .fa-times[_ngcontent-%COMP%]{margin:0 15px;font-size:20px}.navm-list[_ngcontent-%COMP%]{margin-top:20px;height:40vh;display:flex;flex-direction:column;justify-content:space-between}.hamburger[_ngcontent-%COMP%]{display:none}.fas[_ngcontent-%COMP%]{cursor:pointer}@media (max-width: 1050px){.main[_ngcontent-%COMP%]{width:90%}}@media only screen and (max-width: 768px){.hamburger[_ngcontent-%COMP%]{display:block;font-size:20px;cursor:pointer}.navm.show[_ngcontent-%COMP%]{left:0}.body.show[_ngcontent-%COMP%]{background-color:#87aaaa}.cart.show[_ngcontent-%COMP%]{background-color:#0b283d}.right-search2[_ngcontent-%COMP%]{display:none}.right-middle[_ngcontent-%COMP%]{display:none}.categories2[_ngcontent-%COMP%]{display:none}.right-right-text[_ngcontent-%COMP%]{display:none}.right[_ngcontent-%COMP%]{width:auto}@media (max-width: 398px){.icon[_ngcontent-%COMP%]{font-size:medium}}}']}),e})();function _E(e,t){1&e&&(r.TgZ(0,"div",17),r._uU(1,"Subscription is successfull!"),r.qZA())}function wE(e,t){1&e&&(r.TgZ(0,"div",17),r._uU(1,"Subscription is successfull!"),r.qZA())}let bE=(()=>{class e{constructor(e){this.afs=e,this.successSub=!1,this.emailList=[]}ngOnInit(){}onSubmit(e){const t={email:e.value.email};this.afs.collection("subscriptions").add(t),this.successSub=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(TS))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-footer"]],decls:46,vars:2,consts:[[1,"main"],[1,"top"],[1,"first"],[1,"second"],[1,"third"],[1,"middle"],[1,"newsletter-form",3,"ngSubmit"],["subsForm","ngForm"],["ngModel","","type","email","name","email","placeholder","Email Adress"],[1,"btn"],["class","subText",4,"ngIf"],[1,"mobile-layout","flex-center"],[1,"first-mobile","flex-center"],[1,"second-mobile","flex-center"],[1,"third-mobile"],[1,"warning"],[1,"warning-title"],[1,"subText"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._uU(3,"QUICK LINKS"),r.qZA(),r.TgZ(4,"div",3),r._uU(5,"GET IN TOUCH"),r.qZA(),r.TgZ(6,"div",4),r._uU(7,"NEWSLETTER"),r.qZA(),r.qZA(),r.TgZ(8,"div",5),r.TgZ(9,"div",2),r.TgZ(10,"div"),r._uU(11,"Contact"),r.qZA(),r.qZA(),r.TgZ(12,"div",3),r._uU(13," Sign up to stay in the loop. Receive updates, access to exclusive deals, and more. "),r.qZA(),r.TgZ(14,"div",4),r.TgZ(15,"form",6,7),r.NdJ("ngSubmit",function(){r.CHM(e);const n=r.MAs(16);return t.onSubmit(n)}),r._UZ(17,"input",8),r.TgZ(18,"button",9),r._uU(19,"SIGN UP"),r.qZA(),r.qZA(),r.YNc(20,_E,2,0,"div",10),r.qZA(),r.qZA(),r.TgZ(21,"div",11),r.TgZ(22,"div",12),r.TgZ(23,"div"),r._uU(24,"QUICK LINKS"),r.qZA(),r.TgZ(25,"div"),r._uU(26,"Contact"),r.qZA(),r.qZA(),r.TgZ(27,"div",13),r.TgZ(28,"div"),r._uU(29,"GET IN TOUCH"),r.qZA(),r.TgZ(30,"div"),r._uU(31,"Sign up to stay in the loop. Receive updates, access to exclusive deals, and more."),r.qZA(),r.qZA(),r.TgZ(32,"div",14),r.TgZ(33,"form",6,7),r.NdJ("ngSubmit",function(){r.CHM(e);const n=r.MAs(16);return t.onSubmit(n)}),r._UZ(35,"input",8),r.TgZ(36,"button",9),r._uU(37,"SIGN UP"),r.qZA(),r.YNc(38,wE,2,0,"div",10),r.qZA(),r.qZA(),r.qZA(),r.TgZ(39,"div",15),r.TgZ(40,"div",16),r._uU(41,"Legal Disclaimer"),r.qZA(),r.TgZ(42,"div"),r._uU(43,"This website is created for purpose of showing portfolio."),r._UZ(44,"br"),r._uU(45," A real purchase is not available."),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(20),r.Q6J("ngIf",t.successSub),r.xp6(18),r.Q6J("ngIf",t.successSub))},directives:[_n,Gt,gn,It,Ht,vn,q],styles:[".main[_ngcontent-%COMP%]{padding:30px 0}.top[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.middle[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-direction:row;justify-content:space-between}.first[_ngcontent-%COMP%]{width:15%}.second[_ngcontent-%COMP%]{width:50%;padding-left:20px}.third[_ngcontent-%COMP%]{width:30%;float:inline-end}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}input[_ngcontent-%COMP%]{padding:10px 5px;background-color:#747474;border:none;outline-style:none;color:#fff;border-radius:5px}input[_ngcontent-%COMP%]::-moz-placeholder{color:#fbf4e9;opacity:.9}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#fbf4e9;opacity:.9}input[_ngcontent-%COMP%]::placeholder{color:#fbf4e9;opacity:.9}.body[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.line[_ngcontent-%COMP%]{width:95%;border-top:solid;border-width:1px;border-color:#cccbcb}.newsletter-form[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.mobile-layout[_ngcontent-%COMP%]{display:none}.subText[_ngcontent-%COMP%]{color:#a9333a}.warning[_ngcontent-%COMP%]{color:red;text-align:left}.warning-title[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.top[_ngcontent-%COMP%]{display:none}.middle[_ngcontent-%COMP%]{display:none}.flex-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.newsletter-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.newsletter-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:5px}.newsletter-form[_ngcontent-%COMP%]   subText[_ngcontent-%COMP%]{margin-top:5px}}"]}),e})();function TE(e,t){1&e&&(r.TgZ(0,"div",7),r._UZ(1,"div",8),r.qZA())}const SE=["page1"],EE=["page2"],IE=function(){return["/details"]};function CE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",11,12),r.NdJ("click",function(){const t=r.CHM(e).index;return r.oxw(2).toDetail(t,"bikePage1")}),r._UZ(2,"img",13),r.TgZ(3,"div",14),r._uU(4),r.qZA(),r.TgZ(5,"div",15),r._uU(6),r.ALo(7,"currency"),r.qZA(),r.qZA()}if(2&e){const e=t.index,n=r.oxw(2);r.Q6J("routerLink",r.DdM(7,IE)),r.xp6(2),r.s9C("src",n.itemservice.bikePage1[e].img,r.LSH),r.xp6(2),r.Oqu(n.itemservice.bikePage1[e].title),r.xp6(2),r.Oqu(r.xi3(7,4,n.itemservice.bikePage1[e].price,"EUR"))}}function kE(e,t){if(1&e&&r.YNc(0,CE,8,8,"ng-template",10),2&e){const e=r.oxw();r.Q6J("ngForOf",e.bikePage1)}}function AE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",16,17),r.NdJ("click",function(){const t=r.CHM(e).index;return r.oxw(2).toDetail(t,"bikePage1")}),r._UZ(2,"img",13),r.TgZ(3,"div",14),r._uU(4),r.qZA(),r.TgZ(5,"div",15),r._uU(6),r.ALo(7,"currency"),r.qZA(),r.qZA()}if(2&e){const e=t.index,n=r.oxw(2);r.Q6J("routerLink",r.DdM(7,IE)),r.xp6(2),r.s9C("src",n.itemservice.bikePage2[e].img,r.LSH),r.xp6(2),r.Oqu(n.itemservice.bikePage2[e].title),r.xp6(2),r.Oqu(r.xi3(7,4,n.itemservice.bikePage2[e].price,"EUR"))}}function xE(e,t){if(1&e&&r.YNc(0,AE,8,8,"ng-template",10),2&e){const e=r.oxw();r.Q6J("ngForOf",e.bikePage2)}}const OE=function(){return[" "]},PE=function(){return["/details"]};function NE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",6,7),r.NdJ("click",function(){const t=r.CHM(e).index;return r.oxw().toDetail(t,"clothing")}),r._UZ(2,"img",8),r.TgZ(3,"div",9),r._uU(4),r.qZA(),r.TgZ(5,"div",10),r._uU(6),r.ALo(7,"currency"),r.qZA(),r.qZA()}if(2&e){const e=t.index,n=r.oxw();r.Q6J("routerLink",r.DdM(7,PE)),r.xp6(2),r.s9C("src",n.itemservice.clothing[e].img,r.LSH),r.xp6(2),r.Oqu(n.itemservice.clothing[e].title),r.xp6(2),r.Oqu(r.xi3(7,4,n.itemservice.clothing[e].price,"EUR"))}}const DE=function(){return[" "]},RE=function(){return["/details"]};function LE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",6,7),r.NdJ("click",function(){const t=r.CHM(e).index;return r.oxw().toDetail(t,"parts")}),r._UZ(2,"img",8),r.TgZ(3,"div",9),r._uU(4),r.qZA(),r.TgZ(5,"div",10),r._uU(6),r.ALo(7,"currency"),r.qZA(),r.qZA()}if(2&e){const e=t.index,n=r.oxw();r.Q6J("routerLink",r.DdM(7,RE)),r.xp6(2),r.s9C("src",n.itemservice.parts[e].img,r.LSH),r.xp6(2),r.Oqu(n.itemservice.parts[e].title),r.xp6(2),r.Oqu(r.xi3(7,4,n.itemservice.parts[e].price,"EUR"))}}const ME=function(){return[" "]},FE=function(){return["/details"]};function UE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",6,7),r.NdJ("click",function(){const t=r.CHM(e).index;return r.oxw().toDetail(t,"accessories")}),r._UZ(2,"img",8),r.TgZ(3,"div",9),r._uU(4),r.qZA(),r.TgZ(5,"div",10),r._uU(6),r.ALo(7,"currency"),r.qZA(),r.qZA()}if(2&e){const e=t.index,n=r.oxw();r.Q6J("routerLink",r.DdM(7,FE)),r.xp6(2),r.s9C("src",n.itemservice.accessories[e].img,r.LSH),r.xp6(2),r.Oqu(n.itemservice.accessories[e].title),r.xp6(2),r.Oqu(r.xi3(7,4,n.itemservice.accessories[e].price,"EUR"))}}const qE=function(){return[" "]};function ZE(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij("You have ",e.cart.cartCount," product in your cart.")}}function VE(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij("You have ",e.cart.cartCount," products in your cart.")}}function jE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",11),r._UZ(1,"img",12),r.TgZ(2,"div",13),r._uU(3),r.qZA(),r.TgZ(4,"div",14),r._uU(5),r.qZA(),r.TgZ(6,"div",15),r._uU(7),r.ALo(8,"currency"),r.qZA(),r.TgZ(9,"i",16),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2);return n.removeItem(n.cart.items[t].product.id)}),r.qZA(),r.qZA()}if(2&e){const e=t.index,n=r.oxw(2);r.xp6(1),r.s9C("src",n.cart.items[e].product.img,r.LSH),r.xp6(2),r.Oqu(n.cart.items[e].product.title),r.xp6(2),r.hij("x",n.cart.items[e].quantity,""),r.xp6(2),r.Oqu(r.xi3(8,4,n.cart.items[e].product.price,"EUR"))}}function BE(e,t){if(1&e&&r.YNc(0,jE,10,7,"ng-template",10),2&e){const e=r.oxw();r.Q6J("ngForOf",e.cart.items)}}function zE(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",17),r.TgZ(1,"div",11),r._UZ(2,"img",12),r.TgZ(3,"div",15),r._uU(4),r.ALo(5,"currency"),r.qZA(),r.TgZ(6,"i",16),r.NdJ("click",function(){const t=r.CHM(e).index,n=r.oxw(2);return n.removeItem(n.cart.items[t].product.id)}),r.qZA(),r.qZA(),r.TgZ(7,"div",18),r.TgZ(8,"div",13),r._uU(9),r.qZA(),r.TgZ(10,"div",14),r._uU(11),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.index,n=r.oxw(2);r.xp6(2),r.s9C("src",n.cart.items[e].product.img,r.LSH),r.xp6(2),r.Oqu(r.xi3(5,4,n.cart.items[e].product.price,"EUR")),r.xp6(5),r.Oqu(n.cart.items[e].product.title),r.xp6(2),r.hij("x",n.cart.items[e].quantity,"")}}function $E(e,t){if(1&e&&r.YNc(0,zE,12,7,"ng-template",10),2&e){const e=r.oxw();r.Q6J("ngForOf",e.cart.items)}}const HE=function(){return["/payment"]};function GE(e,t){1&e&&(r.TgZ(0,"button",19),r._UZ(1,"i",20),r._uU(2," CHECKOUT"),r.qZA()),2&e&&r.Q6J("routerLink",r.DdM(1,HE))}const KE=function(){return["/login"]};function WE(e,t){1&e&&(r.TgZ(0,"button",19),r._UZ(1,"i",20),r._uU(2," CHECKOUT"),r.qZA()),2&e&&r.Q6J("routerLink",r.DdM(1,KE))}const QE=["saveAdress"],YE=[{path:"",component:(()=>{class e{constructor(e){this.authService=e,this.loading_bar=!0}ngOnInit(){setTimeout(()=>{this.loading_bar=!1},2e3)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ko))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-layout"]],decls:8,vars:1,consts:[[1,"body"],[1,"navbar"],["class","loading-bar-box",4,"ngIf"],[1,"outlet"],[1,"outlet2"],[1,"footer"],[1,"footer2"],[1,"loading-bar-box"],[1,"loader-bar"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"app-navbar",1),r.YNc(2,TE,2,0,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r._UZ(5,"router-outlet"),r.qZA(),r.qZA(),r.TgZ(6,"div",5),r._UZ(7,"app-footer",6),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Q6J("ngIf",t.loading_bar))},directives:[vE,q,ao,bE],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;700&display=swap";.body[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;display:flex;flex-direction:column}.loading-bar-box[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100vh;background:white;z-index:989;display:flex;align-items:center;justify-content:center}.loader-bar[_ngcontent-%COMP%]{border:10px solid #f3f3f3;border-radius:50%;border-top:10px solid #3498db;width:70px;height:70px;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.navbar[_ngcontent-%COMP%]{background-color:#0b283d;position:-webkit-sticky;position:sticky;top:0;display:flex;flex-direction:column;justify-content:space-between;align-items:center;z-index:990}.outlet[_ngcontent-%COMP%]{background-color:#f6f6f6;display:flex;flex-direction:column;align-items:center;z-index:9!important}.outlet2[_ngcontent-%COMP%]{width:1000px}.footer[_ngcontent-%COMP%]{background-color:#eee;display:flex;flex-direction:column;align-items:center;margin-top:20px}.footer2[_ngcontent-%COMP%]{width:1000px}@media (max-width: 1050px){.footer2[_ngcontent-%COMP%]{width:90%}.outlet2[_ngcontent-%COMP%]{width:90%}}']}),e})(),children:[{path:"",component:GS},{path:"login",component:kS},{path:"signup",component:xS},{path:"categories",component:(()=>{class e{constructor(e){this.itemservice=e,this.isMobile=!1}ChoosePage2(){this.page2.nativeElement.classList.add("active-card"),this.page1.nativeElement.classList.remove("active-card")}ChoosePage1(){this.page1.nativeElement.classList.add("active-card"),this.page2.nativeElement.classList.remove("active-card")}Adddata(){return this.itemservice.getDataFromCate("Ben gelen datayim")}ngOnInit(){this.bikePage1=this.itemservice.bikePage1,this.bikePage2=this.itemservice.bikePage2}ngAfterViewInit(){}toDetail(e,t){return this.itemservice.getToDetail(this.itemservice.bikePage1[e].id,t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(OS))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-categories"]],viewQuery:function(e,t){if(1&e&&(r.Gf(SE,5),r.Gf(EE,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.page1=e.first),r.iGM(e=r.CRH())&&(t.page2=e.first)}},decls:22,vars:5,consts:[[1,"main"],[1,"first-row"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"second-row-cat"],[1,"main-row-cat"],[4,"ngIf"],[1,"third-row-cat"],[1,"fas","fa-long-arrow-alt-left","pageNumber","i-cat",3,"click"],[1,"pageNumber",3,"click"],[1,"fas","fa-long-arrow-alt-right","pageNumber","i-cat",3,"click"],["ngFor","",3,"ngForOf"],["routerLinkActive","router-link-active",1,"card-cat","active-card","card-mobile",3,"routerLink","click"],["page1",""],["alt","card",3,"src"],[1,"title"],[1,"price"],["routerLinkActive","router-link-active",1,"card-cat","card-mobile",3,"routerLink","click"],["page2",""]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r.TgZ(3,"a",2),r._uU(4," Home "),r.qZA(),r._uU(5),r.qZA(),r._UZ(6,"app-horizontalline"),r.TgZ(7,"div",3),r._UZ(8,"div"),r.qZA(),r.TgZ(9,"div",4),r.YNc(10,kE,1,1,void 0,5),r.YNc(11,xE,1,1,void 0,5),r.qZA(),r._UZ(12,"app-horizontalline"),r.TgZ(13,"div",6),r.TgZ(14,"div"),r.TgZ(15,"i",7),r.NdJ("click",function(){return t.ChoosePage1()}),r.qZA(),r.qZA(),r.TgZ(16,"div",8),r.NdJ("click",function(){return t.ChoosePage1()}),r._uU(17,"1"),r.qZA(),r.TgZ(18,"div",8),r.NdJ("click",function(e){return t.ChoosePage2(),e.preventDefault()}),r._uU(19,"2"),r.qZA(),r.TgZ(20,"div"),r.TgZ(21,"i",9),r.NdJ("click",function(){return t.ChoosePage2()}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("routerLink",r.DdM(4,OE)),r.xp6(2),r.hij(" > ",t.itemservice.items[0]," "),r.xp6(5),r.Q6J("ngIf",!t.isMobile),r.xp6(1),r.Q6J("ngIf",!t.isMobile))},directives:[io,oo,QS,q,F,ro],pipes:[z],styles:[""]}),e})()},{path:"details",component:YS},{path:"clothing",component:(()=>{class e{constructor(e){this.itemservice=e}ngOnInit(){this.clothing=this.itemservice.clothing}toDetail(e,t){return this.itemservice.getToDetail(this.clothing[e].id,t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(OS))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-clothing"]],decls:12,vars:4,consts:[[1,"main"],[1,"first-row"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"second-row-cat"],[1,"main-row-cat"],["ngFor","",3,"ngForOf"],["routerLinkActive","router-link-active",1,"card-cat","active-card","card-mobile",3,"routerLink","click"],["page1",""],["alt","card",3,"src"],[1,"title"],[1,"price"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r.TgZ(3,"a",2),r._uU(4," Home "),r.qZA(),r._uU(5),r.qZA(),r._UZ(6,"app-horizontalline"),r.TgZ(7,"div",3),r._UZ(8,"div"),r.qZA(),r.TgZ(9,"div",4),r.YNc(10,NE,8,8,"ng-template",5),r.qZA(),r._UZ(11,"app-horizontalline"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("routerLink",r.DdM(3,DE)),r.xp6(2),r.hij(" > ",t.itemservice.items[3]," "),r.xp6(5),r.Q6J("ngForOf",t.clothing))},directives:[io,oo,QS,F,ro],pipes:[z],styles:[".sorting[_ngcontent-%COMP%]{position:relative;padding:0 10px}.featured[_ngcontent-%COMP%]:hover + .dropdown[_ngcontent-%COMP%]{display:block;height:auto}.dropdown[_ngcontent-%COMP%]{position:absolute;top:30px;display:none;height:0;background-color:#fff;padding:20px;transform:all .1s ease-in-out}.dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;font-size:13px;color:#7b7bb4;font-weight:500;margin-bottom:20px;cursor:pointer}.second-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.sr-right[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}i[_ngcontent-%COMP%]{margin:0 10px}.card[_ngcontent-%COMP%]{width:25vh;padding:20px;flex-direction:column;justify-content:center;display:none}.active[_ngcontent-%COMP%]{display:flex}.pageNumber2[_ngcontent-%COMP%]{cursor:pointer}.main-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap}.third-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}"]}),e})()},{path:"parts",component:(()=>{class e{constructor(e){this.itemservice=e}ngOnInit(){this.parts=this.itemservice.parts}toDetail(e,t){return this.itemservice.getToDetail(this.parts[e].id,t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(OS))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-parts"]],decls:12,vars:4,consts:[[1,"main"],[1,"first-row"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"second-row-cat"],[1,"main-row-cat"],["ngFor","",3,"ngForOf"],["routerLinkActive","router-link-active",1,"card-cat","active-card","card-mobile",3,"routerLink","click"],["page1",""],["alt","card",3,"src"],[1,"title"],[1,"price"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r.TgZ(3,"a",2),r._uU(4," Home "),r.qZA(),r._uU(5),r.qZA(),r._UZ(6,"app-horizontalline"),r.TgZ(7,"div",3),r._UZ(8,"div"),r.qZA(),r.TgZ(9,"div",4),r.YNc(10,LE,8,8,"ng-template",5),r.qZA(),r._UZ(11,"app-horizontalline"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("routerLink",r.DdM(3,ME)),r.xp6(2),r.hij(" > ",t.itemservice.items[1]," "),r.xp6(5),r.Q6J("ngForOf",t.parts))},directives:[io,oo,QS,F,ro],pipes:[z],styles:[""]}),e})()},{path:"accessories",component:(()=>{class e{constructor(e){this.itemservice=e}ngOnInit(){this.accessories=this.itemservice.accessories}toDetail(e,t){return this.itemservice.getToDetail(this.accessories[e].id,t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(OS))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-accessories"]],decls:12,vars:4,consts:[[1,"main"],[1,"first-row"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"second-row-cat"],[1,"main-row-cat"],["ngFor","",3,"ngForOf"],["routerLinkActive","router-link-active",1,"card-cat","active-card","card-mobile",3,"routerLink","click"],["page1",""],["alt","card",3,"src"],[1,"title"],[1,"price"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r.TgZ(3,"a",2),r._uU(4," Home "),r.qZA(),r._uU(5),r.qZA(),r._UZ(6,"app-horizontalline"),r.TgZ(7,"div",3),r._UZ(8,"div"),r.qZA(),r.TgZ(9,"div",4),r.YNc(10,UE,8,8,"ng-template",5),r.qZA(),r._UZ(11,"app-horizontalline"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("routerLink",r.DdM(3,qE)),r.xp6(2),r.hij(" > ",t.itemservice.items[2]," "),r.xp6(5),r.Q6J("ngForOf",t.accessories))},directives:[io,oo,QS,F,ro],pipes:[z],styles:[""]}),e})()},{path:"cart",component:(()=>{class e{constructor(e,t){this.cart=e,this.authService=t,this.isMobile=!1}ngOnInit(){this.authService.user.subscribe(e=>{e||(this.isAuthenticated=!1),e&&(this.isAuthenticated=!0)}),window.onresize=()=>this.isMobile=window.innerWidth<=400,document.documentElement.clientWidth<400&&(this.isMobile=!0)}removeItem(e){return this.cart.removeItem(e)}updateQuantity(e,t){if(!e.invalid)return this.cart.updateQuantity(t,e.value.number)}reduceProduct(e,t){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(KS),r.Y36(ko))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-cart"]],decls:24,vars:10,consts:[[1,"main"],[1,"first-row"],[1,"body"],[1,"line"],[4,"ngIf"],[1,"second-row2"],[1,"third-row"],[1,"fourth-row"],[1,"fif"],["class","btn","routerLinkActive","router-link-active",3,"routerLink",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"second-row"],["alt","lens",3,"src"],[1,"product-name"],[1,"amount"],[1,"preise"],[1,"fas","fa-times","cancel-product",3,"click"],[1,"information"],[1,"sec-col"],["routerLinkActive","router-link-active",1,"btn",3,"routerLink"],[1,"fas","fa-shopping-basket"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r._uU(3,"SHOPPING CART"),r.qZA(),r.qZA(),r.TgZ(4,"div",2),r._UZ(5,"div",3),r.qZA(),r.YNc(6,ZE,2,1,"div",4),r.YNc(7,VE,2,1,"div",4),r.TgZ(8,"div",2),r._UZ(9,"div",3),r.qZA(),r.TgZ(10,"div",5),r.YNc(11,BE,1,1,void 0,4),r.YNc(12,$E,1,1,void 0,4),r.qZA(),r.TgZ(13,"div",2),r._UZ(14,"div",3),r.qZA(),r.TgZ(15,"div",6),r.TgZ(16,"div"),r._uU(17),r.ALo(18,"currency"),r.qZA(),r.qZA(),r.TgZ(19,"div",7),r._uU(20,"Shipping, taxes, and discounts will be calculated at checkout."),r.qZA(),r.TgZ(21,"div",8),r.YNc(22,GE,3,2,"button",9),r.YNc(23,WE,3,2,"button",9),r.qZA(),r.qZA()),2&e&&(r.xp6(6),r.Q6J("ngIf",0==t.cart.cartCount||1==t.cart.cartCount),r.xp6(1),r.Q6J("ngIf",t.cart.cartCount>1),r.xp6(4),r.Q6J("ngIf",!t.isMobile),r.xp6(1),r.Q6J("ngIf",t.isMobile),r.xp6(5),r.hij("Subtotal ",r.xi3(18,7,t.cart.total,"EUR"),""),r.xp6(5),r.Q6J("ngIf",t.isAuthenticated),r.xp6(1),r.Q6J("ngIf",!t.isAuthenticated))},directives:[q,F,oo,ro],pipes:[z],styles:[".main[_ngcontent-%COMP%]{margin:100px;padding:20px}.body[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-direction:row;justify-content:center}.line[_ngcontent-%COMP%]{width:95%;border-top:solid;border-width:1px;border-color:#cccbcb}input[_ngcontent-%COMP%]{padding:10px 2px;background-color:#747474;border:none;outline-style:none;color:#fff;border-radius:5px;width:90px;margin-bottom:5px}input[_ngcontent-%COMP%]::-moz-placeholder{color:#fbf4e9;opacity:.9}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#fbf4e9;opacity:.9}input[_ngcontent-%COMP%]::placeholder{color:#fbf4e9;opacity:.9}.first-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.product-name[_ngcontent-%COMP%]{display:inline-block}.sec-col[_ngcontent-%COMP%]{display:flex;flex-direction:row}.sec-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px}.second-row[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.second-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .second-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .second-row[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], .second-row[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.second-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30%}.second-row2[_ngcontent-%COMP%]{display:flex;flex-direction:column}.product-name[_ngcontent-%COMP%]{width:40%}.cancel-product[_ngcontent-%COMP%]{opacity:.6}.third-row[_ngcontent-%COMP%], .fourth-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.fif[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{margin:5px}.input[_ngcontent-%COMP%]{padding:3px 2px}.btn[_ngcontent-%COMP%]{margin-top:4px;padding:5px}.amount[_ngcontent-%COMP%]{margin-right:100px!important}.sec-col[_ngcontent-%COMP%]{justify-content:space-between}}i[_ngcontent-%COMP%]{cursor:pointer}"]}),e})()},{path:"payment",component:(()=>{class e{constructor(e,t){this.afs=e,this.cart=t}ngOnInit(){this.invokeStripe()}invokeStripe(){if(!window.document.getElementById("stripe-script")){const e=window.document.createElement("script");e.id="stripe-script",e.type="text/javascript",e.src="https://checkout.stripe.com/checkout.js",window.document.body.appendChild(e)}}onSubmit(e){const t=this.saveAdress.nativeElement,n=JSON.parse(localStorage.getItem("user"));if(t.checked){const t={firstName:e.value.firstName,lastName:e.value.lastName,adress:e.value.street,zusatzAdress:e.value.additionalAdress,postalCode:e.value.postalCode,city:e.value.city,country:e.value.country,phone:e.value.phone};this.afs.collection(n._token).add(t)}window.StripeCheckout.configure({key:"undefined",locale:"auto",token:function(e){alert("Stripe token generated!")}}).open({name:n.email,description:+this.cart.cartCount+" Products Added",amount:100*this.cart.total})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(TS),r.Y36(KS))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-payment"]],viewQuery:function(e,t){if(1&e&&r.Gf(QE,5),2&e){let e;r.iGM(e=r.CRH())&&(t.saveAdress=e.first)}},decls:33,vars:0,consts:[[1,"body"],[1,"main"],[3,"ngSubmit"],["adressForm","ngForm"],[1,"names"],["ngModel","","type","text","name","firstName","required","","first-name","","placeholder","First Name"],["ngModel","","type","text","name","lastName","required","","last-name","","placeholder","Last Name"],["ngModel","","type","text","name","street","required","","street","","placeholder","Street and house number"],["ngModel","","type","text","name","additionalAdress","placeholder","Additional address (optional)"],["ngModel","","type","text","name","postalCode","required","","postal-code","","placeholder","Postal code"],["ngModel","","type","text","name","city","required","","city","","placeholder","City"],["ngModel","","type","text","name","country","required","","city","","placeholder","Country"],["ngModel","","type","text","name","phone","placeholder","Phone (optional)"],["type","checkbox"],["saveAdress",""],["for","checkbox"],[1,"warning"],[1,"warning-title"],[1,"btn"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r._uU(3,"ADRESS AND PAYMENT INFORMATION"),r.qZA(),r.TgZ(4,"form",2,3),r.NdJ("ngSubmit",function(){r.CHM(e);const n=r.MAs(5);return t.onSubmit(n)}),r.TgZ(6,"div"),r._uU(7,"Shipping Adress"),r.qZA(),r.TgZ(8,"div",4),r._UZ(9,"input",5),r._UZ(10,"input",6),r.qZA(),r._UZ(11,"input",7),r._UZ(12,"input",8),r.TgZ(13,"div",4),r._UZ(14,"input",9),r._UZ(15,"input",10),r.qZA(),r._UZ(16,"input",11),r._UZ(17,"input",12),r._UZ(18,"input",13,14),r.TgZ(20,"label",15),r._uU(21,"Save this information for next time"),r.qZA(),r.TgZ(22,"div",16),r.TgZ(23,"div",17),r._uU(24,"Legal Disclaimer"),r.qZA(),r.TgZ(25,"div"),r._uU(26,"This website is created for purpose of showing portfolio."),r._UZ(27,"br"),r._uU(28,"A real purchase / card transaction is not available."),r._UZ(29,"br"),r._uU(30,"We don't require any real information. Therefore, please don't give any real information and credit card details."),r.qZA(),r.qZA(),r.TgZ(31,"button",18),r._uU(32,"Accept / Pay"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}},directives:[_n,Gt,gn,It,Ht,vn,Tn],styles:[".body[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.main[_ngcontent-%COMP%]{width:40%;padding:30px 0}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.names[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.names[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not:last-child{margin-right:10px}input[_ngcontent-%COMP%]{border:none;padding:10px;margin:10px 0}.btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:15px}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.warning[_ngcontent-%COMP%]{color:red;text-align:left}.warning-title[_ngcontent-%COMP%]{font-weight:600}"]}),e})(),canActivate:[(()=>{class e{constructor(e,t){this.auth=e,this.router=t}canActivate(){return!!this.auth.isLoggedIn()||(this.router.navigate(["login"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ko),r.LFG(to))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]}]},{path:"**",redirectTo:""}];let JE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[$,vo.forRoot(YE)],vo]}),e})();function XE(e,t){return t?n=>n.pipe(XE((n,r)=>(0,mt.D)(e(n,r)).pipe((0,Le.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new eI(e))}class eI{constructor(e){this.project=e}call(e,t){return t.subscribe(new tI(e,this.project))}}class tI extends Kn.Ds{constructor(e,t){super(e),this.project=t,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(e){this.hasSubscription||this.tryNext(e)}tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(t)}_innerSub(e){const t=new Kn.IY(this),n=this.destination;n.add(t);const r=(0,Kn.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}let nI=(()=>{class e{constructor(e){this.authService=e}intercept(e,t){return this.authService.user.pipe(Xn(1),XE(n=>{if(!n)return t.handle(e);const r=e.clone({params:(new ze).set("auth",n.token)});return t.handle(r)}))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ko))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class rI{}const iI="*";function sI(e,t=null){return{type:2,steps:e,options:t}}function oI(e){return{type:6,styles:e,offset:null}}function aI(e){Promise.resolve(null).then(e)}class cI{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){aI(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class uI{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?aI(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function lI(){return"undefined"!=typeof window&&void 0!==window.document}function hI(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function dI(e){switch(e.length){case 0:return new cI;case 1:return e[0];default:return new uI(e)}}function pI(e,t,n,r,i={},s={}){const o=[],a=[];let c=-1,u=null;if(r.forEach(e=>{const n=e.offset,r=n==c,l=r&&u||{};Object.keys(e).forEach(n=>{let r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,o),a){case"!":a=i[n];break;case iI:a=s[n];break;default:a=t.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),u=l,c=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function fI(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&gI(n,"start",e)));break;case"done":e.onDone(()=>r(n&&gI(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&gI(n,"destroy",e)))}}function gI(e,t,n){const r=n.totalTime,i=mI(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),s=e._data;return null!=s&&(i._data=s),i}function mI(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function yI(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function vI(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let _I=(e,t)=>!1,wI=(e,t)=>!1,bI=(e,t,n)=>[];const TI=hI();(TI||"undefined"!=typeof Element)&&(_I=lI()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),wI=(()=>{if(TI||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):wI}})(),bI=(e,t,n)=>{let r=[];if(n){const n=e.querySelectorAll(t);for(let e=0;e<n.length;e++)r.push(n[e])}else{const n=e.querySelector(t);n&&r.push(n)}return r});let SI=null,EI=!1;function II(e){SI||(SI=("undefined"!=typeof document?document.body:null)||{},EI=!!SI.style&&"WebkitAppearance"in SI.style);let t=!0;return SI.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in SI.style,!t&&EI&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in SI.style)),t}const CI=wI,kI=_I,AI=bI;function xI(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}let OI=(()=>{class e{validateStyleProperty(e){return II(e)}matchesElement(e,t){return CI(e,t)}containsElement(e,t){return kI(e,t)}query(e,t,n){return AI(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,s=[],o){return new cI(n,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),PI=(()=>{class e{}return e.NOOP=new OI,e})();const NI="ng-enter",DI="ng-leave",RI="ng-trigger",LI=".ng-trigger",MI="ng-animating",FI=".ng-animating";function UI(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:qI(parseFloat(t[1]),t[2])}function qI(e,t){switch(t){case"s":return 1e3*e;default:return e}}function ZI(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let r,i=0,s="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=qI(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=qI(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=e;if(!n){let n=!1,s=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:i,easing:s}}(e,t,n)}function VI(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function jI(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else VI(e,n);return n}function BI(e,t,n){return n?t+":"+n+";":""}function zI(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=BI(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=BI(0,eC(n),e.style[n]));e.setAttribute("style",t)}function $I(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=XI(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),hI()&&zI(e))}function HI(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=XI(t);e.style[n]=""}),hI()&&zI(e))}function GI(e){return Array.isArray(e)?1==e.length?e[0]:sI(e):e}const KI=new RegExp("{{\\s*(.+?)\\s*}}","g");function WI(e){let t=[];if("string"==typeof e){let n;for(;n=KI.exec(e);)t.push(n[1]);KI.lastIndex=0}return t}function QI(e,t,n){const r=e.toString(),i=r.replace(KI,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?e:i}function YI(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const JI=/-+([a-z0-9])/g;function XI(e){return e.replace(JI,(...e)=>e[1].toUpperCase())}function eC(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tC(e,t){return 0===e||0===t}function nC(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=n[e]}),o.length)for(var i=1;i<t.length;i++){let n=t[i];o.forEach(function(t){n[t]=iC(e,t)})}}return t}function rC(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function iC(e,t){return window.getComputedStyle(e)[t]}function sC(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],s=r[2],o=r[3];t.push(cC(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&t.push(cC(o,i))}(e,n,t)):n.push(e),n}const oC=new Set(["true","1"]),aC=new Set(["false","0"]);function cC(e,t){const n=oC.has(e)||aC.has(e),r=oC.has(t)||aC.has(t);return(i,s)=>{let o="*"==e||e==i,a="*"==t||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?oC.has(e):aC.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?oC.has(t):aC.has(t)),o&&a}}const uC=new RegExp("s*:selfs*,?","g");function lC(e,t,n){return new hC(e).build(t,n)}class hC{constructor(e){this._driver=e}build(e,t){const n=new dC(t);return this._resetContextStyleTimingState(n),rC(this,GI(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,s.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(e=>{if(pC(e)){const t=e;Object.keys(t).forEach(e=>{WI(t[e]).forEach(e=>{s.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=YI(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=rC(this,GI(e.animation),t);return{type:1,matchers:sC(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:fC(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>rC(this,e,t)),options:fC(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=rC(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:fC(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return gC(ZI(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=gC(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||ZI(r,t),gC(n.duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let r,i=e.styles?e.styles:oI({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,s=!1;if(!i){s=!0;const e={};n.easing&&(e.easing=n.easing),i=oI(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,t);o.isEmptyStep=s,r=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==iI?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(pC(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t)if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=WI(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let c=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(pC(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(pC(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const u=e.steps.length;let l=0;r>0&&r<u?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return c.forEach((e,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:rC(this,GI(e.animation),t),options:fC(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:fC(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:fC(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(uC,"")),[e=e.replace(/@\*/g,LI).replace(/@\w+/g,e=>LI+"-"+e.substr(1)).replace(/:animating/g,FI),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,yI(t.collectedStyles,t.currentQuerySelector,{});const o=rC(this,GI(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:fC(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:ZI(e.timings,t.errors,!0);return{type:12,animation:rC(this,GI(e.animation),t),timings:n,options:null}}}class dC{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function pC(e){return!Array.isArray(e)&&"object"==typeof e}function fC(e){return e?(e=VI(e)).params&&(e.params=function(e){return e?VI(e):null}(e.params)):e={},e}function gC(e,t,n){return{duration:e,delay:t,easing:n}}function mC(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class yC{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const vC=new RegExp(":enter","g"),_C=new RegExp(":leave","g");function wC(e,t,n,r,i,s={},o={},a,c,u=[]){return(new bC).buildKeyframes(e,t,n,r,i,s,o,a,c,u)}class bC{buildKeyframes(e,t,n,r,i,s,o,a,c,u=[]){c=c||new yC;const l=new SC(e,t,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),rC(this,n,l);const h=l.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,l.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[mC(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?UI(n.duration):null,s=null!=n.delay?UI(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),rC(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=TC);const e=UI(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>rC(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?UI(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);i&&o.delayNextStep(i),rC(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return ZI(t.params?QI(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*i),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?UI(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=TC);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{t.currentQueryIndex=r;const o=t.createSubContext(e.options,n);i&&o.delayNextStep(i),n===t.element&&(a=o.currentTimeline),rC(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=t.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;rC(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const TC={};class SC{constructor(e,t,n,r,i,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=TC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new EC(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=UI(n.duration)),null!=n.delay&&(r.delay=UI(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{(!t||!e.hasOwnProperty(n))&&(e[n]=QI(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new SC(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=TC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new IC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,s){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(vC,"."+this._enterClassName)).replace(_C,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return!i&&0==o.length&&s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class EC{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new EC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||iI,this._currentKeyframe[e]=iI}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},s=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]=iI})):jI(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=QI(s[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:iI),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=jI(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?e.add(n):r==iI&&t.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=e.size?YI(e.values()):[],s=t.size?YI(t.values()):[];if(n){const e=r[0],t=VI(e);e.offset=0,t.offset=1,r=[e,t]}return mC(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class IC extends EC{constructor(e,t,n,r,i,s,o=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],s=n+t,o=t/s,a=jI(e[0],!1);a.offset=0,i.push(a);const c=jI(e[0],!1);c.offset=CC(o),i.push(c);const u=e.length-1;for(let r=1;r<=u;r++){let o=jI(e[r],!1);o.offset=CC((t+o.offset*n)/s),i.push(o)}n=s,t=0,r="",e=i}return mC(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function CC(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class kC{}class AC extends kC{normalizePropertyName(e,t){return XI(e)}normalizeStyleValue(e,t,n,r){let i="";const s=n.toString().trim();if(xC[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+i}}const xC=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function OC(e,t,n,r,i,s,o,a,c,u,l,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const PC={};class NC{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],s=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):s}build(e,t,n,r,i,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||PC,d=this.buildStyles(n,o&&o.params||PC,l),p=a&&a.params||PC,f=this.buildStyles(r,p,l),g=new Set,m=new Map,y=new Map,v="void"===r,_={params:Object.assign(Object.assign({},h),p)},w=u?[]:wC(e,t,this.ast.animation,i,s,d,f,_,c,l);let b=0;if(w.forEach(e=>{b=Math.max(e.duration+e.delay,b)}),l.length)return OC(t,this._triggerName,n,r,v,d,f,[],[],m,y,b,l);w.forEach(e=>{const n=e.element,r=yI(m,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=yI(y,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&g.add(n)});const T=YI(g.values());return OC(t,this._triggerName,n,r,v,d,f,w,T,m,y,b)}}class DC{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},r=VI(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let s=i[e];s.length>1&&(s=QI(s,r,t));const o=this.normalizer.normalizePropertyName(e,t);s=this.normalizer.normalizeStyleValue(e,o,s,t),n[o]=s})}}),n}}class RC{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new DC(e.style,e.options&&e.options.params||{},n)}),LC(this.states,"true","1"),LC(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new NC(e,t,this.states))}),this.fallbackTransition=function(e,t,n){return new NC(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},t)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function LC(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const MC=new yC;class FC{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=lC(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=pI(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let s;const o=new Map;if(i?(s=wC(this._driver,t,i,NI,DI,{},{},n,MC,r),s.forEach(e=>{const t=yI(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,iI)})});const a=dI(s.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,r){const i=mI(t,"","","");return fI(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const UC="ng-animate-queued",qC="ng-animate-disabled",ZC=".ng-animate-disabled",VC=[],jC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},BC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zC="__ng_removed";class $C{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function(e){return null!=e?e:null}(n?e.value:e),n){const t=VI(e);delete t.value,this.options=t}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const HC="void",GC=new $C(HC);class KC{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,nk(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(e){return"start"==e||"done"==e}(n))throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);const i=yI(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};i.push(s);const o=yI(this._engine.statesByElement,e,{});return o.hasOwnProperty(t)||(nk(e,RI),nk(e,RI+"-"+t),o[t]=GC),()=>{this._engine.afterFlush(()=>{const e=i.indexOf(s);e>=0&&i.splice(e,1),this._triggers[t]||delete o[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),s=new QC(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(nk(e,RI),nk(e,RI+"-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const c=new $C(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[t]=c,a||(a=GC),c.value!==HC&&a.value===c.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,c.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(c.value,c.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{HI(e,n),$I(e,r)})}return}const u=yI(this._engine.playersByElement,e,[]);u.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let l=i.matchTransition(a.value,c.value,e,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(nk(e,UC),s.onStart(()=>{rk(e,UC)})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),u.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,LI,!0);n.forEach(e=>{if(e[zC])return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const s=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,HC,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&dI(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(t=>{const i=t.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||GC,a=new $C(HC),c=new QC(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:o,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const r=e[zC];(!r||r===jC)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){nk(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(t=>{if(t.name==n.triggerName){const r=mI(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,fI(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class WC{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new KC(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if(YC(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!YC(t))return;const i=t[zC];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),nk(e,qC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),rk(e,qC))}removeNode(e,t,n,r){if(YC(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t[zC]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return YC(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,LI,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,FI,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return dI(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[zC];if(t&&t.setForRemoval){if(e[zC]=jC,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,ZC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,ZC,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)nk(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?dI(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new yC,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(e=>{u.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)u.add(t[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=ek(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const n=NI+f++;p.set(t,n),e.forEach(e=>nk(e,n))});const g=[],m=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const e=this.collectedLeaveElements[O],t=e[zC];t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):y.add(e))}const v=new Map,_=ek(h,Array.from(m));_.forEach((e,t)=>{const n=DI+f++;v.set(t,n),e.forEach(e=>nk(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>rk(e,n))}),_.forEach((e,t)=>{const n=v.get(t);e.forEach(e=>rk(e,n))}),g.forEach(e=>{this.processLeaveNode(e)})});const w=[],b=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(w.push(t),this.collectedEnterElements.length){const e=i[zC];if(e&&e.setForMove)return void t.destroy()}const u=!l||!this.driver.containsElement(l,i),h=v.get(i),d=p.get(i),f=this._buildInstruction(e,n,d,h,u);if(f.errors&&f.errors.length)b.push(f);else{if(u)return t.onStart(()=>HI(i,f.fromStyles)),t.onDestroy(()=>$I(i,f.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>HI(i,f.fromStyles)),t.onDestroy(()=>$I(i,f.toStyles)),void r.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,f.timelines),s.push({instruction:f,player:t,element:i}),f.queriedElements.forEach(e=>yI(o,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=c.get(t);r||c.set(t,r=new Set),n.forEach(e=>r.add(e))})}});if(b.length){const e=[];b.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const T=new Map,S=new Map;s.forEach(e=>{const t=e.element;n.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,T))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{yI(T,t,[]).push(e),e.destroy()})});const E=g.filter(e=>ok(e,a,c)),I=new Map;XC(I,this.driver,y,c,iI).forEach(e=>{ok(e,a,c)&&E.push(e)});const C=new Map;d.forEach((e,t)=>{XC(C,this.driver,new Set(e),a,"!")}),E.forEach(e=>{const t=I.get(e),n=C.get(e);I.set(e,Object.assign(Object.assign({},t),n))});const k=[],A=[],x={};s.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(u.has(t))return s.onDestroy(()=>$I(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let e=x;if(S.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=S.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>S.set(t,e))}const n=this._buildAnimation(s.namespaceId,o,T,i,C,I);if(s.setRealPlayer(n),e===x)k.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=dI(t)),r.push(s)}}else HI(t,o.fromStyles),s.onDestroy(()=>$I(t,o.toStyles)),A.push(s),u.has(t)&&r.push(s)}),A.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=dI(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let O=0;O<g.length;O++){const e=g[O],t=e[zC];if(rk(e,DI),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,FI,!0);for(let e=0;e<r.length;e++){let t=o.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?ik(this,e,r):this.processLeaveNode(e)}return g.length=0,k.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),k}elementContainsData(e,t){let n=!1;const r=t[zC];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==HC;t.forEach(t=>{t.queued||!e&&t.triggerName!=r||s.push(t)})}}return(n||r)&&(s=s.filter(e=>!(n&&n!=e.namespaceId||r&&r!=e.triggerName))),s}_beforeAnimationBuild(e,t,n){const r=t.element,i=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==r,c=yI(n,e,[]);this._getPreviousPlayers(e,a,i,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)})}HI(r,t.fromStyles)}_buildAnimation(e,t,n,r,i,s){const o=t.triggerName,a=t.element,c=[],u=new Set,l=new Set,h=t.timelines.map(t=>{const h=t.element;u.add(h);const d=h[zC];if(d&&d.removedBeforeQueried)return new cI(t.duration,t.delay);const p=h!==a,f=function(e){const t=[];return sk(e,t),t}((n.get(h)||VC).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),g=i.get(h),m=s.get(h),y=pI(0,this._normalizer,0,t.keyframes,g,m),v=this._buildPlayer(t,y,f);if(t.subTimeline&&r&&l.add(h),p){const t=new QC(e,o,h);t.setRealPlayer(v),c.push(t)}return v});c.forEach(e=>{yI(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),u.forEach(e=>nk(e,MI));const d=dI(h);return d.onDestroy(()=>{u.forEach(e=>rk(e,MI)),$I(a,t.toStyles)}),l.forEach(e=>{yI(r,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new cI(e.duration,e.delay)}}class QC{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new cI,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>fI(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){yI(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function YC(e){return e&&1===e.nodeType}function JC(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function XC(e,t,n,r,i){const s=[];n.forEach(e=>s.push(JC(e)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(r,e,i);(!n||0==n.length)&&(r[zC]=BC,o.push(r))}),e.set(r,s)});let a=0;return n.forEach(e=>JC(e,s[a++])),o}function ek(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;function s(e){if(!e)return 1;let t=i.get(e);if(t)return t;const o=e.parentNode;return t=n.has(o)?o:r.has(o)?1:s(o),i.set(e,t),t}return t.forEach(e=>{const t=s(e);1!==t&&n.get(t).push(e)}),n}const tk="$$classes";function nk(e,t){if(e.classList)e.classList.add(t);else{let n=e[tk];n||(n=e[tk]={}),n[t]=!0}}function rk(e,t){if(e.classList)e.classList.remove(t);else{let n=e[tk];n&&delete n[t]}}function ik(e,t,n){dI(n).onDone(()=>e.processLeaveNode(t))}function sk(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof uI?sk(r.players,t):t.push(r)}}function ok(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class ak{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new WC(e,t,n),this._timelineEngine=new FC(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const s=e+"-"+r;let o=this._triggerCache[s];if(!o){const e=[],t=lC(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t,n){return new RC(e,t,n)}(r,t,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=vI(n);this._timelineEngine.command(e,t,i,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=vI(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ck(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=lk(t[0]),t.length>1&&(r=lk(t[t.length-1]))):t&&(n=lk(t)),n||r?new uk(e,n,r):null}let uk=(()=>{class e{constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&$I(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($I(this._element,this._initialStyles),this._endStyles&&($I(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(HI(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(HI(this._element,this._endStyles),this._endStyles=null),$I(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function lk(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];hk(i)&&(t=t||{},t[i]=e[i])}return t}function hk(e){return"display"===e||"position"===e}const dk="animation",pk="animationend";class fk{constructor(e,t,n,r,i,s,o){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){(function(e,t){const n=wk(e,"").trim();let r=0;n.length&&(function(e,t){let n=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&n++;return n}(n)+1,t=`${n}, ${t}`),_k(e,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),vk(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){gk(this._element,this._name,"paused")}resume(){gk(this._element,this._name,"running")}setPosition(e){const t=mk(this._element,this._name);this._position=e*this._duration,_k(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),vk(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=wk(e,"").split(","),r=yk(n,t);r>=0&&(n.splice(r,1),_k(e,"",n.join(",")))}(this._element,this._name))}}function gk(e,t,n){_k(e,"PlayState",n,mk(e,t))}function mk(e,t){const n=wk(e,"");return n.indexOf(",")>0?yk(n.split(","),t):yk([n],t)}function yk(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function vk(e,t,n){n?e.removeEventListener(pk,t):e.addEventListener(pk,t)}function _k(e,t,n,r){const i=dk+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function wk(e,t){return e.style[dk+t]||""}class bk{constructor(e,t,n,r,i,s,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new fk(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:iC(this.element,n))})}this.currentSnapshot=e}}class Tk extends cI{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=xI(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Sk{constructor(){this._count=0}validateStyleProperty(e){return II(e)}matchesElement(e,t){return CI(e,t)}containsElement(e,t){return kI(e,t)}query(e,t,n){return AI(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>xI(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(e,t,n,r,i,s=[],o){const a=s.filter(e=>e instanceof bk),c={};tC(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const u=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"==n||"easing"==n||(t[n]=e[n])})}),t}(t=nC(e,t,c));if(0==n)return new Tk(e,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,l,t);(function(e){var t;const n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(h);const d=ck(e,t),p=new bk(e,t,l,n,r,i,u,d);return p.onDestroy(()=>function(e){e.parentNode.removeChild(e)}(h)),p}}class Ek{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:iC(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Ik{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ck().toString()),this._cssKeyframesDriver=new Sk}validateStyleProperty(e){return II(e)}matchesElement(e,t){return CI(e,t)}containsElement(e,t){return kI(e,t)}query(e,t,n){return AI(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=s.filter(e=>e instanceof Ek);tC(n,r)&&u.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const l=ck(e,t=nC(e,t=t.map(e=>jI(e,!1)),c));return new Ek(e,t,a,l)}}function Ck(){return lI()&&Element.prototype.animate||{}}let kk=(()=>{class e extends rI{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?sI(e):e;return Ok(this._renderer,null,t,"register",[n]),new Ak(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class Ak extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new xk(this._id,e,t||{},this._renderer)}}class xk{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ok(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Ok(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const Pk="@.disabled";let Nk=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new Dk("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(r,i,e,t.name,t)};return t.data.animation.forEach(s),new Rk(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(ak),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class Dk{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==Pk?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Rk extends Dk{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Pk?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let Lk=(()=>{class e extends ak{constructor(e,t,n){super(e.body,t,n)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(PI),r.LFG(kC))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Mk=new r.OlP("AnimationModuleType"),Fk=[{provide:rI,useClass:kk},{provide:kC,useFactory:function(){return new AC}},{provide:ak,useClass:Lk},{provide:r.FYo,useFactory:function(e,t,n){return new Nk(e,t,n)},deps:[fe,ak,r.R0b]}],Uk=[{provide:PI,useFactory:function(){return"function"==typeof Ck()?new Ik:new Sk}},{provide:Mk,useValue:"BrowserAnimations"},...Fk],qk=[{provide:PI,useClass:OI},{provide:Mk,useValue:"NoopAnimations"},...Fk];let Zk=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?qk:Uk}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:Uk,imports:[Ce]}),e})(),Vk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e,bootstrap:[IS]}),e.\u0275inj=r.cJS({providers:[OS,ko,KS,ES,nI],imports:[[Ce,gt,JE,zo.hO.initializeApp(Nn,"angularfs"),SS,Cn,vo,Zk]]}),e})();(0,r.G48)(),Ee().bootstrapModule(Vk).catch(e=>console.error(e))},3394:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(3854),i=n(3910),s=n(8026),o=n(5422);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&"EXPLICIT"===(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const c=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),u=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const c=new e(a,n);return t[a.name]=c,c},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw c.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw c.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),l=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=u;(0,s.registerVersion)("@firebase/app-compat","0.1.12",undefined)},8026:function(e,t,n){"use strict";n.r(t),n.d(t,{FirebaseError:function(){return o.ZR},SDK_VERSION:function(){return T},_DEFAULT_ENTRY_NAME:function(){return l},_addComponent:function(){return f},_addOrOverwriteComponent:function(){return g},_apps:function(){return d},_clearComponents:function(){return _},_components:function(){return p},_getProvider:function(){return y},_registerComponent:function(){return m},_removeServiceInstance:function(){return v},deleteApp:function(){return C},getApp:function(){return E},getApps:function(){return I},initializeApp:function(){return S},onLog:function(){return x},registerVersion:function(){return A},setLogLevel:function(){return O}});var r=n(8239),i=n(3910),s=n(5422),o=n(3854);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",u=new s.Yd("@firebase/app"),l="[DEFAULT]",h={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,p=new Map;function f(e,t){try{e.container.addComponent(t)}catch(n){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function g(e,t){e.container.addOrOverwriteComponent(t)}function m(e){const t=e.name;if(p.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;p.set(t,e);for(const n of d.values())f(n,e);return!0}function y(e,t){return e.container.getProvider(t)}function v(e,t,n=l){y(e,t).clearInstance(n)}function _(){p.clear()}const w=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class b{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const T="9.6.1";function S(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:l,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw w.create("bad-app-name",{appName:String(r)});const s=d.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw w.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of p.values())a.addComponent(i);const c=new b(e,n,a);return d.set(r,c),c}function E(e=l){const t=d.get(e);if(!t)throw w.create("no-app",{appName:e});return t}function I(){return Array.from(d.values())}function C(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(function*(e){const t=e.name;d.has(t)&&(d.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function A(e,t,n){var r;let s=null!==(r=h[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void u.warn(e.join(" "))}m(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function x(e,t){if(null!==e&&"function"!=typeof e)throw w.create("invalid-log-argument");(0,s.Am)(e,t)}function O(e){(0,s.Ub)(e)}m(new i.wA("platform-logger",e=>new a(e),"PRIVATE")),A(c,"0.7.11",""),A(c,"0.7.11","esm2017"),A("fire-js","")},3910:function(e,t,n){"use strict";n.d(t,{wA:function(){return s},H0:function(){return c}});var r=n(8239),i=n(3854);class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,t]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(n){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,r.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&s.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===o?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class c{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},5422:function(e,t,n){"use strict";n.d(t,{in:function(){return i},Yd:function(){return u},Ub:function(){return l},Am:function(){return h}});const r=[];var i=(()=>{return(e=i||(i={}))[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",i;var e})();const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function l(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},8239:function(e,t,n){"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,c,"next",e)}function c(e){r(o,i,s,a,c,"throw",e)}a(void 0)})}}n.d(t,{Z:function(){return i}})}},function(e){e(e.s=2938)}]);